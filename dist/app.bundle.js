/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 6);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/* unknown exports provided */
/* all exports used */
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/***/ (function(module, exports) {

eval("var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/MzY5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 1 */
/* unknown exports provided */
/* all exports used */
/*!***************************************!*\
  !*** ./~/mapbox-gl/dist/mapbox-gl.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global, Buffer) {var require;var require;(function(f){if(true){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.mapboxgl = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n!function(t,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(r):t.glMatrix=r()}(this,function(){\"use strict\";function t(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}function r(t,r,n){var e=r[0],a=r[1],o=r[2];return t[0]=e*n[0]+a*n[3]+o*n[6],t[1]=e*n[1]+a*n[4]+o*n[7],t[2]=e*n[2]+a*n[5]+o*n[8],t}function n(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function e(t,r,n){var e=r[0],a=r[1],o=r[2],u=r[3];return t[0]=n[0]*e+n[4]*a+n[8]*o+n[12]*u,t[1]=n[1]*e+n[5]*a+n[9]*o+n[13]*u,t[2]=n[2]*e+n[6]*a+n[10]*o+n[14]*u,t[3]=n[3]*e+n[7]*a+n[11]*o+n[15]*u,t}function a(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function o(t,r,n){var e=r[0],a=r[1],o=r[2],u=r[3],i=Math.sin(n),c=Math.cos(n);return t[0]=e*c+o*i,t[1]=a*c+u*i,t[2]=e*-i+o*c,t[3]=a*-i+u*c,t}function u(t,r,n){var e=r[0],a=r[1],o=r[2],u=r[3],i=n[0],c=n[1];return t[0]=e*i,t[1]=a*i,t[2]=o*c,t[3]=u*c,t}function i(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function c(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=e,t[1]=n,t[2]=0,t[3]=-n,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function f(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function v(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function s(t,r){var n=r[0],e=r[1],a=r[2],o=r[3],u=r[4],i=r[5],c=r[6],f=r[7],v=r[8],s=r[9],l=r[10],M=r[11],h=r[12],m=r[13],y=r[14],d=r[15],p=n*i-e*u,w=n*c-a*u,A=n*f-o*u,F=e*c-a*i,x=e*f-o*i,b=a*f-o*c,g=v*m-s*h,j=v*y-l*h,R=v*d-M*h,X=s*y-l*m,Z=s*d-M*m,k=l*d-M*y,q=p*k-w*Z+A*X+F*R-x*j+b*g;return q?(q=1/q,t[0]=(i*k-c*Z+f*X)*q,t[1]=(a*Z-e*k-o*X)*q,t[2]=(m*b-y*x+d*F)*q,t[3]=(l*x-s*b-M*F)*q,t[4]=(c*R-u*k-f*j)*q,t[5]=(n*k-a*R+o*j)*q,t[6]=(y*A-h*b-d*w)*q,t[7]=(v*b-l*A+M*w)*q,t[8]=(u*Z-i*R+f*g)*q,t[9]=(e*R-n*Z-o*g)*q,t[10]=(h*x-m*A+d*p)*q,t[11]=(s*A-v*x-M*p)*q,t[12]=(i*j-u*X-c*g)*q,t[13]=(n*X-e*j+a*g)*q,t[14]=(m*w-h*F-y*p)*q,t[15]=(v*F-s*w+l*p)*q,t):null}function l(t,r,n){var e=r[0],a=r[1],o=r[2],u=r[3],i=r[4],c=r[5],f=r[6],v=r[7],s=r[8],l=r[9],M=r[10],h=r[11],m=r[12],y=r[13],d=r[14],p=r[15],w=n[0],A=n[1],F=n[2],x=n[3];return t[0]=w*e+A*i+F*s+x*m,t[1]=w*a+A*c+F*l+x*y,t[2]=w*o+A*f+F*M+x*d,t[3]=w*u+A*v+F*h+x*p,w=n[4],A=n[5],F=n[6],x=n[7],t[4]=w*e+A*i+F*s+x*m,t[5]=w*a+A*c+F*l+x*y,t[6]=w*o+A*f+F*M+x*d,t[7]=w*u+A*v+F*h+x*p,w=n[8],A=n[9],F=n[10],x=n[11],t[8]=w*e+A*i+F*s+x*m,t[9]=w*a+A*c+F*l+x*y,t[10]=w*o+A*f+F*M+x*d,t[11]=w*u+A*v+F*h+x*p,w=n[12],A=n[13],F=n[14],x=n[15],t[12]=w*e+A*i+F*s+x*m,t[13]=w*a+A*c+F*l+x*y,t[14]=w*o+A*f+F*M+x*d,t[15]=w*u+A*v+F*h+x*p,t}function M(t,r,n){var e,a,o,u,i,c,f,v,s,l,M,h,m=n[0],y=n[1],d=n[2];return r===t?(t[12]=r[0]*m+r[4]*y+r[8]*d+r[12],t[13]=r[1]*m+r[5]*y+r[9]*d+r[13],t[14]=r[2]*m+r[6]*y+r[10]*d+r[14],t[15]=r[3]*m+r[7]*y+r[11]*d+r[15]):(e=r[0],a=r[1],o=r[2],u=r[3],i=r[4],c=r[5],f=r[6],v=r[7],s=r[8],l=r[9],M=r[10],h=r[11],t[0]=e,t[1]=a,t[2]=o,t[3]=u,t[4]=i,t[5]=c,t[6]=f,t[7]=v,t[8]=s,t[9]=l,t[10]=M,t[11]=h,t[12]=e*m+i*y+s*d+r[12],t[13]=a*m+c*y+l*d+r[13],t[14]=o*m+f*y+M*d+r[14],t[15]=u*m+v*y+h*d+r[15]),t}function h(t,r,n){var e=n[0],a=n[1],o=n[2];return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=r[7]*a,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=r[11]*o,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function m(t,r,n){var e=Math.sin(n),a=Math.cos(n),o=r[4],u=r[5],i=r[6],c=r[7],f=r[8],v=r[9],s=r[10],l=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=o*a+f*e,t[5]=u*a+v*e,t[6]=i*a+s*e,t[7]=c*a+l*e,t[8]=f*a-o*e,t[9]=v*a-u*e,t[10]=s*a-i*e,t[11]=l*a-c*e,t}function y(t,r,n){var e=Math.sin(n),a=Math.cos(n),o=r[0],u=r[1],i=r[2],c=r[3],f=r[4],v=r[5],s=r[6],l=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*a+f*e,t[1]=u*a+v*e,t[2]=i*a+s*e,t[3]=c*a+l*e,t[4]=f*a-o*e,t[5]=v*a-u*e,t[6]=s*a-i*e,t[7]=l*a-c*e,t}function d(t,r,n,e,a){var o=1/Math.tan(r/2),u=1/(e-a);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+e)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*e*u,t[15]=0,t}function p(t,r,n,e,a,o,u){var i=1/(r-n),c=1/(e-a),f=1/(o-u);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(r+n)*i,t[13]=(a+e)*c,t[14]=(u+o)*f,t[15]=1,t}var w=(t(),n(),{vec3:{transformMat3:r},vec4:{transformMat4:e},mat2:{create:a,rotate:o,scale:u},mat3:{create:i,fromRotation:c},mat4:{create:f,identity:v,translate:M,scale:h,multiply:l,perspective:d,rotateX:m,rotateZ:y,invert:s,ortho:p}});return w});\n},{}],2:[function(require,module,exports){\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.ShelfPack=e()}(this,function(){function t(t,e,i){i=i||{},this.w=t||64,this.h=e||64,this.autoResize=!!i.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,i){this.x=0,this.y=t,this.w=this.free=e,this.h=i}function i(t,e,i,s,h,n,r){this.id=t,this.x=e,this.y=i,this.w=s,this.h=h,this.maxw=n||s,this.maxh=r||h,this.refcount=0}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var i,s,h,n,r=[],f=0;f<t.length;f++)if(i=t[f].w||t[f].width,s=t[f].h||t[f].height,h=t[f].id,i&&s){if(n=this.packOne(i,s,h),!n)continue;e.inPlace&&(t[f].x=n.x,t[f].y=n.y,t[f].id=n.id),r.push(n)}if(this.shelves.length>0){for(var o=0,a=0,u=0;u<this.shelves.length;u++){var l=this.shelves[u];a+=l.h,o=Math.max(l.w-l.free,o)}this.resize(o,a)}return r},t.prototype.packOne=function(t,i,s){var h,n,r,f,o={freebin:-1,shelf:-1,waste:1/0},a=0;if(\"string\"==typeof s||\"number\"==typeof s){if(h=this.getBin(s))return this.ref(h),h;\"number\"==typeof s&&(this.maxId=Math.max(s,this.maxId))}else s=++this.maxId;for(f=0;f<this.freebins.length;f++){if(h=this.freebins[f],i===h.maxh&&t===h.maxw)return this.allocFreebin(f,t,i,s);i>h.maxh||t>h.maxw||i<=h.maxh&&t<=h.maxw&&(r=h.maxw*h.maxh-t*i,r<o.waste&&(o.waste=r,o.freebin=f))}for(f=0;f<this.shelves.length;f++)if(n=this.shelves[f],a+=n.h,!(t>n.free)){if(i===n.h)return this.allocShelf(f,t,i,s);i>n.h||i<n.h&&(r=(n.h-i)*t,r<o.waste&&(o.freebin=-1,o.waste=r,o.shelf=f))}if(o.freebin!==-1)return this.allocFreebin(o.freebin,t,i,s);if(o.shelf!==-1)return this.allocShelf(o.shelf,t,i,s);if(i<=this.h-a&&t<=this.w)return n=new e(a,this.w,i),this.allocShelf(this.shelves.push(n)-1,t,i,s);if(this.autoResize){var u,l,c,p;return u=l=this.h,c=p=this.w,(c<=u||t>c)&&(p=2*Math.max(t,c)),(u<c||i>u)&&(l=2*Math.max(i,u)),this.resize(p,l),this.packOne(t,i,s)}return null},t.prototype.allocFreebin=function(t,e,i,s){var h=this.freebins.splice(t,1)[0];return h.id=s,h.w=e,h.h=i,h.refcount=0,this.bins[s]=h,this.ref(h),h},t.prototype.allocShelf=function(t,e,i,s){var h=this.shelves[t],n=h.alloc(e,i,s);return this.bins[s]=n,this.ref(n),n},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1===++t.refcount){var e=t.h;this.stats[e]=(0|this.stats[e])+1}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0===--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var i=0;i<this.shelves.length;i++)this.shelves[i].resize(t);return!0},e.prototype.alloc=function(t,e,s){if(t>this.free||e>this.h)return null;var h=this.x;return this.x+=t,this.free-=t,new i(s,h,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t});\n},{}],3:[function(require,module,exports){\nfunction UnitBezier(t,i,e,r){this.cx=3*t,this.bx=3*(e-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(r-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=e,this.p2y=r}module.exports=UnitBezier,UnitBezier.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},UnitBezier.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},UnitBezier.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},UnitBezier.prototype.solveCurveX=function(t,i){\"undefined\"==typeof i&&(i=1e-6);var e,r,s,h,n;for(s=t,n=0;n<8;n++){if(h=this.sampleCurveX(s)-t,Math.abs(h)<i)return s;var u=this.sampleCurveDerivativeX(s);if(Math.abs(u)<1e-6)break;s-=h/u}if(e=0,r=1,s=t,s<e)return e;if(s>r)return r;for(;e<r;){if(h=this.sampleCurveX(s),Math.abs(h-t)<i)return s;t>h?e=s:r=s,s=.5*(r-e)+e}return s},UnitBezier.prototype.solve=function(t,i){return this.sampleCurveY(this.solveCurveX(t,i))};\n},{}],4:[function(require,module,exports){\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t(e.WhooTS=e.WhooTS||{})}(this,function(e){function t(e,t,r,n,i,s){s=s||{};var f=e+\"?\"+[\"bbox=\"+o(r,n,i),\"format=\"+(s.format||\"image/png\"),\"service=\"+(s.service||\"WMS\"),\"version=\"+(s.version||\"1.1.1\"),\"request=\"+(s.request||\"GetMap\"),\"srs=\"+(s.srs||\"EPSG:3857\"),\"width=\"+(s.width||256),\"height=\"+(s.height||256),\"layers=\"+t].join(\"&\");return f}function o(e,t,o){t=Math.pow(2,o)-t-1;var n=r(256*e,256*t,o),i=r(256*(e+1),256*(t+1),o);return n[0]+\",\"+n[1]+\",\"+i[0]+\",\"+i[1]}function r(e,t,o){var r=2*Math.PI*6378137/256/Math.pow(2,o),n=e*r-2*Math.PI*6378137/2,i=t*r-2*Math.PI*6378137/2;return[n,i]}e.getURL=t,e.getTileBBox=o,e.getMercCoords=r,Object.defineProperty(e,\"__esModule\",{value:!0})});\n},{}],5:[function(require,module,exports){\n\"use strict\";function earcut(e,n,r){r=r||2;var t=n&&n.length,i=t?n[0]*r:e.length,x=linkedList(e,0,i,r,!0),a=[];if(!x)return a;var o,l,u,s,v,f,y;if(t&&(x=eliminateHoles(e,n,x,r)),e.length>80*r){o=u=e[0],l=s=e[1];for(var d=r;d<i;d+=r)v=e[d],f=e[d+1],v<o&&(o=v),f<l&&(l=f),v>u&&(u=v),f>s&&(s=f);y=Math.max(u-o,s-l)}return earcutLinked(x,a,r,o,l,y),a}function linkedList(e,n,r,t,i){var x,a;if(i===signedArea(e,n,r,t)>0)for(x=n;x<r;x+=t)a=insertNode(x,e[x],e[x+1],a);else for(x=r-t;x>=n;x-=t)a=insertNode(x,e[x],e[x+1],a);return a&&equals(a,a.next)&&(removeNode(a),a=a.next),a}function filterPoints(e,n){if(!e)return e;n||(n=e);var r,t=e;do if(r=!1,t.steiner||!equals(t,t.next)&&0!==area(t.prev,t,t.next))t=t.next;else{if(removeNode(t),t=n=t.prev,t===t.next)return null;r=!0}while(r||t!==n);return n}function earcutLinked(e,n,r,t,i,x,a){if(e){!a&&x&&indexCurve(e,t,i,x);for(var o,l,u=e;e.prev!==e.next;)if(o=e.prev,l=e.next,x?isEarHashed(e,t,i,x):isEar(e))n.push(o.i/r),n.push(e.i/r),n.push(l.i/r),removeNode(e),e=l.next,u=l.next;else if(e=l,e===u){a?1===a?(e=cureLocalIntersections(e,n,r),earcutLinked(e,n,r,t,i,x,2)):2===a&&splitEarcut(e,n,r,t,i,x):earcutLinked(filterPoints(e),n,r,t,i,x,1);break}}}function isEar(e){var n=e.prev,r=e,t=e.next;if(area(n,r,t)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(pointInTriangle(n.x,n.y,r.x,r.y,t.x,t.y,i.x,i.y)&&area(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function isEarHashed(e,n,r,t){var i=e.prev,x=e,a=e.next;if(area(i,x,a)>=0)return!1;for(var o=i.x<x.x?i.x<a.x?i.x:a.x:x.x<a.x?x.x:a.x,l=i.y<x.y?i.y<a.y?i.y:a.y:x.y<a.y?x.y:a.y,u=i.x>x.x?i.x>a.x?i.x:a.x:x.x>a.x?x.x:a.x,s=i.y>x.y?i.y>a.y?i.y:a.y:x.y>a.y?x.y:a.y,v=zOrder(o,l,n,r,t),f=zOrder(u,s,n,r,t),y=e.nextZ;y&&y.z<=f;){if(y!==e.prev&&y!==e.next&&pointInTriangle(i.x,i.y,x.x,x.y,a.x,a.y,y.x,y.y)&&area(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(y=e.prevZ;y&&y.z>=v;){if(y!==e.prev&&y!==e.next&&pointInTriangle(i.x,i.y,x.x,x.y,a.x,a.y,y.x,y.y)&&area(y.prev,y,y.next)>=0)return!1;y=y.prevZ}return!0}function cureLocalIntersections(e,n,r){var t=e;do{var i=t.prev,x=t.next.next;!equals(i,x)&&intersects(i,t,t.next,x)&&locallyInside(i,x)&&locallyInside(x,i)&&(n.push(i.i/r),n.push(t.i/r),n.push(x.i/r),removeNode(t),removeNode(t.next),t=e=x),t=t.next}while(t!==e);return t}function splitEarcut(e,n,r,t,i,x){var a=e;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&isValidDiagonal(a,o)){var l=splitPolygon(a,o);return a=filterPoints(a,a.next),l=filterPoints(l,l.next),earcutLinked(a,n,r,t,i,x),void earcutLinked(l,n,r,t,i,x)}o=o.next}a=a.next}while(a!==e)}function eliminateHoles(e,n,r,t){var i,x,a,o,l,u=[];for(i=0,x=n.length;i<x;i++)a=n[i]*t,o=i<x-1?n[i+1]*t:e.length,l=linkedList(e,a,o,t,!1),l===l.next&&(l.steiner=!0),u.push(getLeftmost(l));for(u.sort(compareX),i=0;i<u.length;i++)eliminateHole(u[i],r),r=filterPoints(r,r.next);return r}function compareX(e,n){return e.x-n.x}function eliminateHole(e,n){if(n=findHoleBridge(e,n)){var r=splitPolygon(n,e);filterPoints(r,r.next)}}function findHoleBridge(e,n){var r,t=n,i=e.x,x=e.y,a=-(1/0);do{if(x<=t.y&&x>=t.next.y){var o=t.x+(x-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(o<=i&&o>a){if(a=o,o===i){if(x===t.y)return t;if(x===t.next.y)return t.next}r=t.x<t.next.x?t:t.next}}t=t.next}while(t!==n);if(!r)return null;if(i===a)return r.prev;var l,u=r,s=r.x,v=r.y,f=1/0;for(t=r.next;t!==u;)i>=t.x&&t.x>=s&&pointInTriangle(x<v?i:a,x,s,v,x<v?a:i,x,t.x,t.y)&&(l=Math.abs(x-t.y)/(i-t.x),(l<f||l===f&&t.x>r.x)&&locallyInside(t,e)&&(r=t,f=l)),t=t.next;return r}function indexCurve(e,n,r,t){var i=e;do null===i.z&&(i.z=zOrder(i.x,i.y,n,r,t)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,sortLinked(i)}function sortLinked(e){var n,r,t,i,x,a,o,l,u=1;do{for(r=e,e=null,x=null,a=0;r;){for(a++,t=r,o=0,n=0;n<u&&(o++,t=t.nextZ,t);n++);for(l=u;o>0||l>0&&t;)0===o?(i=t,t=t.nextZ,l--):0!==l&&t?r.z<=t.z?(i=r,r=r.nextZ,o--):(i=t,t=t.nextZ,l--):(i=r,r=r.nextZ,o--),x?x.nextZ=i:e=i,i.prevZ=x,x=i;r=t}x.nextZ=null,u*=2}while(a>1);return e}function zOrder(e,n,r,t,i){return e=32767*(e-r)/i,n=32767*(n-t)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),n=16711935&(n|n<<8),n=252645135&(n|n<<4),n=858993459&(n|n<<2),n=1431655765&(n|n<<1),e|n<<1}function getLeftmost(e){var n=e,r=e;do n.x<r.x&&(r=n),n=n.next;while(n!==e);return r}function pointInTriangle(e,n,r,t,i,x,a,o){return(i-a)*(n-o)-(e-a)*(x-o)>=0&&(e-a)*(t-o)-(r-a)*(n-o)>=0&&(r-a)*(x-o)-(i-a)*(t-o)>=0}function isValidDiagonal(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!intersectsPolygon(e,n)&&locallyInside(e,n)&&locallyInside(n,e)&&middleInside(e,n)}function area(e,n,r){return(n.y-e.y)*(r.x-n.x)-(n.x-e.x)*(r.y-n.y)}function equals(e,n){return e.x===n.x&&e.y===n.y}function intersects(e,n,r,t){return!!(equals(e,n)&&equals(r,t)||equals(e,t)&&equals(r,n))||area(e,n,r)>0!=area(e,n,t)>0&&area(r,t,e)>0!=area(r,t,n)>0}function intersectsPolygon(e,n){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==n.i&&r.next.i!==n.i&&intersects(r,r.next,e,n))return!0;r=r.next}while(r!==e);return!1}function locallyInside(e,n){return area(e.prev,e,e.next)<0?area(e,n,e.next)>=0&&area(e,e.prev,n)>=0:area(e,n,e.prev)<0||area(e,e.next,n)<0}function middleInside(e,n){var r=e,t=!1,i=(e.x+n.x)/2,x=(e.y+n.y)/2;do r.y>x!=r.next.y>x&&i<(r.next.x-r.x)*(x-r.y)/(r.next.y-r.y)+r.x&&(t=!t),r=r.next;while(r!==e);return t}function splitPolygon(e,n){var r=new Node(e.i,e.x,e.y),t=new Node(n.i,n.x,n.y),i=e.next,x=n.prev;return e.next=n,n.prev=e,r.next=i,i.prev=r,t.next=r,r.prev=t,x.next=t,t.prev=x,t}function insertNode(e,n,r,t){var i=new Node(e,n,r);return t?(i.next=t.next,i.prev=t,t.next.prev=i,t.next=i):(i.prev=i,i.next=i),i}function removeNode(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Node(e,n,r){this.i=e,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(e,n,r,t){for(var i=0,x=n,a=r-t;x<r;x+=t)i+=(e[a]-e[x])*(e[x+1]+e[a+1]),a=x;return i}module.exports=earcut,earcut.deviation=function(e,n,r,t){var i=n&&n.length,x=i?n[0]*r:e.length,a=Math.abs(signedArea(e,0,x,r));if(i)for(var o=0,l=n.length;o<l;o++){var u=n[o]*r,s=o<l-1?n[o+1]*r:e.length;a-=Math.abs(signedArea(e,u,s,r))}var v=0;for(o=0;o<t.length;o+=3){var f=t[o]*r,y=t[o+1]*r,d=t[o+2]*r;v+=Math.abs((e[f]-e[d])*(e[y+1]-e[f+1])-(e[f]-e[y])*(e[d+1]-e[f+1]))}return 0===a&&0===v?0:Math.abs((v-a)/a)},earcut.flatten=function(e){for(var n=e[0][0].length,r={vertices:[],holes:[],dimensions:n},t=0,i=0;i<e.length;i++){for(var x=0;x<e[i].length;x++)for(var a=0;a<n;a++)r.vertices.push(e[i][x][a]);i>0&&(t+=e[i-1].length,r.holes.push(t))}return r};\n},{}],6:[function(require,module,exports){\nfunction geometry(r){if(\"Polygon\"===r.type)return polygonArea(r.coordinates);if(\"MultiPolygon\"===r.type){for(var e=0,n=0;n<r.coordinates.length;n++)e+=polygonArea(r.coordinates[n]);return e}return null}function polygonArea(r){var e=0;if(r&&r.length>0){e+=Math.abs(ringArea(r[0]));for(var n=1;n<r.length;n++)e-=Math.abs(ringArea(r[n]))}return e}function ringArea(r){var e=0;if(r.length>2){for(var n,t,o=0;o<r.length-1;o++)n=r[o],t=r[o+1],e+=rad(t[0]-n[0])*(2+Math.sin(rad(n[1]))+Math.sin(rad(t[1])));e=e*wgs84.RADIUS*wgs84.RADIUS/2}return e}function rad(r){return r*Math.PI/180}var wgs84=require(\"wgs84\");module.exports.geometry=geometry,module.exports.ring=ringArea;\n},{\"wgs84\":42}],7:[function(require,module,exports){\nfunction rewind(r,e){switch(r&&r.type||null){case\"FeatureCollection\":return r.features=r.features.map(curryOuter(rewind,e)),r;case\"Feature\":return r.geometry=rewind(r.geometry,e),r;case\"Polygon\":case\"MultiPolygon\":return correct(r,e);default:return r}}function curryOuter(r,e){return function(n){return r(n,e)}}function correct(r,e){return\"Polygon\"===r.type?r.coordinates=correctRings(r.coordinates,e):\"MultiPolygon\"===r.type&&(r.coordinates=r.coordinates.map(curryOuter(correctRings,e))),r}function correctRings(r,e){e=!!e,r[0]=wind(r[0],!e);for(var n=1;n<r.length;n++)r[n]=wind(r[n],e);return r}function wind(r,e){return cw(r)===e?r:r.reverse()}function cw(r){return geojsonArea.ring(r)>=0}var geojsonArea=require(\"geojson-area\");module.exports=rewind;\n},{\"geojson-area\":6}],8:[function(require,module,exports){\n\"use strict\";function clip(e,r,t,n,u,i,l,s){if(t/=r,n/=r,l>=t&&s<=n)return e;if(l>n||s<t)return null;for(var h=[],p=0;p<e.length;p++){var a,c,o=e[p],f=o.geometry,g=o.type;if(a=o.min[u],c=o.max[u],a>=t&&c<=n)h.push(o);else if(!(a>n||c<t)){var v=1===g?clipPoints(f,t,n,u):clipGeometry(f,t,n,u,i,3===g);v.length&&h.push(createFeature(o.tags,g,v,o.id))}}return h.length?h:null}function clipPoints(e,r,t,n){for(var u=[],i=0;i<e.length;i++){var l=e[i],s=l[n];s>=r&&s<=t&&u.push(l)}return u}function clipGeometry(e,r,t,n,u,i){for(var l=[],s=0;s<e.length;s++){var h,p,a,c=0,o=0,f=null,g=e[s],v=g.area,m=g.dist,w=g.outer,S=g.length,d=[];for(p=0;p<S-1;p++)h=f||g[p],f=g[p+1],c=o||h[n],o=f[n],c<r?o>t?(d.push(u(h,f,r),u(h,f,t)),i||(d=newSlice(l,d,v,m,w))):o>=r&&d.push(u(h,f,r)):c>t?o<r?(d.push(u(h,f,t),u(h,f,r)),i||(d=newSlice(l,d,v,m,w))):o<=t&&d.push(u(h,f,t)):(d.push(h),o<r?(d.push(u(h,f,r)),i||(d=newSlice(l,d,v,m,w))):o>t&&(d.push(u(h,f,t)),i||(d=newSlice(l,d,v,m,w))));h=g[S-1],c=h[n],c>=r&&c<=t&&d.push(h),a=d[d.length-1],i&&a&&(d[0][0]!==a[0]||d[0][1]!==a[1])&&d.push(d[0]),newSlice(l,d,v,m,w)}return l}function newSlice(e,r,t,n,u){return r.length&&(r.area=t,r.dist=n,void 0!==u&&(r.outer=u),e.push(r)),[]}module.exports=clip;var createFeature=require(\"./feature\");\n},{\"./feature\":10}],9:[function(require,module,exports){\n\"use strict\";function convert(e,t){var r=[];if(\"FeatureCollection\"===e.type)for(var o=0;o<e.features.length;o++)convertFeature(r,e.features[o],t);else\"Feature\"===e.type?convertFeature(r,e,t):convertFeature(r,{geometry:e},t);return r}function convertFeature(e,t,r){if(null!==t.geometry){var o,a,i,n,u=t.geometry,c=u.type,l=u.coordinates,s=t.properties,p=t.id;if(\"Point\"===c)e.push(createFeature(s,1,[projectPoint(l)],p));else if(\"MultiPoint\"===c)e.push(createFeature(s,1,project(l),p));else if(\"LineString\"===c)e.push(createFeature(s,2,[project(l,r)],p));else if(\"MultiLineString\"===c||\"Polygon\"===c){for(i=[],o=0;o<l.length;o++)n=project(l[o],r),\"Polygon\"===c&&(n.outer=0===o),i.push(n);e.push(createFeature(s,\"Polygon\"===c?3:2,i,p))}else if(\"MultiPolygon\"===c){for(i=[],o=0;o<l.length;o++)for(a=0;a<l[o].length;a++)n=project(l[o][a],r),n.outer=0===a,i.push(n);e.push(createFeature(s,3,i,p))}else{if(\"GeometryCollection\"!==c)throw new Error(\"Input data is not a valid GeoJSON object.\");for(o=0;o<u.geometries.length;o++)convertFeature(e,{geometry:u.geometries[o],properties:s},r)}}}function project(e,t){for(var r=[],o=0;o<e.length;o++)r.push(projectPoint(e[o]));return t&&(simplify(r,t),calcSize(r)),r}function projectPoint(e){var t=Math.sin(e[1]*Math.PI/180),r=e[0]/360+.5,o=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return o=o<0?0:o>1?1:o,[r,o,0]}function calcSize(e){for(var t,r,o=0,a=0,i=0;i<e.length-1;i++)t=r||e[i],r=e[i+1],o+=t[0]*r[1]-r[0]*t[1],a+=Math.abs(r[0]-t[0])+Math.abs(r[1]-t[1]);e.area=Math.abs(o/2),e.dist=a}module.exports=convert;var simplify=require(\"./simplify\"),createFeature=require(\"./feature\");\n},{\"./feature\":10,\"./simplify\":12}],10:[function(require,module,exports){\n\"use strict\";function createFeature(e,t,a,n){var r={id:n||null,type:t,geometry:a,tags:e||null,min:[1/0,1/0],max:[-(1/0),-(1/0)]};return calcBBox(r),r}function calcBBox(e){var t=e.geometry,a=e.min,n=e.max;if(1===e.type)calcRingBBox(a,n,t);else for(var r=0;r<t.length;r++)calcRingBBox(a,n,t[r]);return e}function calcRingBBox(e,t,a){for(var n,r=0;r<a.length;r++)n=a[r],e[0]=Math.min(n[0],e[0]),t[0]=Math.max(n[0],t[0]),e[1]=Math.min(n[1],e[1]),t[1]=Math.max(n[1],t[1])}module.exports=createFeature;\n},{}],11:[function(require,module,exports){\n\"use strict\";function geojsonvt(e,t){return new GeoJSONVT(e,t)}function GeoJSONVT(e,t){t=this.options=extend(Object.create(this.options),t);var i=t.debug;i&&console.time(\"preprocess data\");var o=1<<t.maxZoom,n=convert(e,t.tolerance/(o*t.extent));this.tiles={},this.tileCoords=[],i&&(console.timeEnd(\"preprocess data\"),console.log(\"index: maxZoom: %d, maxPoints: %d\",t.indexMaxZoom,t.indexMaxPoints),console.time(\"generate tiles\"),this.stats={},this.total=0),n=wrap(n,t.buffer/t.extent,intersectX),n.length&&this.splitTile(n,0,0,0),i&&(n.length&&console.log(\"features: %d, points: %d\",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd(\"generate tiles\"),console.log(\"tiles generated:\",this.total,JSON.stringify(this.stats)))}function toID(e,t,i){return 32*((1<<e)*i+t)+e}function intersectX(e,t,i){return[i,(i-e[0])*(t[1]-e[1])/(t[0]-e[0])+e[1],1]}function intersectY(e,t,i){return[(i-e[1])*(t[0]-e[0])/(t[1]-e[1])+e[0],i,1]}function extend(e,t){for(var i in t)e[i]=t[i];return e}function isClippedSquare(e,t,i){var o=e.source;if(1!==o.length)return!1;var n=o[0];if(3!==n.type||n.geometry.length>1)return!1;var r=n.geometry[0].length;if(5!==r)return!1;for(var s=0;s<r;s++){var l=transform.point(n.geometry[0][s],t,e.z2,e.x,e.y);if(l[0]!==-i&&l[0]!==t+i||l[1]!==-i&&l[1]!==t+i)return!1}return!0}module.exports=geojsonvt;var convert=require(\"./convert\"),transform=require(\"./transform\"),clip=require(\"./clip\"),wrap=require(\"./wrap\"),createTile=require(\"./tile\");GeoJSONVT.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},GeoJSONVT.prototype.splitTile=function(e,t,i,o,n,r,s){for(var l=[e,t,i,o],a=this.options,u=a.debug,c=null;l.length;){o=l.pop(),i=l.pop(),t=l.pop(),e=l.pop();var p=1<<t,d=toID(t,i,o),m=this.tiles[d],f=t===a.maxZoom?0:a.tolerance/(p*a.extent);if(!m&&(u>1&&console.time(\"creation\"),m=this.tiles[d]=createTile(e,p,i,o,f,t===a.maxZoom),this.tileCoords.push({z:t,x:i,y:o}),u)){u>1&&(console.log(\"tile z%d-%d-%d (features: %d, points: %d, simplified: %d)\",t,i,o,m.numFeatures,m.numPoints,m.numSimplified),console.timeEnd(\"creation\"));var h=\"z\"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(m.source=e,n){if(t===a.maxZoom||t===n)continue;var x=1<<n-t;if(i!==Math.floor(r/x)||o!==Math.floor(s/x))continue}else if(t===a.indexMaxZoom||m.numPoints<=a.indexMaxPoints)continue;if(a.solidChildren||!isClippedSquare(m,a.extent,a.buffer)){m.source=null,u>1&&console.time(\"clipping\");var g,v,M,T,b,y,S=.5*a.buffer/a.extent,Z=.5-S,q=.5+S,w=1+S;g=v=M=T=null,b=clip(e,p,i-S,i+q,0,intersectX,m.min[0],m.max[0]),y=clip(e,p,i+Z,i+w,0,intersectX,m.min[0],m.max[0]),b&&(g=clip(b,p,o-S,o+q,1,intersectY,m.min[1],m.max[1]),v=clip(b,p,o+Z,o+w,1,intersectY,m.min[1],m.max[1])),y&&(M=clip(y,p,o-S,o+q,1,intersectY,m.min[1],m.max[1]),T=clip(y,p,o+Z,o+w,1,intersectY,m.min[1],m.max[1])),u>1&&console.timeEnd(\"clipping\"),e.length&&(l.push(g||[],t+1,2*i,2*o),l.push(v||[],t+1,2*i,2*o+1),l.push(M||[],t+1,2*i+1,2*o),l.push(T||[],t+1,2*i+1,2*o+1))}else n&&(c=t)}return c},GeoJSONVT.prototype.getTile=function(e,t,i){var o=this.options,n=o.extent,r=o.debug,s=1<<e;t=(t%s+s)%s;var l=toID(e,t,i);if(this.tiles[l])return transform.tile(this.tiles[l],n);r>1&&console.log(\"drilling down to z%d-%d-%d\",e,t,i);for(var a,u=e,c=t,p=i;!a&&u>0;)u--,c=Math.floor(c/2),p=Math.floor(p/2),a=this.tiles[toID(u,c,p)];if(!a||!a.source)return null;if(r>1&&console.log(\"found parent tile z%d-%d-%d\",u,c,p),isClippedSquare(a,n,o.buffer))return transform.tile(a,n);r>1&&console.time(\"drilling down\");var d=this.splitTile(a.source,u,c,p,e,t,i);if(r>1&&console.timeEnd(\"drilling down\"),null!==d){var m=1<<e-d;l=toID(d,Math.floor(t/m),Math.floor(i/m))}return this.tiles[l]?transform.tile(this.tiles[l],n):null};\n},{\"./clip\":8,\"./convert\":9,\"./tile\":13,\"./transform\":14,\"./wrap\":15}],12:[function(require,module,exports){\n\"use strict\";function simplify(t,i){var e,p,r,s,o=i*i,f=t.length,u=0,n=f-1,g=[];for(t[u][2]=1,t[n][2]=1;n;){for(p=0,e=u+1;e<n;e++)r=getSqSegDist(t[e],t[u],t[n]),r>p&&(s=e,p=r);p>o?(t[s][2]=p,g.push(u),g.push(s),u=s):(n=g.pop(),u=g.pop())}}function getSqSegDist(t,i,e){var p=i[0],r=i[1],s=e[0],o=e[1],f=t[0],u=t[1],n=s-p,g=o-r;if(0!==n||0!==g){var l=((f-p)*n+(u-r)*g)/(n*n+g*g);l>1?(p=s,r=o):l>0&&(p+=n*l,r+=g*l)}return n=f-p,g=u-r,n*n+g*g}module.exports=simplify;\n},{}],13:[function(require,module,exports){\n\"use strict\";function createTile(e,n,r,i,t,u){for(var a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:i,z2:n,transformed:!1,min:[2,1],max:[-1,0]},m=0;m<e.length;m++){a.numFeatures++,addFeature(a,e[m],t,u);var s=e[m].min,l=e[m].max;s[0]<a.min[0]&&(a.min[0]=s[0]),s[1]<a.min[1]&&(a.min[1]=s[1]),l[0]>a.max[0]&&(a.max[0]=l[0]),l[1]>a.max[1]&&(a.max[1]=l[1])}return a}function addFeature(e,n,r,i){var t,u,a,m,s=n.geometry,l=n.type,o=[],f=r*r;if(1===l)for(t=0;t<s.length;t++)o.push(s[t]),e.numPoints++,e.numSimplified++;else for(t=0;t<s.length;t++)if(a=s[t],i||!(2===l&&a.dist<r||3===l&&a.area<f)){var d=[];for(u=0;u<a.length;u++)m=a[u],(i||m[2]>f)&&(d.push(m),e.numSimplified++),e.numPoints++;3===l&&rewind(d,a.outer),o.push(d)}else e.numPoints+=a.length;if(o.length){var g={geometry:o,type:l,tags:n.tags||null};null!==n.id&&(g.id=n.id),e.features.push(g)}}function rewind(e,n){var r=signedArea(e);r<0===n&&e.reverse()}function signedArea(e){for(var n,r,i=0,t=0,u=e.length,a=u-1;t<u;a=t++)n=e[t],r=e[a],i+=(r[0]-n[0])*(n[1]+r[1]);return i}module.exports=createTile;\n},{}],14:[function(require,module,exports){\n\"use strict\";function transformTile(r,t){if(r.transformed)return r;var n,e,o,f=r.z2,a=r.x,s=r.y;for(n=0;n<r.features.length;n++){var i=r.features[n],u=i.geometry,m=i.type;if(1===m)for(e=0;e<u.length;e++)u[e]=transformPoint(u[e],t,f,a,s);else for(e=0;e<u.length;e++){var l=u[e];for(o=0;o<l.length;o++)l[o]=transformPoint(l[o],t,f,a,s)}}return r.transformed=!0,r}function transformPoint(r,t,n,e,o){var f=Math.round(t*(r[0]*n-e)),a=Math.round(t*(r[1]*n-o));return[f,a]}exports.tile=transformTile,exports.point=transformPoint;\n},{}],15:[function(require,module,exports){\n\"use strict\";function wrap(r,e,t){var o=r,a=clip(r,1,-1-e,e,0,t,-1,2),s=clip(r,1,1-e,2+e,0,t,-1,2);return(a||s)&&(o=clip(r,1,-e,1+e,0,t,-1,2)||[],a&&(o=shiftFeatureCoords(a,1).concat(o)),s&&(o=o.concat(shiftFeatureCoords(s,-1)))),o}function shiftFeatureCoords(r,e){for(var t=[],o=0;o<r.length;o++){var a,s=r[o],i=s.type;if(1===i)a=shiftCoords(s.geometry,e);else{a=[];for(var u=0;u<s.geometry.length;u++)a.push(shiftCoords(s.geometry[u],e))}t.push(createFeature(s.tags,i,a,s.id))}return t}function shiftCoords(r,e){var t=[];t.area=r.area,t.dist=r.dist;for(var o=0;o<r.length;o++)t.push([r[o][0]+e,r[o][1],r[o][2]]);return t}var clip=require(\"./clip\"),createFeature=require(\"./feature\");module.exports=wrap;\n},{\"./clip\":8,\"./feature\":10}],16:[function(require,module,exports){\n\"use strict\";function GridIndex(t,r,e){var s=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],r=i[1],e=i[2],this.d=r+2*e;for(var h=0;h<this.d*this.d;h++){var n=i[NUM_PARAMS+h],o=i[NUM_PARAMS+h+1];s.push(n===o?null:i.subarray(n,o))}var l=i[NUM_PARAMS+s.length],a=i[NUM_PARAMS+s.length+1];this.keys=i.subarray(l,a),this.bboxes=i.subarray(a),this.insert=this._insertReadonly}else{this.d=r+2*e;for(var d=0;d<this.d*this.d;d++)s.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=t,this.padding=e,this.scale=r/t,this.uid=0;var f=e/r*t;this.min=-f,this.max=t+f}module.exports=GridIndex;var NUM_PARAMS=3;GridIndex.prototype.insert=function(t,r,e,s,i){this._forEachCell(r,e,s,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(r),this.bboxes.push(e),this.bboxes.push(s),this.bboxes.push(i)},GridIndex.prototype._insertReadonly=function(){throw\"Cannot insert into a GridIndex created from an ArrayBuffer.\"},GridIndex.prototype._insertCell=function(t,r,e,s,i,h){this.cells[i].push(h)},GridIndex.prototype.query=function(t,r,e,s){var i=this.min,h=this.max;if(t<=i&&r<=i&&h<=e&&h<=s)return Array.prototype.slice.call(this.keys);var n=[],o={};return this._forEachCell(t,r,e,s,this._queryCell,n,o),n},GridIndex.prototype._queryCell=function(t,r,e,s,i,h,n){var o=this.cells[i];if(null!==o)for(var l=this.keys,a=this.bboxes,d=0;d<o.length;d++){var f=o[d];if(void 0===n[f]){var u=4*f;t<=a[u+2]&&r<=a[u+3]&&e>=a[u+0]&&s>=a[u+1]?(n[f]=!0,h.push(l[f])):n[f]=!1}}},GridIndex.prototype._forEachCell=function(t,r,e,s,i,h,n){for(var o=this._convertToCellCoord(t),l=this._convertToCellCoord(r),a=this._convertToCellCoord(e),d=this._convertToCellCoord(s),f=o;f<=a;f++)for(var u=l;u<=d;u++){var y=this.d*u+f;if(i.call(this,t,r,e,s,y,h,n))return}},GridIndex.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},GridIndex.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,r=NUM_PARAMS+this.cells.length+1+1,e=0,s=0;s<this.cells.length;s++)e+=this.cells[s].length;var i=new Int32Array(r+e+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var h=r,n=0;n<t.length;n++){var o=t[n];i[NUM_PARAMS+n]=h,i.set(o,h),h+=o.length}return i[NUM_PARAMS+t.length]=h,i.set(this.keys,h),h+=this.keys.length,i[NUM_PARAMS+t.length+1]=h,i.set(this.bboxes,h),h+=this.bboxes.length,i.buffer};\n},{}],17:[function(require,module,exports){\nexports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:(s?-1:1)*(1/0);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};\n},{}],18:[function(require,module,exports){\n\"use strict\";function kdbush(t,i,e,s,n){return new KDBush(t,i,e,s,n)}function KDBush(t,i,e,s,n){i=i||defaultGetX,e=e||defaultGetY,n=n||Array,this.nodeSize=s||64,this.points=t,this.ids=new n(t.length),this.coords=new n(2*t.length);for(var r=0;r<t.length;r++)this.ids[r]=r,this.coords[2*r]=i(t[r]),this.coords[2*r+1]=e(t[r]);sort(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function defaultGetX(t){return t[0]}function defaultGetY(t){return t[1]}var sort=require(\"./sort\"),range=require(\"./range\"),within=require(\"./within\");module.exports=kdbush,KDBush.prototype={range:function(t,i,e,s){return range(this.ids,this.coords,t,i,e,s,this.nodeSize)},within:function(t,i,e){return within(this.ids,this.coords,t,i,e,this.nodeSize)}};\n},{\"./range\":19,\"./sort\":20,\"./within\":21}],19:[function(require,module,exports){\n\"use strict\";function range(p,r,s,u,h,e,o){for(var a,t,n=[0,p.length-1,0],f=[];n.length;){var l=n.pop(),v=n.pop(),g=n.pop();if(v-g<=o)for(var i=g;i<=v;i++)a=r[2*i],t=r[2*i+1],a>=s&&a<=h&&t>=u&&t<=e&&f.push(p[i]);else{var c=Math.floor((g+v)/2);a=r[2*c],t=r[2*c+1],a>=s&&a<=h&&t>=u&&t<=e&&f.push(p[c]);var d=(l+1)%2;(0===l?s<=a:u<=t)&&(n.push(g),n.push(c-1),n.push(d)),(0===l?h>=a:e>=t)&&(n.push(c+1),n.push(v),n.push(d))}}return f}module.exports=range;\n},{}],20:[function(require,module,exports){\n\"use strict\";function sortKD(t,a,o,s,r,e){if(!(r-s<=o)){var f=Math.floor((s+r)/2);select(t,a,f,s,r,e%2),sortKD(t,a,o,s,f-1,e+1),sortKD(t,a,o,f+1,r,e+1)}}function select(t,a,o,s,r,e){for(;r>s;){if(r-s>600){var f=r-s+1,p=o-s+1,w=Math.log(f),m=.5*Math.exp(2*w/3),n=.5*Math.sqrt(w*m*(f-m)/f)*(p-f/2<0?-1:1),c=Math.max(s,Math.floor(o-p*m/f+n)),h=Math.min(r,Math.floor(o+(f-p)*m/f+n));select(t,a,o,c,h,e)}var i=a[2*o+e],l=s,M=r;for(swapItem(t,a,s,o),a[2*r+e]>i&&swapItem(t,a,s,r);l<M;){for(swapItem(t,a,l,M),l++,M--;a[2*l+e]<i;)l++;for(;a[2*M+e]>i;)M--}a[2*s+e]===i?swapItem(t,a,s,M):(M++,swapItem(t,a,M,r)),M<=o&&(s=M+1),o<=M&&(r=M-1)}}function swapItem(t,a,o,s){swap(t,o,s),swap(a,2*o,2*s),swap(a,2*o+1,2*s+1)}function swap(t,a,o){var s=t[a];t[a]=t[o],t[o]=s}module.exports=sortKD;\n},{}],21:[function(require,module,exports){\n\"use strict\";function within(s,p,r,t,u,h){for(var i=[0,s.length-1,0],o=[],n=u*u;i.length;){var e=i.pop(),a=i.pop(),f=i.pop();if(a-f<=h)for(var v=f;v<=a;v++)sqDist(p[2*v],p[2*v+1],r,t)<=n&&o.push(s[v]);else{var l=Math.floor((f+a)/2),c=p[2*l],q=p[2*l+1];sqDist(c,q,r,t)<=n&&o.push(s[l]);var D=(e+1)%2;(0===e?r-u<=c:t-u<=q)&&(i.push(f),i.push(l-1),i.push(D)),(0===e?r+u>=c:t+u>=q)&&(i.push(l+1),i.push(a),i.push(D))}}return o}function sqDist(s,p,r,t){var u=s-r,h=p-t;return u*u+h*h}module.exports=within;\n},{}],22:[function(require,module,exports){\n\"use strict\";function isSupported(e){return!!(isBrowser()&&isArraySupported()&&isFunctionSupported()&&isObjectSupported()&&isJSONSupported()&&isWorkerSupported()&&isUint8ClampedArraySupported()&&isWebGLSupportedCached(e&&e.failIfMajorPerformanceCaveat))}function isBrowser(){return\"undefined\"!=typeof window&&\"undefined\"!=typeof document}function isArraySupported(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function isFunctionSupported(){return Function.prototype&&Function.prototype.bind}function isObjectSupported(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function isJSONSupported(){return\"JSON\"in window&&\"parse\"in JSON&&\"stringify\"in JSON}function isWorkerSupported(){return\"Worker\"in window}function isUint8ClampedArraySupported(){return\"Uint8ClampedArray\"in window}function isWebGLSupportedCached(e){return void 0===isWebGLSupportedCache[e]&&(isWebGLSupportedCache[e]=isWebGLSupported(e)),isWebGLSupportedCache[e]}function isWebGLSupported(e){var t=document.createElement(\"canvas\"),r=Object.create(isSupported.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,t.probablySupportsContext?t.probablySupportsContext(\"webgl\",r)||t.probablySupportsContext(\"experimental-webgl\",r):t.supportsContext?t.supportsContext(\"webgl\",r)||t.supportsContext(\"experimental-webgl\",r):t.getContext(\"webgl\",r)||t.getContext(\"experimental-webgl\",r)}\"undefined\"!=typeof module&&module.exports?module.exports=isSupported:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=isSupported);var isWebGLSupportedCache={};isSupported.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};\n},{}],23:[function(require,module,exports){\n(function (process){\nfunction normalizeArray(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];\".\"===s?r.splice(n,1):\"..\"===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift(\"..\");return r}function filter(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}var splitPathRe=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/,splitPath=function(r){return splitPathRe.exec(r).slice(1)};exports.resolve=function(){for(var r=\"\",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if(\"string\"!=typeof n)throw new TypeError(\"Arguments to path.resolve must be strings\");n&&(r=n+\"/\"+r,t=\"/\"===n.charAt(0))}return r=normalizeArray(filter(r.split(\"/\"),function(r){return!!r}),!t).join(\"/\"),(t?\"/\":\"\")+r||\".\"},exports.normalize=function(r){var t=exports.isAbsolute(r),e=\"/\"===substr(r,-1);return r=normalizeArray(filter(r.split(\"/\"),function(r){return!!r}),!t).join(\"/\"),r||t||(r=\".\"),r&&e&&(r+=\"/\"),(t?\"/\":\"\")+r},exports.isAbsolute=function(r){return\"/\"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(r,function(r,t){if(\"string\"!=typeof r)throw new TypeError(\"Arguments to path.join must be strings\");return r}).join(\"/\"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&\"\"===r[t];t++);for(var e=r.length-1;e>=0&&\"\"===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split(\"/\")),s=e(t.split(\"/\")),i=Math.min(n.length,s.length),o=i,u=0;u<i;u++)if(n[u]!==s[u]){o=u;break}for(var l=[],u=o;u<n.length;u++)l.push(\"..\");return l=l.concat(s.slice(o)),l.join(\"/\")},exports.sep=\"/\",exports.delimiter=\":\",exports.dirname=function(r){var t=splitPath(r),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):\".\"},exports.basename=function(r,t){var e=splitPath(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return splitPath(r)[3]};var substr=\"b\"===\"ab\".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};\n}).call(this,require('_process'))\n\n},{\"_process\":27}],24:[function(require,module,exports){\n\"use strict\";function Buffer(t){var e;t&&t.length&&(e=t,t=e.length);var r=new Uint8Array(t||0);return e&&r.set(e),r.readUInt32LE=BufferMethods.readUInt32LE,r.writeUInt32LE=BufferMethods.writeUInt32LE,r.readInt32LE=BufferMethods.readInt32LE,r.writeInt32LE=BufferMethods.writeInt32LE,r.readFloatLE=BufferMethods.readFloatLE,r.writeFloatLE=BufferMethods.writeFloatLE,r.readDoubleLE=BufferMethods.readDoubleLE,r.writeDoubleLE=BufferMethods.writeDoubleLE,r.toString=BufferMethods.toString,r.write=BufferMethods.write,r.slice=BufferMethods.slice,r.copy=BufferMethods.copy,r._isBuffer=!0,r}function encodeString(t){for(var e,r,n=t.length,i=[],o=0;o<n;o++){if(e=t.charCodeAt(o),e>55295&&e<57344){if(!r){e>56319||o+1===n?i.push(239,191,189):r=e;continue}if(e<56320){i.push(239,191,189),r=e;continue}e=r-55296<<10|e-56320|65536,r=null}else r&&(i.push(239,191,189),r=null);e<128?i.push(e):e<2048?i.push(e>>6|192,63&e|128):e<65536?i.push(e>>12|224,e>>6&63|128,63&e|128):i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return i}module.exports=Buffer;var ieee754=require(\"ieee754\"),BufferMethods,lastStr,lastStrEncoded;BufferMethods={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return ieee754.read(this,t,!0,23,4)},readDoubleLE:function(t){return ieee754.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return ieee754.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return ieee754.write(this,t,e,!0,52,8)},toString:function(t,e,r){var n=\"\",i=\"\";e=e||0,r=Math.min(this.length,r||this.length);for(var o=e;o<r;o++){var u=this[o];u<=127?(n+=decodeURIComponent(i)+String.fromCharCode(u),i=\"\"):i+=\"%\"+u.toString(16)}return n+=decodeURIComponent(i)},write:function(t,e){for(var r=t===lastStr?lastStrEncoded:encodeString(t),n=0;n<r.length;n++)this[e+n]=r[n]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var r=0;r<this.length;r++)t[e+r]=this[r]}},BufferMethods.writeInt32LE=BufferMethods.writeUInt32LE,Buffer.byteLength=function(t){return lastStr=t,lastStrEncoded=encodeString(t),lastStrEncoded.length},Buffer.isBuffer=function(t){return!(!t||!t._isBuffer)};\n},{\"ieee754\":17}],25:[function(require,module,exports){\n(function (global){\n\"use strict\";function Pbf(t){this.buf=Buffer.isBuffer(t)?t:new Buffer(t||0),this.pos=0,this.length=this.buf.length}function readVarintRemainder(t,i){var e,r=i.buf;if(e=r[i.pos++],t+=268435456*(127&e),e<128)return t;if(e=r[i.pos++],t+=34359738368*(127&e),e<128)return t;if(e=r[i.pos++],t+=4398046511104*(127&e),e<128)return t;if(e=r[i.pos++],t+=562949953421312*(127&e),e<128)return t;if(e=r[i.pos++],t+=72057594037927940*(127&e),e<128)return t;if(e=r[i.pos++],t+=0x8000000000000000*(127&e),e<128)return t;throw new Error(\"Expected varint not more than 10 bytes\")}function writeBigVarint(t,i){i.realloc(10);for(var e=i.pos+10;t>=1;){if(i.pos>=e)throw new Error(\"Given varint doesn't fit into 10 bytes\");var r=255&t;i.buf[i.pos++]=r|(t>=128?128:0),t/=128}}function reallocForRawMessage(t,i,e){var r=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.ceil(Math.log(i)/(7*Math.LN2));e.realloc(r);for(var s=e.pos-1;s>=t;s--)e.buf[s+r]=e.buf[s]}function writePackedVarint(t,i){for(var e=0;e<t.length;e++)i.writeVarint(t[e])}function writePackedSVarint(t,i){for(var e=0;e<t.length;e++)i.writeSVarint(t[e])}function writePackedFloat(t,i){for(var e=0;e<t.length;e++)i.writeFloat(t[e])}function writePackedDouble(t,i){for(var e=0;e<t.length;e++)i.writeDouble(t[e])}function writePackedBoolean(t,i){for(var e=0;e<t.length;e++)i.writeBoolean(t[e])}function writePackedFixed32(t,i){for(var e=0;e<t.length;e++)i.writeFixed32(t[e])}function writePackedSFixed32(t,i){for(var e=0;e<t.length;e++)i.writeSFixed32(t[e])}function writePackedFixed64(t,i){for(var e=0;e<t.length;e++)i.writeFixed64(t[e])}function writePackedSFixed64(t,i){for(var e=0;e<t.length;e++)i.writeSFixed64(t[e])}module.exports=Pbf;var Buffer=global.Buffer||require(\"./buffer\");Pbf.Varint=0,Pbf.Fixed64=1,Pbf.Bytes=2,Pbf.Fixed32=5;var SHIFT_LEFT_32=4294967296,SHIFT_RIGHT_32=1/SHIFT_LEFT_32,POW_2_63=Math.pow(2,63);Pbf.prototype={destroy:function(){this.buf=null},readFields:function(t,i,e){for(e=e||this.length;this.pos<e;){var r=this.readVarint(),s=r>>3,n=this.pos;t(s,i,this),this.pos===n&&this.skip(r)}return i},readMessage:function(t,i){return this.readFields(t,i,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*SHIFT_LEFT_32;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*SHIFT_LEFT_32;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,i,e=this.buf;return i=e[this.pos++],t=127&i,i<128?t:(i=e[this.pos++],t|=(127&i)<<7,i<128?t:(i=e[this.pos++],t|=(127&i)<<14,i<128?t:(i=e[this.pos++],t|=(127&i)<<21,i<128?t:readVarintRemainder(t,this))))},readVarint64:function(){var t=this.pos,i=this.readVarint();if(i<POW_2_63)return i;for(var e=this.pos-2;255===this.buf[e];)e--;e<t&&(e=t),i=0;for(var r=0;r<e-t+1;r++){var s=127&~this.buf[t+r];i+=r<4?s<<7*r:s*Math.pow(2,7*r)}return-i-1},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,i=this.buf.toString(\"utf8\",this.pos,t);return this.pos=t,i},readBytes:function(){var t=this.readVarint()+this.pos,i=this.buf.slice(this.pos,t);return this.pos=t,i},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos<t;)i.push(this.readVarint());return i},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos<t;)i.push(this.readSVarint());return i},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos<t;)i.push(this.readBoolean());return i},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos<t;)i.push(this.readFloat());return i},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos<t;)i.push(this.readDouble());return i},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos<t;)i.push(this.readFixed32());return i},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos<t;)i.push(this.readSFixed32());return i},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos<t;)i.push(this.readFixed64());return i},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,i=[];this.pos<t;)i.push(this.readSFixed64());return i},skip:function(t){var i=7&t;if(i===Pbf.Varint)for(;this.buf[this.pos++]>127;);else if(i===Pbf.Bytes)this.pos=this.readVarint()+this.pos;else if(i===Pbf.Fixed32)this.pos+=4;else{if(i!==Pbf.Fixed64)throw new Error(\"Unimplemented type: \"+i);this.pos+=8}},writeTag:function(t,i){this.writeVarint(t<<3|i)},realloc:function(t){for(var i=this.length||16;i<this.pos+t;)i*=2;if(i!==this.length){var e=new Buffer(i);this.buf.copy(e),this.buf=e,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeUInt32LE(Math.floor(t*SHIFT_RIGHT_32),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeInt32LE(Math.floor(t*SHIFT_RIGHT_32),this.pos+4),this.pos+=8},writeVarint:function(t){return t=+t,t>268435455?void writeBigVarint(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),void(t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var i=Buffer.byteLength(t);this.writeVarint(i),this.realloc(i),this.buf.write(t,this.pos),this.pos+=i},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var i=t.length;this.writeVarint(i),this.realloc(i);for(var e=0;e<i;e++)this.buf[this.pos++]=t[e]},writeRawMessage:function(t,i){this.pos++;var e=this.pos;t(i,this);var r=this.pos-e;r>=128&&reallocForRawMessage(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,i,e){this.writeTag(t,Pbf.Bytes),this.writeRawMessage(i,e)},writePackedVarint:function(t,i){this.writeMessage(t,writePackedVarint,i)},writePackedSVarint:function(t,i){this.writeMessage(t,writePackedSVarint,i)},writePackedBoolean:function(t,i){this.writeMessage(t,writePackedBoolean,i)},writePackedFloat:function(t,i){this.writeMessage(t,writePackedFloat,i)},writePackedDouble:function(t,i){this.writeMessage(t,writePackedDouble,i)},writePackedFixed32:function(t,i){this.writeMessage(t,writePackedFixed32,i)},writePackedSFixed32:function(t,i){this.writeMessage(t,writePackedSFixed32,i)},writePackedFixed64:function(t,i){this.writeMessage(t,writePackedFixed64,i)},writePackedSFixed64:function(t,i){this.writeMessage(t,writePackedSFixed64,i)},writeBytesField:function(t,i){this.writeTag(t,Pbf.Bytes),this.writeBytes(i)},writeFixed32Field:function(t,i){this.writeTag(t,Pbf.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(t,i){this.writeTag(t,Pbf.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(t,i){this.writeTag(t,Pbf.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(t,i){this.writeTag(t,Pbf.Fixed64),this.writeSFixed64(i)},writeVarintField:function(t,i){this.writeTag(t,Pbf.Varint),this.writeVarint(i)},writeSVarintField:function(t,i){this.writeTag(t,Pbf.Varint),this.writeSVarint(i)},writeStringField:function(t,i){this.writeTag(t,Pbf.Bytes),this.writeString(i)},writeFloatField:function(t,i){this.writeTag(t,Pbf.Fixed32),this.writeFloat(i)},writeDoubleField:function(t,i){this.writeTag(t,Pbf.Fixed64),this.writeDouble(i)},writeBooleanField:function(t,i){this.writeVarintField(t,Boolean(i))}};\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./buffer\":24}],26:[function(require,module,exports){\n\"use strict\";function Point(t,n){this.x=t,this.y=n}module.exports=Point,Point.prototype={clone:function(){return new Point(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var n=t.x-this.x,i=t.y-this.y;return n*n+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,n){return Math.atan2(this.x*n-this.y*t,this.x*t+this.y*n)},_matMult:function(t){var n=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=n,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var n=Math.cos(t),i=Math.sin(t),s=n*this.x-i*this.y,r=i*this.x+n*this.y;return this.x=s,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Point.convert=function(t){return t instanceof Point?t:Array.isArray(t)?new Point(t[0],t[1]):t};\n},{}],27:[function(require,module,exports){\nfunction defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout=\"function\"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout=\"function\"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)t[u-1]=arguments[u];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title=\"browser\",process.browser=!0,process.env={},process.argv=[],process.version=\"\",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error(\"process.binding is not supported\")},process.cwd=function(){return\"/\"},process.chdir=function(e){throw new Error(\"process.chdir is not supported\")},process.umask=function(){return 0};\n},{}],28:[function(require,module,exports){\n\"use strict\";function partialSort(a,t,r,o,p){for(r=r||0,o=o||a.length-1,p=p||defaultCompare;o>r;){if(o-r>600){var f=o-r+1,e=t-r+1,l=Math.log(f),s=.5*Math.exp(2*l/3),i=.5*Math.sqrt(l*s*(f-s)/f)*(e-f/2<0?-1:1),n=Math.max(r,Math.floor(t-e*s/f+i)),h=Math.min(o,Math.floor(t+(f-e)*s/f+i));partialSort(a,t,n,h,p)}var u=a[t],M=r,w=o;for(swap(a,r,t),p(a[o],u)>0&&swap(a,r,o);M<w;){for(swap(a,M,w),M++,w--;p(a[M],u)<0;)M++;for(;p(a[w],u)>0;)w--}0===p(a[r],u)?swap(a,r,w):(w++,swap(a,w,o)),w<=t&&(r=w+1),t<=w&&(o=w-1)}}function swap(a,t,r){var o=a[t];a[t]=a[r],a[r]=o}function defaultCompare(a,t){return a<t?-1:a>t?1:0}module.exports=partialSort;\n},{}],29:[function(require,module,exports){\n\"use strict\";function supercluster(t){return new SuperCluster(t)}function SuperCluster(t){this.options=extend(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function createCluster(t,e,o,n){return{x:t,y:e,zoom:1/0,id:n,numPoints:o}}function createPointCluster(t,e){var o=t.geometry.coordinates;return createCluster(lngX(o[0]),latY(o[1]),1,e)}function getClusterJSON(t){return{type:\"Feature\",properties:getClusterProperties(t),geometry:{type:\"Point\",coordinates:[xLng(t.x),yLat(t.y)]}}}function getClusterProperties(t){var e=t.numPoints,o=e>=1e4?Math.round(e/1e3)+\"k\":e>=1e3?Math.round(e/100)/10+\"k\":e;return{cluster:!0,point_count:e,point_count_abbreviated:o}}function lngX(t){return t/360+.5}function latY(t){var e=Math.sin(t*Math.PI/180),o=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return o<0?0:o>1?1:o}function xLng(t){return 360*(t-.5)}function yLat(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function extend(t,e){for(var o in e)t[o]=e[o];return t}function getX(t){return t.x}function getY(t){return t.y}var kdbush=require(\"kdbush\");module.exports=supercluster,SuperCluster.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1},load:function(t){var e=this.options.log;e&&console.time(\"total time\");var o=\"prepare \"+t.length+\" points\";e&&console.time(o),this.points=t;var n=t.map(createPointCluster);e&&console.timeEnd(o);for(var r=this.options.maxZoom;r>=this.options.minZoom;r--){var i=+Date.now();this.trees[r+1]=kdbush(n,getX,getY,this.options.nodeSize,Float32Array),n=this._cluster(n,r),e&&console.log(\"z%d: %d clusters in %dms\",r,n.length,+Date.now()-i)}return this.trees[this.options.minZoom]=kdbush(n,getX,getY,this.options.nodeSize,Float32Array),e&&console.timeEnd(\"total time\"),this},getClusters:function(t,e){for(var o=this.trees[this._limitZoom(e)],n=o.range(lngX(t[0]),latY(t[3]),lngX(t[2]),latY(t[1])),r=[],i=0;i<n.length;i++){var s=o.points[n[i]];r.push(s.id!==-1?this.points[s.id]:getClusterJSON(s))}return r},getTile:function(t,e,o){var n=this.trees[this._limitZoom(t)],r=Math.pow(2,t),i=this.options.extent,s=this.options.radius,u=s/i,a=(o-u)/r,h=(o+1+u)/r,l={features:[]};return this._addTileFeatures(n.range((e-u)/r,a,(e+1+u)/r,h),n.points,e,o,r,l),0===e&&this._addTileFeatures(n.range(1-u/r,a,1,h),n.points,r,o,r,l),e===r-1&&this._addTileFeatures(n.range(0,a,u/r,h),n.points,-1,o,r,l),l.features.length?l:null},_addTileFeatures:function(t,e,o,n,r,i){for(var s=0;s<t.length;s++){var u=e[t[s]];i.features.push({type:1,geometry:[[Math.round(this.options.extent*(u.x*r-o)),Math.round(this.options.extent*(u.y*r-n))]],tags:u.id!==-1?this.points[u.id].properties:getClusterProperties(u)})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var o=[],n=this.options.radius/(this.options.extent*Math.pow(2,e)),r=0;r<t.length;r++){var i=t[r];if(!(i.zoom<=e)){i.zoom=e;for(var s=this.trees[e+1],u=s.within(i.x,i.y,n),a=!1,h=i.numPoints,l=i.x*h,p=i.y*h,m=0;m<u.length;m++){var c=s.points[u[m]];e<c.zoom&&(a=!0,c.zoom=e,l+=c.x*c.numPoints,p+=c.y*c.numPoints,h+=c.numPoints)}o.push(a?createCluster(l/h,p/h,h,-1):i)}}return o}};\n},{\"kdbush\":18}],30:[function(require,module,exports){\n\"use strict\";function TinyQueue(t,i){if(!(this instanceof TinyQueue))return new TinyQueue(t,i);if(this.data=t||[],this.length=this.data.length,this.compare=i||defaultCompare,t)for(var a=Math.floor(this.length/2);a>=0;a--)this._down(a)}function defaultCompare(t,i){return t<i?-1:t>i?1:0}function swap(t,i,a){var n=t[i];t[i]=t[a],t[a]=n}module.exports=TinyQueue,TinyQueue.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){var t=this.data[0];return this.data[0]=this.data[this.length-1],this.length--,this.data.pop(),this._down(0),t},peek:function(){return this.data[0]},_up:function(t){for(var i=this.data,a=this.compare;t>0;){var n=Math.floor((t-1)/2);if(!(a(i[t],i[n])<0))break;swap(i,n,t),t=n}},_down:function(t){for(var i=this.data,a=this.compare,n=this.length;;){var e=2*t+1,h=e+1,s=t;if(e<n&&a(i[e],i[s])<0&&(s=e),h<n&&a(i[h],i[s])<0&&(s=h),s===t)return;swap(i,s,t),t=s}}};\n},{}],31:[function(require,module,exports){\n\"function\"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};\n},{}],32:[function(require,module,exports){\nmodule.exports=function(o){return o&&\"object\"==typeof o&&\"function\"==typeof o.copy&&\"function\"==typeof o.fill&&\"function\"==typeof o.readUInt8};\n},{}],33:[function(require,module,exports){\n(function (process,global){\nfunction inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?\"\u001b[\"+inspect.colors[t][0]+\"m\"+e+\"\u001b[\"+inspect.colors[t][1]+\"m\":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf(\"message\")>=0||o.indexOf(\"description\")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?\": \"+r.name:\"\";return e.stylize(\"[Function\"+u+\"]\",\"special\")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),\"regexp\");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),\"date\");if(isError(r))return formatError(r)}var c=\"\",a=!1,l=[\"{\",\"}\"];if(isArray(r)&&(a=!0,l=[\"[\",\"]\"]),isFunction(r)){var p=r.name?\": \"+r.name:\"\";c=\" [Function\"+p+\"]\"}if(isRegExp(r)&&(c=\" \"+RegExp.prototype.toString.call(r)),isDate(r)&&(c=\" \"+Date.prototype.toUTCString.call(r)),isError(r)&&(c=\" \"+formatError(r)),0===o.length&&(!a||0==r.length))return l[0]+c+l[1];if(t<0)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),\"regexp\"):e.stylize(\"[Object]\",\"special\");e.seen.push(r);var f;return f=a?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,a)}),e.seen.pop(),reduceToSingleString(f,c,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize(\"undefined\",\"undefined\");if(isString(r)){var t=\"'\"+JSON.stringify(r).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return e.stylize(t,\"string\")}return isNumber(r)?e.stylize(\"\"+r,\"number\"):isBoolean(r)?e.stylize(\"\"+r,\"boolean\"):isNull(r)?e.stylize(\"null\",\"null\"):void 0}function formatError(e){return\"[\"+Error.prototype.toString.call(e)+\"]\"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;s<u;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push(\"\");return i.forEach(function(i){i.match(/^\\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,c;if(c=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},c.get?u=c.set?e.stylize(\"[Getter/Setter]\",\"special\"):e.stylize(\"[Getter]\",\"special\"):c.set&&(u=e.stylize(\"[Setter]\",\"special\")),hasOwnProperty(n,i)||(s=\"[\"+i+\"]\"),u||(e.seen.indexOf(c.value)<0?(u=isNull(t)?formatValue(e,c.value,null):formatValue(e,c.value,t-1),u.indexOf(\"\\n\")>-1&&(u=o?u.split(\"\\n\").map(function(e){return\"  \"+e}).join(\"\\n\").substr(2):\"\\n\"+u.split(\"\\n\").map(function(e){return\"   \"+e}).join(\"\\n\"))):u=e.stylize(\"[Circular]\",\"special\")),isUndefined(s)){if(o&&i.match(/^\\d+$/))return u;s=JSON.stringify(\"\"+i),s.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,\"name\")):(s=s.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),s=e.stylize(s,\"string\"))}return s+\": \"+u}function reduceToSingleString(e,r,t){var n=0,i=e.reduce(function(e,r){return n++,r.indexOf(\"\\n\")>=0&&n++,e+r.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0);return i>60?t[0]+(\"\"===r?\"\":r+\"\\n \")+\" \"+e.join(\",\\n  \")+\" \"+t[1]:t[0]+r+\" \"+e.join(\", \")+\" \"+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return\"boolean\"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return\"number\"==typeof e}function isString(e){return\"string\"==typeof e}function isSymbol(e){return\"symbol\"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&\"[object RegExp]\"===objectToString(e)}function isObject(e){return\"object\"==typeof e&&null!==e}function isDate(e){return isObject(e)&&\"[object Date]\"===objectToString(e)}function isError(e){return isObject(e)&&(\"[object Error]\"===objectToString(e)||e instanceof Error)}function isFunction(e){return\"function\"==typeof e}function isPrimitive(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"==typeof e||\"undefined\"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?\"0\"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(\":\");return[e.getDate(),months[e.getMonth()],r].join(\" \")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(\" \")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if(\"%%\"===e)return\"%\";if(t>=i)return e;switch(e){case\"%s\":return String(n[t++]);case\"%d\":return Number(n[t++]);case\"%j\":try{return JSON.stringify(n[t++])}catch(e){return\"[Circular]\"}default:return e}}),s=n[t];t<i;s=n[++t])o+=isNull(s)||!isObject(s)?\" \"+s:\" \"+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(process.noDeprecation===!0)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||\"\"),e=e.toUpperCase(),!debugs[e])if(new RegExp(\"\\\\b\"+e+\"\\\\b\",\"i\").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error(\"%s %d: %s\",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require(\"./support/isBuffer\");var months=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];exports.log=function(){console.log(\"%s - %s\",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require(\"inherits\"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./support/isBuffer\":32,\"_process\":27,\"inherits\":31}],34:[function(require,module,exports){\nmodule.exports.VectorTile=require(\"./lib/vectortile.js\"),module.exports.VectorTileFeature=require(\"./lib/vectortilefeature.js\"),module.exports.VectorTileLayer=require(\"./lib/vectortilelayer.js\");\n},{\"./lib/vectortile.js\":35,\"./lib/vectortilefeature.js\":36,\"./lib/vectortilelayer.js\":37}],35:[function(require,module,exports){\n\"use strict\";function VectorTile(e,r){this.layers=e.readFields(readTile,{},r)}function readTile(e,r,i){if(3===e){var t=new VectorTileLayer(i,i.readVarint()+i.pos);t.length&&(r[t.name]=t)}}var VectorTileLayer=require(\"./vectortilelayer\");module.exports=VectorTile;\n},{\"./vectortilelayer\":37}],36:[function(require,module,exports){\n\"use strict\";function VectorTileFeature(e,t,r,i,a){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=i,this._values=a,e.readFields(readFeature,this,t)}function readFeature(e,t,r){1==e?t.id=r.readVarint():2==e?readTag(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function readTag(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var i=t._keys[e.readVarint()],a=t._values[e.readVarint()];t.properties[i]=a}}function classifyRings(e){var t=e.length;if(t<=1)return[e];for(var r,i,a=[],o=0;o<t;o++){var n=signedArea(e[o]);0!==n&&(void 0===i&&(i=n<0),i===n<0?(r&&a.push(r),r=[e[o]]):r.push(e[o]))}return r&&a.push(r),a}function signedArea(e){for(var t,r,i=0,a=0,o=e.length,n=o-1;a<o;n=a++)t=e[a],r=e[n],i+=(r.x-t.x)*(t.y+r.y);return i}var Point=require(\"point-geometry\");module.exports=VectorTileFeature,VectorTileFeature.types=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"],VectorTileFeature.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,i=1,a=0,o=0,n=0,s=[];e.pos<r;){if(!a){var p=e.readVarint();i=7&p,a=p>>3}if(a--,1===i||2===i)o+=e.readSVarint(),n+=e.readSVarint(),1===i&&(t&&s.push(t),t=[]),t.push(new Point(o,n));else{if(7!==i)throw new Error(\"unknown command \"+i);t&&t.push(t[0].clone())}}return t&&s.push(t),s},VectorTileFeature.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,i=0,a=0,o=0,n=1/0,s=-(1/0),p=1/0,h=-(1/0);e.pos<t;){if(!i){var u=e.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)a+=e.readSVarint(),o+=e.readSVarint(),a<n&&(n=a),a>s&&(s=a),o<p&&(p=o),o>h&&(h=o);else if(7!==r)throw new Error(\"unknown command \"+r)}return[n,p,s,h]},VectorTileFeature.prototype.toGeoJSON=function(e,t,r){function i(e){for(var t=0;t<e.length;t++){var r=e[t],i=180-360*(r.y+p)/n;e[t]=[360*(r.x+s)/n-180,360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90]}}var a,o,n=this.extent*Math.pow(2,r),s=this.extent*e,p=this.extent*t,h=this.loadGeometry(),u=VectorTileFeature.types[this.type];switch(this.type){case 1:var d=[];for(a=0;a<h.length;a++)d[a]=h[a][0];h=d,i(h);break;case 2:for(a=0;a<h.length;a++)i(h[a]);break;case 3:for(h=classifyRings(h),a=0;a<h.length;a++)for(o=0;o<h[a].length;o++)i(h[a][o])}1===h.length?h=h[0]:u=\"Multi\"+u;var f={type:\"Feature\",geometry:{type:u,coordinates:h},properties:this.properties};return\"id\"in this&&(f.id=this.id),f};\n},{\"point-geometry\":26}],37:[function(require,module,exports){\n\"use strict\";function VectorTileLayer(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(readLayer,this,t),this.length=this._features.length}function readLayer(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(readValueMessage(r))}function readValueMessage(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var a=e.readVarint()>>3;t=1===a?e.readString():2===a?e.readFloat():3===a?e.readDouble():4===a?e.readVarint64():5===a?e.readVarint():6===a?e.readSVarint():7===a?e.readBoolean():null}return t}var VectorTileFeature=require(\"./vectortilefeature.js\");module.exports=VectorTileLayer,VectorTileLayer.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error(\"feature index out of bounds\");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new VectorTileFeature(this._pbf,t,this.extent,this._keys,this._values)};\n},{\"./vectortilefeature.js\":36}],38:[function(require,module,exports){\nfunction fromVectorTileJs(e){var r=[];for(var o in e.layers)r.push(prepareLayer(e.layers[o]));var t=new Pbf;return vtpb.tile.write({layers:r},t),t.finish()}function fromGeojsonVt(e){var r={};for(var o in e)r[o]=new GeoJSONWrapper(e[o].features),r[o].name=o;return fromVectorTileJs({layers:r})}function prepareLayer(e){for(var r={name:e.name||\"\",version:e.version||1,extent:e.extent||4096,keys:[],values:[],features:[]},o={},t={},n=0;n<e.length;n++){var a=e.feature(n);a.geometry=encodeGeometry(a.loadGeometry());var u=[];for(var s in a.properties){var i=o[s];\"undefined\"==typeof i&&(r.keys.push(s),i=r.keys.length-1,o[s]=i);var p=wrapValue(a.properties[s]),l=t[p.key];\"undefined\"==typeof l&&(r.values.push(p),l=r.values.length-1,t[p.key]=l),u.push(i),u.push(l)}a.tags=u,r.features.push(a)}return r}function command(e,r){return(r<<3)+(7&e)}function zigzag(e){return e<<1^e>>31}function encodeGeometry(e){for(var r=[],o=0,t=0,n=e.length,a=0;a<n;a++){var u=e[a];r.push(command(1,1));for(var s=0;s<u.length;s++){1===s&&r.push(command(2,u.length-1));var i=u[s].x-o,p=u[s].y-t;r.push(zigzag(i),zigzag(p)),o+=i,t+=p}}return r}function wrapValue(e){var r,o=typeof e;return\"string\"===o?r={string_value:e}:\"boolean\"===o?r={bool_value:e}:\"number\"===o?r=e%1!==0?{double_value:e}:e<0?{sint_value:e}:{uint_value:e}:(e=JSON.stringify(e),r={string_value:e}),r.key=o+\":\"+e,r}var Pbf=require(\"pbf\"),vtpb=require(\"./vector-tile-pb\"),GeoJSONWrapper=require(\"./lib/geojson_wrapper\");module.exports=fromVectorTileJs,module.exports.fromVectorTileJs=fromVectorTileJs,module.exports.fromGeojsonVt=fromGeojsonVt,module.exports.GeoJSONWrapper=GeoJSONWrapper;\n},{\"./lib/geojson_wrapper\":39,\"./vector-tile-pb\":40,\"pbf\":25}],39:[function(require,module,exports){\n\"use strict\";function GeoJSONWrapper(e){this.features=e,this.length=e.length}function FeatureWrapper(e){this.id=\"number\"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=4096}var Point=require(\"point-geometry\"),VectorTileFeature=require(\"vector-tile\").VectorTileFeature;module.exports=GeoJSONWrapper,GeoJSONWrapper.prototype.feature=function(e){return new FeatureWrapper(this.features[e])},FeatureWrapper.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var r=e[t],o=[],a=0;a<r.length;a++)o.push(new Point(r[a][0],r[a][1]));this.geometry.push(o)}return this.geometry},FeatureWrapper.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-(1/0),o=1/0,a=-(1/0),i=0;i<e.length;i++)for(var p=e[i],n=0;n<p.length;n++){var h=p[n];t=Math.min(t,h.x),r=Math.max(r,h.x),o=Math.min(o,h.y),a=Math.max(a,h.y)}return[t,o,r,a]},FeatureWrapper.prototype.toGeoJSON=VectorTileFeature.prototype.toGeoJSON;\n},{\"point-geometry\":26,\"vector-tile\":34}],40:[function(require,module,exports){\n\"use strict\";function readTile(e,r){return e.readFields(readTileField,{layers:[]},r)}function readTileField(e,r,i){3===e&&r.layers.push(readLayer(i,i.readVarint()+i.pos))}function writeTile(e,r){var i;if(void 0!==e.layers)for(i=0;i<e.layers.length;i++)r.writeMessage(3,writeLayer,e.layers[i])}function readValue(e,r){return e.readFields(readValueField,{},r)}function readValueField(e,r,i){1===e?r.string_value=i.readString():2===e?r.float_value=i.readFloat():3===e?r.double_value=i.readDouble():4===e?r.int_value=i.readVarint():5===e?r.uint_value=i.readVarint():6===e?r.sint_value=i.readSVarint():7===e&&(r.bool_value=i.readBoolean())}function writeValue(e,r){void 0!==e.string_value&&r.writeStringField(1,e.string_value),void 0!==e.float_value&&r.writeFloatField(2,e.float_value),void 0!==e.double_value&&r.writeDoubleField(3,e.double_value),void 0!==e.int_value&&r.writeVarintField(4,e.int_value),void 0!==e.uint_value&&r.writeVarintField(5,e.uint_value),void 0!==e.sint_value&&r.writeSVarintField(6,e.sint_value),void 0!==e.bool_value&&r.writeBooleanField(7,e.bool_value)}function readFeature(e,r){var i=e.readFields(readFeatureField,{},r);return void 0===i.type&&(i.type=\"Unknown\"),i}function readFeatureField(e,r,i){1===e?r.id=i.readVarint():2===e?r.tags=i.readPackedVarint():3===e?r.type=i.readVarint():4===e&&(r.geometry=i.readPackedVarint())}function writeFeature(e,r){void 0!==e.id&&r.writeVarintField(1,e.id),void 0!==e.tags&&r.writePackedVarint(2,e.tags),void 0!==e.type&&r.writeVarintField(3,e.type),void 0!==e.geometry&&r.writePackedVarint(4,e.geometry)}function readLayer(e,r){return e.readFields(readLayerField,{features:[],keys:[],values:[]},r)}function readLayerField(e,r,i){15===e?r.version=i.readVarint():1===e?r.name=i.readString():2===e?r.features.push(readFeature(i,i.readVarint()+i.pos)):3===e?r.keys.push(i.readString()):4===e?r.values.push(readValue(i,i.readVarint()+i.pos)):5===e&&(r.extent=i.readVarint())}function writeLayer(e,r){void 0!==e.version&&r.writeVarintField(15,e.version),void 0!==e.name&&r.writeStringField(1,e.name);var i;if(void 0!==e.features)for(i=0;i<e.features.length;i++)r.writeMessage(2,writeFeature,e.features[i]);if(void 0!==e.keys)for(i=0;i<e.keys.length;i++)r.writeStringField(3,e.keys[i]);if(void 0!==e.values)for(i=0;i<e.values.length;i++)r.writeMessage(4,writeValue,e.values[i]);void 0!==e.extent&&r.writeVarintField(5,e.extent)}var tile=exports.tile={read:readTile,write:writeTile};tile.GeomType={Unknown:0,Point:1,LineString:2,Polygon:3},tile.value={read:readValue,write:writeValue},tile.feature={read:readFeature,write:writeFeature},tile.layer={read:readLayer,write:writeLayer};\n},{}],41:[function(require,module,exports){\nvar bundleFn=arguments[3],sources=arguments[4],cache=arguments[5],stringify=JSON.stringify;module.exports=function(r,e){function t(r){d[r]=!0;for(var e in sources[r][1]){var n=sources[r][1][e];d[n]||t(n)}}for(var n,o=Object.keys(cache),a=0,i=o.length;a<i;a++){var s=o[a],u=cache[s].exports;if(u===r||u&&u.default===r){n=s;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var f={},a=0,i=o.length;a<i;a++){var s=o[a];f[s]=s}sources[n]=[Function([\"require\",\"module\",\"exports\"],\"(\"+r+\")(self)\"),f]}var c=Math.floor(Math.pow(16,8)*Math.random()).toString(16),l={};l[n]=n,sources[c]=[Function([\"require\"],\"var f = require(\"+stringify(n)+\");(f.default ? f.default : f)(self);\"),l];var d={};t(c);var g=\"(\"+bundleFn+\")({\"+Object.keys(d).map(function(r){return stringify(r)+\":[\"+sources[r][0]+\",\"+stringify(sources[r][1])+\"]\"}).join(\",\")+\"},{},[\"+stringify(c)+\"])\",v=window.URL||window.webkitURL||window.mozURL||window.msURL,w=new Blob([g],{type:\"text/javascript\"});if(e&&e.bare)return w;var h=v.createObjectURL(w),b=new Worker(h);return b.objectURL=h,b};\n},{}],42:[function(require,module,exports){\nmodule.exports.RADIUS=6378137,module.exports.FLATTENING=1/298.257223563,module.exports.POLAR_RADIUS=6356752.3142;\n},{}],43:[function(require,module,exports){\nmodule.exports={\"version\":\"0.33.1\"}\n},{}],44:[function(require,module,exports){\n\"use strict\";function serializePaintVertexArrays(r,e){var t={};for(var a in r){var i=r[a].paintVertexArray;if(0!==i.length){var n=i.serialize(e),s=i.constructor.serialize();t[a]={array:n,type:s}}}return t}var ProgramConfiguration=require(\"./program_configuration\"),Segment=function(r,e){this.vertexOffset=r,this.primitiveOffset=e,this.vertexLength=0,this.primitiveLength=0},ArrayGroup=function(r,e,t){var a=this;this.globalProperties={zoom:t};var i=r.layoutVertexArrayType;this.layoutVertexArray=new i;var n=r.elementArrayType;n&&(this.elementArray=new n);var s=r.elementArrayType2;s&&(this.elementArray2=new s),this.layerData={};for(var y=0,o=e;y<o.length;y+=1){var p=o[y],l=ProgramConfiguration.createDynamic(r.paintAttributes||[],p,t);a.layerData[p.id]={layer:p,programConfiguration:l,paintVertexArray:new l.PaintVertexArray,paintPropertyStatistics:l.createPaintPropertyStatistics()}}this.segments=[],this.segments2=[]};ArrayGroup.prototype.prepareSegment=function(r){var e=this.segments[this.segments.length-1];return(!e||e.vertexLength+r>ArrayGroup.MAX_VERTEX_ARRAY_LENGTH)&&(e=new Segment(this.layoutVertexArray.length,this.elementArray.length),this.segments.push(e)),e},ArrayGroup.prototype.prepareSegment2=function(r){var e=this.segments2[this.segments2.length-1];return(!e||e.vertexLength+r>ArrayGroup.MAX_VERTEX_ARRAY_LENGTH)&&(e=new Segment(this.layoutVertexArray.length,this.elementArray2.length),this.segments2.push(e)),e},ArrayGroup.prototype.populatePaintArrays=function(r){var e=this;for(var t in e.layerData){var a=e.layerData[t];0!==a.paintVertexArray.bytesPerElement&&a.programConfiguration.populatePaintArray(a.layer,a.paintVertexArray,a.paintPropertyStatistics,e.layoutVertexArray.length,e.globalProperties,r)}},ArrayGroup.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ArrayGroup.prototype.serialize=function(r){return{layoutVertexArray:this.layoutVertexArray.serialize(r),elementArray:this.elementArray&&this.elementArray.serialize(r),elementArray2:this.elementArray2&&this.elementArray2.serialize(r),paintVertexArrays:serializePaintVertexArrays(this.layerData,r),segments:this.segments,segments2:this.segments2}},ArrayGroup.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,module.exports=ArrayGroup;\n},{\"./program_configuration\":58}],45:[function(require,module,exports){\n\"use strict\";var ArrayGroup=require(\"./array_group\"),BufferGroup=require(\"./buffer_group\"),util=require(\"../util/util\"),Bucket=function(r,t){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.index=r.index,r.arrays?this.buffers=new BufferGroup(t,r.layers,r.zoom,r.arrays):this.arrays=new ArrayGroup(t,r.layers,r.zoom)};Bucket.prototype.populate=function(r,t){for(var e=this,i=0,a=r;i<a.length;i+=1){var u=a[i];e.layers[0].filter(u)&&(e.addFeature(u),t.featureIndex.insert(u,e.index))}},Bucket.prototype.getPaintPropertyStatistics=function(){return util.mapObject(this.arrays.layerData,function(r){return r.paintPropertyStatistics})},Bucket.prototype.isEmpty=function(){return this.arrays.isEmpty()},Bucket.prototype.serialize=function(r){return{zoom:this.zoom,layerIds:this.layers.map(function(r){return r.id}),arrays:this.arrays.serialize(r)}},Bucket.prototype.destroy=function(){this.buffers&&(this.buffers.destroy(),this.buffers=null)},module.exports=Bucket,Bucket.deserialize=function(r,t){if(t){for(var e={},i=0,a=r;i<a.length;i+=1){var u=a[i],o=u.layerIds.map(function(r){return t.getLayer(r)}).filter(Boolean);if(0!==o.length)for(var s=o[0].createBucket(util.extend({layers:o},u)),n=0,f=o;n<f.length;n+=1){var y=f[n];e[y.id]=s}}return e}};\n},{\"../util/util\":212,\"./array_group\":44,\"./buffer_group\":52}],46:[function(require,module,exports){\n\"use strict\";function addCircleVertex(e,r,t,a,p){e.emplaceBack(2*r+(a+1)/2,2*t+(p+1)/2)}var Bucket=require(\"../bucket\"),createVertexArrayType=require(\"../vertex_array_type\"),createElementArrayType=require(\"../element_array_type\"),loadGeometry=require(\"../load_geometry\"),EXTENT=require(\"../extent\"),circleInterface={layoutVertexArrayType:createVertexArrayType([{name:\"a_pos\",components:2,type:\"Int16\"}]),elementArrayType:createElementArrayType(),paintAttributes:[{property:\"circle-color\",type:\"Uint8\"},{property:\"circle-radius\",type:\"Uint16\",multiplier:10},{property:\"circle-blur\",type:\"Uint16\",multiplier:10},{property:\"circle-opacity\",type:\"Uint8\",multiplier:255},{property:\"circle-stroke-color\",type:\"Uint8\"},{property:\"circle-stroke-width\",type:\"Uint16\",multiplier:10},{property:\"circle-stroke-opacity\",type:\"Uint8\",multiplier:255}]},CircleBucket=function(e){function r(r){e.call(this,r,circleInterface)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.addFeature=function(e){for(var r=this.arrays,t=0,a=loadGeometry(e);t<a.length;t+=1)for(var p=a[t],c=0,i=p;c<i.length;c+=1){var y=i[c],l=y.x,o=y.y;if(!(l<0||l>=EXTENT||o<0||o>=EXTENT)){var n=r.prepareSegment(4),u=n.vertexLength;addCircleVertex(r.layoutVertexArray,l,o,-1,-1),addCircleVertex(r.layoutVertexArray,l,o,1,-1),addCircleVertex(r.layoutVertexArray,l,o,1,1),addCircleVertex(r.layoutVertexArray,l,o,-1,1),r.elementArray.emplaceBack(u,u+1,u+2),r.elementArray.emplaceBack(u,u+3,u+2),n.vertexLength+=4,n.primitiveLength+=2}}r.populatePaintArrays(e.properties)},r}(Bucket);module.exports=CircleBucket;\n},{\"../bucket\":45,\"../element_array_type\":53,\"../extent\":54,\"../load_geometry\":56,\"../vertex_array_type\":60}],47:[function(require,module,exports){\n\"use strict\";var Bucket=require(\"../bucket\"),createVertexArrayType=require(\"../vertex_array_type\"),createElementArrayType=require(\"../element_array_type\"),loadGeometry=require(\"../load_geometry\"),earcut=require(\"earcut\"),classifyRings=require(\"../../util/classify_rings\"),EARCUT_MAX_RINGS=500,fillInterface={layoutVertexArrayType:createVertexArrayType([{name:\"a_pos\",components:2,type:\"Int16\"}]),elementArrayType:createElementArrayType(3),elementArrayType2:createElementArrayType(2),paintAttributes:[{property:\"fill-color\",type:\"Uint8\"},{property:\"fill-outline-color\",type:\"Uint8\"},{property:\"fill-opacity\",type:\"Uint8\",multiplier:255}]},FillBucket=function(e){function r(r){e.call(this,r,fillInterface)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.addFeature=function(e){for(var r=this.arrays,t=0,a=classifyRings(loadGeometry(e),EARCUT_MAX_RINGS);t<a.length;t+=1){for(var l=a[t],p=0,n=0,y=l;n<y.length;n+=1){var o=y[n];p+=o.length}for(var i=r.prepareSegment(p),c=i.vertexLength,u=[],h=[],s=0,g=l;s<g.length;s+=1){var m=g[s];if(0!==m.length){m!==l[0]&&h.push(u.length/2);var f=r.prepareSegment2(m.length),A=f.vertexLength;r.layoutVertexArray.emplaceBack(m[0].x,m[0].y),r.elementArray2.emplaceBack(A+m.length-1,A),u.push(m[0].x),u.push(m[0].y);for(var v=1;v<m.length;v++)r.layoutVertexArray.emplaceBack(m[v].x,m[v].y),r.elementArray2.emplaceBack(A+v-1,A+v),u.push(m[v].x),u.push(m[v].y);f.vertexLength+=m.length,f.primitiveLength+=m.length}}for(var x=earcut(u,h),_=0;_<x.length;_+=3)r.elementArray.emplaceBack(c+x[_],c+x[_+1],c+x[_+2]);i.vertexLength+=p,i.primitiveLength+=x.length/3}r.populatePaintArrays(e.properties)},r}(Bucket);module.exports=FillBucket;\n},{\"../../util/classify_rings\":195,\"../bucket\":45,\"../element_array_type\":53,\"../load_geometry\":56,\"../vertex_array_type\":60,\"earcut\":5}],48:[function(require,module,exports){\n\"use strict\";function addVertex(e,r,t,a,n,y,o,i){e.emplaceBack(r,t,2*Math.floor(a*FACTOR)+o,n*FACTOR*2,y*FACTOR*2,Math.round(i))}function isBoundaryEdge(e,r){return e.x===r.x&&(e.x<0||e.x>EXTENT)||e.y===r.y&&(e.y<0||e.y>EXTENT)}var Bucket=require(\"../bucket\"),createVertexArrayType=require(\"../vertex_array_type\"),createElementArrayType=require(\"../element_array_type\"),loadGeometry=require(\"../load_geometry\"),EXTENT=require(\"../extent\"),earcut=require(\"earcut\"),classifyRings=require(\"../../util/classify_rings\"),EARCUT_MAX_RINGS=500,fillExtrusionInterface={layoutVertexArrayType:createVertexArrayType([{name:\"a_pos\",components:2,type:\"Int16\"},{name:\"a_normal\",components:3,type:\"Int16\"},{name:\"a_edgedistance\",components:1,type:\"Int16\"}]),elementArrayType:createElementArrayType(3),paintAttributes:[{property:\"fill-extrusion-base\",type:\"Uint16\"},{property:\"fill-extrusion-height\",type:\"Uint16\"},{property:\"fill-extrusion-color\",type:\"Uint8\"}]},FACTOR=Math.pow(2,13),FillExtrusionBucket=function(e){function r(r){e.call(this,r,fillExtrusionInterface)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.addFeature=function(e){for(var r=this.arrays,t=0,a=classifyRings(loadGeometry(e),EARCUT_MAX_RINGS);t<a.length;t+=1){for(var n=a[t],y=0,o=0,i=n;o<i.length;o+=1){var l=i[o];y+=l.length}for(var p=r.prepareSegment(5*y),u=[],c=[],x=[],s=0,d=n;s<d.length;s+=1){var h=d[s];if(0!==h.length){h!==n[0]&&c.push(u.length/2);for(var m=0,f=0;f<h.length;f++){var A=h[f];if(addVertex(r.layoutVertexArray,A.x,A.y,0,0,1,1,0),x.push(p.vertexLength++),f>=1){var g=h[f-1];if(!isBoundaryEdge(A,g)){var _=A.sub(g)._perp()._unit();addVertex(r.layoutVertexArray,A.x,A.y,_.x,_.y,0,0,m),addVertex(r.layoutVertexArray,A.x,A.y,_.x,_.y,0,1,m),m+=g.dist(A),addVertex(r.layoutVertexArray,g.x,g.y,_.x,_.y,0,0,m),addVertex(r.layoutVertexArray,g.x,g.y,_.x,_.y,0,1,m);var v=p.vertexLength;r.elementArray.emplaceBack(v,v+1,v+2),r.elementArray.emplaceBack(v+1,v+2,v+3),p.vertexLength+=4,p.primitiveLength+=2}}u.push(A.x),u.push(A.y)}}}for(var T=earcut(u,c),E=0;E<T.length;E+=3)r.elementArray.emplaceBack(x[T[E]],x[T[E+1]],x[T[E+2]]);p.primitiveLength+=T.length/3}r.populatePaintArrays(e.properties)},r}(Bucket);module.exports=FillExtrusionBucket;\n},{\"../../util/classify_rings\":195,\"../bucket\":45,\"../element_array_type\":53,\"../extent\":54,\"../load_geometry\":56,\"../vertex_array_type\":60,\"earcut\":5}],49:[function(require,module,exports){\n\"use strict\";function addLineVertex(e,t,r,i,a,n,d){e.emplaceBack(t.x<<1|i,t.y<<1|a,Math.round(EXTRUDE_SCALE*r.x)+128,Math.round(EXTRUDE_SCALE*r.y)+128,(0===n?0:n<0?-1:1)+1|(d*LINE_DISTANCE_SCALE&63)<<2,d*LINE_DISTANCE_SCALE>>6)}var Bucket=require(\"../bucket\"),createVertexArrayType=require(\"../vertex_array_type\"),createElementArrayType=require(\"../element_array_type\"),loadGeometry=require(\"../load_geometry\"),EXTENT=require(\"../extent\"),EXTRUDE_SCALE=63,COS_HALF_SHARP_CORNER=Math.cos(37.5*(Math.PI/180)),SHARP_CORNER_OFFSET=15,LINE_DISTANCE_BUFFER_BITS=15,LINE_DISTANCE_SCALE=.5,MAX_LINE_DISTANCE=Math.pow(2,LINE_DISTANCE_BUFFER_BITS-1)/LINE_DISTANCE_SCALE,lineInterface={layoutVertexArrayType:createVertexArrayType([{name:\"a_pos\",components:2,type:\"Int16\"},{name:\"a_data\",components:4,type:\"Uint8\"}]),paintAttributes:[{property:\"line-color\",type:\"Uint8\"},{property:\"line-blur\",multiplier:10,type:\"Uint8\"},{property:\"line-opacity\",multiplier:10,type:\"Uint8\"},{property:\"line-gap-width\",multiplier:10,type:\"Uint8\",name:\"a_gapwidth\"},{property:\"line-offset\",multiplier:1,type:\"Int8\"}],elementArrayType:createElementArrayType()},LineBucket=function(e){function t(t){e.call(this,t,lineInterface)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeature=function(e){for(var t=this,r=this.layers[0].layout,i=r[\"line-join\"],a=r[\"line-cap\"],n=r[\"line-miter-limit\"],d=r[\"line-round-limit\"],s=0,u=loadGeometry(e,LINE_DISTANCE_BUFFER_BITS);s<u.length;s+=1){var l=u[s];t.addLine(l,e.properties,i,a,n,d)}},t.prototype.addLine=function(e,t,r,i,a,n){for(var d=this,s=e.length;s>2&&e[s-1].equals(e[s-2]);)s--;if(!(e.length<2)){\"bevel\"===r&&(a=1.05);var u=SHARP_CORNER_OFFSET*(EXTENT/(512*this.overscaling)),l=e[0],p=e[s-1],o=l.equals(p),c=this.arrays,_=c.prepareSegment(10*s);if(2!==s||!o){this.distance=0;var h,y,m,E,x,C,v,A=i,f=o?\"butt\":i,L=!0;this.e1=this.e2=this.e3=-1,o&&(h=e[s-2],x=l.sub(h)._unit()._perp());for(var S=0;S<s;S++)if(m=o&&S===s-1?e[1]:e[S+1],!m||!e[S].equals(m)){x&&(E=x),h&&(y=h),h=e[S],x=m?m.sub(h)._unit()._perp():E,E=E||x;var V=E.add(x);0===V.x&&0===V.y||V._unit();var T=V.x*x.x+V.y*x.y,I=0!==T?1/T:1/0,N=T<COS_HALF_SHARP_CORNER&&y&&m;if(N&&S>0){var b=h.dist(y);if(b>2*u){var R=h.sub(h.sub(y)._mult(u/b)._round());d.distance+=R.dist(y),d.addCurrentVertex(R,d.distance,E.mult(1),0,0,!1,_),y=R}}var g=y&&m,B=g?r:m?A:f;if(g&&\"round\"===B&&(I<n?B=\"miter\":I<=2&&(B=\"fakeround\")),\"miter\"===B&&I>a&&(B=\"bevel\"),\"bevel\"===B&&(I>2&&(B=\"flipbevel\"),I<a&&(B=\"miter\")),y&&(d.distance+=h.dist(y)),\"miter\"===B)V._mult(I),d.addCurrentVertex(h,d.distance,V,0,0,!1,_);else if(\"flipbevel\"===B){if(I>100)V=x.clone().mult(-1);else{var F=E.x*x.y-E.y*x.x>0?-1:1,k=I*E.add(x).mag()/E.sub(x).mag();V._perp()._mult(k*F)}d.addCurrentVertex(h,d.distance,V,0,0,!1,_),d.addCurrentVertex(h,d.distance,V.mult(-1),0,0,!1,_)}else if(\"bevel\"===B||\"fakeround\"===B){var D=E.x*x.y-E.y*x.x>0,U=-Math.sqrt(I*I-1);if(D?(v=0,C=U):(C=0,v=U),L||d.addCurrentVertex(h,d.distance,E,C,v,!1,_),\"fakeround\"===B){for(var q=Math.floor(8*(.5-(T-.5))),P=void 0,M=0;M<q;M++)P=x.mult((M+1)/(q+1))._add(E)._unit(),d.addPieSliceVertex(h,d.distance,P,D,_);d.addPieSliceVertex(h,d.distance,V,D,_);for(var O=q-1;O>=0;O--)P=E.mult((O+1)/(q+1))._add(x)._unit(),d.addPieSliceVertex(h,d.distance,P,D,_)}m&&d.addCurrentVertex(h,d.distance,x,-C,-v,!1,_)}else\"butt\"===B?(L||d.addCurrentVertex(h,d.distance,E,0,0,!1,_),m&&d.addCurrentVertex(h,d.distance,x,0,0,!1,_)):\"square\"===B?(L||(d.addCurrentVertex(h,d.distance,E,1,1,!1,_),d.e1=d.e2=-1),m&&d.addCurrentVertex(h,d.distance,x,-1,-1,!1,_)):\"round\"===B&&(L||(d.addCurrentVertex(h,d.distance,E,0,0,!1,_),d.addCurrentVertex(h,d.distance,E,1,1,!0,_),d.e1=d.e2=-1),m&&(d.addCurrentVertex(h,d.distance,x,-1,-1,!0,_),d.addCurrentVertex(h,d.distance,x,0,0,!1,_)));if(N&&S<s-1){var X=h.dist(m);if(X>2*u){var H=h.add(m.sub(h)._mult(u/X)._round());d.distance+=H.dist(h),d.addCurrentVertex(H,d.distance,x.mult(1),0,0,!1,_),h=H}}L=!1}c.populatePaintArrays(t)}}},t.prototype.addCurrentVertex=function(e,t,r,i,a,n,d){var s,u=n?1:0,l=this.arrays,p=l.layoutVertexArray,o=l.elementArray;s=r.clone(),i&&s._sub(r.perp()._mult(i)),addLineVertex(p,e,s,u,0,i,t),this.e3=d.vertexLength++,this.e1>=0&&this.e2>=0&&(o.emplaceBack(this.e1,this.e2,this.e3),d.primitiveLength++),this.e1=this.e2,this.e2=this.e3,s=r.mult(-1),a&&s._sub(r.perp()._mult(a)),addLineVertex(p,e,s,u,1,-a,t),this.e3=d.vertexLength++,this.e1>=0&&this.e2>=0&&(o.emplaceBack(this.e1,this.e2,this.e3),d.primitiveLength++),this.e1=this.e2,this.e2=this.e3,t>MAX_LINE_DISTANCE/2&&(this.distance=0,this.addCurrentVertex(e,this.distance,r,i,a,n,d))},t.prototype.addPieSliceVertex=function(e,t,r,i,a){var n=i?1:0;r=r.mult(i?-1:1);var d=this.arrays,s=d.layoutVertexArray,u=d.elementArray;addLineVertex(s,e,r,0,n,0,t),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(u.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),i?this.e2=this.e3:this.e1=this.e3},t}(Bucket);module.exports=LineBucket;\n},{\"../bucket\":45,\"../element_array_type\":53,\"../extent\":54,\"../load_geometry\":56,\"../vertex_array_type\":60}],50:[function(require,module,exports){\n\"use strict\";function addVertex(e,t,o,r,a,i,n,l,s,c,y){e.emplaceBack(t,o,Math.round(64*r),Math.round(64*a),i/4,n/4,10*(c||0),y,10*(l||0),10*Math.min(s||25,25))}function addCollisionBoxVertex(e,t,o,r,a){return e.emplaceBack(t.x,t.y,Math.round(o.x),Math.round(o.y),10*r,10*a)}var Point=require(\"point-geometry\"),ArrayGroup=require(\"../array_group\"),BufferGroup=require(\"../buffer_group\"),createVertexArrayType=require(\"../vertex_array_type\"),createElementArrayType=require(\"../element_array_type\"),EXTENT=require(\"../extent\"),Anchor=require(\"../../symbol/anchor\"),getAnchors=require(\"../../symbol/get_anchors\"),resolveTokens=require(\"../../util/token\"),Quads=require(\"../../symbol/quads\"),Shaping=require(\"../../symbol/shaping\"),resolveText=require(\"../../symbol/resolve_text\"),mergeLines=require(\"../../symbol/mergelines\"),clipLine=require(\"../../symbol/clip_line\"),util=require(\"../../util/util\"),scriptDetection=require(\"../../util/script_detection\"),loadGeometry=require(\"../load_geometry\"),CollisionFeature=require(\"../../symbol/collision_feature\"),findPoleOfInaccessibility=require(\"../../util/find_pole_of_inaccessibility\"),classifyRings=require(\"../../util/classify_rings\"),VectorTileFeature=require(\"vector-tile\").VectorTileFeature,rtlTextPlugin=require(\"../../source/rtl_text_plugin\"),shapeText=Shaping.shapeText,shapeIcon=Shaping.shapeIcon,WritingMode=Shaping.WritingMode,getGlyphQuads=Quads.getGlyphQuads,getIconQuads=Quads.getIconQuads,elementArrayType=createElementArrayType(),layoutVertexArrayType=createVertexArrayType([{name:\"a_pos_offset\",components:4,type:\"Int16\"},{name:\"a_texture_pos\",components:2,type:\"Uint16\"},{name:\"a_data\",components:4,type:\"Uint8\"}]),symbolInterfaces={glyph:{layoutVertexArrayType:layoutVertexArrayType,elementArrayType:elementArrayType,paintAttributes:[{name:\"a_fill_color\",property:\"text-color\",type:\"Uint8\"},{name:\"a_halo_color\",property:\"text-halo-color\",type:\"Uint8\"},{name:\"a_halo_width\",property:\"text-halo-width\",type:\"Uint16\",multiplier:10},{name:\"a_halo_blur\",property:\"text-halo-blur\",type:\"Uint16\",multiplier:10},{name:\"a_opacity\",property:\"text-opacity\",type:\"Uint8\",multiplier:255}]},icon:{layoutVertexArrayType:layoutVertexArrayType,elementArrayType:elementArrayType,paintAttributes:[{name:\"a_fill_color\",property:\"icon-color\",type:\"Uint8\"},{name:\"a_halo_color\",property:\"icon-halo-color\",type:\"Uint8\"},{name:\"a_halo_width\",property:\"icon-halo-width\",type:\"Uint16\",multiplier:10},{name:\"a_halo_blur\",property:\"icon-halo-blur\",type:\"Uint16\",multiplier:10},{name:\"a_opacity\",property:\"icon-opacity\",type:\"Uint8\",multiplier:255}]},collisionBox:{layoutVertexArrayType:createVertexArrayType([{name:\"a_pos\",components:2,type:\"Int16\"},{name:\"a_extrude\",components:2,type:\"Int16\"},{name:\"a_data\",components:2,type:\"Uint8\"}]),elementArrayType:createElementArrayType(2)}},SymbolBucket=function(e){var t=this;if(this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.index=e.index,this.sdfIcons=e.sdfIcons,this.iconsNeedLinear=e.iconsNeedLinear,this.adjustedTextSize=e.adjustedTextSize,this.adjustedIconSize=e.adjustedIconSize,this.fontstack=e.fontstack,e.arrays){this.buffers={};for(var o in e.arrays)e.arrays[o]&&(t.buffers[o]=new BufferGroup(symbolInterfaces[o],e.layers,e.zoom,e.arrays[o]))}};SymbolBucket.prototype.populate=function(e,t){var o=this,r=this.layers[0],a=r.layout,i=a[\"text-font\"],n=a[\"icon-image\"],l=i&&(!r.isLayoutValueFeatureConstant(\"text-field\")||a[\"text-field\"]),s=n;if(this.features=[],l||s){for(var c=t.iconDependencies,y=t.glyphDependencies,p=y[i]=y[i]||{},x=0;x<e.length;x++){var h=e[x];if(r.filter(h)){var u=void 0;l&&(u=resolveText(r,{zoom:o.zoom},h.properties),rtlTextPlugin.applyArabicShaping&&(u=rtlTextPlugin.applyArabicShaping(u)));var d=void 0;if(s&&(d=resolveTokens(h.properties,n)),(u||d)&&(o.features.push({text:u,icon:d,index:x,sourceLayerIndex:h.sourceLayerIndex,geometry:loadGeometry(h),properties:h.properties,type:VectorTileFeature.types[h.type]}),d&&(c[d]=!0),u))for(var m=0;m<u.length;m++)p[u.charCodeAt(m)]=!0}}\"line\"===a[\"symbol-placement\"]&&(this.features=mergeLines(this.features))}},SymbolBucket.prototype.isEmpty=function(){return this.arrays.icon.isEmpty()&&this.arrays.glyph.isEmpty()&&this.arrays.collisionBox.isEmpty()},SymbolBucket.prototype.getPaintPropertyStatistics=function(){for(var e=this,t={},o=0,r=e.layers;o<r.length;o+=1){var a=r[o];t[a.id]=util.extend({},e.arrays.icon.layerData[a.id].paintPropertyStatistics,e.arrays.glyph.layerData[a.id].paintPropertyStatistics)}return t},SymbolBucket.prototype.serialize=function(e){return{zoom:this.zoom,layerIds:this.layers.map(function(e){return e.id}),sdfIcons:this.sdfIcons,iconsNeedLinear:this.iconsNeedLinear,adjustedTextSize:this.adjustedTextSize,adjustedIconSize:this.adjustedIconSize,fontstack:this.fontstack,arrays:util.mapObject(this.arrays,function(t){return t.isEmpty()?null:t.serialize(e)})}},SymbolBucket.prototype.destroy=function(){this.buffers&&(this.buffers.icon&&this.buffers.icon.destroy(),this.buffers.glyph&&this.buffers.glyph.destroy(),this.buffers.collisionBox&&this.buffers.collisionBox.destroy(),this.buffers=null)},SymbolBucket.prototype.createArrays=function(){var e=this;this.arrays=util.mapObject(symbolInterfaces,function(t){return new ArrayGroup(t,e.layers,e.zoom)})},SymbolBucket.prototype.prepare=function(e,t){var o=this;this.symbolInstances=[],this.adjustedTextMaxSize=this.layers[0].getLayoutValue(\"text-size\",{zoom:18}),this.adjustedTextSize=this.layers[0].getLayoutValue(\"text-size\",{zoom:this.zoom+1}),this.adjustedIconMaxSize=this.layers[0].getLayoutValue(\"icon-size\",{zoom:18}),this.adjustedIconSize=this.layers[0].getLayoutValue(\"icon-size\",{zoom:this.zoom+1});var r=512*this.overscaling;this.tilePixelRatio=EXTENT/r,this.compareText={},this.iconsNeedLinear=!1;var a=this.layers[0].layout,i=.5,n=.5;switch(a[\"text-anchor\"]){case\"right\":case\"top-right\":case\"bottom-right\":i=1;break;case\"left\":case\"top-left\":case\"bottom-left\":i=0}switch(a[\"text-anchor\"]){case\"bottom\":case\"bottom-right\":case\"bottom-left\":n=1;break;case\"top\":case\"top-right\":case\"top-left\":n=0}for(var l=\"right\"===a[\"text-justify\"]?1:\"left\"===a[\"text-justify\"]?0:.5,s=24,c=a[\"text-line-height\"]*s,y=\"line\"!==a[\"symbol-placement\"]?a[\"text-max-width\"]*s:0,p=a[\"text-letter-spacing\"]*s,x=[a[\"text-offset\"][0]*s,a[\"text-offset\"][1]*s],h=this.fontstack=a[\"text-font\"].join(\",\"),u=\"map\"===a[\"text-rotation-alignment\"]&&\"line\"===a[\"symbol-placement\"],d=0,m=o.features;d<m.length;d+=1){var g=m[d],f=void 0;if(g.text){var b=scriptDetection.allowsVerticalWritingMode(g.text);f={},f[WritingMode.horizontal]=shapeText(g.text,e[h],y,c,i,n,l,p,x,s,WritingMode.horizontal),f[WritingMode.vertical]=b&&u&&shapeText(g.text,e[h],y,c,i,n,l,p,x,s,WritingMode.vertical)}else f={};var v=void 0;if(g.icon){var I=t[g.icon],S=o.layers[0].getLayoutValue(\"icon-offset\",{zoom:o.zoom},g.properties);v=shapeIcon(I,S),I&&(void 0===o.sdfIcons?o.sdfIcons=I.sdf:o.sdfIcons!==I.sdf&&util.warnOnce(\"Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer\"),1!==I.pixelRatio?o.iconsNeedLinear=!0:0===a[\"icon-rotate\"]&&o.layers[0].isLayoutValueFeatureConstant(\"icon-rotate\")||(o.iconsNeedLinear=!0))}(f[WritingMode.horizontal]||v)&&o.addFeature(g,f,v)}},SymbolBucket.prototype.addFeature=function(e,t,o){var r=this,a=this.layers[0].layout,i=24,n=this.adjustedTextSize/i,l=void 0!==this.adjustedTextMaxSize?this.adjustedTextMaxSize:this.adjustedTextSize,s=this.tilePixelRatio*n,c=this.tilePixelRatio*l/i,y=this.tilePixelRatio*this.adjustedIconSize,p=this.tilePixelRatio*a[\"symbol-spacing\"],x=a[\"symbol-avoid-edges\"],h=a[\"text-padding\"]*this.tilePixelRatio,u=a[\"icon-padding\"]*this.tilePixelRatio,d=a[\"text-max-angle\"]/180*Math.PI,m=\"map\"===a[\"text-rotation-alignment\"]&&\"line\"===a[\"symbol-placement\"],g=\"map\"===a[\"icon-rotation-alignment\"]&&\"line\"===a[\"symbol-placement\"],f=a[\"text-allow-overlap\"]||a[\"icon-allow-overlap\"]||a[\"text-ignore-placement\"]||a[\"icon-ignore-placement\"],b=a[\"symbol-placement\"],v=p/2,I=function(a,i){var n=!(i.x<0||i.x>EXTENT||i.y<0||i.y>EXTENT);if(!x||n){var l=n||f;r.addSymbolInstance(i,a,t,o,r.layers[0],l,r.collisionBoxArray,e.index,e.sourceLayerIndex,r.index,s,h,m,y,u,g,{zoom:r.zoom},e.properties)}};if(\"line\"===b)for(var S=0,T=clipLine(e.geometry,0,0,EXTENT,EXTENT);S<T.length;S+=1)for(var M=T[S],B=getAnchors(M,p,d,t[WritingMode.vertical]||t[WritingMode.horizontal],o,i,c,r.overscaling,EXTENT),A=0,z=B;A<z.length;A+=1){var _=z[A],E=t[WritingMode.horizontal];E&&r.anchorIsTooClose(E.text,v,_)||I(M,_)}else if(\"Polygon\"===e.type)for(var P=0,k=classifyRings(e.geometry,0);P<k.length;P+=1){var w=k[P],L=findPoleOfInaccessibility(w,16);I(w[0],new Anchor(L.x,L.y,0))}else if(\"LineString\"===e.type)for(var V=0,C=e.geometry;V<C.length;V+=1){var N=C[V];I(N,new Anchor(N[0].x,N[0].y,0))}else if(\"Point\"===e.type)for(var j=0,q=e.geometry;j<q.length;j+=1)for(var F=q[j],W=0,Q=F;W<Q.length;W+=1){var U=Q[W];I([U],new Anchor(U.x,U.y,0))}},SymbolBucket.prototype.anchorIsTooClose=function(e,t,o){var r=this.compareText;if(e in r){for(var a=r[e],i=a.length-1;i>=0;i--)if(o.dist(a[i])<t)return!0}else r[e]=[];return r[e].push(o),!1},SymbolBucket.prototype.place=function(e,t){var o=this;this.createArrays();var r=this.layers[0].layout,a=e.maxScale,i=\"map\"===r[\"text-rotation-alignment\"]&&\"line\"===r[\"symbol-placement\"],n=\"map\"===r[\"icon-rotation-alignment\"]&&\"line\"===r[\"symbol-placement\"],l=r[\"text-allow-overlap\"]||r[\"icon-allow-overlap\"]||r[\"text-ignore-placement\"]||r[\"icon-ignore-placement\"];if(l){var s=e.angle,c=Math.sin(s),y=Math.cos(s);this.symbolInstances.sort(function(e,t){var o=c*e.anchor.x+y*e.anchor.y|0,r=c*t.anchor.x+y*t.anchor.y|0;return o-r||t.featureIndex-e.featureIndex})}for(var p=0,x=o.symbolInstances;p<x.length;p+=1){var h=x[p],u={boxStartIndex:h.textBoxStartIndex,boxEndIndex:h.textBoxEndIndex},d={boxStartIndex:h.iconBoxStartIndex,boxEndIndex:h.iconBoxEndIndex},m=!(h.textBoxStartIndex===h.textBoxEndIndex),g=!(h.iconBoxStartIndex===h.iconBoxEndIndex),f=r[\"text-optional\"]||!m,b=r[\"icon-optional\"]||!g,v=m?e.placeCollisionFeature(u,r[\"text-allow-overlap\"],r[\"symbol-avoid-edges\"]):e.minScale,I=g?e.placeCollisionFeature(d,r[\"icon-allow-overlap\"],r[\"symbol-avoid-edges\"]):e.minScale;f||b?!b&&v?v=Math.max(I,v):!f&&I&&(I=Math.max(I,v)):I=v=Math.max(I,v),m&&(e.insertCollisionFeature(u,v,r[\"text-ignore-placement\"]),v<=a&&o.addSymbols(o.arrays.glyph,h.glyphQuads,v,r[\"text-keep-upright\"],i,e.angle,h.featureProperties,h.writingModes)),g&&(e.insertCollisionFeature(d,I,r[\"icon-ignore-placement\"]),I<=a&&o.addSymbols(o.arrays.icon,h.iconQuads,I,r[\"icon-keep-upright\"],n,e.angle,h.featureProperties))}t&&this.addToDebugBuffers(e)},SymbolBucket.prototype.addSymbols=function(e,t,o,r,a,i,n,l){for(var s=e.elementArray,c=e.layoutVertexArray,y=this.zoom,p=Math.max(Math.log(o)/Math.LN2+y,0),x=0,h=t;x<h.length;x+=1){var u=h[x],d=(u.anchorAngle+i+Math.PI)%(2*Math.PI);if(l&WritingMode.vertical){if(a&&u.writingMode===WritingMode.vertical){if(r&&a&&d<=5*Math.PI/4||d>7*Math.PI/4)continue}else if(r&&a&&d<=3*Math.PI/4||d>5*Math.PI/4)continue}else if(r&&a&&(d<=Math.PI/2||d>3*Math.PI/2))continue;var m=u.tl,g=u.tr,f=u.bl,b=u.br,v=u.tex,I=u.anchorPoint,S=Math.max(y+Math.log(u.minScale)/Math.LN2,p),T=Math.min(y+Math.log(u.maxScale)/Math.LN2,25);if(!(T<=S)){S===p&&(S=0);var M=Math.round(u.glyphAngle/(2*Math.PI)*256),B=e.prepareSegment(4),A=B.vertexLength;addVertex(c,I.x,I.y,m.x,m.y,v.x,v.y,S,T,p,M),addVertex(c,I.x,I.y,g.x,g.y,v.x+v.w,v.y,S,T,p,M),addVertex(c,I.x,I.y,f.x,f.y,v.x,v.y+v.h,S,T,p,M),addVertex(c,I.x,I.y,b.x,b.y,v.x+v.w,v.y+v.h,S,T,p,M),s.emplaceBack(A,A+1,A+2),s.emplaceBack(A+1,A+2,A+3),B.vertexLength+=4,B.primitiveLength+=2}}e.populatePaintArrays(n)},SymbolBucket.prototype.addToDebugBuffers=function(e){for(var t=this,o=this.arrays.collisionBox,r=o.layoutVertexArray,a=o.elementArray,i=-e.angle,n=e.yStretch,l=0,s=t.symbolInstances;l<s.length;l+=1){var c=s[l];c.textCollisionFeature={boxStartIndex:c.textBoxStartIndex,boxEndIndex:c.textBoxEndIndex},c.iconCollisionFeature={boxStartIndex:c.iconBoxStartIndex,boxEndIndex:c.iconBoxEndIndex};for(var y=0;y<2;y++){var p=c[0===y?\"textCollisionFeature\":\"iconCollisionFeature\"];if(p)for(var x=p.boxStartIndex;x<p.boxEndIndex;x++){var h=t.collisionBoxArray.get(x),u=h.anchorPoint,d=new Point(h.x1,h.y1*n)._rotate(i),m=new Point(h.x2,h.y1*n)._rotate(i),g=new Point(h.x1,h.y2*n)._rotate(i),f=new Point(h.x2,h.y2*n)._rotate(i),b=Math.max(0,Math.min(25,t.zoom+Math.log(h.maxScale)/Math.LN2)),v=Math.max(0,Math.min(25,t.zoom+Math.log(h.placementScale)/Math.LN2)),I=o.prepareSegment(4),S=I.vertexLength;addCollisionBoxVertex(r,u,d,b,v),addCollisionBoxVertex(r,u,m,b,v),addCollisionBoxVertex(r,u,f,b,v),addCollisionBoxVertex(r,u,g,b,v),a.emplaceBack(S,S+1),a.emplaceBack(S+1,S+2),a.emplaceBack(S+2,S+3),a.emplaceBack(S+3,S),I.vertexLength+=4,I.primitiveLength+=4}}}},SymbolBucket.prototype.addSymbolInstance=function(e,t,o,r,a,i,n,l,s,c,y,p,x,h,u,d,m,g){var f,b,v=[],I=[];for(var S in o){var T=parseInt(S,10);o[T]&&(I=I.concat(i?getGlyphQuads(e,o[T],y,t,a,x,T):[]),f=new CollisionFeature(n,t,e,l,s,c,o[T],y,p,x,!1))}var M=f?f.boxStartIndex:this.collisionBoxArray.length,B=f?f.boxEndIndex:this.collisionBoxArray.length;r&&(v=i?getIconQuads(e,r,h,t,a,d,o[WritingMode.horizontal],m,g):[],b=new CollisionFeature(n,t,e,l,s,c,r,h,u,d,!0));var A=b?b.boxStartIndex:this.collisionBoxArray.length,z=b?b.boxEndIndex:this.collisionBoxArray.length;B>SymbolBucket.MAX_INSTANCES&&util.warnOnce(\"Too many symbols being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907\"),z>SymbolBucket.MAX_INSTANCES&&util.warnOnce(\"Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907\");var _=(o[WritingMode.vertical]?WritingMode.vertical:0)|(o[WritingMode.horizontal]?WritingMode.horizontal:0);this.symbolInstances.push({textBoxStartIndex:M,textBoxEndIndex:B,iconBoxStartIndex:A,iconBoxEndIndex:z,glyphQuads:I,iconQuads:v,anchor:e,featureIndex:l,featureProperties:g,writingModes:_})},SymbolBucket.MAX_INSTANCES=65535,module.exports=SymbolBucket;\n},{\"../../source/rtl_text_plugin\":90,\"../../symbol/anchor\":157,\"../../symbol/clip_line\":159,\"../../symbol/collision_feature\":161,\"../../symbol/get_anchors\":163,\"../../symbol/mergelines\":166,\"../../symbol/quads\":167,\"../../symbol/resolve_text\":168,\"../../symbol/shaping\":169,\"../../util/classify_rings\":195,\"../../util/find_pole_of_inaccessibility\":201,\"../../util/script_detection\":209,\"../../util/token\":211,\"../../util/util\":212,\"../array_group\":44,\"../buffer_group\":52,\"../element_array_type\":53,\"../extent\":54,\"../load_geometry\":56,\"../vertex_array_type\":60,\"point-geometry\":26,\"vector-tile\":34}],51:[function(require,module,exports){\n\"use strict\";var AttributeType={Int8:\"BYTE\",Uint8:\"UNSIGNED_BYTE\",Int16:\"SHORT\",Uint16:\"UNSIGNED_SHORT\"},Buffer=function(e,t,r){this.arrayBuffer=e.arrayBuffer,this.length=e.length,this.attributes=t.members,this.itemSize=t.bytesPerElement,this.type=r,this.arrayType=t};Buffer.fromStructArray=function(e,t){return new Buffer(e.serialize(),e.constructor.serialize(),t)},Buffer.prototype.bind=function(e){var t=e[this.type];this.buffer?e.bindBuffer(t,this.buffer):(this.gl=e,this.buffer=e.createBuffer(),e.bindBuffer(t,this.buffer),e.bufferData(t,this.arrayBuffer,e.STATIC_DRAW),this.arrayBuffer=null)},Buffer.prototype.setVertexAttribPointers=function(e,t,r){for(var f=this,i=0;i<this.attributes.length;i++){var u=f.attributes[i],s=t[u.name];void 0!==s&&e.vertexAttribPointer(s,u.components,e[AttributeType[u.type]],!1,f.arrayType.bytesPerElement,u.offset+(f.arrayType.bytesPerElement*r||0))}},Buffer.prototype.destroy=function(){this.buffer&&this.gl.deleteBuffer(this.buffer)},Buffer.BufferType={VERTEX:\"ARRAY_BUFFER\",ELEMENT:\"ELEMENT_ARRAY_BUFFER\"},module.exports=Buffer;\n},{}],52:[function(require,module,exports){\n\"use strict\";var util=require(\"../util/util\"),Buffer=require(\"./buffer\"),ProgramConfiguration=require(\"./program_configuration\"),VertexArrayObject=require(\"../render/vertex_array_object\"),BufferGroup=function(e,r,t,a){var f=this;this.layoutVertexBuffer=new Buffer(a.layoutVertexArray,e.layoutVertexArrayType.serialize(),Buffer.BufferType.VERTEX),a.elementArray&&(this.elementBuffer=new Buffer(a.elementArray,e.elementArrayType.serialize(),Buffer.BufferType.ELEMENT)),a.elementArray2&&(this.elementBuffer2=new Buffer(a.elementArray2,e.elementArrayType2.serialize(),Buffer.BufferType.ELEMENT)),this.layerData={};for(var n=0,u=r;n<u.length;n+=1){var i=u[n],s=a.paintVertexArrays&&a.paintVertexArrays[i.id],o=ProgramConfiguration.createDynamic(e.paintAttributes||[],i,t),y=s?new Buffer(s.array,s.type,Buffer.BufferType.VERTEX):null;f.layerData[i.id]={programConfiguration:o,paintVertexBuffer:y}}this.segments=a.segments,this.segments2=a.segments2;for(var l=0,m=[f.segments,f.segments2];l<m.length;l+=1)for(var B=m[l],p=0,g=B||[];p<g.length;p+=1){var h=g[p];h.vaos=util.mapObject(f.layerData,function(){return new VertexArrayObject})}};BufferGroup.prototype.destroy=function(){var e=this;this.layoutVertexBuffer.destroy(),this.elementBuffer&&this.elementBuffer.destroy(),this.elementBuffer2&&this.elementBuffer2.destroy();for(var r in e.layerData){var t=e.layerData[r].paintVertexBuffer;t&&t.destroy()}for(var a=0,f=[e.segments,e.segments2];a<f.length;a+=1)for(var n=f[a],u=0,i=n||[];u<i.length;u+=1){var s=i[u];for(var o in s.vaos)s.vaos[o].destroy()}},module.exports=BufferGroup;\n},{\"../render/vertex_array_object\":80,\"../util/util\":212,\"./buffer\":51,\"./program_configuration\":58}],53:[function(require,module,exports){\n\"use strict\";function createElementArrayType(e){return createStructArrayType({members:[{type:\"Uint16\",name:\"vertices\",components:e||3}]})}var createStructArrayType=require(\"../util/struct_array\");module.exports=createElementArrayType;\n},{\"../util/struct_array\":210}],54:[function(require,module,exports){\n\"use strict\";module.exports=8192;\n},{}],55:[function(require,module,exports){\n\"use strict\";function translateDistance(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function topDownFeatureComparator(e,t){return t-e}function getLineWidth(e,t){return t>0?t+2*e:e}function translate(e,t,r,i,a){if(!t[0]&&!t[1])return e;t=Point.convert(t),\"viewport\"===r&&t._rotate(-i);for(var n=[],s=0;s<e.length;s++){for(var l=e[s],o=[],u=0;u<l.length;u++)o.push(l[u].sub(t._mult(a)));n.push(o)}return n}function offsetLine(e,t){for(var r=[],i=new Point(0,0),a=0;a<e.length;a++){for(var n=e[a],s=[],l=0;l<n.length;l++){var o=n[l-1],u=n[l],c=n[l+1],y=0===l?i:u.sub(o)._unit()._perp(),f=l===n.length-1?i:c.sub(u)._unit()._perp(),h=y._add(f)._unit(),d=h.x*f.x+h.y*f.y;h._mult(1/d),s.push(h._mult(t)._add(u))}r.push(s)}return r}var Point=require(\"point-geometry\"),loadGeometry=require(\"./load_geometry\"),EXTENT=require(\"./extent\"),featureFilter=require(\"../style-spec/feature_filter\"),createStructArrayType=require(\"../util/struct_array\"),Grid=require(\"grid-index\"),DictionaryCoder=require(\"../util/dictionary_coder\"),vt=require(\"vector-tile\"),Protobuf=require(\"pbf\"),GeoJSONFeature=require(\"../util/vectortile_to_geojson\"),arraysIntersect=require(\"../util/util\").arraysIntersect,intersection=require(\"../util/intersection_tests\"),multiPolygonIntersectsBufferedMultiPoint=intersection.multiPolygonIntersectsBufferedMultiPoint,multiPolygonIntersectsMultiPolygon=intersection.multiPolygonIntersectsMultiPolygon,multiPolygonIntersectsBufferedMultiLine=intersection.multiPolygonIntersectsBufferedMultiLine,FeatureIndexArray=createStructArrayType({members:[{type:\"Uint32\",name:\"featureIndex\"},{type:\"Uint16\",name:\"sourceLayerIndex\"},{type:\"Uint16\",name:\"bucketIndex\"}]}),FeatureIndex=function(e,t,r){if(e.grid){var i=e,a=t;e=i.coord,t=i.overscaling,this.grid=new Grid(i.grid),this.featureIndexArray=new FeatureIndexArray(i.featureIndexArray),this.rawTileData=a,this.bucketLayerIDs=i.bucketLayerIDs,this.paintPropertyStatistics=i.paintPropertyStatistics}else this.grid=new Grid(EXTENT,16,0),this.featureIndexArray=new FeatureIndexArray;this.coord=e,this.overscaling=t,this.x=e.x,this.y=e.y,this.z=e.z-Math.log(t)/Math.LN2,this.setCollisionTile(r)};FeatureIndex.prototype.insert=function(e,t){var r=this,i=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(e.index,e.sourceLayerIndex,t);for(var a=loadGeometry(e),n=0;n<a.length;n++){for(var s=a[n],l=[1/0,1/0,-(1/0),-(1/0)],o=0;o<s.length;o++){var u=s[o];l[0]=Math.min(l[0],u.x),l[1]=Math.min(l[1],u.y),l[2]=Math.max(l[2],u.x),l[3]=Math.max(l[3],u.y)}r.grid.insert(i,l[0],l[1],l[2],l[3])}},FeatureIndex.prototype.setCollisionTile=function(e){this.collisionTile=e},FeatureIndex.prototype.serialize=function(e){var t=this.grid.toArrayBuffer();return e&&e.push(t),{coord:this.coord,overscaling:this.overscaling,grid:t,featureIndexArray:this.featureIndexArray.serialize(e),bucketLayerIDs:this.bucketLayerIDs,paintPropertyStatistics:this.paintPropertyStatistics}},FeatureIndex.prototype.query=function(e,t){var r=this;this.vtLayers||(this.vtLayers=new vt.VectorTile(new Protobuf(this.rawTileData)).layers,this.sourceLayerCoder=new DictionaryCoder(this.vtLayers?Object.keys(this.vtLayers).sort():[\"_geojsonTileLayer\"]));var i={},a=e.params||{},n=EXTENT/e.tileSize/e.scale,s=featureFilter(a.filter),l=0;for(var o in t){var u=t[o],c=0;if(\"line\"===u.type){var y=getLineWidth(r.getPaintValue(\"line-width\",u),r.getPaintValue(\"line-gap-width\",u)),f=r.getPaintValue(\"line-offset\",u),h=r.getPaintValue(\"line-translate\",u);c=y/2+Math.abs(f)+translateDistance(h)}else\"fill\"===u.type?c=translateDistance(r.getPaintValue(\"fill-translate\",u)):\"fill-extrusion\"===u.type?c=translateDistance(r.getPaintValue(\"fill-extrusion-translate\",u)):\"circle\"===u.type&&(c=r.getPaintValue(\"circle-radius\",u)+translateDistance(r.getPaintValue(\"circle-translate\",u)));l=Math.max(l,c*n)}for(var d=e.queryGeometry.map(function(e){return e.map(function(e){return new Point(e.x,e.y)})}),g=1/0,p=1/0,v=-(1/0),x=-(1/0),P=0;P<d.length;P++)for(var m=d[P],I=0;I<m.length;I++){var L=m[I];g=Math.min(g,L.x),p=Math.min(p,L.y),v=Math.max(v,L.x),x=Math.max(x,L.y)}var M=this.grid.query(g-l,p-l,v+l,x+l);M.sort(topDownFeatureComparator),this.filterMatching(i,M,this.featureIndexArray,d,s,a.layers,t,e.bearing,n);var V=this.collisionTile.queryRenderedSymbols(d,e.scale);return V.sort(),this.filterMatching(i,V,this.collisionTile.collisionBoxArray,d,s,a.layers,t,e.bearing,n),i},FeatureIndex.prototype.filterMatching=function(e,t,r,i,a,n,s,l,o){for(var u,c=this,y=0;y<t.length;y++){var f=t[y];if(f!==u){u=f;var h=r.get(f),d=c.bucketLayerIDs[h.bucketIndex];if(!n||arraysIntersect(n,d)){var g=c.sourceLayerCoder.decode(h.sourceLayerIndex),p=c.vtLayers[g],v=p.feature(h.featureIndex);if(a(v))for(var x=null,P=0;P<d.length;P++){var m=d[P];if(!(n&&n.indexOf(m)<0)){var I=s[m];if(I){var L=void 0;if(\"symbol\"!==I.type)if(x||(x=loadGeometry(v)),\"line\"===I.type){L=translate(i,c.getPaintValue(\"line-translate\",I,v),c.getPaintValue(\"line-translate-anchor\",I,v),l,o);var M=o/2*getLineWidth(c.getPaintValue(\"line-width\",I,v),c.getPaintValue(\"line-gap-width\",I,v)),V=c.getPaintValue(\"line-offset\",I,v);if(V&&(x=offsetLine(x,V*o)),!multiPolygonIntersectsBufferedMultiLine(L,x,M))continue}else if(\"fill\"===I.type||\"fill-extrusion\"===I.type){var b=I.type;if(L=translate(i,c.getPaintValue(b+\"-translate\",I,v),c.getPaintValue(b+\"-translate-anchor\",I,v),l,o),!multiPolygonIntersectsMultiPolygon(L,x))continue}else if(\"circle\"===I.type){L=translate(i,c.getPaintValue(\"circle-translate\",I,v),c.getPaintValue(\"circle-translate-anchor\",I,v),l,o);var w=c.getPaintValue(\"circle-radius\",I,v)*o;if(!multiPolygonIntersectsBufferedMultiPoint(L,x,w))continue}var _=new GeoJSONFeature(v,c.z,c.x,c.y);_.layer=I.serialize();var F=e[m];void 0===F&&(F=e[m]=[]),F.push(_)}}}}}}},FeatureIndex.prototype.getPaintValue=function(e,t,r){var i=t.isPaintValueFeatureConstant(e);if(i||r){var a=r?r.properties:{};return t.getPaintValue(e,{zoom:this.z},a)}return this.paintPropertyStatistics[t.id][e].max},module.exports=FeatureIndex;\n},{\"../style-spec/feature_filter\":103,\"../util/dictionary_coder\":197,\"../util/intersection_tests\":205,\"../util/struct_array\":210,\"../util/util\":212,\"../util/vectortile_to_geojson\":213,\"./extent\":54,\"./load_geometry\":56,\"grid-index\":16,\"pbf\":25,\"point-geometry\":26,\"vector-tile\":34}],56:[function(require,module,exports){\n\"use strict\";function createBounds(e){return{min:-1*Math.pow(2,e-1),max:Math.pow(2,e-1)-1}}var util=require(\"../util/util\"),EXTENT=require(\"./extent\"),boundsLookup={15:createBounds(15),16:createBounds(16)};module.exports=function(e,t){for(var r=boundsLookup[t||16],o=EXTENT/e.extent,u=e.loadGeometry(),n=0;n<u.length;n++)for(var a=u[n],i=0;i<a.length;i++){var d=a[i];d.x=Math.round(d.x*o),d.y=Math.round(d.y*o),(d.x<r.min||d.x>r.max||d.y<r.min||d.y>r.max)&&util.warnOnce(\"Geometry exceeds allowed extent, reduce your vector tile buffer size\")}return u};\n},{\"../util/util\":212,\"./extent\":54}],57:[function(require,module,exports){\n\"use strict\";var createStructArrayType=require(\"../util/struct_array\"),PosArray=createStructArrayType({members:[{name:\"a_pos\",type:\"Int16\",components:2}]});module.exports=PosArray;\n},{\"../util/struct_array\":210}],58:[function(require,module,exports){\n\"use strict\";function getPaintAttributeValue(t,r,e,i){if(!t.zoomStops)return r.getPaintValue(t.property,e,i);var a=t.zoomStops.map(function(a){return r.getPaintValue(t.property,util.extend({},e,{zoom:a}),i)});return 1===a.length?a[0]:a}function normalizePaintAttribute(t,r){var e=t.name;e||(e=t.property.replace(r.type+\"-\",\"\").replace(/-/g,\"_\"));var i=\"color\"===r._paintSpecifications[t.property].type;return util.extend({name:\"a_\"+e,components:i?4:1,multiplier:i?255:1,dimensions:i?4:1},t)}var createVertexArrayType=require(\"./vertex_array_type\"),util=require(\"../util/util\"),ProgramConfiguration=function(){this.attributes=[],this.uniforms=[],this.interpolationUniforms=[],this.pragmas={vertex:{},fragment:{}},this.cacheKey=\"\"};ProgramConfiguration.createDynamic=function(t,r,e){for(var i=new ProgramConfiguration,a=0,n=t;a<n.length;a+=1){var o=n[a],p=normalizePaintAttribute(o,r),u=p.name.slice(2);r.isPaintValueFeatureConstant(p.property)?i.addZoomAttribute(u,p):r.isPaintValueZoomConstant(p.property)?i.addPropertyAttribute(u,p):i.addZoomAndPropertyAttribute(u,p,r,e)}return i.PaintVertexArray=createVertexArrayType(i.attributes),i},ProgramConfiguration.createStatic=function(t){for(var r=new ProgramConfiguration,e=0,i=t;e<i.length;e+=1){var a=i[e];r.addUniform(a,\"u_\"+a)}return r},ProgramConfiguration.prototype.addUniform=function(t,r){var e=this.getPragmas(t);e.define.push(\"uniform {precision} {type} \"+r+\";\"),e.initialize.push(\"{precision} {type} \"+t+\" = \"+r+\";\"),this.cacheKey+=\"/u_\"+t},ProgramConfiguration.prototype.addZoomAttribute=function(t,r){this.uniforms.push(r),this.addUniform(t,r.name)},ProgramConfiguration.prototype.addPropertyAttribute=function(t,r){var e=this.getPragmas(t);this.attributes.push(r),e.define.push(\"varying {precision} {type} \"+t+\";\"),e.vertex.define.push(\"attribute {precision} {type} \"+r.name+\";\"),e.vertex.initialize.push(t+\" = \"+r.name+\" / \"+r.multiplier+\".0;\"),this.cacheKey+=\"/a_\"+t},ProgramConfiguration.prototype.addZoomAndPropertyAttribute=function(t,r,e,i){var a=this,n=this.getPragmas(t);n.define.push(\"varying {precision} {type} \"+t+\";\");for(var o=0,p=e.getPaintValueStopZoomLevels(r.property);o<p.length&&p[o]<i;)o++;var u=Math.max(0,Math.min(p.length-4,o-2)),s=\"u_\"+t+\"_t\";n.vertex.define.push(\"uniform lowp float \"+s+\";\"),this.interpolationUniforms.push({name:s,property:r.property,stopOffset:u});for(var m=[],f=0;f<4;f++)m.push(p[Math.min(u+f,p.length-1)]);var g=[];if(1===r.components)this.attributes.push(util.extend({},r,{components:4,zoomStops:m})),n.vertex.define.push(\"attribute {precision} vec4 \"+r.name+\";\"),g.push(r.name);else for(var h=0;h<4;h++){var l=r.name+h;g.push(l),a.attributes.push(util.extend({},r,{name:l,zoomStops:[m[h]]})),n.vertex.define.push(\"attribute {precision} {type} \"+l+\";\")}n.vertex.initialize.push(t+\" = evaluate_zoom_function_\"+r.components+\"(            \"+g.join(\", \")+\", \"+s+\") / \"+r.multiplier+\".0;\"),this.cacheKey+=\"/z_\"+t},ProgramConfiguration.prototype.getPragmas=function(t){return this.pragmas[t]||(this.pragmas[t]={define:[],initialize:[]},this.pragmas[t].fragment={define:[],initialize:[]},this.pragmas[t].vertex={define:[],initialize:[]}),this.pragmas[t]},ProgramConfiguration.prototype.applyPragmas=function(t,r){var e=this;return t.replace(/#pragma mapbox: ([\\w]+) ([\\w]+) ([\\w]+) ([\\w]+)/g,function(t,i,a,n,o){return e.pragmas[o][i].concat(e.pragmas[o][r][i]).join(\"\\n\").replace(/{type}/g,n).replace(/{precision}/g,a)})},ProgramConfiguration.prototype.createPaintPropertyStatistics=function(){for(var t=this,r={},e=0,i=t.attributes;e<i.length;e+=1){var a=i[e];1===a.dimensions&&(r[a.property]={max:-(1/0)})}return r},ProgramConfiguration.prototype.populatePaintArray=function(t,r,e,i,a,n){var o=this,p=r.length;r.resize(i);for(var u=0,s=o.attributes;u<s.length;u+=1)for(var m=s[u],f=getPaintAttributeValue(m,t,a,n),g=p;g<i;g++){var h=r.get(g);if(4===m.components)for(var l=0;l<4;l++)h[m.name+l]=f[l]*m.multiplier;else h[m.name]=f*m.multiplier;if(1===m.dimensions){var c=e[m.property];c.max=Math.max(c.max,1===m.components?f:Math.max.apply(Math,f))}}},ProgramConfiguration.prototype.setUniforms=function(t,r,e,i){for(var a=this,n=0,o=a.uniforms;n<o.length;n+=1){var p=o[n],u=e.getPaintValue(p.property,i);4===p.components?t.uniform4fv(r[p.name],u):t.uniform1f(r[p.name],u)}for(var s=0,m=a.interpolationUniforms;s<m.length;s+=1){var f=m[s],g=e.getPaintInterpolationT(f.property,i);t.uniform1f(r[f.name],Math.max(0,Math.min(4,g-f.stopOffset)))}},module.exports=ProgramConfiguration;\n},{\"../util/util\":212,\"./vertex_array_type\":60}],59:[function(require,module,exports){\n\"use strict\";var createStructArrayType=require(\"../util/struct_array\"),RasterBoundsArray=createStructArrayType({members:[{name:\"a_pos\",type:\"Int16\",components:2},{name:\"a_texture_pos\",type:\"Int16\",components:2}]});module.exports=RasterBoundsArray;\n},{\"../util/struct_array\":210}],60:[function(require,module,exports){\n\"use strict\";function createVertexArrayType(r){return createStructArrayType({members:r,alignment:4})}var createStructArrayType=require(\"../util/struct_array\");module.exports=createVertexArrayType;\n},{\"../util/struct_array\":210}],61:[function(require,module,exports){\n\"use strict\";var Coordinate=function(o,t,n){this.column=o,this.row=t,this.zoom=n};Coordinate.prototype.clone=function(){return new Coordinate(this.column,this.row,this.zoom)},Coordinate.prototype.zoomTo=function(o){return this.clone()._zoomTo(o)},Coordinate.prototype.sub=function(o){return this.clone()._sub(o)},Coordinate.prototype._zoomTo=function(o){var t=Math.pow(2,o-this.zoom);return this.column*=t,this.row*=t,this.zoom=o,this},Coordinate.prototype._sub=function(o){return o=o.zoomTo(this.zoom),this.column-=o.column,this.row-=o.row,this},module.exports=Coordinate;\n},{}],62:[function(require,module,exports){\n\"use strict\";var wrap=require(\"../util/util\").wrap,LngLat=function(t,n){if(isNaN(t)||isNaN(n))throw new Error(\"Invalid LngLat object: (\"+t+\", \"+n+\")\");if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error(\"Invalid LngLat latitude value: must be between -90 and 90\")};LngLat.prototype.wrap=function(){return new LngLat(wrap(this.lng,-180,180),this.lat)},LngLat.prototype.toArray=function(){return[this.lng,this.lat]},LngLat.prototype.toString=function(){return\"LngLat(\"+this.lng+\", \"+this.lat+\")\"},LngLat.convert=function(t){if(t instanceof LngLat)return t;if(t&&t.hasOwnProperty(\"lng\")&&t.hasOwnProperty(\"lat\"))return new LngLat(t.lng,t.lat);if(Array.isArray(t)&&2===t.length)return new LngLat(t[0],t[1]);throw new Error(\"`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]\")},module.exports=LngLat;\n},{\"../util/util\":212}],63:[function(require,module,exports){\n\"use strict\";var LngLat=require(\"./lng_lat\"),LngLatBounds=function(t,n){t&&(n?this.setSouthWest(t).setNorthEast(n):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};LngLatBounds.prototype.setNorthEast=function(t){return this._ne=LngLat.convert(t),this},LngLatBounds.prototype.setSouthWest=function(t){return this._sw=LngLat.convert(t),this},LngLatBounds.prototype.extend=function(t){var n,e,s=this._sw,o=this._ne;if(t instanceof LngLat)n=t,e=t;else{if(!(t instanceof LngLatBounds))return Array.isArray(t)?t.every(Array.isArray)?this.extend(LngLatBounds.convert(t)):this.extend(LngLat.convert(t)):this;if(n=t._sw,e=t._ne,!n||!e)return this}return s||o?(s.lng=Math.min(n.lng,s.lng),s.lat=Math.min(n.lat,s.lat),o.lng=Math.max(e.lng,o.lng),o.lat=Math.max(e.lat,o.lat)):(this._sw=new LngLat(n.lng,n.lat),this._ne=new LngLat(e.lng,e.lat)),this},LngLatBounds.prototype.getCenter=function(){return new LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},LngLatBounds.prototype.getSouthWest=function(){return this._sw},LngLatBounds.prototype.getNorthEast=function(){return this._ne},LngLatBounds.prototype.getNorthWest=function(){return new LngLat(this.getWest(),this.getNorth())},LngLatBounds.prototype.getSouthEast=function(){return new LngLat(this.getEast(),this.getSouth())},LngLatBounds.prototype.getWest=function(){return this._sw.lng},LngLatBounds.prototype.getSouth=function(){return this._sw.lat},LngLatBounds.prototype.getEast=function(){return this._ne.lng},LngLatBounds.prototype.getNorth=function(){return this._ne.lat},LngLatBounds.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},LngLatBounds.prototype.toString=function(){return\"LngLatBounds(\"+this._sw.toString()+\", \"+this._ne.toString()+\")\"},LngLatBounds.convert=function(t){return!t||t instanceof LngLatBounds?t:new LngLatBounds(t)},module.exports=LngLatBounds;\n},{\"./lng_lat\":62}],64:[function(require,module,exports){\n\"use strict\";var LngLat=require(\"./lng_lat\"),Point=require(\"point-geometry\"),Coordinate=require(\"./coordinate\"),util=require(\"../util/util\"),interp=require(\"../util/interpolate\"),TileCoord=require(\"../source/tile_coord\"),EXTENT=require(\"../data/extent\"),glmatrix=require(\"@mapbox/gl-matrix\"),vec4=glmatrix.vec4,mat4=glmatrix.mat4,mat2=glmatrix.mat2,Transform=function(t,i,o){this.tileSize=512,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=i||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0},prototypeAccessors={minZoom:{},maxZoom:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};prototypeAccessors.minZoom.get=function(){return this._minZoom},prototypeAccessors.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},prototypeAccessors.maxZoom.get=function(){return this._maxZoom},prototypeAccessors.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},prototypeAccessors.worldSize.get=function(){return this.tileSize*this.scale},prototypeAccessors.centerPoint.get=function(){return this.size._div(2)},prototypeAccessors.size.get=function(){return new Point(this.width,this.height)},prototypeAccessors.bearing.get=function(){return-this.angle/Math.PI*180},prototypeAccessors.bearing.set=function(t){var i=-util.wrap(t,-180,180)*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=mat2.create(),mat2.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},prototypeAccessors.pitch.get=function(){return this._pitch/Math.PI*180},prototypeAccessors.pitch.set=function(t){var i=util.clamp(t,0,60)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())},prototypeAccessors.fov.get=function(){return this._fov/Math.PI*180},prototypeAccessors.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},prototypeAccessors.zoom.get=function(){return this._zoom},prototypeAccessors.zoom.set=function(t){var i=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==i&&(this._unmodified=!1,this._zoom=i,this.scale=this.zoomScale(i),this.tileZoom=Math.floor(i),this.zoomFraction=i-this.tileZoom,this._constrain(),this._calcMatrices())},prototypeAccessors.center.get=function(){return this._center},prototypeAccessors.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Transform.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},Transform.prototype.coveringTiles=function(t){var i=this.coveringZoomLevel(t),o=i;if(i<t.minzoom)return[];i>t.maxzoom&&(i=t.maxzoom);var e=this.pointCoordinate(this.centerPoint,i),r=new Point(e.column-.5,e.row-.5),n=[this.pointCoordinate(new Point(0,0),i),this.pointCoordinate(new Point(this.width,0),i),this.pointCoordinate(new Point(this.width,this.height),i),this.pointCoordinate(new Point(0,this.height),i)];return TileCoord.cover(i,n,t.reparseOverscaled?o:i,this._renderWorldCopies).sort(function(t,i){return r.dist(t)-r.dist(i)})},Transform.prototype.resize=function(t,i){this.width=t,this.height=i,this.pixelsToGLUnits=[2/t,-2/i],this._constrain(),this._calcMatrices()},prototypeAccessors.unmodified.get=function(){return this._unmodified},Transform.prototype.zoomScale=function(t){return Math.pow(2,t)},Transform.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},Transform.prototype.project=function(t){return new Point(this.lngX(t.lng),this.latY(t.lat))},Transform.prototype.unproject=function(t){return new LngLat(this.xLng(t.x),this.yLat(t.y))},prototypeAccessors.x.get=function(){return this.lngX(this.center.lng)},prototypeAccessors.y.get=function(){return this.latY(this.center.lat)},prototypeAccessors.point.get=function(){return new Point(this.x,this.y)},Transform.prototype.lngX=function(t){return(180+t)*this.worldSize/360},Transform.prototype.latY=function(t){var i=180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360));return(180-i)*this.worldSize/360},Transform.prototype.xLng=function(t){return 360*t/this.worldSize-180},Transform.prototype.yLat=function(t){var i=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90},Transform.prototype.setLocationAtPoint=function(t,i){var o=this.pointCoordinate(i)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(o))},Transform.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},Transform.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},Transform.prototype.locationCoordinate=function(t){return new Coordinate(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},Transform.prototype.coordinateLocation=function(t){var i=t.zoomTo(this.zoom);return new LngLat(this.xLng(i.column*this.tileSize),this.yLat(i.row*this.tileSize))},Transform.prototype.pointCoordinate=function(t,i){void 0===i&&(i=this.tileZoom);var o=0,e=[t.x,t.y,0,1],r=[t.x,t.y,1,1];vec4.transformMat4(e,e,this.pixelMatrixInverse),vec4.transformMat4(r,r,this.pixelMatrixInverse);var n=e[3],s=r[3],a=e[0]/n,h=r[0]/s,c=e[1]/n,m=r[1]/s,p=e[2]/n,l=r[2]/s,u=p===l?0:(o-p)/(l-p);return new Coordinate(interp(a,h,u)/this.tileSize,interp(c,m,u)/this.tileSize,this.zoom)._zoomTo(i)},Transform.prototype.coordinatePoint=function(t){var i=t.zoomTo(this.zoom),o=[i.column*this.tileSize,i.row*this.tileSize,0,1];return vec4.transformMat4(o,o,this.pixelMatrix),new Point(o[0]/o[3],o[1]/o[3])},Transform.prototype.calculatePosMatrix=function(t,i){var o=t.toCoordinate(i),e=this.worldSize/this.zoomScale(o.zoom),r=mat4.identity(new Float64Array(16));return mat4.translate(r,r,[o.column*e,o.row*e,0]),mat4.scale(r,r,[e/EXTENT,e/EXTENT,1]),mat4.multiply(r,this.projMatrix,r),new Float32Array(r)},Transform.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,i,o,e,r,n,s,a,h=this.size,c=this._unmodified;this.latRange&&(t=this.latY(this.latRange[1]),i=this.latY(this.latRange[0]),r=i-t<h.y?h.y/(i-t):0),this.lngRange&&(o=this.lngX(this.lngRange[0]),e=this.lngX(this.lngRange[1]),n=e-o<h.x?h.x/(e-o):0);var m=Math.max(n||0,r||0);if(m)return this.center=this.unproject(new Point(n?(e+o)/2:this.x,r?(i+t)/2:this.y)),this.zoom+=this.scaleZoom(m),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var p=this.y,l=h.y/2;p-l<t&&(a=t+l),p+l>i&&(a=i-l)}if(this.lngRange){var u=this.x,f=h.x/2;u-f<o&&(s=o+f),u+f>e&&(s=e-f)}void 0===s&&void 0===a||(this.center=this.unproject(new Point(void 0!==s?s:this.x,void 0!==a?a:this.y))),this._unmodified=c,this._constraining=!1}},Transform.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,i=Math.PI/2+this._pitch,o=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-i-t),e=Math.cos(Math.PI/2-this._pitch)*o+this.cameraToCenterDistance,r=1.01*e,n=new Float64Array(16);mat4.perspective(n,this._fov,this.width/this.height,1,r),mat4.scale(n,n,[1,-1,1]),mat4.translate(n,n,[0,0,-this.cameraToCenterDistance]),mat4.rotateX(n,n,this._pitch),mat4.rotateZ(n,n,this.angle),mat4.translate(n,n,[-this.x,-this.y,0]);var s=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));if(mat4.scale(n,n,[1,1,s,1]),this.projMatrix=n,n=mat4.create(),mat4.scale(n,n,[this.width/2,-this.height/2,1]),mat4.translate(n,n,[1,-1,0]),this.pixelMatrix=mat4.multiply(new Float64Array(16),n,this.projMatrix),n=mat4.invert(new Float64Array(16),this.pixelMatrix),!n)throw new Error(\"failed to invert matrix\");this.pixelMatrixInverse=n}},Object.defineProperties(Transform.prototype,prototypeAccessors),module.exports=Transform;\n},{\"../data/extent\":54,\"../source/tile_coord\":94,\"../util/interpolate\":204,\"../util/util\":212,\"./coordinate\":61,\"./lng_lat\":62,\"@mapbox/gl-matrix\":1,\"point-geometry\":26}],65:[function(require,module,exports){\n\"use strict\";var browser=require(\"./util/browser\"),mapboxgl=module.exports={};mapboxgl.version=require(\"../package.json\").version,mapboxgl.workerCount=Math.max(Math.floor(browser.hardwareConcurrency/2),1),mapboxgl.Map=require(\"./ui/map\"),mapboxgl.NavigationControl=require(\"./ui/control/navigation_control\"),mapboxgl.GeolocateControl=require(\"./ui/control/geolocate_control\"),mapboxgl.AttributionControl=require(\"./ui/control/attribution_control\"),mapboxgl.ScaleControl=require(\"./ui/control/scale_control\"),mapboxgl.FullscreenControl=require(\"./ui/control/fullscreen_control\"),mapboxgl.Popup=require(\"./ui/popup\"),mapboxgl.Marker=require(\"./ui/marker\"),mapboxgl.Style=require(\"./style/style\"),mapboxgl.LngLat=require(\"./geo/lng_lat\"),mapboxgl.LngLatBounds=require(\"./geo/lng_lat_bounds\"),mapboxgl.Point=require(\"point-geometry\"),mapboxgl.Evented=require(\"./util/evented\"),mapboxgl.supported=require(\"./util/browser\").supported;var config=require(\"./util/config\");mapboxgl.config=config;var rtlTextPlugin=require(\"./source/rtl_text_plugin\");mapboxgl.setRTLTextPlugin=rtlTextPlugin.setRTLTextPlugin,Object.defineProperty(mapboxgl,\"accessToken\",{get:function(){return config.ACCESS_TOKEN},set:function(o){config.ACCESS_TOKEN=o}});\n},{\"../package.json\":43,\"./geo/lng_lat\":62,\"./geo/lng_lat_bounds\":63,\"./source/rtl_text_plugin\":90,\"./style/style\":146,\"./ui/control/attribution_control\":173,\"./ui/control/fullscreen_control\":174,\"./ui/control/geolocate_control\":175,\"./ui/control/navigation_control\":177,\"./ui/control/scale_control\":178,\"./ui/map\":187,\"./ui/marker\":188,\"./ui/popup\":189,\"./util/browser\":192,\"./util/config\":196,\"./util/evented\":200,\"point-geometry\":26}],66:[function(require,module,exports){\n\"use strict\";function drawBackground(r,t,e){var a=r.gl,i=r.transform,n=i.tileSize,o=e.paint[\"background-color\"],l=e.paint[\"background-pattern\"],u=e.paint[\"background-opacity\"],f=!l&&1===o[3]&&1===u;if(r.isOpaquePass===f){a.disable(a.STENCIL_TEST),r.setDepthSublayer(0);var s;l?(s=r.useProgram(\"fillPattern\",r.basicFillProgramConfiguration),pattern.prepare(l,r,s),r.tileExtentPatternVAO.bind(a,s,r.tileExtentBuffer)):(s=r.useProgram(\"fill\",r.basicFillProgramConfiguration),a.uniform4fv(s.u_color,o),r.tileExtentVAO.bind(a,s,r.tileExtentBuffer)),a.uniform1f(s.u_opacity,u);for(var c=i.coveringTiles({tileSize:n}),g=0,p=c;g<p.length;g+=1){var d=p[g];l&&pattern.setTile({coord:d,tileSize:n},r,s),a.uniformMatrix4fv(s.u_matrix,!1,r.transform.calculatePosMatrix(d)),a.drawArrays(a.TRIANGLE_STRIP,0,r.tileExtentBuffer.length)}}}var pattern=require(\"./pattern\");module.exports=drawBackground;\n},{\"./pattern\":78}],67:[function(require,module,exports){\n\"use strict\";function drawCircles(e,r,t,a){if(!e.isOpaquePass){var i=e.gl;e.setDepthSublayer(0),e.depthMask(!1),i.disable(i.STENCIL_TEST);for(var s=0;s<a.length;s++){var o=a[s],n=r.getTile(o),f=n.getBucket(t);if(f){var l=f.buffers,m=l.layerData[t.id],u=m.programConfiguration,c=e.useProgram(\"circle\",u);u.setUniforms(i,c,t,{zoom:e.transform.zoom}),\"map\"===t.paint[\"circle-pitch-scale\"]?(i.uniform1i(c.u_scale_with_map,!0),i.uniform2f(c.u_extrude_scale,e.transform.pixelsToGLUnits[0]*e.transform.cameraToCenterDistance,e.transform.pixelsToGLUnits[1]*e.transform.cameraToCenterDistance)):(i.uniform1i(c.u_scale_with_map,!1),i.uniform2fv(c.u_extrude_scale,e.transform.pixelsToGLUnits)),i.uniform1f(c.u_devicepixelratio,browser.devicePixelRatio),i.uniformMatrix4fv(c.u_matrix,!1,e.translatePosMatrix(o.posMatrix,n,t.paint[\"circle-translate\"],t.paint[\"circle-translate-anchor\"]));for(var p=0,v=l.segments;p<v.length;p+=1){var x=v[p];x.vaos[t.id].bind(i,c,l.layoutVertexBuffer,l.elementBuffer,m.paintVertexBuffer,x.vertexOffset),i.drawElements(i.TRIANGLES,3*x.primitiveLength,i.UNSIGNED_SHORT,3*x.primitiveOffset*2)}}}}}var browser=require(\"../util/browser\");module.exports=drawCircles;\n},{\"../util/browser\":192}],68:[function(require,module,exports){\n\"use strict\";function drawCollisionDebug(e,o,r,i){var t=e.gl;t.enable(t.STENCIL_TEST);for(var f=e.useProgram(\"collisionBox\"),l=0;l<i.length;l++){var n=i[l],a=o.getTile(n),s=a.getBucket(r);if(s){var u=s.buffers.collisionBox;if(u){t.uniformMatrix4fv(f.u_matrix,!1,n.posMatrix),e.enableTileClippingMask(n),e.lineWidth(1),t.uniform1f(f.u_scale,Math.pow(2,e.transform.zoom-a.coord.z)),t.uniform1f(f.u_zoom,10*e.transform.zoom),t.uniform1f(f.u_maxzoom,10*(a.coord.z+1));for(var m=0,g=u.segments;m<g.length;m+=1){var v=g[m];v.vaos[r.id].bind(t,f,u.layoutVertexBuffer,u.elementBuffer,null,v.vertexOffset),t.drawElements(t.LINES,2*v.primitiveLength,t.UNSIGNED_SHORT,2*v.primitiveOffset*2)}}}}}module.exports=drawCollisionDebug;\n},{}],69:[function(require,module,exports){\n\"use strict\";function drawDebug(r,e,a){for(var t=0;t<a.length;t++)drawDebugTile(r,e,a[t])}function drawDebugTile(r,e,a){var t=r.gl;t.disable(t.STENCIL_TEST),r.lineWidth(1*browser.devicePixelRatio);var i=a.posMatrix,u=r.useProgram(\"debug\");t.uniformMatrix4fv(u.u_matrix,!1,i),t.uniform4f(u.u_color,1,0,0,1),r.debugVAO.bind(t,u,r.debugBuffer),t.drawArrays(t.LINE_STRIP,0,r.debugBuffer.length);for(var o=createTextVerticies(a.toString(),50,200,5),f=new PosArray,n=0;n<o.length;n+=2)f.emplaceBack(o[n],o[n+1]);var l=Buffer.fromStructArray(f,Buffer.BufferType.VERTEX),m=new VertexArrayObject;m.bind(t,u,l),t.uniform4f(u.u_color,1,1,1,1);for(var s=e.getTile(a).tileSize,g=EXTENT/(Math.pow(2,r.transform.zoom-a.z)*s),x=[[-1,-1],[-1,1],[1,-1],[1,1]],d=0;d<x.length;d++){var b=x[d];t.uniformMatrix4fv(u.u_matrix,!1,mat4.translate([],i,[g*b[0],g*b[1],0])),t.drawArrays(t.LINES,0,l.length)}t.uniform4f(u.u_color,0,0,0,1),t.uniformMatrix4fv(u.u_matrix,!1,i),t.drawArrays(t.LINES,0,l.length)}function createTextVerticies(r,e,a,t){t=t||1;var i,u,o,f,n,l,m,s,g=[];for(i=0,u=r.length;i<u;i++)if(n=simplexFont[r[i]]){for(s=null,o=0,f=n[1].length;o<f;o+=2)n[1][o]===-1&&n[1][o+1]===-1?s=null:(l=e+n[1][o]*t,m=a-n[1][o+1]*t,s&&g.push(s.x,s.y,l,m),s={x:l,y:m});e+=n[0]*t}return g}var browser=require(\"../util/browser\"),mat4=require(\"@mapbox/gl-matrix\").mat4,EXTENT=require(\"../data/extent\"),Buffer=require(\"../data/buffer\"),VertexArrayObject=require(\"./vertex_array_object\"),PosArray=require(\"../data/pos_array\");module.exports=drawDebug;var simplexFont={\" \":[16,[]],\"!\":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'\"':[16,[4,21,4,14,-1,-1,12,21,12,14]],\"#\":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],\"%\":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],\"&\":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],\"'\":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],\"(\":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],\")\":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],\"*\":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],\"+\":[26,[13,18,13,0,-1,-1,4,9,22,9]],\",\":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],\"-\":[26,[4,9,22,9]],\".\":[10,[5,2,4,1,5,0,6,1,5,2]],\"/\":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],\":\":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],\";\":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],\"<\":[24,[20,18,4,9,20,0]],\"=\":[26,[4,12,22,12,-1,-1,4,6,22,6]],\">\":[24,[4,18,20,9,4,0]],\"?\":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],\"@\":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],\"[\":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],\"\\\\\":[14,[0,21,14,-3]],\"]\":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],\"^\":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],\"`\":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],\"{\":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],\"|\":[8,[4,25,4,-7]],\"}\":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],\"~\":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};\n},{\"../data/buffer\":51,\"../data/extent\":54,\"../data/pos_array\":57,\"../util/browser\":192,\"./vertex_array_object\":80,\"@mapbox/gl-matrix\":1}],70:[function(require,module,exports){\n\"use strict\";function drawFill(t,e,r,i){var a=t.gl;a.enable(a.STENCIL_TEST);var l=!r.paint[\"fill-pattern\"]&&r.isPaintValueFeatureConstant(\"fill-color\")&&r.isPaintValueFeatureConstant(\"fill-opacity\")&&1===r.paint[\"fill-color\"][3]&&1===r.paint[\"fill-opacity\"];t.isOpaquePass===l&&(t.setDepthSublayer(1),drawFillTiles(t,e,r,i,drawFillTile)),!t.isOpaquePass&&r.paint[\"fill-antialias\"]&&(t.lineWidth(2),t.depthMask(!1),t.setDepthSublayer(r.getPaintProperty(\"fill-outline-color\")?2:0),drawFillTiles(t,e,r,i,drawStrokeTile))}function drawFillTiles(t,e,r,i,a){for(var l=!0,n=0,o=i;n<o.length;n+=1){var f=o[n],s=e.getTile(f),u=s.getBucket(r);u&&(t.enableTileClippingMask(f),a(t,e,r,s,f,u.buffers,l),l=!1)}}function drawFillTile(t,e,r,i,a,l,n){for(var o=t.gl,f=l.layerData[r.id],s=setFillProgram(\"fill\",r.paint[\"fill-pattern\"],t,f,r,i,a,n),u=0,p=l.segments;u<p.length;u+=1){var g=p[u];g.vaos[r.id].bind(o,s,l.layoutVertexBuffer,l.elementBuffer,f.paintVertexBuffer,g.vertexOffset),o.drawElements(o.TRIANGLES,3*g.primitiveLength,o.UNSIGNED_SHORT,3*g.primitiveOffset*2)}}function drawStrokeTile(t,e,r,i,a,l,n){var o=t.gl,f=l.layerData[r.id],s=r.paint[\"fill-pattern\"]&&!r.getPaintProperty(\"fill-outline-color\"),u=setFillProgram(\"fillOutline\",s,t,f,r,i,a,n);o.uniform2f(u.u_world,o.drawingBufferWidth,o.drawingBufferHeight);for(var p=0,g=l.segments2;p<g.length;p+=1){var m=g[p];m.vaos[r.id].bind(o,u,l.layoutVertexBuffer,l.elementBuffer2,f.paintVertexBuffer,m.vertexOffset),o.drawElements(o.LINES,2*m.primitiveLength,o.UNSIGNED_SHORT,2*m.primitiveOffset*2)}}function setFillProgram(t,e,r,i,a,l,n,o){var f,s=r.currentProgram;return e?(f=r.useProgram(t+\"Pattern\",i.programConfiguration),(o||f!==s)&&(i.programConfiguration.setUniforms(r.gl,f,a,{zoom:r.transform.zoom}),pattern.prepare(a.paint[\"fill-pattern\"],r,f)),pattern.setTile(l,r,f)):(f=r.useProgram(t,i.programConfiguration),(o||f!==s)&&i.programConfiguration.setUniforms(r.gl,f,a,{zoom:r.transform.zoom})),r.gl.uniformMatrix4fv(f.u_matrix,!1,r.translatePosMatrix(n.posMatrix,l,a.paint[\"fill-translate\"],a.paint[\"fill-translate-anchor\"])),f}var pattern=require(\"./pattern\");module.exports=drawFill;\n},{\"./pattern\":78}],71:[function(require,module,exports){\n\"use strict\";function draw(t,e,r,i){if(0!==r.paint[\"fill-extrusion-opacity\"]){var a=t.gl;a.disable(a.STENCIL_TEST),a.enable(a.DEPTH_TEST),t.depthMask(!0);var s=new ExtrusionTexture(a,t,r);s.bindFramebuffer(),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);for(var u=0;u<i.length;u++)drawExtrusion(t,e,r,i[u]);s.unbindFramebuffer(),s.renderToMap()}}function ExtrusionTexture(t,e,r){this.gl=t,this.width=e.width,this.height=e.height,this.painter=e,this.layer=r,this.texture=null,this.fbo=null,this.fbos=this.painter.preFbos[this.width]&&this.painter.preFbos[this.width][this.height]}function drawExtrusion(t,e,r,i){if(!t.isOpaquePass){var a=e.getTile(i),s=a.getBucket(r);if(s){var u=s.buffers,f=t.gl,h=r.paint[\"fill-extrusion-pattern\"],n=u.layerData[r.id],o=n.programConfiguration,E=t.useProgram(h?\"fillExtrusionPattern\":\"fillExtrusion\",o);o.setUniforms(f,E,r,{zoom:t.transform.zoom}),h&&(pattern.prepare(h,t,E),pattern.setTile(a,t,E),f.uniform1f(E.u_height_factor,-Math.pow(2,i.z)/a.tileSize/8)),t.gl.uniformMatrix4fv(E.u_matrix,!1,t.translatePosMatrix(i.posMatrix,a,r.paint[\"fill-extrusion-translate\"],r.paint[\"fill-extrusion-translate-anchor\"])),setLight(E,t);for(var T=0,l=u.segments;T<l.length;T+=1){var R=l[T];R.vaos[r.id].bind(f,E,u.layoutVertexBuffer,u.elementBuffer,n.paintVertexBuffer,R.vertexOffset),f.drawElements(f.TRIANGLES,3*R.primitiveLength,f.UNSIGNED_SHORT,3*R.primitiveOffset*2)}}}}function setLight(t,e){var r=e.gl,i=e.style.light,a=i.calculated.position,s=[a.x,a.y,a.z],u=mat3.create();\"viewport\"===i.calculated.anchor&&mat3.fromRotation(u,-e.transform.angle),vec3.transformMat3(s,s,u),r.uniform3fv(t.u_lightpos,s),r.uniform1f(t.u_lightintensity,i.calculated.intensity),r.uniform3fv(t.u_lightcolor,i.calculated.color.slice(0,3))}var glMatrix=require(\"@mapbox/gl-matrix\"),Buffer=require(\"../data/buffer\"),VertexArrayObject=require(\"./vertex_array_object\"),PosArray=require(\"../data/pos_array\"),pattern=require(\"./pattern\"),mat3=glMatrix.mat3,mat4=glMatrix.mat4,vec3=glMatrix.vec3;module.exports=draw,ExtrusionTexture.prototype.bindFramebuffer=function(){var t=this.gl;if(this.texture=this.painter.getViewportTexture(this.width,this.height),t.activeTexture(t.TEXTURE1),this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,null),this.texture.width=this.width,this.texture.height=this.height),this.fbos)this.fbo=this.fbos.pop(),t.bindFramebuffer(t.FRAMEBUFFER,this.fbo),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0);else{this.fbo=t.createFramebuffer();var e=t.createRenderbuffer(),r=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,e),t.bindRenderbuffer(t.RENDERBUFFER,r),t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,this.width,this.height),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,this.width,this.height),t.bindFramebuffer(t.FRAMEBUFFER,this.fbo),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,e),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)}},ExtrusionTexture.prototype.unbindFramebuffer=function(){this.painter.bindDefaultFramebuffer(),this.fbos?this.fbos.push(this.fbo):(this.painter.preFbos[this.width]||(this.painter.preFbos[this.width]={}),this.painter.preFbos[this.width][this.height]=[this.fbo]),this.painter.saveViewportTexture(this.texture)},ExtrusionTexture.prototype.renderToMap=function(){var t=this.gl,e=this.painter,r=e.useProgram(\"extrusionTexture\");t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.texture),t.uniform1f(r.u_opacity,this.layer.paint[\"fill-extrusion-opacity\"]),t.uniform1i(r.u_texture,1),t.uniformMatrix4fv(r.u_matrix,!1,mat4.ortho(mat4.create(),0,e.width,e.height,0,0,1)),t.disable(t.DEPTH_TEST),t.uniform1i(r.u_xdim,e.width),t.uniform1i(r.u_ydim,e.height);var i=new PosArray;i.emplaceBack(0,0),i.emplaceBack(e.width,0),i.emplaceBack(0,e.height),i.emplaceBack(e.width,e.height);var a=Buffer.fromStructArray(i,Buffer.BufferType.VERTEX),s=new VertexArrayObject;s.bind(t,r,a),t.drawArrays(t.TRIANGLE_STRIP,0,4),t.enable(t.DEPTH_TEST)};\n},{\"../data/buffer\":51,\"../data/pos_array\":57,\"./pattern\":78,\"./vertex_array_object\":80,\"@mapbox/gl-matrix\":1}],72:[function(require,module,exports){\n\"use strict\";function drawLineTile(e,i,t,r,a,n,o,f,s){var l,u,m,_,p=i.gl,g=a.paint[\"line-dasharray\"],d=a.paint[\"line-pattern\"];if(f||s){var v=1/pixelsToTileUnits(t,1,i.transform.tileZoom);if(g){l=i.lineAtlas.getDash(g.from,\"round\"===a.layout[\"line-cap\"]),u=i.lineAtlas.getDash(g.to,\"round\"===a.layout[\"line-cap\"]);var T=l.width*g.fromScale,h=u.width*g.toScale;p.uniform2f(e.u_patternscale_a,v/T,-l.height/2),p.uniform2f(e.u_patternscale_b,v/h,-u.height/2),p.uniform1f(e.u_sdfgamma,i.lineAtlas.width/(256*Math.min(T,h)*browser.devicePixelRatio)/2)}else if(d){if(m=i.spriteAtlas.getPosition(d.from,!0),_=i.spriteAtlas.getPosition(d.to,!0),!m||!_)return;p.uniform2f(e.u_pattern_size_a,m.size[0]*d.fromScale/v,_.size[1]),p.uniform2f(e.u_pattern_size_b,_.size[0]*d.toScale/v,_.size[1])}p.uniform2f(e.u_gl_units_to_pixels,1/i.transform.pixelsToGLUnits[0],1/i.transform.pixelsToGLUnits[1])}f&&(g?(p.uniform1i(e.u_image,0),p.activeTexture(p.TEXTURE0),i.lineAtlas.bind(p),p.uniform1f(e.u_tex_y_a,l.y),p.uniform1f(e.u_tex_y_b,u.y),p.uniform1f(e.u_mix,g.t)):d&&(p.uniform1i(e.u_image,0),p.activeTexture(p.TEXTURE0),i.spriteAtlas.bind(p,!0),p.uniform2fv(e.u_pattern_tl_a,m.tl),p.uniform2fv(e.u_pattern_br_a,m.br),p.uniform2fv(e.u_pattern_tl_b,_.tl),p.uniform2fv(e.u_pattern_br_b,_.br),p.uniform1f(e.u_fade,d.t)),p.uniform1f(e.u_width,a.paint[\"line-width\"])),i.enableTileClippingMask(n);var x=i.translatePosMatrix(n.posMatrix,t,a.paint[\"line-translate\"],a.paint[\"line-translate-anchor\"]);p.uniformMatrix4fv(e.u_matrix,!1,x),p.uniform1f(e.u_ratio,1/pixelsToTileUnits(t,1,i.transform.zoom));for(var b=0,c=r.segments;b<c.length;b+=1){var w=c[b];w.vaos[a.id].bind(p,e,r.layoutVertexBuffer,r.elementBuffer,o.paintVertexBuffer,w.vertexOffset),p.drawElements(p.TRIANGLES,3*w.primitiveLength,p.UNSIGNED_SHORT,3*w.primitiveOffset*2)}}var browser=require(\"../util/browser\"),pixelsToTileUnits=require(\"../source/pixels_to_tile_units\");module.exports=function(e,i,t,r){if(!e.isOpaquePass){e.setDepthSublayer(0),e.depthMask(!1);var a=e.gl;if(a.enable(a.STENCIL_TEST),!(t.paint[\"line-width\"]<=0))for(var n,o=t.paint[\"line-dasharray\"]?\"lineSDF\":t.paint[\"line-pattern\"]?\"linePattern\":\"line\",f=!0,s=0,l=r;s<l.length;s+=1){var u=l[s],m=i.getTile(u),_=m.getBucket(t);if(_){var p=_.buffers.layerData[t.id],g=e.currentProgram,d=e.useProgram(o,p.programConfiguration),v=f||d!==g,T=n!==m.coord.z;v&&p.programConfiguration.setUniforms(e.gl,d,t,{zoom:e.transform.zoom}),drawLineTile(d,e,m,_.buffers,t,u,p,v,T),n=m.coord.z,f=!1}}}};\n},{\"../source/pixels_to_tile_units\":87,\"../util/browser\":192}],73:[function(require,module,exports){\n\"use strict\";function drawRaster(r,t,e,a){if(!r.isOpaquePass){var i=r.gl;i.enable(i.DEPTH_TEST),r.depthMask(!0),i.depthFunc(i.LESS);for(var o=a.length&&a[0].z,n=0;n<a.length;n++){var u=a[n];r.setDepthSublayer(u.z-o),drawRasterTile(r,t,e,u)}i.depthFunc(i.LEQUAL)}}function drawRasterTile(r,t,e,a){var i=r.gl;i.disable(i.STENCIL_TEST);var o=t.getTile(a),n=r.transform.calculatePosMatrix(a,t.getSource().maxzoom);o.registerFadeDuration(r.style.animationLoop,e.paint[\"raster-fade-duration\"]);var u=r.useProgram(\"raster\");i.uniformMatrix4fv(u.u_matrix,!1,n),i.uniform1f(u.u_brightness_low,e.paint[\"raster-brightness-min\"]),i.uniform1f(u.u_brightness_high,e.paint[\"raster-brightness-max\"]),i.uniform1f(u.u_saturation_factor,saturationFactor(e.paint[\"raster-saturation\"])),i.uniform1f(u.u_contrast_factor,contrastFactor(e.paint[\"raster-contrast\"])),i.uniform3fv(u.u_spin_weights,spinWeights(e.paint[\"raster-hue-rotate\"]));var s,c,f=o.sourceCache&&o.sourceCache.findLoadedParent(a,0,{}),d=getFadeValues(o,f,e,r.transform);i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.texture),i.activeTexture(i.TEXTURE1),f?(i.bindTexture(i.TEXTURE_2D,f.texture),s=Math.pow(2,f.coord.z-o.coord.z),c=[o.coord.x*s%1,o.coord.y*s%1]):i.bindTexture(i.TEXTURE_2D,o.texture),i.uniform2fv(u.u_tl_parent,c||[0,0]),i.uniform1f(u.u_scale_parent,s||1),i.uniform1f(u.u_buffer_scale,1),i.uniform1f(u.u_fade_t,d.mix),i.uniform1f(u.u_opacity,d.opacity*e.paint[\"raster-opacity\"]),i.uniform1i(u.u_image0,0),i.uniform1i(u.u_image1,1);var m=o.boundsBuffer||r.rasterBoundsBuffer,p=o.boundsVAO||r.rasterBoundsVAO;p.bind(i,u,m),i.drawArrays(i.TRIANGLE_STRIP,0,m.length)}function spinWeights(r){r*=Math.PI/180;var t=Math.sin(r),e=Math.cos(r);return[(2*e+1)/3,(-Math.sqrt(3)*t-e+1)/3,(Math.sqrt(3)*t-e+1)/3]}function contrastFactor(r){return r>0?1/(1-r):1+r}function saturationFactor(r){return r>0?1-1/(1.001-r):-r}function getFadeValues(r,t,e,a){var i=e.paint[\"raster-fade-duration\"];if(r.sourceCache&&i>0){var o=Date.now(),n=(o-r.timeAdded)/i,u=t?(o-t.timeAdded)/i:-1,s=r.sourceCache.getSource(),c=a.coveringZoomLevel({tileSize:s.tileSize,roundZoom:s.roundZoom}),f=!t||Math.abs(t.coord.z-c)>Math.abs(r.coord.z-c),d=f&&r.refreshedUponExpiration?1:util.clamp(f?n:1-u,0,1);return r.refreshedUponExpiration&&n>=1&&(r.refreshedUponExpiration=!1),t?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}var util=require(\"../util/util\");module.exports=drawRaster;\n},{\"../util/util\":212}],74:[function(require,module,exports){\n\"use strict\";function drawSymbols(e,t,a,i){if(!e.isOpaquePass){var o=!(a.layout[\"text-allow-overlap\"]||a.layout[\"icon-allow-overlap\"]||a.layout[\"text-ignore-placement\"]||a.layout[\"icon-ignore-placement\"]),r=e.gl;o?r.disable(r.STENCIL_TEST):r.enable(r.STENCIL_TEST),e.setDepthSublayer(0),e.depthMask(!1),drawLayerSymbols(e,t,a,i,!1,a.paint[\"icon-translate\"],a.paint[\"icon-translate-anchor\"],a.layout[\"icon-rotation-alignment\"],a.layout[\"icon-rotation-alignment\"],a.layout[\"icon-size\"]),drawLayerSymbols(e,t,a,i,!0,a.paint[\"text-translate\"],a.paint[\"text-translate-anchor\"],a.layout[\"text-rotation-alignment\"],a.layout[\"text-pitch-alignment\"],a.layout[\"text-size\"]),t.map.showCollisionBoxes&&drawCollisionDebug(e,t,a,i)}}function drawLayerSymbols(e,t,a,i,o,r,n,l,s,u){if(o||!e.style.sprite||e.style.sprite.loaded()){var f=e.gl,m=\"map\"===l,p=\"map\"===s,c=p;c?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST);for(var d,_,h=0,g=i;h<g.length;h+=1){var y=g[h],T=t.getTile(y),b=T.getBucket(a);if(b){var x=o?b.buffers.glyph:b.buffers.icon;if(x&&x.segments.length){var S=x.layerData[a.id],w=S.programConfiguration,v=o||b.sdfIcons;d&&b.fontstack===_||(d=e.useProgram(v?\"symbolSDF\":\"symbolIcon\",w),w.setUniforms(f,d,a,{zoom:e.transform.zoom}),setSymbolDrawState(d,e,o,v,m,p,b.fontstack,u,b.iconsNeedLinear,o?b.adjustedTextSize:b.adjustedIconSize)),e.enableTileClippingMask(y),f.uniformMatrix4fv(d.u_matrix,!1,e.translatePosMatrix(y.posMatrix,T,r,n)),drawTileSymbols(d,e,a,T,x,o,v,p,u),_=b.fontstack}}}c||f.enable(f.DEPTH_TEST)}}function setSymbolDrawState(e,t,a,i,o,r,n,l,s,u){var f=t.gl,m=t.transform;if(f.uniform1i(e.u_rotate_with_map,o),f.uniform1i(e.u_pitch_with_map,r),f.activeTexture(f.TEXTURE0),f.uniform1i(e.u_texture,0),a){var p=n&&t.glyphSource.getGlyphAtlas(n);if(!p)return;p.updateTexture(f),f.uniform2f(e.u_texsize,p.width/4,p.height/4)}else{var c=t.options.rotating||t.options.zooming,d=1!==l||browser.devicePixelRatio!==t.spriteAtlas.pixelRatio||s,_=r||m.pitch;t.spriteAtlas.bind(f,i||c||d||_),f.uniform2f(e.u_texsize,t.spriteAtlas.width/4,t.spriteAtlas.height/4)}f.activeTexture(f.TEXTURE1),t.frameHistory.bind(f),f.uniform1i(e.u_fadetexture,1);var h=Math.log(l/u)/Math.LN2||0;f.uniform1f(e.u_zoom,10*(m.zoom-h)),f.uniform1f(e.u_pitch,m.pitch/360*2*Math.PI),f.uniform1f(e.u_bearing,m.bearing/360*2*Math.PI),f.uniform1f(e.u_aspect_ratio,m.width/m.height)}function drawTileSymbols(e,t,a,i,o,r,n,l,s){var u=t.gl,f=t.transform,m=s/(r?24:1);if(l){var p=pixelsToTileUnits(i,m,f.zoom);u.uniform2f(e.u_extrude_scale,p,p)}else{var c=f.cameraToCenterDistance*m;u.uniform2f(e.u_extrude_scale,f.pixelsToGLUnits[0]*c,f.pixelsToGLUnits[1]*c)}if(n){var d=(r?\"text\":\"icon\")+\"-halo-width\",_=!a.isPaintValueFeatureConstant(d)||a.paint[d],h=m*(l?Math.cos(f._pitch):1)*f.cameraToCenterDistance;u.uniform1f(e.u_font_scale,m),u.uniform1f(e.u_gamma_scale,h),_&&(u.uniform1f(e.u_is_halo,1),drawSymbolElements(o,a,u,e)),u.uniform1f(e.u_is_halo,0)}drawSymbolElements(o,a,u,e)}function drawSymbolElements(e,t,a,i){for(var o=e.layerData[t.id],r=o&&o.paintVertexBuffer,n=0,l=e.segments;n<l.length;n+=1){var s=l[n];s.vaos[t.id].bind(a,i,e.layoutVertexBuffer,e.elementBuffer,r,s.vertexOffset),a.drawElements(a.TRIANGLES,3*s.primitiveLength,a.UNSIGNED_SHORT,3*s.primitiveOffset*2)}}var browser=require(\"../util/browser\"),drawCollisionDebug=require(\"./draw_collision_debug\"),pixelsToTileUnits=require(\"../source/pixels_to_tile_units\");module.exports=drawSymbols;\n},{\"../source/pixels_to_tile_units\":87,\"../util/browser\":192,\"./draw_collision_debug\":68}],75:[function(require,module,exports){\n\"use strict\";var FrameHistory=function(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.previousZoom=0,this.firstFrame=!0};FrameHistory.prototype.record=function(e,t,i){var r=this;this.firstFrame&&(e=0,this.firstFrame=!1),t=Math.floor(10*t);var a;if(t<this.previousZoom)for(a=t+1;a<=this.previousZoom;a++)r.changeTimes[a]=e,r.changeOpacities[a]=r.opacities[a];else for(a=t;a>this.previousZoom;a--)r.changeTimes[a]=e,r.changeOpacities[a]=r.opacities[a];for(a=0;a<256;a++){var s=e-r.changeTimes[a],o=255*(i?s/i:1);a<=t?r.opacities[a]=r.changeOpacities[a]+o:r.opacities[a]=r.changeOpacities[a]-o}this.changed=!0,this.previousZoom=t},FrameHistory.prototype.bind=function(e){this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.changed&&(e.texSubImage2D(e.TEXTURE_2D,0,0,0,256,1,e.ALPHA,e.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,256,1,0,e.ALPHA,e.UNSIGNED_BYTE,this.array))},module.exports=FrameHistory;\n},{}],76:[function(require,module,exports){\n\"use strict\";var util=require(\"../util/util\"),LineAtlas=function(t,i){this.width=t,this.height=i,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};LineAtlas.prototype.setSprite=function(t){this.sprite=t},LineAtlas.prototype.getDash=function(t,i){var e=t.join(\",\")+i;return this.positions[e]||(this.positions[e]=this.addDash(t,i)),this.positions[e]},LineAtlas.prototype.addDash=function(t,i){var e=this,h=i?7:0,s=2*h+1,a=128;if(this.nextRow+s>this.height)return util.warnOnce(\"LineAtlas out of space\"),null;for(var r=0,n=0;n<t.length;n++)r+=t[n];for(var o=this.width/r,E=o/2,T=t.length%2===1,R=-h;R<=h;R++)for(var u=e.nextRow+h+R,d=e.width*u,l=T?-t[t.length-1]:0,x=t[0],A=1,_=0;_<this.width;_++){for(;x<_/o;)l=x,x+=t[A],T&&A===t.length-1&&(x+=t[0]),A++;var p=Math.abs(_-l*o),g=Math.abs(_-x*o),w=Math.min(p,g),D=A%2===1,U=void 0;if(i){var f=h?R/h*(E+1):0;if(D){var X=E-Math.abs(f);U=Math.sqrt(w*w+X*X)}else U=E-Math.sqrt(w*w+f*f)}else U=(D?1:-1)*w;e.data[3+4*(d+_)]=Math.max(0,Math.min(255,U+a))}var v={y:(this.nextRow+h+.5)/this.height,height:2*h/this.height,width:r};return this.nextRow+=s,this.dirty=!0,v},LineAtlas.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},module.exports=LineAtlas;\n},{\"../util/util\":212}],77:[function(require,module,exports){\n\"use strict\";var browser=require(\"../util/browser\"),mat4=require(\"@mapbox/gl-matrix\").mat4,FrameHistory=require(\"./frame_history\"),SourceCache=require(\"../source/source_cache\"),EXTENT=require(\"../data/extent\"),pixelsToTileUnits=require(\"../source/pixels_to_tile_units\"),util=require(\"../util/util\"),Buffer=require(\"../data/buffer\"),VertexArrayObject=require(\"./vertex_array_object\"),RasterBoundsArray=require(\"../data/raster_bounds_array\"),PosArray=require(\"../data/pos_array\"),ProgramConfiguration=require(\"../data/program_configuration\"),shaders=require(\"./shaders\"),draw={symbol:require(\"./draw_symbol\"),circle:require(\"./draw_circle\"),line:require(\"./draw_line\"),fill:require(\"./draw_fill\"),\"fill-extrusion\":require(\"./draw_fill_extrusion\"),raster:require(\"./draw_raster\"),background:require(\"./draw_background\"),debug:require(\"./draw_debug\")},Painter=function(e,r){this.gl=e,this.transform=r,this.reusableTextures={tiles:{},viewport:null},this.preFbos={},this.frameHistory=new FrameHistory,this.setup(),this.numSublayers=SourceCache.maxUnderzooming+SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=e.getParameter(e.ALIASED_LINE_WIDTH_RANGE),this.basicFillProgramConfiguration=ProgramConfiguration.createStatic([\"color\",\"opacity\"]),this.emptyProgramConfiguration=new ProgramConfiguration};Painter.prototype.resize=function(e,r){var t=this.gl;this.width=e*browser.devicePixelRatio,this.height=r*browser.devicePixelRatio,t.viewport(0,0,this.width,this.height)},Painter.prototype.setup=function(){var e=this.gl;e.verbose=!0,e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.enable(e.STENCIL_TEST),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),this._depthMask=!1,e.depthMask(!1);var r=new PosArray;r.emplaceBack(0,0),r.emplaceBack(EXTENT,0),r.emplaceBack(0,EXTENT),r.emplaceBack(EXTENT,EXTENT),this.tileExtentBuffer=Buffer.fromStructArray(r,Buffer.BufferType.VERTEX),this.tileExtentVAO=new VertexArrayObject,this.tileExtentPatternVAO=new VertexArrayObject;var t=new PosArray;t.emplaceBack(0,0),t.emplaceBack(EXTENT,0),t.emplaceBack(EXTENT,EXTENT),t.emplaceBack(0,EXTENT),t.emplaceBack(0,0),this.debugBuffer=Buffer.fromStructArray(t,Buffer.BufferType.VERTEX),this.debugVAO=new VertexArrayObject;var i=new RasterBoundsArray;i.emplaceBack(0,0,0,0),i.emplaceBack(EXTENT,0,32767,0),i.emplaceBack(0,EXTENT,0,32767),i.emplaceBack(EXTENT,EXTENT,32767,32767),this.rasterBoundsBuffer=Buffer.fromStructArray(i,Buffer.BufferType.VERTEX),this.rasterBoundsVAO=new VertexArrayObject},Painter.prototype.clearColor=function(){var e=this.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},Painter.prototype.clearStencil=function(){var e=this.gl;e.clearStencil(0),e.stencilMask(255),e.clear(e.STENCIL_BUFFER_BIT)},Painter.prototype.clearDepth=function(){var e=this.gl;e.clearDepth(1),this.depthMask(!0),e.clear(e.DEPTH_BUFFER_BIT)},Painter.prototype._renderTileClippingMasks=function(e){var r=this,t=this.gl;t.colorMask(!1,!1,!1,!1),this.depthMask(!1),t.disable(t.DEPTH_TEST),t.enable(t.STENCIL_TEST),t.stencilMask(248),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE);var i=1;this._tileClippingMaskIDs={};for(var a=0,s=e;a<s.length;a+=1){var o=s[a],n=r._tileClippingMaskIDs[o.id]=i++<<3;t.stencilFunc(t.ALWAYS,n,248);var l=r.useProgram(\"fill\",r.basicFillProgramConfiguration);t.uniformMatrix4fv(l.u_matrix,!1,o.posMatrix),r.tileExtentVAO.bind(t,l,r.tileExtentBuffer),t.drawArrays(t.TRIANGLE_STRIP,0,r.tileExtentBuffer.length)}t.stencilMask(0),t.colorMask(!0,!0,!0,!0),this.depthMask(!0),t.enable(t.DEPTH_TEST)},Painter.prototype.enableTileClippingMask=function(e){var r=this.gl;r.stencilFunc(r.EQUAL,this._tileClippingMaskIDs[e.id],248)},Painter.prototype.prepareBuffers=function(){},Painter.prototype.bindDefaultFramebuffer=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},Painter.prototype.render=function(e,r){if(this.style=e,this.options=r,this.lineAtlas=e.lineAtlas,this.spriteAtlas=e.spriteAtlas,this.spriteAtlas.setSprite(e.sprite),this.glyphSource=e.glyphSource,this.frameHistory.record(Date.now(),this.transform.zoom,e.getTransition().duration),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.showOverdrawInspector(r.showOverdrawInspector),this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.isOpaquePass=!0,this.renderPass(),this.isOpaquePass=!1,this.renderPass(),this.options.showTileBoundaries){var t=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];t&&draw.debug(this,t,t.getVisibleCoordinates())}},Painter.prototype.renderPass=function(){var e,r,t=this,i=this.style._order;this.currentLayer=this.isOpaquePass?i.length-1:0,this.isOpaquePass?this._showOverdrawInspector||this.gl.disable(this.gl.BLEND):this.gl.enable(this.gl.BLEND);for(var a=0;a<i.length;a++){var s=t.style._layers[i[t.currentLayer]];s.source!==(e&&e.id)&&(e=t.style.sourceCaches[s.source],r=[],e&&(e.prepare&&e.prepare(),t.clearStencil(),r=e.getVisibleCoordinates(),e.getSource().isTileClipped&&t._renderTileClippingMasks(r)),t.isOpaquePass||r.reverse()),t.renderLayer(t,e,s,r),t.currentLayer+=t.isOpaquePass?-1:1}},Painter.prototype.depthMask=function(e){e!==this._depthMask&&(this._depthMask=e,this.gl.depthMask(e))},Painter.prototype.renderLayer=function(e,r,t,i){t.isHidden(this.transform.zoom)||(\"background\"===t.type||i.length)&&(this.id=t.id,draw[t.type](e,r,t,i))},Painter.prototype.setDepthSublayer=function(e){var r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon,t=r-1+this.depthRange;this.gl.depthRange(t,r)},Painter.prototype.translatePosMatrix=function(e,r,t,i){if(!t[0]&&!t[1])return e;if(\"viewport\"===i){var a=Math.sin(-this.transform.angle),s=Math.cos(-this.transform.angle);t=[t[0]*s-t[1]*a,t[0]*a+t[1]*s]}var o=[pixelsToTileUnits(r,t[0],this.transform.zoom),pixelsToTileUnits(r,t[1],this.transform.zoom),0],n=new Float32Array(16);return mat4.translate(n,e,o),n},Painter.prototype.saveTileTexture=function(e){var r=this.reusableTextures.tiles[e.size];r?r.push(e):this.reusableTextures.tiles[e.size]=[e]},Painter.prototype.saveViewportTexture=function(e){this.reusableTextures.viewport=e},Painter.prototype.getTileTexture=function(e){var r=this.reusableTextures.tiles[e];return r&&r.length>0?r.pop():null},Painter.prototype.getViewportTexture=function(e,r){var t=this.reusableTextures.viewport;if(t)return t.width===e&&t.height===r?t:(this.gl.deleteTexture(t),void(this.reusableTextures.viewport=null))},Painter.prototype.lineWidth=function(e){this.gl.lineWidth(util.clamp(e,this.lineWidthRange[0],this.lineWidthRange[1]))},Painter.prototype.showOverdrawInspector=function(e){if(e||this._showOverdrawInspector){this._showOverdrawInspector=e;var r=this.gl;if(e){r.blendFunc(r.CONSTANT_COLOR,r.ONE);var t=8,i=1/t;r.blendColor(i,i,i,0),r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT)}else r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA)}},Painter.prototype.createProgram=function(e,r){var t=this.gl,i=t.createProgram(),a=shaders[e],s=\"#define MAPBOX_GL_JS\\n#define DEVICE_PIXEL_RATIO \"+browser.devicePixelRatio.toFixed(1)+\"\\n\";this._showOverdrawInspector&&(s+=\"#define OVERDRAW_INSPECTOR;\\n\");var o=r.applyPragmas(s+shaders.prelude.fragmentSource+a.fragmentSource,\"fragment\"),n=r.applyPragmas(s+shaders.prelude.vertexSource+a.vertexSource,\"vertex\"),l=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(l,o),t.compileShader(l),t.attachShader(i,l);var h=t.createShader(t.VERTEX_SHADER);t.shaderSource(h,n),t.compileShader(h),t.attachShader(i,h),t.linkProgram(i);for(var u=t.getProgramParameter(i,t.ACTIVE_ATTRIBUTES),c={program:i,numAttributes:u},p=0;p<u;p++){var d=t.getActiveAttrib(i,p);c[d.name]=t.getAttribLocation(i,d.name)}for(var f=t.getProgramParameter(i,t.ACTIVE_UNIFORMS),g=0;g<f;g++){var m=t.getActiveUniform(i,g);c[m.name]=t.getUniformLocation(i,m.name)}return c},Painter.prototype._createProgramCached=function(e,r){this.cache=this.cache||{};var t=\"\"+e+(r.cacheKey||\"\")+(this._showOverdrawInspector?\"/overdraw\":\"\");return this.cache[t]||(this.cache[t]=this.createProgram(e,r)),this.cache[t]},Painter.prototype.useProgram=function(e,r){var t=this.gl,i=this._createProgramCached(e,r||this.emptyProgramConfiguration);return this.currentProgram!==i&&(t.useProgram(i.program),this.currentProgram=i),i},module.exports=Painter;\n},{\"../data/buffer\":51,\"../data/extent\":54,\"../data/pos_array\":57,\"../data/program_configuration\":58,\"../data/raster_bounds_array\":59,\"../source/pixels_to_tile_units\":87,\"../source/source_cache\":92,\"../util/browser\":192,\"../util/util\":212,\"./draw_background\":66,\"./draw_circle\":67,\"./draw_debug\":69,\"./draw_fill\":70,\"./draw_fill_extrusion\":71,\"./draw_line\":72,\"./draw_raster\":73,\"./draw_symbol\":74,\"./frame_history\":75,\"./shaders\":79,\"./vertex_array_object\":80,\"@mapbox/gl-matrix\":1}],78:[function(require,module,exports){\n\"use strict\";var pixelsToTileUnits=require(\"../source/pixels_to_tile_units\");exports.prepare=function(r,t,i){var o=t.gl,e=t.spriteAtlas.getPosition(r.from,!0),_=t.spriteAtlas.getPosition(r.to,!0);e&&_&&(o.uniform1i(i.u_image,0),o.uniform2fv(i.u_pattern_tl_a,e.tl),o.uniform2fv(i.u_pattern_br_a,e.br),o.uniform2fv(i.u_pattern_tl_b,_.tl),o.uniform2fv(i.u_pattern_br_b,_.br),o.uniform1f(i.u_mix,r.t),o.uniform2fv(i.u_pattern_size_a,e.size),o.uniform2fv(i.u_pattern_size_b,_.size),o.uniform1f(i.u_scale_a,r.fromScale),o.uniform1f(i.u_scale_b,r.toScale),o.activeTexture(o.TEXTURE0),t.spriteAtlas.bind(o,!0))},exports.setTile=function(r,t,i){var o=t.gl;o.uniform1f(i.u_tile_units_to_pixels,1/pixelsToTileUnits(r,1,t.transform.tileZoom));var e=Math.pow(2,r.coord.z),_=r.tileSize*Math.pow(2,t.transform.tileZoom)/e,u=_*(r.coord.x+r.coord.w*e),n=_*r.coord.y;o.uniform2f(i.u_pixel_coord_upper,u>>16,n>>16),o.uniform2f(i.u_pixel_coord_lower,65535&u,65535&n)};\n},{\"../source/pixels_to_tile_units\":87}],79:[function(require,module,exports){\n\"use strict\";var path=require(\"path\");module.exports={prelude:{fragmentSource:\"#ifdef GL_ES\\nprecision mediump float;\\n#else\\n\\n#if !defined(lowp)\\n#define lowp\\n#endif\\n\\n#if !defined(mediump)\\n#define mediump\\n#endif\\n\\n#if !defined(highp)\\n#define highp\\n#endif\\n\\n#endif\\n\",vertexSource:\"#ifdef GL_ES\\nprecision highp float;\\n#else\\n\\n#if !defined(lowp)\\n#define lowp\\n#endif\\n\\n#if !defined(mediump)\\n#define mediump\\n#endif\\n\\n#if !defined(highp)\\n#define highp\\n#endif\\n\\n#endif\\n\\nfloat evaluate_zoom_function_1(const vec4 values, const float t) {\\n    if (t < 1.0) {\\n        return mix(values[0], values[1], t);\\n    } else if (t < 2.0) {\\n        return mix(values[1], values[2], t - 1.0);\\n    } else {\\n        return mix(values[2], values[3], t - 2.0);\\n    }\\n}\\nvec4 evaluate_zoom_function_4(const vec4 value0, const vec4 value1, const vec4 value2, const vec4 value3, const float t) {\\n    if (t < 1.0) {\\n        return mix(value0, value1, t);\\n    } else if (t < 2.0) {\\n        return mix(value1, value2, t - 1.0);\\n    } else {\\n        return mix(value2, value3, t - 2.0);\\n    }\\n}\\n\\n\\n// To minimize the number of attributes needed in the mapbox-gl-native shaders,\\n// we encode a 4-component color into a pair of floats (i.e. a vec2) as follows:\\n// [ floor(color.r * 255) * 256 + color.g * 255,\\n//   floor(color.b * 255) * 256 + color.g * 255 ]\\nvec4 decode_color(const vec2 encodedColor) {\\n    float r = floor(encodedColor[0]/256.0)/255.0;\\n    float g = (encodedColor[0] - r*256.0*255.0)/255.0;\\n    float b = floor(encodedColor[1]/256.0)/255.0;\\n    float a = (encodedColor[1] - b*256.0*255.0)/255.0;\\n    return vec4(r, g, b, a);\\n}\\n\\n// Unpack a pair of paint values and interpolate between them.\\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\\n    return mix(packedValue[0], packedValue[1], t);\\n}\\n\\n// Unpack a pair of paint values and interpolate between them.\\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\\n    return mix(minColor, maxColor, t);\\n}\\n\\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\\n// vec2 offset = mod(pixel_coord, size)\\n//\\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\\n//\\n// The pixel_coord is passed in as two 16 bit values:\\n// pixel_coord_upper = floor(pixel_coord / 2^16)\\n// pixel_coord_lower = mod(pixel_coord, 2^16)\\n//\\n// The offset is calculated in a series of steps that should preserve this precision:\\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\\n\\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\\n}\\n\"},circle:{fragmentSource:\"#pragma mapbox: define lowp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\n\\nvarying vec2 v_extrude;\\nvarying lowp float v_antialiasblur;\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp vec4 color\\n    #pragma mapbox: initialize mediump float radius\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize lowp vec4 stroke_color\\n    #pragma mapbox: initialize mediump float stroke_width\\n    #pragma mapbox: initialize lowp float stroke_opacity\\n\\n    float extrude_length = length(v_extrude);\\n    float antialiased_blur = -max(blur, v_antialiasblur);\\n\\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\\n\\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\\n        antialiased_blur,\\n        0.0,\\n        extrude_length - radius / (radius + stroke_width)\\n    );\\n\\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n\",vertexSource:\"uniform mat4 u_matrix;\\nuniform bool u_scale_with_map;\\nuniform vec2 u_extrude_scale;\\n\\nattribute vec2 a_pos;\\n\\n#pragma mapbox: define lowp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\n\\nvarying vec2 v_extrude;\\nvarying lowp float v_antialiasblur;\\n\\nvoid main(void) {\\n    #pragma mapbox: initialize lowp vec4 color\\n    #pragma mapbox: initialize mediump float radius\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize lowp vec4 stroke_color\\n    #pragma mapbox: initialize mediump float stroke_width\\n    #pragma mapbox: initialize lowp float stroke_opacity\\n\\n    // unencode the extrusion vector that we snuck into the a_pos vector\\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\\n\\n    vec2 extrude = v_extrude * (radius + stroke_width) * u_extrude_scale;\\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\\n    // in extrusion data\\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\\n\\n    if (u_scale_with_map) {\\n        gl_Position.xy += extrude;\\n    } else {\\n        gl_Position.xy += extrude * gl_Position.w;\\n    }\\n\\n    // This is a minimum blur distance that serves as a faux-antialiasing for\\n    // the circle. since blur is a ratio of the circle's size and the intent is\\n    // to keep the blur at roughly 1px, the two are inversely related.\\n    v_antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\\n}\\n\"},collisionBox:{fragmentSource:\"uniform float u_zoom;\\nuniform float u_maxzoom;\\n\\nvarying float v_max_zoom;\\nvarying float v_placement_zoom;\\n\\nvoid main() {\\n\\n    float alpha = 0.5;\\n\\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\\n\\n    if (v_placement_zoom > u_zoom) {\\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\\n    }\\n\\n    if (u_zoom >= v_max_zoom) {\\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\\n    }\\n\\n    if (v_placement_zoom >= u_maxzoom) {\\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\\n    }\\n}\\n\",vertexSource:\"attribute vec2 a_pos;\\nattribute vec2 a_extrude;\\nattribute vec2 a_data;\\n\\nuniform mat4 u_matrix;\\nuniform float u_scale;\\n\\nvarying float v_max_zoom;\\nvarying float v_placement_zoom;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\\n\\n    v_max_zoom = a_data.x;\\n    v_placement_zoom = a_data.y;\\n}\\n\"},debug:{fragmentSource:\"uniform lowp vec4 u_color;\\n\\nvoid main() {\\n    gl_FragColor = u_color;\\n}\\n\",vertexSource:\"attribute vec2 a_pos;\\n\\nuniform mat4 u_matrix;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\\n}\\n\"},fill:{fragmentSource:\"#pragma mapbox: define lowp vec4 color\\n#pragma mapbox: define lowp float opacity\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp vec4 color\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    gl_FragColor = color * opacity;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n\",vertexSource:\"attribute vec2 a_pos;\\n\\nuniform mat4 u_matrix;\\n\\n#pragma mapbox: define lowp vec4 color\\n#pragma mapbox: define lowp float opacity\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp vec4 color\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n}\\n\"},fillOutline:{fragmentSource:\"#pragma mapbox: define lowp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\n\\nvarying vec2 v_pos;\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp vec4 outline_color\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    float dist = length(v_pos - gl_FragCoord.xy);\\n    float alpha = smoothstep(1.0, 0.0, dist);\\n    gl_FragColor = outline_color * (alpha * opacity);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n\",vertexSource:\"attribute vec2 a_pos;\\n\\nuniform mat4 u_matrix;\\nuniform vec2 u_world;\\n\\nvarying vec2 v_pos;\\n\\n#pragma mapbox: define lowp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp vec4 outline_color\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\\n}\\n\"},fillOutlinePattern:{fragmentSource:\"uniform vec2 u_pattern_tl_a;\\nuniform vec2 u_pattern_br_a;\\nuniform vec2 u_pattern_tl_b;\\nuniform vec2 u_pattern_br_b;\\nuniform float u_mix;\\n\\nuniform sampler2D u_image;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\nvarying vec2 v_pos;\\n\\n#pragma mapbox: define lowp float opacity\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    vec2 imagecoord = mod(v_pos_a, 1.0);\\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\\n    vec4 color1 = texture2D(u_image, pos);\\n\\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\\n    vec4 color2 = texture2D(u_image, pos2);\\n\\n    // find distance to outline for alpha interpolation\\n\\n    float dist = length(v_pos - gl_FragCoord.xy);\\n    float alpha = smoothstep(1.0, 0.0, dist);\\n\\n\\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n\",vertexSource:\"uniform mat4 u_matrix;\\nuniform vec2 u_world;\\nuniform vec2 u_pattern_size_a;\\nuniform vec2 u_pattern_size_b;\\nuniform vec2 u_pixel_coord_upper;\\nuniform vec2 u_pixel_coord_lower;\\nuniform float u_scale_a;\\nuniform float u_scale_b;\\nuniform float u_tile_units_to_pixels;\\n\\nattribute vec2 a_pos;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\nvarying vec2 v_pos;\\n\\n#pragma mapbox: define lowp float opacity\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n\\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\\n\\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\\n}\\n\"},fillPattern:{fragmentSource:\"uniform vec2 u_pattern_tl_a;\\nuniform vec2 u_pattern_br_a;\\nuniform vec2 u_pattern_tl_b;\\nuniform vec2 u_pattern_br_b;\\nuniform float u_mix;\\n\\nuniform sampler2D u_image;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\n\\n#pragma mapbox: define lowp float opacity\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    vec2 imagecoord = mod(v_pos_a, 1.0);\\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\\n    vec4 color1 = texture2D(u_image, pos);\\n\\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\\n    vec4 color2 = texture2D(u_image, pos2);\\n\\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n\",vertexSource:\"uniform mat4 u_matrix;\\nuniform vec2 u_pattern_size_a;\\nuniform vec2 u_pattern_size_b;\\nuniform vec2 u_pixel_coord_upper;\\nuniform vec2 u_pixel_coord_lower;\\nuniform float u_scale_a;\\nuniform float u_scale_b;\\nuniform float u_tile_units_to_pixels;\\n\\nattribute vec2 a_pos;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\n\\n#pragma mapbox: define lowp float opacity\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n\\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\\n}\\n\"},fillExtrusion:{fragmentSource:\"varying vec4 v_color;\\n#pragma mapbox: define lowp float base\\n#pragma mapbox: define lowp float height\\n#pragma mapbox: define lowp vec4 color\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float base\\n    #pragma mapbox: initialize lowp float height\\n    #pragma mapbox: initialize lowp vec4 color\\n\\n    gl_FragColor = v_color;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n\",vertexSource:\"uniform mat4 u_matrix;\\nuniform vec3 u_lightcolor;\\nuniform lowp vec3 u_lightpos;\\nuniform lowp float u_lightintensity;\\n\\nattribute vec2 a_pos;\\nattribute vec3 a_normal;\\nattribute float a_edgedistance;\\n\\nvarying vec4 v_color;\\n\\n#pragma mapbox: define lowp float base\\n#pragma mapbox: define lowp float height\\n\\n#pragma mapbox: define lowp vec4 color\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float base\\n    #pragma mapbox: initialize lowp float height\\n    #pragma mapbox: initialize lowp vec4 color\\n\\n    float ed = a_edgedistance; // use each attrib in order to not trip a VAO assert\\n    float t = mod(a_normal.x, 2.0);\\n\\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\\n\\n    // Relative luminance (how dark/bright is the surface color?)\\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\\n\\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\\n\\n    // Add slight ambient lighting so no extrusions are totally black\\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\\n    color += ambientlight;\\n\\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\\n    float directional = clamp(dot(a_normal / 16384.0, u_lightpos), 0.0, 1.0);\\n\\n    // Adjust directional so that\\n    // the range of values for highlight/shading is narrower\\n    // with lower light intensity\\n    // and with lighter/brighter surface colors\\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\\n\\n    // Add gradient along z axis of side surfaces\\n    if (a_normal.y != 0.0) {\\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\\n    }\\n\\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\\n    // with lower bounds adjusted to hue of light\\n    // so that shading is tinted with the complementary (opposite) color to the light color\\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\\n}\\n\"},fillExtrusionPattern:{fragmentSource:\"uniform vec2 u_pattern_tl_a;\\nuniform vec2 u_pattern_br_a;\\nuniform vec2 u_pattern_tl_b;\\nuniform vec2 u_pattern_br_b;\\nuniform float u_mix;\\n\\nuniform sampler2D u_image;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\nvarying vec4 v_lighting;\\n\\n#pragma mapbox: define lowp float base\\n#pragma mapbox: define lowp float height\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float base\\n    #pragma mapbox: initialize lowp float height\\n\\n    vec2 imagecoord = mod(v_pos_a, 1.0);\\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\\n    vec4 color1 = texture2D(u_image, pos);\\n\\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\\n    vec4 color2 = texture2D(u_image, pos2);\\n\\n    vec4 mixedColor = mix(color1, color2, u_mix);\\n\\n    gl_FragColor = mixedColor * v_lighting;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n\",vertexSource:\"uniform mat4 u_matrix;\\nuniform vec2 u_pattern_size_a;\\nuniform vec2 u_pattern_size_b;\\nuniform vec2 u_pixel_coord_upper;\\nuniform vec2 u_pixel_coord_lower;\\nuniform float u_scale_a;\\nuniform float u_scale_b;\\nuniform float u_tile_units_to_pixels;\\nuniform float u_height_factor;\\n\\nuniform vec3 u_lightcolor;\\nuniform lowp vec3 u_lightpos;\\nuniform lowp float u_lightintensity;\\n\\nattribute vec2 a_pos;\\nattribute vec3 a_normal;\\nattribute float a_edgedistance;\\n\\nvarying vec2 v_pos_a;\\nvarying vec2 v_pos_b;\\nvarying vec4 v_lighting;\\nvarying float v_directional;\\n\\n#pragma mapbox: define lowp float base\\n#pragma mapbox: define lowp float height\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float base\\n    #pragma mapbox: initialize lowp float height\\n\\n    float t = mod(a_normal.x, 2.0);\\n    float z = t > 0.0 ? height : base;\\n\\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\\n\\n    vec2 pos = a_normal.x == 1.0 && a_normal.y == 0.0 && a_normal.z == 16384.0\\n        ? a_pos // extrusion top\\n        : vec2(a_edgedistance, z * u_height_factor); // extrusion side\\n\\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\\n\\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\\n    float directional = clamp(dot(a_normal / 16383.0, u_lightpos), 0.0, 1.0);\\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\\n\\n    if (a_normal.y != 0.0) {\\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\\n    }\\n\\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\\n}\\n\"},extrusionTexture:{fragmentSource:\"uniform sampler2D u_texture;\\nuniform float u_opacity;\\n\\nvarying vec2 v_pos;\\n\\nvoid main() {\\n    gl_FragColor = texture2D(u_texture, v_pos) * u_opacity;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(0.0);\\n#endif\\n}\\n\",vertexSource:\"uniform mat4 u_matrix;\\nuniform int u_xdim;\\nuniform int u_ydim;\\nattribute vec2 a_pos;\\nvarying vec2 v_pos;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n\\n    v_pos.x = a_pos.x / float(u_xdim);\\n    v_pos.y = 1.0 - a_pos.y / float(u_ydim);\\n}\\n\"},line:{fragmentSource:\"#pragma mapbox: define lowp vec4 color\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n\\nvarying vec2 v_width2;\\nvarying vec2 v_normal;\\nvarying float v_gamma_scale;\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp vec4 color\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    // Calculate the distance of the pixel from the line in pixels.\\n    float dist = length(v_normal) * v_width2.s;\\n\\n    // Calculate the antialiasing fade factor. This is either when fading in\\n    // the line in case of an offset line (v_width2.t) or when fading out\\n    // (v_width2.s)\\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\\n\\n    gl_FragColor = color * (alpha * opacity);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n\",vertexSource:\"\\n\\n// the distance over which the line edge fades out.\\n// Retina devices need a smaller distance to avoid aliasing.\\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\\n\\n// floor(127 / 2) == 63.0\\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\\n// there are also \\\"special\\\" normals that have a bigger length (of up to 126 in\\n// this case).\\n// #define scale 63.0\\n#define scale 0.015873016\\n\\nattribute vec2 a_pos;\\nattribute vec4 a_data;\\n\\nuniform mat4 u_matrix;\\nuniform mediump float u_ratio;\\nuniform mediump float u_width;\\nuniform vec2 u_gl_units_to_pixels;\\n\\nvarying vec2 v_normal;\\nvarying vec2 v_width2;\\nvarying float v_gamma_scale;\\n\\n#pragma mapbox: define lowp vec4 color\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define lowp float offset\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp vec4 color\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize mediump float gapwidth\\n    #pragma mapbox: initialize lowp float offset\\n\\n    vec2 a_extrude = a_data.xy - 128.0;\\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\\n\\n    // We store the texture normals in the most insignificant bit\\n    // transform y so that 0 => -1 and 1 => 1\\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\\n    // y is 1 if the normal points up, and -1 if it points down\\n    mediump vec2 normal = mod(a_pos, 2.0);\\n    normal.y = sign(normal.y - 0.5);\\n    v_normal = normal;\\n\\n\\n    // these transformations used to be applied in the JS and native code bases. \\n    // moved them into the shader for clarity and simplicity. \\n    gapwidth = gapwidth / 2.0;\\n    float width = u_width / 2.0;\\n    offset = -1.0 * offset; \\n\\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\\n\\n    // Scale the extrusion vector down to a normal and then up by the line width\\n    // of this vertex.\\n    mediump vec2 dist = outset * a_extrude * scale;\\n\\n    // Calculate the offset when drawing a line that is to the side of the actual line.\\n    // We do this by creating a vector that points towards the extrude, but rotate\\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\\n    // extrude vector points in another direction.\\n    mediump float u = 0.5 * a_direction;\\n    mediump float t = 1.0 - abs(u);\\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\\n\\n    // Remove the texture normal bit to get the position\\n    vec2 pos = floor(a_pos * 0.5);\\n\\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\\n\\n    // calculate how much the perspective view squishes or stretches the extrude\\n    float extrude_length_without_perspective = length(dist);\\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\\n\\n    v_width2 = vec2(outset, inset);\\n}\\n\"},linePattern:{fragmentSource:\"uniform vec2 u_pattern_size_a;\\nuniform vec2 u_pattern_size_b;\\nuniform vec2 u_pattern_tl_a;\\nuniform vec2 u_pattern_br_a;\\nuniform vec2 u_pattern_tl_b;\\nuniform vec2 u_pattern_br_b;\\nuniform float u_fade;\\n\\nuniform sampler2D u_image;\\n\\nvarying vec2 v_normal;\\nvarying vec2 v_width2;\\nvarying float v_linesofar;\\nvarying float v_gamma_scale;\\n\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    // Calculate the distance of the pixel from the line in pixels.\\n    float dist = length(v_normal) * v_width2.s;\\n\\n    // Calculate the antialiasing fade factor. This is either when fading in\\n    // the line in case of an offset line (v_width2.t) or when fading out\\n    // (v_width2.s)\\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\\n\\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\\n    vec2 pos_a = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\\n    vec2 pos_b = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\\n\\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\\n\\n    gl_FragColor = color * alpha * opacity;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n\",vertexSource:\"// floor(127 / 2) == 63.0\\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\\n// there are also \\\"special\\\" normals that have a bigger length (of up to 126 in\\n// this case).\\n// #define scale 63.0\\n#define scale 0.015873016\\n\\n// We scale the distance before adding it to the buffers so that we can store\\n// long distances for long segments. Use this value to unscale the distance.\\n#define LINE_DISTANCE_SCALE 2.0\\n\\n// the distance over which the line edge fades out.\\n// Retina devices need a smaller distance to avoid aliasing.\\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\\n\\nattribute vec2 a_pos;\\nattribute vec4 a_data;\\n\\nuniform mat4 u_matrix;\\nuniform mediump float u_ratio;\\nuniform mediump float u_width;\\nuniform vec2 u_gl_units_to_pixels;\\n\\nvarying vec2 v_normal;\\nvarying vec2 v_width2;\\nvarying float v_linesofar;\\nvarying float v_gamma_scale;\\n\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float gapwidth\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize lowp float offset\\n    #pragma mapbox: initialize mediump float gapwidth\\n\\n    vec2 a_extrude = a_data.xy - 128.0;\\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\\n\\n    // We store the texture normals in the most insignificant bit\\n    // transform y so that 0 => -1 and 1 => 1\\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\\n    // y is 1 if the normal points up, and -1 if it points down\\n    mediump vec2 normal = mod(a_pos, 2.0);\\n    normal.y = sign(normal.y - 0.5);\\n    v_normal = normal;\\n\\n    // these transformations used to be applied in the JS and native code bases. \\n    // moved them into the shader for clarity and simplicity. \\n    gapwidth = gapwidth / 2.0;\\n    float width = u_width / 2.0;\\n    offset = -1.0 * offset; \\n\\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\\n\\n    // Scale the extrusion vector down to a normal and then up by the line width\\n    // of this vertex.\\n    mediump vec2 dist = outset * a_extrude * scale;\\n\\n    // Calculate the offset when drawing a line that is to the side of the actual line.\\n    // We do this by creating a vector that points towards the extrude, but rotate\\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\\n    // extrude vector points in another direction.\\n    mediump float u = 0.5 * a_direction;\\n    mediump float t = 1.0 - abs(u);\\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\\n\\n    // Remove the texture normal bit to get the position\\n    vec2 pos = floor(a_pos * 0.5);\\n\\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\\n\\n    // calculate how much the perspective view squishes or stretches the extrude\\n    float extrude_length_without_perspective = length(dist);\\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\\n\\n    v_linesofar = a_linesofar;\\n    v_width2 = vec2(outset, inset);\\n}\\n\"},lineSDF:{fragmentSource:\"\\nuniform sampler2D u_image;\\nuniform float u_sdfgamma;\\nuniform float u_mix;\\n\\nvarying vec2 v_normal;\\nvarying vec2 v_width2;\\nvarying vec2 v_tex_a;\\nvarying vec2 v_tex_b;\\nvarying float v_gamma_scale;\\n\\n#pragma mapbox: define lowp vec4 color\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp vec4 color\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    // Calculate the distance of the pixel from the line in pixels.\\n    float dist = length(v_normal) * v_width2.s;\\n\\n    // Calculate the antialiasing fade factor. This is either when fading in\\n    // the line in case of an offset line (v_width2.t) or when fading out\\n    // (v_width2.s)\\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\\n\\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\\n\\n    gl_FragColor = color * (alpha * opacity);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n\",vertexSource:\"// floor(127 / 2) == 63.0\\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\\n// there are also \\\"special\\\" normals that have a bigger length (of up to 126 in\\n// this case).\\n// #define scale 63.0\\n#define scale 0.015873016\\n\\n// We scale the distance before adding it to the buffers so that we can store\\n// long distances for long segments. Use this value to unscale the distance.\\n#define LINE_DISTANCE_SCALE 2.0\\n\\n// the distance over which the line edge fades out.\\n// Retina devices need a smaller distance to avoid aliasing.\\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\\n\\nattribute vec2 a_pos;\\nattribute vec4 a_data;\\n\\nuniform mat4 u_matrix;\\nuniform mediump float u_ratio;\\nuniform vec2 u_patternscale_a;\\nuniform float u_tex_y_a;\\nuniform vec2 u_patternscale_b;\\nuniform float u_tex_y_b;\\nuniform vec2 u_gl_units_to_pixels;\\nuniform mediump float u_width;\\n\\nvarying vec2 v_normal;\\nvarying vec2 v_width2;\\nvarying vec2 v_tex_a;\\nvarying vec2 v_tex_b;\\nvarying float v_gamma_scale;\\n\\n#pragma mapbox: define lowp vec4 color\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define lowp float offset\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp vec4 color\\n    #pragma mapbox: initialize lowp float blur\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize mediump float gapwidth\\n    #pragma mapbox: initialize lowp float offset\\n\\n    vec2 a_extrude = a_data.xy - 128.0;\\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\\n\\n    // We store the texture normals in the most insignificant bit\\n    // transform y so that 0 => -1 and 1 => 1\\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\\n    // y is 1 if the normal points up, and -1 if it points down\\n    mediump vec2 normal = mod(a_pos, 2.0);\\n    normal.y = sign(normal.y - 0.5);\\n    v_normal = normal;\\n\\n    // these transformations used to be applied in the JS and native code bases. \\n    // moved them into the shader for clarity and simplicity. \\n    gapwidth = gapwidth / 2.0;\\n    float width = u_width / 2.0;\\n    offset = -1.0 * offset;\\n \\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\\n\\n    // Scale the extrusion vector down to a normal and then up by the line width\\n    // of this vertex.\\n    mediump vec2 dist =outset * a_extrude * scale;\\n\\n    // Calculate the offset when drawing a line that is to the side of the actual line.\\n    // We do this by creating a vector that points towards the extrude, but rotate\\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\\n    // extrude vector points in another direction.\\n    mediump float u = 0.5 * a_direction;\\n    mediump float t = 1.0 - abs(u);\\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\\n\\n    // Remove the texture normal bit to get the position\\n    vec2 pos = floor(a_pos * 0.5);\\n\\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\\n\\n    // calculate how much the perspective view squishes or stretches the extrude\\n    float extrude_length_without_perspective = length(dist);\\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\\n\\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\\n\\n    v_width2 = vec2(outset, inset);\\n}\\n\"\n},raster:{fragmentSource:\"uniform float u_fade_t;\\nuniform float u_opacity;\\nuniform sampler2D u_image0;\\nuniform sampler2D u_image1;\\nvarying vec2 v_pos0;\\nvarying vec2 v_pos1;\\n\\nuniform float u_brightness_low;\\nuniform float u_brightness_high;\\n\\nuniform float u_saturation_factor;\\nuniform float u_contrast_factor;\\nuniform vec3 u_spin_weights;\\n\\nvoid main() {\\n\\n    // read and cross-fade colors from the main and parent tiles\\n    vec4 color0 = texture2D(u_image0, v_pos0);\\n    vec4 color1 = texture2D(u_image1, v_pos1);\\n    vec4 color = mix(color0, color1, u_fade_t);\\n    color.a *= u_opacity;\\n    vec3 rgb = color.rgb;\\n\\n    // spin\\n    rgb = vec3(\\n        dot(rgb, u_spin_weights.xyz),\\n        dot(rgb, u_spin_weights.zxy),\\n        dot(rgb, u_spin_weights.yzx));\\n\\n    // saturation\\n    float average = (color.r + color.g + color.b) / 3.0;\\n    rgb += (average - rgb) * u_saturation_factor;\\n\\n    // contrast\\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\\n\\n    // brightness\\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\\n\\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n\",vertexSource:\"uniform mat4 u_matrix;\\nuniform vec2 u_tl_parent;\\nuniform float u_scale_parent;\\nuniform float u_buffer_scale;\\n\\nattribute vec2 a_pos;\\nattribute vec2 a_texture_pos;\\n\\nvarying vec2 v_pos0;\\nvarying vec2 v_pos1;\\n\\nvoid main() {\\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\\n}\\n\"},symbolIcon:{fragmentSource:\"uniform sampler2D u_texture;\\nuniform sampler2D u_fadetexture;\\n\\n#pragma mapbox: define lowp float opacity\\n\\nvarying vec2 v_tex;\\nvarying vec2 v_fade_tex;\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * opacity;\\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n\",vertexSource:\"\\nattribute vec4 a_pos_offset;\\nattribute vec2 a_texture_pos;\\nattribute vec4 a_data;\\n\\n#pragma mapbox: define lowp float opacity\\n\\n// matrix is for the vertex position.\\nuniform mat4 u_matrix;\\n\\nuniform mediump float u_zoom;\\nuniform bool u_rotate_with_map;\\nuniform vec2 u_extrude_scale;\\n\\nuniform vec2 u_texsize;\\n\\nvarying vec2 v_tex;\\nvarying vec2 v_fade_tex;\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp float opacity\\n\\n    vec2 a_pos = a_pos_offset.xy;\\n    vec2 a_offset = a_pos_offset.zw;\\n\\n    vec2 a_tex = a_texture_pos.xy;\\n    mediump float a_labelminzoom = a_data[0];\\n    mediump vec2 a_zoom = a_data.pq;\\n    mediump float a_minzoom = a_zoom[0];\\n    mediump float a_maxzoom = a_zoom[1];\\n\\n    // u_zoom is the current zoom level adjusted for the change in font size\\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\\n\\n    vec2 extrude = u_extrude_scale * (a_offset / 64.0);\\n    if (u_rotate_with_map) {\\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\\n        gl_Position.z += z * gl_Position.w;\\n    } else {\\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\\n    }\\n\\n    v_tex = a_tex / u_texsize;\\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\\n}\\n\"},symbolSDF:{fragmentSource:\"#define SDF_PX 8.0\\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\\n\\nuniform bool u_is_halo;\\n#pragma mapbox: define lowp vec4 fill_color\\n#pragma mapbox: define lowp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n\\nuniform sampler2D u_texture;\\nuniform sampler2D u_fadetexture;\\nuniform lowp float u_font_scale;\\nuniform highp float u_gamma_scale;\\n\\nvarying vec2 v_tex;\\nvarying vec2 v_fade_tex;\\nvarying float v_gamma_scale;\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp vec4 fill_color\\n    #pragma mapbox: initialize lowp vec4 halo_color\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize lowp float halo_width\\n    #pragma mapbox: initialize lowp float halo_blur\\n\\n    lowp vec4 color = fill_color;\\n    lowp float gamma = EDGE_GAMMA / u_gamma_scale;\\n    lowp float buff = (256.0 - 64.0) / 256.0;\\n    if (u_is_halo) {\\n        color = halo_color;\\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / u_gamma_scale;\\n        buff = (6.0 - halo_width / u_font_scale) / SDF_PX;\\n    }\\n\\n    lowp float dist = texture2D(u_texture, v_tex).a;\\n    lowp float fade_alpha = texture2D(u_fadetexture, v_fade_tex).a;\\n    highp float gamma_scaled = gamma * v_gamma_scale;\\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist) * fade_alpha;\\n\\n    gl_FragColor = color * (alpha * opacity);\\n\\n#ifdef OVERDRAW_INSPECTOR\\n    gl_FragColor = vec4(1.0);\\n#endif\\n}\\n\",vertexSource:\"const float PI = 3.141592653589793;\\n\\nattribute vec4 a_pos_offset;\\nattribute vec2 a_texture_pos;\\nattribute vec4 a_data;\\n\\n#pragma mapbox: define lowp vec4 fill_color\\n#pragma mapbox: define lowp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n\\n// matrix is for the vertex position.\\nuniform mat4 u_matrix;\\n\\nuniform mediump float u_zoom;\\nuniform bool u_rotate_with_map;\\nuniform bool u_pitch_with_map;\\nuniform mediump float u_pitch;\\nuniform mediump float u_bearing;\\nuniform mediump float u_aspect_ratio;\\nuniform vec2 u_extrude_scale;\\n\\nuniform vec2 u_texsize;\\n\\nvarying vec2 v_tex;\\nvarying vec2 v_fade_tex;\\nvarying float v_gamma_scale;\\n\\nvoid main() {\\n    #pragma mapbox: initialize lowp vec4 fill_color\\n    #pragma mapbox: initialize lowp vec4 halo_color\\n    #pragma mapbox: initialize lowp float opacity\\n    #pragma mapbox: initialize lowp float halo_width\\n    #pragma mapbox: initialize lowp float halo_blur\\n\\n    vec2 a_pos = a_pos_offset.xy;\\n    vec2 a_offset = a_pos_offset.zw;\\n\\n    vec2 a_tex = a_texture_pos.xy;\\n    mediump float a_labelminzoom = a_data[0];\\n    mediump vec2 a_zoom = a_data.pq;\\n    mediump float a_minzoom = a_zoom[0];\\n    mediump float a_maxzoom = a_zoom[1];\\n\\n    // u_zoom is the current zoom level adjusted for the change in font size\\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\\n\\n    // pitch-alignment: map\\n    // rotation-alignment: map | viewport\\n    if (u_pitch_with_map) {\\n        lowp float angle = u_rotate_with_map ? (a_data[1] / 256.0 * 2.0 * PI) : u_bearing;\\n        lowp float asin = sin(angle);\\n        lowp float acos = cos(angle);\\n        mat2 RotationMatrix = mat2(acos, asin, -1.0 * asin, acos);\\n        vec2 offset = RotationMatrix * a_offset;\\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\\n        gl_Position.z += z * gl_Position.w;\\n    // pitch-alignment: viewport\\n    // rotation-alignment: map\\n    } else if (u_rotate_with_map) {\\n        // foreshortening factor to apply on pitched maps\\n        // as a label goes from horizontal <=> vertical in angle\\n        // it goes from 0% foreshortening to up to around 70% foreshortening\\n        lowp float pitchfactor = 1.0 - cos(u_pitch * sin(u_pitch * 0.75));\\n\\n        lowp float lineangle = a_data[1] / 256.0 * 2.0 * PI;\\n\\n        // use the lineangle to position points a,b along the line\\n        // project the points and calculate the label angle in projected space\\n        // this calculation allows labels to be rendered unskewed on pitched maps\\n        vec4 a = u_matrix * vec4(a_pos, 0, 1);\\n        vec4 b = u_matrix * vec4(a_pos + vec2(cos(lineangle),sin(lineangle)), 0, 1);\\n        lowp float angle = atan((b[1]/b[3] - a[1]/a[3])/u_aspect_ratio, b[0]/b[3] - a[0]/a[3]);\\n        lowp float asin = sin(angle);\\n        lowp float acos = cos(angle);\\n        mat2 RotationMatrix = mat2(acos, -1.0 * asin, asin, acos);\\n\\n        vec2 offset = RotationMatrix * (vec2((1.0-pitchfactor)+(pitchfactor*cos(angle*2.0)), 1.0) * a_offset);\\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\\n        gl_Position.z += z * gl_Position.w;\\n    // pitch-alignment: viewport\\n    // rotation-alignment: viewport\\n    } else {\\n        vec2 extrude = u_extrude_scale * (a_offset / 64.0);\\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\\n    }\\n\\n    v_gamma_scale = gl_Position.w;\\n\\n    v_tex = a_tex / u_texsize;\\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\\n}\\n\"}};\n},{\"path\":23}],80:[function(require,module,exports){\n\"use strict\";var VertexArrayObject=function(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundElementBuffer=null,this.boundVertexOffset=null,this.vao=null};VertexArrayObject.prototype.bind=function(e,t,r,i,n,o){void 0===e.extVertexArrayObject&&(e.extVertexArrayObject=e.getExtension(\"OES_vertex_array_object\"));var s=!this.vao||this.boundProgram!==t||this.boundVertexBuffer!==r||this.boundVertexBuffer2!==n||this.boundElementBuffer!==i||this.boundVertexOffset!==o;!e.extVertexArrayObject||s?(this.freshBind(e,t,r,i,n,o),this.gl=e):e.extVertexArrayObject.bindVertexArrayOES(this.vao)},VertexArrayObject.prototype.freshBind=function(e,t,r,i,n,o){var s,u=t.numAttributes;if(e.extVertexArrayObject)this.vao&&this.destroy(),this.vao=e.extVertexArrayObject.createVertexArrayOES(),e.extVertexArrayObject.bindVertexArrayOES(this.vao),s=0,this.boundProgram=t,this.boundVertexBuffer=r,this.boundVertexBuffer2=n,this.boundElementBuffer=i,this.boundVertexOffset=o;else{s=e.currentNumAttributes||0;for(var b=u;b<s;b++)e.disableVertexAttribArray(b)}for(var a=s;a<u;a++)e.enableVertexAttribArray(a);r.bind(e),r.setVertexAttribPointers(e,t,o),n&&(n.bind(e),n.setVertexAttribPointers(e,t,o)),i&&i.bind(e),e.currentNumAttributes=u},VertexArrayObject.prototype.destroy=function(){this.vao&&(this.gl.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},module.exports=VertexArrayObject;\n},{}],81:[function(require,module,exports){\n\"use strict\";var ImageSource=require(\"./image_source\"),window=require(\"../util/window\"),CanvasSource=function(t){function i(i,a,s,n){t.call(this,i,a,s,n),this.options=a,this.animate=!a.hasOwnProperty(\"animate\")||a.animate}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.load=function(){if(this.canvas=this.canvas||window.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions(this.canvas))return this.fire(\"error\",new Error(\"Canvas dimensions cannot be less than or equal to zero.\"));var t;this.play=function(){t=this.map.style.animationLoop.set(1/0),this.map._rerender()},this.pause=function(){this.map.style.animationLoop.cancel(t)},this._finishLoading()},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.canvas&&this.animate&&this.play())},i.prototype.prepare=function(){var t=!1;this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions()||this.tile&&this._prepareImage(this.map.painter.gl,this.canvas,t)},i.prototype.serialize=function(){return{type:\"canvas\",canvas:this.canvas,coordinates:this.coordinates}},i.prototype._hasInvalidDimensions=function(){for(var t=this,i=0,a=[t.canvas.width,t.canvas.height];i<a.length;i+=1){var s=a[i];if(isNaN(s)||s<=0)return!0}return!1},i}(ImageSource);module.exports=CanvasSource;\n},{\"../util/window\":194,\"./image_source\":85}],82:[function(require,module,exports){\n\"use strict\";function resolveURL(t){var e=window.document.createElement(\"a\");return e.href=t,e.href}var Evented=require(\"../util/evented\"),util=require(\"../util/util\"),window=require(\"../util/window\"),EXTENT=require(\"../data/extent\"),GeoJSONSource=function(t){function e(e,o,i,r){t.call(this),o=o||{},this.id=e,this.type=\"geojson\",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=i,this.setEventedParent(r),this._data=o.data,void 0!==o.maxzoom&&(this.maxzoom=o.maxzoom),o.type&&(this.type=o.type);var a=EXTENT/this.tileSize;this.workerOptions=util.extend({source:this.id,cluster:o.cluster||!1,geojsonVtOptions:{buffer:(void 0!==o.buffer?o.buffer:128)*a,tolerance:(void 0!==o.tolerance?o.tolerance:.375)*a,extent:EXTENT,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:Math.min(o.clusterMaxZoom,this.maxzoom-1)||this.maxzoom-1,extent:EXTENT,radius:(o.clusterRadius||50)*a,log:!1}},o.workerOptions)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire(\"dataloading\",{dataType:\"source\"}),this._updateWorkerData(function(e){return e?void t.fire(\"error\",{error:e}):void t.fire(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})})},e.prototype.onAdd=function(t){this.load(),this.map=t},e.prototype.setData=function(t){var e=this;return this._data=t,this.fire(\"dataloading\",{dataType:\"source\"}),this._updateWorkerData(function(t){return t?e.fire(\"error\",{error:t}):void e.fire(\"data\",{dataType:\"source\",sourceDataType:\"content\"})}),this},e.prototype._updateWorkerData=function(t){var e=this,o=util.extend({},this.workerOptions),i=this._data;\"string\"==typeof i?o.url=resolveURL(i):o.data=JSON.stringify(i),this.workerID=this.dispatcher.send(this.type+\".loadData\",o,function(o){e._loaded=!0,t(o)})},e.prototype.loadTile=function(t,e){var o=this,i=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,r={type:this.type,uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:i,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(\"loadTile\",r,function(i,r){if(t.unloadVectorData(),!t.aborted)return i?e(i):(t.loadVectorData(r,o.map.painter),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(o)),e(null))},this.workerID)},e.prototype.abortTile=function(t){t.aborted=!0},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send(\"removeTile\",{uid:t.uid,type:this.type,source:this.id},function(){},t.workerID)},e.prototype.onRemove=function(){this.dispatcher.broadcast(\"removeSource\",{type:this.type,source:this.id},function(){})},e.prototype.serialize=function(){return{type:this.type,data:this._data}},e}(Evented);module.exports=GeoJSONSource;\n},{\"../data/extent\":54,\"../util/evented\":200,\"../util/util\":212,\"../util/window\":194}],83:[function(require,module,exports){\n\"use strict\";var ajax=require(\"../util/ajax\"),rewind=require(\"geojson-rewind\"),GeoJSONWrapper=require(\"./geojson_wrapper\"),vtpbf=require(\"vt-pbf\"),supercluster=require(\"supercluster\"),geojsonvt=require(\"geojson-vt\"),VectorTileWorkerSource=require(\"./vector_tile_worker_source\"),GeoJSONWorkerSource=function(e){function r(r,t,o){e.call(this,r,t),o&&(this.loadGeoJSON=o),this._geoJSONIndexes={}}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.loadVectorData=function(e,r){var t=e.source,o=e.coord;if(!this._geoJSONIndexes[t])return r(null,null);var n=this._geoJSONIndexes[t].getTile(Math.min(o.z,e.maxZoom),o.x,o.y);if(!n)return r(null,null);var u=new GeoJSONWrapper(n.features);u.name=\"_geojsonTileLayer\";var a=vtpbf({layers:{_geojsonTileLayer:u}});0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),u.rawData=a.buffer,r(null,u)},r.prototype.loadData=function(e,r){var t=function(t,o){var n=this;return t?r(t):\"object\"!=typeof o?r(new Error(\"Input data is not a valid GeoJSON object.\")):(rewind(o,!0),void this._indexData(o,e,function(t,o){return t?r(t):(n._geoJSONIndexes[e.source]=o,void r(null))}))}.bind(this);this.loadGeoJSON(e,t)},r.prototype.loadGeoJSON=function(e,r){if(e.url)ajax.getJSON(e.url,r);else{if(\"string\"!=typeof e.data)return r(new Error(\"Input data is not a valid GeoJSON object.\"));try{return r(null,JSON.parse(e.data))}catch(e){return r(new Error(\"Input data is not a valid GeoJSON object.\"))}}},r.prototype.removeSource=function(e){this._geoJSONIndexes[e.source]&&delete this._geoJSONIndexes[e.source]},r.prototype._indexData=function(e,r,t){try{r.cluster?t(null,supercluster(r.superclusterOptions).load(e.features)):t(null,geojsonvt(e,r.geojsonVtOptions))}catch(e){return t(e)}},r}(VectorTileWorkerSource);module.exports=GeoJSONWorkerSource;\n},{\"../util/ajax\":191,\"./geojson_wrapper\":84,\"./vector_tile_worker_source\":96,\"geojson-rewind\":7,\"geojson-vt\":11,\"supercluster\":29,\"vt-pbf\":38}],84:[function(require,module,exports){\n\"use strict\";var Point=require(\"point-geometry\"),VectorTileFeature=require(\"vector-tile\").VectorTileFeature,EXTENT=require(\"../data/extent\"),FeatureWrapper=function(e){var t=this;if(this.type=e.type,1===e.type){this.rawGeometry=[];for(var r=0;r<e.geometry.length;r++)t.rawGeometry.push([e.geometry[r]])}else this.rawGeometry=e.geometry;this.properties=e.tags,\"id\"in e&&(this.id=e.id),this.extent=EXTENT};FeatureWrapper.prototype.loadGeometry=function(){var e=this,t=this.rawGeometry;this.geometry=[];for(var r=0;r<t.length;r++){for(var o=t[r],a=[],i=0;i<o.length;i++)a.push(new Point(o[i][0],o[i][1]));e.geometry.push(a)}return this.geometry},FeatureWrapper.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-(1/0),o=1/0,a=-(1/0),i=0;i<e.length;i++)for(var p=e[i],h=0;h<p.length;h++){var n=p[h];t=Math.min(t,n.x),r=Math.max(r,n.x),o=Math.min(o,n.y),a=Math.max(a,n.y)}return[t,o,r,a]},FeatureWrapper.prototype.toGeoJSON=function(){VectorTileFeature.prototype.toGeoJSON.call(this)};var GeoJSONWrapper=function(e){this.features=e,this.length=e.length,this.extent=EXTENT};GeoJSONWrapper.prototype.feature=function(e){return new FeatureWrapper(this.features[e])},module.exports=GeoJSONWrapper;\n},{\"../data/extent\":54,\"point-geometry\":26,\"vector-tile\":34}],85:[function(require,module,exports){\n\"use strict\";var util=require(\"../util/util\"),window=require(\"../util/window\"),TileCoord=require(\"./tile_coord\"),LngLat=require(\"../geo/lng_lat\"),Point=require(\"point-geometry\"),Evented=require(\"../util/evented\"),ajax=require(\"../util/ajax\"),EXTENT=require(\"../data/extent\"),RasterBoundsArray=require(\"../data/raster_bounds_array\"),Buffer=require(\"../data/buffer\"),VertexArrayObject=require(\"../render/vertex_array_object\"),ImageSource=function(t){function e(e,o,r,i){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=o.coordinates,this.type=\"image\",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.setEventedParent(i),this.options=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire(\"dataloading\",{dataType:\"source\"}),this.url=this.options.url,ajax.getImage(this.options.url,function(e,o){return e?t.fire(\"error\",{error:e}):(t.image=o,void t._finishLoading())})},e.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"}))},e.prototype.onAdd=function(t){this.load(),this.map=t,this.image&&this.setCoordinates(this.coordinates)},e.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,o=t.map(function(t){return e.transform.locationCoordinate(LngLat.convert(t)).zoomTo(0)}),r=this.centerCoord=util.getCoordinatesCenter(o);return r.column=Math.round(r.column),r.row=Math.round(r.row),this.minzoom=this.maxzoom=r.zoom,this.coord=new TileCoord(r.zoom,r.column,r.row),this._tileCoords=o.map(function(t){var e=t.zoomTo(r.zoom);return new Point(Math.round((e.column-r.column)*EXTENT),Math.round((e.row-r.row)*EXTENT))}),this.fire(\"data\",{dataType:\"source\",sourceDataType:\"content\"}),this},e.prototype._setTile=function(t){this.tile=t;var e=32767,o=new RasterBoundsArray;o.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),o.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,e,0),o.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,e),o.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,e,e),this.tile.buckets={},this.tile.boundsBuffer=Buffer.fromStructArray(o,Buffer.BufferType.VERTEX),this.tile.boundsVAO=new VertexArrayObject},e.prototype.prepare=function(){this.tile&&this.image&&this._prepareImage(this.map.painter.gl,this.image)},e.prototype._prepareImage=function(t,e,o){\"loaded\"!==this.tile.state?(this.tile.state=\"loaded\",this.tile.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)):o?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e):(e instanceof window.HTMLVideoElement||e instanceof window.ImageData||e instanceof window.HTMLCanvasElement)&&(t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,e))},e.prototype.loadTile=function(t,e){this.coord&&this.coord.toString()===t.coord.toString()?(this._setTile(t),e(null)):(t.state=\"errored\",e(null))},e.prototype.serialize=function(){return{type:\"image\",urls:this.url,coordinates:this.coordinates}},e}(Evented);module.exports=ImageSource;\n},{\"../data/buffer\":51,\"../data/extent\":54,\"../data/raster_bounds_array\":59,\"../geo/lng_lat\":62,\"../render/vertex_array_object\":80,\"../util/ajax\":191,\"../util/evented\":200,\"../util/util\":212,\"../util/window\":194,\"./tile_coord\":94,\"point-geometry\":26}],86:[function(require,module,exports){\n\"use strict\";var util=require(\"../util/util\"),ajax=require(\"../util/ajax\"),browser=require(\"../util/browser\"),normalizeURL=require(\"../util/mapbox\").normalizeSourceURL;module.exports=function(r,e){var i=function(r,i){if(r)return e(r);var o=util.pick(i,[\"tiles\",\"minzoom\",\"maxzoom\",\"attribution\",\"mapbox_logo\"]);i.vector_layers&&(o.vectorLayers=i.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(r){return r.id})),e(null,o)};r.url?ajax.getJSON(normalizeURL(r.url),i):browser.frame(i.bind(null,null,r))};\n},{\"../util/ajax\":191,\"../util/browser\":192,\"../util/mapbox\":208,\"../util/util\":212}],87:[function(require,module,exports){\n\"use strict\";var EXTENT=require(\"../data/extent\");module.exports=function(e,t,r){return t*(EXTENT/(e.tileSize*Math.pow(2,r-e.coord.z)))};\n},{\"../data/extent\":54}],88:[function(require,module,exports){\n\"use strict\";function sortTilesIn(e,r){var o=e.coord,t=r.coord;return o.z-t.z||o.y-t.y||o.w-t.w||o.x-t.x}function mergeRenderedFeatureLayers(e){for(var r=e[0]||{},o=1;o<e.length;o++){var t=e[o];for(var n in t){var a=t[n],i=r[n];if(void 0===i)i=r[n]=a;else for(var u=0;u<a.length;u++)i.push(a[u])}}return r}var TileCoord=require(\"./tile_coord\");exports.rendered=function(e,r,o,t,n,a){var i=e.tilesIn(o);i.sort(sortTilesIn);for(var u=[],s=0;s<i.length;s++){var d=i[s];d.tile.featureIndex&&u.push(d.tile.featureIndex.query({queryGeometry:d.queryGeometry,scale:d.scale,tileSize:d.tile.tileSize,bearing:a,params:t},r))}return mergeRenderedFeatureLayers(u)},exports.source=function(e,r){for(var o=e.getRenderableIds().map(function(r){return e.getTileByID(r)}),t=[],n={},a=0;a<o.length;a++){var i=o[a],u=new TileCoord(Math.min(i.sourceMaxZoom,i.coord.z),i.coord.x,i.coord.y,0).id;n[u]||(n[u]=!0,i.querySourceFeatures(t,r))}return t};\n},{\"./tile_coord\":94}],89:[function(require,module,exports){\n\"use strict\";var util=require(\"../util/util\"),ajax=require(\"../util/ajax\"),Evented=require(\"../util/evented\"),loadTileJSON=require(\"./load_tilejson\"),normalizeURL=require(\"../util/mapbox\").normalizeTileURL,RasterTileSource=function(e){function t(t,i,r,a){e.call(this),this.id=t,this.dispatcher=r,this.setEventedParent(a),this.type=\"raster\",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme=\"xyz\",this.tileSize=512,this._loaded=!1,this.options=i,util.extend(this,util.pick(i,[\"url\",\"scheme\",\"tileSize\"]))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire(\"dataloading\",{dataType:\"source\"}),loadTileJSON(this.options,function(t,i){return t?e.fire(\"error\",t):(util.extend(e,i),e.fire(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"}),void e.fire(\"data\",{dataType:\"source\",sourceDataType:\"content\"}))})},t.prototype.onAdd=function(e){this.load(),this.map=e},t.prototype.serialize=function(){return{type:\"raster\",url:this.url,tileSize:this.tileSize,tiles:this.tiles}},t.prototype.loadTile=function(e,t){function i(i,r){if(delete e.request,e.aborted)return this.state=\"unloaded\",t(null);if(i)return this.state=\"errored\",t(i);this.map._refreshExpiredTiles||e.setExpiryData(r),delete r.cacheControl,delete r.expires;var a=this.map.painter.gl;e.texture=this.map.painter.getTileTexture(r.width),e.texture?(a.bindTexture(a.TEXTURE_2D,e.texture),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,r)):(e.texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,e.texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,r),e.texture.size=r.width),a.generateMipmap(a.TEXTURE_2D),e.state=\"loaded\",t(null)}var r=normalizeURL(e.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);e.request=ajax.getImage(r,i.bind(this))},t.prototype.abortTile=function(e){e.request&&(e.request.abort(),delete e.request)},t.prototype.unloadTile=function(e){e.texture&&this.map.painter.saveTileTexture(e.texture)},t}(Evented);module.exports=RasterTileSource;\n},{\"../util/ajax\":191,\"../util/evented\":200,\"../util/mapbox\":208,\"../util/util\":212,\"./load_tilejson\":86}],90:[function(require,module,exports){\n\"use strict\";var ajax=require(\"../util/ajax\"),Evented=require(\"../util/evented\"),window=require(\"../util/window\"),pluginRequested=!1,pluginBlobURL=null;module.exports.evented=new Evented,module.exports.registerForPluginAvailability=function(e){return pluginBlobURL?e(pluginBlobURL,module.exports.errorCallback):module.exports.evented.once(\"pluginAvailable\",e),e},module.exports.setRTLTextPlugin=function(e,l){if(pluginRequested)throw new Error(\"setRTLTextPlugin cannot be called multiple times.\");pluginRequested=!0,module.exports.errorCallback=l,ajax.getArrayBuffer(e,function(e,t){e?l(e):(pluginBlobURL=window.URL.createObjectURL(new window.Blob([t.data]),{type:\"text/javascript\"}),module.exports.evented.fire(\"pluginAvailable\",{pluginBlobURL:pluginBlobURL,errorCallback:l}))})};\n},{\"../util/ajax\":191,\"../util/evented\":200,\"../util/window\":194}],91:[function(require,module,exports){\n\"use strict\";var util=require(\"../util/util\"),sourceTypes={vector:require(\"../source/vector_tile_source\"),raster:require(\"../source/raster_tile_source\"),geojson:require(\"../source/geojson_source\"),video:require(\"../source/video_source\"),image:require(\"../source/image_source\"),canvas:require(\"../source/canvas_source\")};exports.create=function(e,r,o,u){if(r=new sourceTypes[r.type](e,r,o,u),r.id!==e)throw new Error(\"Expected Source id to be \"+e+\" instead of \"+r.id);return util.bindAll([\"load\",\"abort\",\"unload\",\"serialize\",\"prepare\"],r),r},exports.getType=function(e){return sourceTypes[e]},exports.setType=function(e,r){sourceTypes[e]=r};\n},{\"../source/canvas_source\":81,\"../source/geojson_source\":82,\"../source/image_source\":85,\"../source/raster_tile_source\":89,\"../source/vector_tile_source\":95,\"../source/video_source\":97,\"../util/util\":212}],92:[function(require,module,exports){\n\"use strict\";function coordinateToTilePoint(e,t,o){var i=o.zoomTo(Math.min(e.z,t));return{x:(i.column-(e.x+e.w*Math.pow(2,e.z)))*EXTENT,y:(i.row-e.y)*EXTENT}}function compareKeyZoom(e,t){return e%32-t%32}function isRasterType(e){return\"raster\"===e||\"image\"===e||\"video\"===e}var Source=require(\"./source\"),Tile=require(\"./tile\"),Evented=require(\"../util/evented\"),TileCoord=require(\"./tile_coord\"),Cache=require(\"../util/lru_cache\"),Coordinate=require(\"../geo/coordinate\"),util=require(\"../util/util\"),EXTENT=require(\"../data/extent\"),SourceCache=function(e){function t(t,o,i){e.call(this),this.id=t,this.dispatcher=i,this.on(\"data\",function(e){\"source\"===e.dataType&&\"metadata\"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&\"source\"===e.dataType&&\"content\"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),this.on(\"error\",function(){this._sourceErrored=!0}),this._source=Source.create(t,o,i,this),this._tiles={},this._cache=new Cache(0,this.unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._isIdRenderable=this._isIdRenderable.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){this.map=e,this._source&&this._source.onAdd&&this._source.onAdd(e)},t.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},t.prototype.loaded=function(){var e=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in e._tiles){var o=e._tiles[t];if(\"loaded\"!==o.state&&\"errored\"!==o.state)return!1}return!0},t.prototype.getSource=function(){return this._source},t.prototype.loadTile=function(e,t){return this._source.loadTile(e,t)},t.prototype.unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e)},t.prototype.abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e)},t.prototype.serialize=function(){return this._source.serialize()},t.prototype.prepare=function(){if(this._sourceLoaded&&this._source.prepare)return this._source.prepare()},t.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(compareKeyZoom)},t.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},t.prototype._isIdRenderable=function(e){return this._tiles[e].hasData()&&!this._coveredTiles[e]},t.prototype.reload=function(){var e=this;this._cache.reset();for(var t in e._tiles)e.reloadTile(t,\"reloading\")},t.prototype.reloadTile=function(e,t){var o=this._tiles[e];o&&(\"loading\"!==o.state&&(o.state=t),this.loadTile(o,this._tileLoaded.bind(this,o,e,t)))},t.prototype._tileLoaded=function(e,t,o,i){return i?(e.state=\"errored\",void this._source.fire(\"error\",{tile:e,error:i})):(e.sourceCache=this,e.timeAdded=(new Date).getTime(),\"expired\"===o&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),this._source.fire(\"data\",{dataType:\"source\",tile:e,coord:e.coord}),void(this.map&&(this.map.painter.tileExtentVAO.vao=null)))},t.prototype.getTile=function(e){return this.getTileByID(e.id)},t.prototype.getTileByID=function(e){return this._tiles[e]},t.prototype.getZoom=function(e){return e.zoom+e.scaleZoom(e.tileSize/this._source.tileSize)},t.prototype.findLoadedChildren=function(e,t,o){var i=this,r=!1;for(var s in i._tiles){var a=i._tiles[s];if(!(o[s]||!a.hasData()||a.coord.z<=e.z||a.coord.z>t)){var n=Math.pow(2,Math.min(a.coord.z,i._source.maxzoom)-Math.min(e.z,i._source.maxzoom));if(Math.floor(a.coord.x/n)===e.x&&Math.floor(a.coord.y/n)===e.y)for(o[s]=!0,r=!0;a&&a.coord.z-1>e.z;){var d=a.coord.parent(i._source.maxzoom).id;a=i._tiles[d],a&&a.hasData()&&(delete o[s],o[d]=!0)}}}return r},t.prototype.findLoadedParent=function(e,t,o){for(var i=this,r=e.z-1;r>=t;r--){e=e.parent(i._source.maxzoom);var s=i._tiles[e.id];if(s&&s.hasData())return o[e.id]=!0,s;if(i._cache.has(e.id))return o[e.id]=!0,i._cache.getWithoutRemoving(e.id)}},t.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/e.tileSize)+1,o=Math.ceil(e.height/e.tileSize)+1,i=t*o,r=5;this._cache.setMaxSize(Math.floor(i*r))},t.prototype.update=function(e){var o=this;if(this.transform=e,this._sourceLoaded){var i,r,s,a;this.updateCacheSize(e);var n=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),d=Math.max(n-t.maxOverzooming,this._source.minzoom),c=Math.max(n+t.maxUnderzooming,this._source.minzoom),h={};this._coveredTiles={};var u;for(u=this.used?this._source.coord?[this._source.coord]:e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}):[],i=0;i<u.length;i++)r=u[i],s=o.addTile(r),h[r.id]=!0,s.hasData()||o.findLoadedChildren(r,c,h)||(a=o.findLoadedParent(r,d,h),a&&o.addTile(a.coord));var l={};if(isRasterType(this._source.type))for(var m=Object.keys(h),p=0;p<m.length;p++){var _=m[p];r=TileCoord.fromID(_),s=o._tiles[_],s&&(\"undefined\"==typeof s.fadeEndTime||s.fadeEndTime>=Date.now())&&(o.findLoadedChildren(r,c,h)&&(h[_]=!0),a=o.findLoadedParent(r,d,l),a&&o.addTile(a.coord))}var f;for(f in l)h[f]||(o._coveredTiles[f]=!0);for(f in l)h[f]=!0;var T=util.keysDifference(this._tiles,h);for(i=0;i<T.length;i++)o.removeTile(+T[i])}},t.prototype.addTile=function(e){var t=this._tiles[e.id];if(t)return t;var o=e.wrapped();t=this._tiles[o.id],t||(t=this._cache.get(o.id),t&&(t.redoPlacement(this._source),this._cacheTimers[o.id]&&(clearTimeout(this._cacheTimers[o.id]),this._cacheTimers[o.id]=void 0,this._setTileReloadTimer(o.id,t))));var i=Boolean(t);if(!i){var r=e.z,s=r>this._source.maxzoom?Math.pow(2,r-this._source.maxzoom):1;t=new Tile(o,this._source.tileSize*s,this._source.maxzoom),this.loadTile(t,this._tileLoaded.bind(this,t,e.id))}return t.uses++,this._tiles[e.id]=t,i||this._source.fire(\"dataloading\",{tile:t,coord:t.coord,dataType:\"source\"}),t},t.prototype._setTileReloadTimer=function(e,t){var o=this,i=t.getExpiryTimeout();i&&(this._timers[e]=setTimeout(function(){o.reloadTile(e,\"expired\"),o._timers[e]=void 0},i))},t.prototype._setCacheInvalidationTimer=function(e,t){var o=this,i=t.getExpiryTimeout();i&&(this._cacheTimers[e]=setTimeout(function(){o._cache.remove(e),o._cacheTimers[e]=void 0},i))},t.prototype.removeTile=function(e){var t=this._tiles[e];if(t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),this._timers[e]=void 0),!(t.uses>0)))if(t.hasData()){var o=t.coord.wrapped().id;this._cache.add(o,t),this._setCacheInvalidationTimer(o,t)}else t.aborted=!0,this.abortTile(t),this.unloadTile(t)},t.prototype.clearTiles=function(){var e=this;for(var t in e._tiles)e.removeTile(t);this._cache.reset()},t.prototype.tilesIn=function(e){for(var t=this,o={},i=this.getIds(),r=1/0,s=1/0,a=-(1/0),n=-(1/0),d=e[0].zoom,c=0;c<e.length;c++){var h=e[c];r=Math.min(r,h.column),s=Math.min(s,h.row),a=Math.max(a,h.column),n=Math.max(n,h.row)}for(var u=0;u<i.length;u++){var l=t._tiles[i[u]],m=TileCoord.fromID(i[u]),p=[coordinateToTilePoint(m,l.sourceMaxZoom,new Coordinate(r,s,d)),coordinateToTilePoint(m,l.sourceMaxZoom,new Coordinate(a,n,d))];if(p[0].x<EXTENT&&p[0].y<EXTENT&&p[1].x>=0&&p[1].y>=0){for(var _=[],f=0;f<e.length;f++)_.push(coordinateToTilePoint(m,l.sourceMaxZoom,e[f]));var T=o[l.coord.id];void 0===T&&(T=o[l.coord.id]={tile:l,coord:m,queryGeometry:[],scale:Math.pow(2,t.transform.zoom-l.coord.z)}),T.queryGeometry.push(_)}}var v=[];for(var y in o)v.push(o[y]);return v},t.prototype.redoPlacement=function(){for(var e=this,t=this.getIds(),o=0;o<t.length;o++){var i=e.getTileByID(t[o]);i.redoPlacement(e._source)}},t.prototype.getVisibleCoordinates=function(){for(var e=this,t=this.getRenderableIds().map(TileCoord.fromID),o=0,i=t;o<i.length;o+=1){var r=i[o];r.posMatrix=e.transform.calculatePosMatrix(r,e._source.maxzoom)}return t},t}(Evented);SourceCache.maxOverzooming=10,SourceCache.maxUnderzooming=3,module.exports=SourceCache;\n},{\"../data/extent\":54,\"../geo/coordinate\":61,\"../util/evented\":200,\"../util/lru_cache\":207,\"../util/util\":212,\"./source\":91,\"./tile\":93,\"./tile_coord\":94}],93:[function(require,module,exports){\n\"use strict\";var util=require(\"../util/util\"),Bucket=require(\"../data/bucket\"),FeatureIndex=require(\"../data/feature_index\"),vt=require(\"vector-tile\"),Protobuf=require(\"pbf\"),GeoJSONFeature=require(\"../util/vectortile_to_geojson\"),featureFilter=require(\"../style-spec/feature_filter\"),CollisionTile=require(\"../symbol/collision_tile\"),CollisionBoxArray=require(\"../symbol/collision_box\"),CLOCK_SKEW_RETRY_TIMEOUT=3e4,Tile=function(e,t,i){this.coord=e,this.uid=util.uniqueId(),this.uses=0,this.tileSize=t,this.sourceMaxZoom=i,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state=\"loading\"};Tile.prototype.registerFadeDuration=function(e,t){var i=t+this.timeAdded;i<Date.now()||this.fadeEndTime&&i<this.fadeEndTime||(this.fadeEndTime=i,e.set(this.fadeEndTime-Date.now()))},Tile.prototype.loadVectorData=function(e,t){this.hasData()&&this.unloadVectorData(t),this.state=\"loaded\",e&&(e.rawTileData&&(this.rawTileData=e.rawTileData),this.collisionBoxArray=new CollisionBoxArray(e.collisionBoxArray),this.collisionTile=new CollisionTile(e.collisionTile,this.collisionBoxArray),this.featureIndex=new FeatureIndex(e.featureIndex,this.rawTileData,this.collisionTile),this.buckets=Bucket.deserialize(e.buckets,t.style))},Tile.prototype.reloadSymbolData=function(e,t){var i=this;if(\"unloaded\"!==this.state){this.collisionTile=new CollisionTile(e.collisionTile,this.collisionBoxArray),this.featureIndex.setCollisionTile(this.collisionTile);for(var o in i.buckets){var r=i.buckets[o];\"symbol\"===r.layers[0].type&&(r.destroy(),delete i.buckets[o])}util.extend(this.buckets,Bucket.deserialize(e.buckets,t))}},Tile.prototype.unloadVectorData=function(){var e=this;for(var t in e.buckets)e.buckets[t].destroy();this.buckets={},this.collisionBoxArray=null,this.collisionTile=null,this.featureIndex=null,this.state=\"unloaded\"},Tile.prototype.redoPlacement=function(e){var t=this;if(\"vector\"===e.type||\"geojson\"===e.type)return\"loaded\"!==this.state?void(this.redoWhenDone=!0):void(this.collisionTile&&(this.state=\"reloading\",e.dispatcher.send(\"redoPlacement\",{type:e.type,uid:this.uid,source:e.id,angle:e.map.transform.angle,pitch:e.map.transform.pitch,showCollisionBoxes:e.map.showCollisionBoxes},function(i,o){t.reloadSymbolData(o,e.map.style),e.map&&(e.map.painter.tileExtentVAO.vao=null),t.state=\"loaded\",t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(e))},this.workerID)))},Tile.prototype.getBucket=function(e){return this.buckets[e.id]},Tile.prototype.querySourceFeatures=function(e,t){var i=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new vt.VectorTile(new Protobuf(this.rawTileData)).layers);var o=this.vtLayers._geojsonTileLayer||this.vtLayers[t.sourceLayer];if(o)for(var r=featureFilter(t&&t.filter),s={z:this.coord.z,x:this.coord.x,y:this.coord.y},a=0;a<o.length;a++){var l=o.feature(a);if(r(l)){var n=new GeoJSONFeature(l,i.coord.z,i.coord.x,i.coord.y);n.tile=s,e.push(n)}}}},Tile.prototype.hasData=function(){return\"loaded\"===this.state||\"reloading\"===this.state||\"expired\"===this.state},Tile.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var i=util.parseCacheControl(e.cacheControl);i[\"max-age\"]&&(this.expirationTime=Date.now()+1e3*i[\"max-age\"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var o=Date.now(),r=!1;if(this.expirationTime>o)r=!1;else if(t)if(this.expirationTime<t)r=!0;else{var s=this.expirationTime-t;s?this.expirationTime=o+Math.max(s,CLOCK_SKEW_RETRY_TIMEOUT):r=!0}else r=!0;r?(this.expiredRequestCount++,this.state=\"expired\"):this.expiredRequestCount=0}},Tile.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},module.exports=Tile;\n},{\"../data/bucket\":45,\"../data/feature_index\":55,\"../style-spec/feature_filter\":103,\"../symbol/collision_box\":160,\"../symbol/collision_tile\":162,\"../util/util\":212,\"../util/vectortile_to_geojson\":213,\"pbf\":25,\"vector-tile\":34}],94:[function(require,module,exports){\n\"use strict\";function edge(t,i){if(t.row>i.row){var o=t;t=i,i=o}return{x0:t.column,y0:t.row,x1:i.column,y1:i.row,dx:i.column-t.column,dy:i.row-t.row}}function scanSpans(t,i,o,r,e){var n=Math.max(o,Math.floor(i.y0)),h=Math.min(r,Math.ceil(i.y1));if(t.x0===i.x0&&t.y0===i.y0?t.x0+i.dy/t.dy*t.dx<i.x1:t.x1-i.dy/t.dy*t.dx<i.x0){var s=t;t=i,i=s}for(var a=t.dx/t.dy,d=i.dx/i.dy,y=t.dx>0,l=i.dx<0,u=n;u<h;u++){var x=a*Math.max(0,Math.min(t.dy,u+y-t.y0))+t.x0,c=d*Math.max(0,Math.min(i.dy,u+l-i.y0))+i.x0;e(Math.floor(c),Math.ceil(x),u)}}function scanTriangle(t,i,o,r,e,n){var h,s=edge(t,i),a=edge(i,o),d=edge(o,t);s.dy>a.dy&&(h=s,s=a,a=h),s.dy>d.dy&&(h=s,s=d,d=h),a.dy>d.dy&&(h=a,a=d,d=h),s.dy&&scanSpans(d,s,r,e,n),a.dy&&scanSpans(d,a,r,e,n)}function getQuadkey(t,i,o){for(var r,e=\"\",n=t;n>0;n--)r=1<<n-1,e+=(i&r?1:0)+(o&r?2:0);return e}var WhooTS=require(\"@mapbox/whoots-js\"),Coordinate=require(\"../geo/coordinate\"),TileCoord=function(t,i,o,r){isNaN(r)&&(r=0),this.z=+t,this.x=+i,this.y=+o,this.w=+r,r*=2,r<0&&(r=r*-1-1);var e=1<<this.z;this.id=32*(e*e*r+e*this.y+this.x)+this.z,this.posMatrix=null};TileCoord.prototype.toString=function(){return this.z+\"/\"+this.x+\"/\"+this.y},TileCoord.prototype.toCoordinate=function(t){var i=Math.min(this.z,void 0===t?this.z:t),o=Math.pow(2,i),r=this.y,e=this.x+o*this.w;return new Coordinate(e,r,i)},TileCoord.prototype.url=function(t,i,o){var r=WhooTS.getTileBBox(this.x,this.y,this.z),e=getQuadkey(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(\"{prefix}\",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(\"{z}\",Math.min(this.z,i||this.z)).replace(\"{x}\",this.x).replace(\"{y}\",\"tms\"===o?Math.pow(2,this.z)-this.y-1:this.y).replace(\"{quadkey}\",e).replace(\"{bbox-epsg-3857}\",r)},TileCoord.prototype.parent=function(t){return 0===this.z?null:this.z>t?new TileCoord(this.z-1,this.x,this.y,this.w):new TileCoord(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},TileCoord.prototype.wrapped=function(){return new TileCoord(this.z,this.x,this.y,0)},TileCoord.prototype.children=function(t){if(this.z>=t)return[new TileCoord(this.z+1,this.x,this.y,this.w)];var i=this.z+1,o=2*this.x,r=2*this.y;return[new TileCoord(i,o,r,this.w),new TileCoord(i,o+1,r,this.w),new TileCoord(i,o,r+1,this.w),new TileCoord(i,o+1,r+1,this.w)]},TileCoord.cover=function(t,i,o,r){function e(t,i,e){var s,a,d,y;if(e>=0&&e<=n)for(s=t;s<i;s++)a=Math.floor(s/n),d=(s%n+n)%n,0!==a&&r!==!0||(y=new TileCoord(o,d,e,a),h[y.id]=y)}void 0===r&&(r=!0);var n=1<<t,h={};return scanTriangle(i[0],i[1],i[2],0,n,e),scanTriangle(i[2],i[3],i[0],0,n,e),Object.keys(h).map(function(t){return h[t]})},TileCoord.fromID=function(t){var i=t%32,o=1<<i,r=(t-i)/32,e=r%o,n=(r-e)/o%o,h=Math.floor(r/(o*o));return h%2!==0&&(h=h*-1-1),h/=2,new TileCoord(i,e,n,h)},module.exports=TileCoord;\n},{\"../geo/coordinate\":61,\"@mapbox/whoots-js\":4}],95:[function(require,module,exports){\n\"use strict\";var Evented=require(\"../util/evented\"),util=require(\"../util/util\"),loadTileJSON=require(\"./load_tilejson\"),normalizeURL=require(\"../util/mapbox\").normalizeTileURL,VectorTileSource=function(e){function t(t,i,o,r){if(e.call(this),this.id=t,this.dispatcher=o,this.type=\"vector\",this.minzoom=0,this.maxzoom=22,this.scheme=\"xyz\",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,util.extend(this,util.pick(i,[\"url\",\"scheme\",\"tileSize\"])),this._options=util.extend({type:\"vector\"},i),512!==this.tileSize)throw new Error(\"vector tile sources must have a tileSize of 512\");this.setEventedParent(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire(\"dataloading\",{dataType:\"source\"}),loadTileJSON(this._options,function(t,i){return t?void e.fire(\"error\",t):(util.extend(e,i),e.fire(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"}),void e.fire(\"data\",{dataType:\"source\",sourceDataType:\"content\"}))})},t.prototype.onAdd=function(e){this.load(),this.map=e},t.prototype.serialize=function(){return util.extend({},this._options)},t.prototype.loadTile=function(e,t){function i(i,o){if(!e.aborted){if(i)return t(i);this.map._refreshExpiredTiles||e.setExpiryData(o),e.loadVectorData(o,this.map.painter),e.redoWhenDone&&(e.redoWhenDone=!1,e.redoPlacement(this)),t(null),e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)}}var o=e.coord.z>this.maxzoom?Math.pow(2,e.coord.z-this.maxzoom):1,r={url:normalizeURL(e.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),uid:e.uid,coord:e.coord,zoom:e.coord.z,tileSize:this.tileSize*o,type:this.type,source:this.id,overscaling:o,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID&&\"expired\"!==e.state?\"loading\"===e.state?e.reloadCallback=t:this.dispatcher.send(\"reloadTile\",r,i.bind(this),e.workerID):e.workerID=this.dispatcher.send(\"loadTile\",r,i.bind(this))},t.prototype.abortTile=function(e){this.dispatcher.send(\"abortTile\",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},t.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send(\"removeTile\",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},t}(Evented);module.exports=VectorTileSource;\n},{\"../util/evented\":200,\"../util/mapbox\":208,\"../util/util\":212,\"./load_tilejson\":86}],96:[function(require,module,exports){\n\"use strict\";var ajax=require(\"../util/ajax\"),vt=require(\"vector-tile\"),Protobuf=require(\"pbf\"),WorkerTile=require(\"./worker_tile\"),util=require(\"../util/util\"),VectorTileWorkerSource=function(e,r,t){this.actor=e,this.layerIndex=r,t&&(this.loadVectorData=t),this.loading={},this.loaded={}};VectorTileWorkerSource.prototype.loadTile=function(e,r){function t(e,t){return delete this.loading[o][i],e?r(e):t?(a.vectorTile=t,a.parse(t,this.layerIndex,this.actor,function(e,o,i){if(e)return r(e);var a={};t.expires&&(a.expires=t.expires),t.cacheControl&&(a.cacheControl=t.cacheControl),r(null,util.extend({rawTileData:t.rawData},o,a),i)}),this.loaded[o]=this.loaded[o]||{},void(this.loaded[o][i]=a)):r(null,null)}var o=e.source,i=e.uid;this.loading[o]||(this.loading[o]={});var a=this.loading[o][i]=new WorkerTile(e);a.abort=this.loadVectorData(e,t.bind(this))},VectorTileWorkerSource.prototype.reloadTile=function(e,r){function t(e,t){if(this.reloadCallback){var o=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,a.layerIndex,a.actor,o)}r(e,t)}var o=this.loaded[e.source],i=e.uid,a=this;if(o&&o[i]){var l=o[i];\"parsing\"===l.status?l.reloadCallback=r:\"done\"===l.status&&l.parse(l.vectorTile,this.layerIndex,this.actor,t.bind(l))}},VectorTileWorkerSource.prototype.abortTile=function(e){var r=this.loading[e.source],t=e.uid;r&&r[t]&&r[t].abort&&(r[t].abort(),delete r[t])},VectorTileWorkerSource.prototype.removeTile=function(e){var r=this.loaded[e.source],t=e.uid;r&&r[t]&&delete r[t]},VectorTileWorkerSource.prototype.loadVectorData=function(e,r){function t(e,t){if(e)return r(e);var o=new vt.VectorTile(new Protobuf(t.data));o.rawData=t.data,o.cacheControl=t.cacheControl,o.expires=t.expires,r(e,o)}var o=ajax.getArrayBuffer(e.url,t.bind(this));return function(){o.abort()}},VectorTileWorkerSource.prototype.redoPlacement=function(e,r){var t=this.loaded[e.source],o=this.loading[e.source],i=e.uid;if(t&&t[i]){var a=t[i],l=a.redoPlacement(e.angle,e.pitch,e.showCollisionBoxes);l.result&&r(null,l.result,l.transferables)}else o&&o[i]&&(o[i].angle=e.angle)},module.exports=VectorTileWorkerSource;\n},{\"../util/ajax\":191,\"../util/util\":212,\"./worker_tile\":99,\"pbf\":25,\"vector-tile\":34}],97:[function(require,module,exports){\n\"use strict\";var ajax=require(\"../util/ajax\"),ImageSource=require(\"./image_source\"),VideoSource=function(t){function e(e,o,i,r){t.call(this,e,o,i,r),this.roundZoom=!0,this.type=\"video\",this.options=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this,e=this.options;this.urls=e.urls,ajax.getVideo(e.urls,function(e,o){if(e)return t.fire(\"error\",{error:e});t.video=o,t.video.loop=!0;var i;t.video.addEventListener(\"playing\",function(){i=t.map.style.animationLoop.set(1/0),t.map._rerender()}),t.video.addEventListener(\"pause\",function(){t.map.style.animationLoop.cancel(i)}),t.map&&t.video.play(),t._finishLoading()})},e.prototype.getVideo=function(){return this.video},e.prototype.onAdd=function(t){this.map||(this.load(),this.map=t,this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},e.prototype.prepare=function(){!this.tile||this.video.readyState<2||this._prepareImage(this.map.painter.gl,this.video)},e.prototype.serialize=function(){return{type:\"video\",urls:this.urls,coordinates:this.coordinates}},e}(ImageSource);module.exports=VideoSource;\n},{\"../util/ajax\":191,\"./image_source\":85}],98:[function(require,module,exports){\n\"use strict\";var Actor=require(\"../util/actor\"),StyleLayerIndex=require(\"../style/style_layer_index\"),VectorTileWorkerSource=require(\"./vector_tile_worker_source\"),GeoJSONWorkerSource=require(\"./geojson_worker_source\"),globalRTLTextPlugin=require(\"./rtl_text_plugin\"),Worker=function(e){var r=this;this.self=e,this.actor=new Actor(e,this),this.layerIndexes={},this.workerSourceTypes={vector:VectorTileWorkerSource,geojson:GeoJSONWorkerSource},this.workerSources={},this.self.registerWorkerSource=function(e,o){if(r.workerSourceTypes[e])throw new Error('Worker source with name \"'+e+'\" already registered.');r.workerSourceTypes[e]=o},this.self.registerRTLTextPlugin=function(e){if(globalRTLTextPlugin.applyArabicShaping||globalRTLTextPlugin.processBidirectionalText)throw new Error(\"RTL text plugin already registered.\");globalRTLTextPlugin.applyArabicShaping=e.applyArabicShaping,globalRTLTextPlugin.processBidirectionalText=e.processBidirectionalText}};Worker.prototype.setLayers=function(e,r){this.getLayerIndex(e).replace(r)},Worker.prototype.updateLayers=function(e,r){this.getLayerIndex(e).update(r.layers,r.removedIds,r.symbolOrder)},Worker.prototype.loadTile=function(e,r,o){this.getWorkerSource(e,r.type).loadTile(r,o)},Worker.prototype.reloadTile=function(e,r,o){this.getWorkerSource(e,r.type).reloadTile(r,o)},Worker.prototype.abortTile=function(e,r){this.getWorkerSource(e,r.type).abortTile(r)},Worker.prototype.removeTile=function(e,r){this.getWorkerSource(e,r.type).removeTile(r)},Worker.prototype.removeSource=function(e,r){var o=this.getWorkerSource(e,r.type);void 0!==o.removeSource&&o.removeSource(r)},Worker.prototype.redoPlacement=function(e,r,o){this.getWorkerSource(e,r.type).redoPlacement(r,o)},Worker.prototype.loadWorkerSource=function(e,r,o){try{this.self.importScripts(r.url),o()}catch(e){o(e)}},Worker.prototype.loadRTLTextPlugin=function(e,r,o){try{globalRTLTextPlugin.applyArabicShaping||globalRTLTextPlugin.processBidirectionalText||this.self.importScripts(r)}catch(e){o(e)}},Worker.prototype.getLayerIndex=function(e){var r=this.layerIndexes[e];return r||(r=this.layerIndexes[e]=new StyleLayerIndex),r},Worker.prototype.getWorkerSource=function(e,r){var o=this;if(this.workerSources[e]||(this.workerSources[e]={}),!this.workerSources[e][r]){var t={send:function(r,t,i,n){o.actor.send(r,t,i,n,e)}};this.workerSources[e][r]=new this.workerSourceTypes[r](t,this.getLayerIndex(e))}return this.workerSources[e][r]},module.exports=function(e){return new Worker(e)};\n},{\"../style/style_layer_index\":154,\"../util/actor\":190,\"./geojson_worker_source\":83,\"./rtl_text_plugin\":90,\"./vector_tile_worker_source\":96}],99:[function(require,module,exports){\n\"use strict\";function recalculateLayers(e,i){for(var r=0,o=e.layers;r<o.length;r+=1){var t=o[r];t.recalculate(i)}}function serializeBuckets(e,i){return e.filter(function(e){return!e.isEmpty()}).map(function(e){return e.serialize(i)})}var FeatureIndex=require(\"../data/feature_index\"),CollisionTile=require(\"../symbol/collision_tile\"),CollisionBoxArray=require(\"../symbol/collision_box\"),DictionaryCoder=require(\"../util/dictionary_coder\"),util=require(\"../util/util\"),WorkerTile=function(e){this.coord=e.coord,this.uid=e.uid,this.zoom=e.zoom,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=e.overscaling,this.angle=e.angle,this.pitch=e.pitch,this.showCollisionBoxes=e.showCollisionBoxes};WorkerTile.prototype.parse=function(e,i,r,o){var t=this;e.layers||(e={layers:{_geojsonTileLayer:e}}),this.status=\"parsing\",this.data=e,this.collisionBoxArray=new CollisionBoxArray;var s=new DictionaryCoder(Object.keys(e.layers).sort()),l=new FeatureIndex(this.coord,this.overscaling);l.bucketLayerIDs={};var n={},a=0,c={featureIndex:l,iconDependencies:{},glyphDependencies:{}},u=i.familiesBySource[this.source];for(var h in u){var y=e.layers[h];if(y){1===y.version&&util.warnOnce('Vector tile source \"'+t.source+'\" layer \"'+h+'\" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var d=s.encode(h),p=[],m=0;m<y.length;m++){var v=y.feature(m);v.index=m,v.sourceLayerIndex=d,p.push(v)}for(var f=0,g=u[h];f<g.length;f+=1){var x=g[f],B=x[0];if(!(B.minzoom&&t.zoom<B.minzoom||B.maxzoom&&t.zoom>=B.maxzoom||B.layout&&\"none\"===B.layout.visibility)){for(var b=0,k=x;b<k.length;b+=1){var z=k[b];z.recalculate(t.zoom)}var C=n[B.id]=B.createBucket({index:a,layers:x,zoom:t.zoom,overscaling:t.overscaling,collisionBoxArray:t.collisionBoxArray});C.populate(p,c),l.bucketLayerIDs[a]=x.map(function(e){return e.id}),a++}}}}var T=function(e){t.status=\"done\",l.paintPropertyStatistics={};for(var i in n)util.extend(l.paintPropertyStatistics,n[i].getPaintPropertyStatistics());var r=[];o(null,{buckets:serializeBuckets(util.values(n),r),featureIndex:l.serialize(r),collisionTile:e.serialize(r),collisionBoxArray:t.collisionBoxArray.serialize()},r)};this.symbolBuckets=[];for(var w=i.symbolOrder.length-1;w>=0;w--){var A=n[i.symbolOrder[w]];A&&t.symbolBuckets.push(A)}if(0===this.symbolBuckets.length)return T(new CollisionTile(this.angle,this.pitch,this.collisionBoxArray));var D=0,I=Object.keys(c.iconDependencies),O=util.mapObject(c.glyphDependencies,function(e){return Object.keys(e).map(Number)}),L=function(e){if(e)return o(e);if(D++,2===D){for(var i=new CollisionTile(t.angle,t.pitch,t.collisionBoxArray),r=0,s=t.symbolBuckets;r<s.length;r+=1){var l=s[r];recalculateLayers(l,t.zoom),l.prepare(O,I),l.place(i,t.showCollisionBoxes)}T(i)}};Object.keys(O).length?r.send(\"getGlyphs\",{uid:this.uid,stacks:O},function(e,i){O=i,L(e)}):L(),I.length?r.send(\"getIcons\",{icons:I},function(e,i){I=i,L(e)}):L()},WorkerTile.prototype.redoPlacement=function(e,i,r){var o=this;if(this.angle=e,this.pitch=i,\"done\"!==this.status)return{};for(var t=new CollisionTile(this.angle,this.pitch,this.collisionBoxArray),s=0,l=o.symbolBuckets;s<l.length;s+=1){var n=l[s];recalculateLayers(n,o.zoom),n.place(t,r)}var a=[];return{result:{buckets:serializeBuckets(this.symbolBuckets,a),collisionTile:t.serialize(a)},transferables:a}},module.exports=WorkerTile;\n},{\"../data/feature_index\":55,\"../symbol/collision_box\":160,\"../symbol/collision_tile\":162,\"../util/dictionary_coder\":197,\"../util/util\":212}],100:[function(require,module,exports){\n\"use strict\";function deref(r,e){var f={};for(var t in r)\"ref\"!==t&&(f[t]=r[t]);return refProperties.forEach(function(r){r in e&&(f[r]=e[r])}),f}function derefLayers(r){r=r.slice();for(var e=Object.create(null),f=0;f<r.length;f++)e[r[f].id]=r[f];for(var t=0;t<r.length;t++)\"ref\"in r[t]&&(r[t]=deref(r[t],e[r[t].ref]));return r}var refProperties=require(\"./util/ref_properties\");module.exports=derefLayers;\n},{\"./util/ref_properties\":122}],101:[function(require,module,exports){\n\"use strict\";function diffSources(e,r,o,a){e=e||{},r=r||{};var s;for(s in e)e.hasOwnProperty(s)&&(r.hasOwnProperty(s)||(o.push({command:operations.removeSource,args:[s]}),a[s]=!0));for(s in r)r.hasOwnProperty(s)&&(e.hasOwnProperty(s)?isEqual(e[s],r[s])||(o.push({command:operations.removeSource,args:[s]}),o.push({command:operations.addSource,args:[s,r[s]]}),a[s]=!0):o.push({command:operations.addSource,args:[s,r[s]]}))}function diffLayerPropertyChanges(e,r,o,a,s,t){e=e||{},r=r||{};var n;for(n in e)e.hasOwnProperty(n)&&(isEqual(e[n],r[n])||o.push({command:t,args:[a,n,r[n],s]}));for(n in r)r.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(isEqual(e[n],r[n])||o.push({command:t,args:[a,n,r[n],s]}))}function pluckId(e){return e.id}function indexById(e,r){return e[r.id]=r,e}function diffLayers(e,r,o){e=e||[],r=r||[];var a,s,t,n,i,p,m,u=e.map(pluckId),l=r.map(pluckId),y=e.reduce(indexById,{}),c=r.reduce(indexById,{}),d=u.slice(),h=Object.create(null);for(a=0,s=0;a<u.length;a++)t=u[a],c.hasOwnProperty(t)?s++:(o.push({command:operations.removeLayer,args:[t]}),d.splice(d.indexOf(t,s),1));for(a=0,s=0;a<l.length;a++)t=l[l.length-1-a],d[d.length-1-a]!==t&&(y.hasOwnProperty(t)?(o.push({command:operations.removeLayer,args:[t]}),d.splice(d.lastIndexOf(t,d.length-s),1)):s++,p=d[d.length-a],o.push({command:operations.addLayer,args:[c[t],p]}),d.splice(d.length-a,0,t),h[t]=!0);for(a=0;a<l.length;a++)if(t=l[a],n=y[t],i=c[t],!h[t]&&!isEqual(n,i))if(isEqual(n.source,i.source)&&isEqual(n[\"source-layer\"],i[\"source-layer\"])&&isEqual(n.type,i.type)){diffLayerPropertyChanges(n.layout,i.layout,o,t,null,operations.setLayoutProperty),diffLayerPropertyChanges(n.paint,i.paint,o,t,null,operations.setPaintProperty),isEqual(n.filter,i.filter)||o.push({command:operations.setFilter,args:[t,i.filter]}),isEqual(n.minzoom,i.minzoom)&&isEqual(n.maxzoom,i.maxzoom)||o.push({command:operations.setLayerZoomRange,args:[t,i.minzoom,i.maxzoom]});for(m in n)n.hasOwnProperty(m)&&\"layout\"!==m&&\"paint\"!==m&&\"filter\"!==m&&\"metadata\"!==m&&\"minzoom\"!==m&&\"maxzoom\"!==m&&(0===m.indexOf(\"paint.\")?diffLayerPropertyChanges(n[m],i[m],o,t,m.slice(6),operations.setPaintProperty):isEqual(n[m],i[m])||o.push({command:operations.setLayerProperty,args:[t,m,i[m]]}));for(m in i)i.hasOwnProperty(m)&&!n.hasOwnProperty(m)&&\"layout\"!==m&&\"paint\"!==m&&\"filter\"!==m&&\"metadata\"!==m&&\"minzoom\"!==m&&\"maxzoom\"!==m&&(0===m.indexOf(\"paint.\")?diffLayerPropertyChanges(n[m],i[m],o,t,m.slice(6),operations.setPaintProperty):isEqual(n[m],i[m])||o.push({command:operations.setLayerProperty,args:[t,m,i[m]]}))}else o.push({command:operations.removeLayer,args:[t]}),p=d[d.lastIndexOf(t)+1],o.push({command:operations.addLayer,args:[i,p]})}function diffStyles(e,r){if(!e)return[{command:operations.setStyle,args:[r]}];var o=[];try{if(!isEqual(e.version,r.version))return[{command:operations.setStyle,args:[r]}];isEqual(e.center,r.center)||o.push({command:operations.setCenter,args:[r.center]}),isEqual(e.zoom,r.zoom)||o.push({command:operations.setZoom,args:[r.zoom]}),isEqual(e.bearing,r.bearing)||o.push({command:operations.setBearing,args:[r.bearing]}),isEqual(e.pitch,r.pitch)||o.push({command:operations.setPitch,args:[r.pitch]}),isEqual(e.sprite,r.sprite)||o.push({command:operations.setSprite,args:[r.sprite]}),isEqual(e.glyphs,r.glyphs)||o.push({command:operations.setGlyphs,args:[r.glyphs]}),isEqual(e.transition,r.transition)||o.push({command:operations.setTransition,args:[r.transition]}),isEqual(e.light,r.light)||o.push({command:operations.setLight,args:[r.light]});var a={},s=[];diffSources(e.sources,r.sources,s,a);var t=[];e.layers&&e.layers.forEach(function(e){a[e.source]?o.push({command:operations.removeLayer,args:[e.id]}):t.push(e)}),o=o.concat(s),diffLayers(t,r.layers,o)}catch(e){console.warn(\"Unable to compute style diff:\",e),o=[{command:operations.setStyle,args:[r]}]}return o}var isEqual=require(\"lodash.isequal\"),operations={setStyle:\"setStyle\",addLayer:\"addLayer\",removeLayer:\"removeLayer\",setPaintProperty:\"setPaintProperty\",setLayoutProperty:\"setLayoutProperty\",setFilter:\"setFilter\",addSource:\"addSource\",removeSource:\"removeSource\",setLayerZoomRange:\"setLayerZoomRange\",setLayerProperty:\"setLayerProperty\",setCenter:\"setCenter\",setZoom:\"setZoom\",setBearing:\"setBearing\",setPitch:\"setPitch\",setSprite:\"setSprite\",setGlyphs:\"setGlyphs\",setTransition:\"setTransition\",setLight:\"setLight\"};module.exports=diffStyles,module.exports.operations=operations;\n},{\"lodash.isequal\":114}],102:[function(require,module,exports){\n\"use strict\";function ValidationError(r,i){this.message=(r?r+\": \":\"\")+format.apply(format,Array.prototype.slice.call(arguments,2)),null!==i&&void 0!==i&&i.__line__&&(this.line=i.__line__)}var format=require(\"util\").format;module.exports=ValidationError;\n},{\"util\":33}],103:[function(require,module,exports){\n\"use strict\";function createFilter(e){return new Function(\"f\",\"var p = (f && f.properties || {}); return \"+compile(e))}function compile(e){if(!e)return\"true\";var i=e[0];if(e.length<=1)return\"any\"===i?\"false\":\"true\";var n=\"==\"===i?compileComparisonOp(e[1],e[2],\"===\",!1):\"!=\"===i?compileComparisonOp(e[1],e[2],\"!==\",!1):\"<\"===i||\">\"===i||\"<=\"===i||\">=\"===i?compileComparisonOp(e[1],e[2],i,!0):\"any\"===i?compileLogicalOp(e.slice(1),\"||\"):\"all\"===i?compileLogicalOp(e.slice(1),\"&&\"):\"none\"===i?compileNegation(compileLogicalOp(e.slice(1),\"||\")):\"in\"===i?compileInOp(e[1],e.slice(2)):\"!in\"===i?compileNegation(compileInOp(e[1],e.slice(2))):\"has\"===i?compileHasOp(e[1]):\"!has\"===i?compileNegation(compileHasOp(e[1])):\"true\";return\"(\"+n+\")\"}function compilePropertyReference(e){return\"$type\"===e?\"f.type\":\"$id\"===e?\"f.id\":\"p[\"+JSON.stringify(e)+\"]\"}function compileComparisonOp(e,i,n,r){var o=compilePropertyReference(e),t=\"$type\"===e?types.indexOf(i):JSON.stringify(i);return(r?\"typeof \"+o+\"=== typeof \"+t+\"&&\":\"\")+o+n+t}function compileLogicalOp(e,i){return e.map(compile).join(i)}function compileInOp(e,i){\"$type\"===e&&(i=i.map(function(e){return types.indexOf(e)}));var n=JSON.stringify(i.sort(compare)),r=compilePropertyReference(e);return i.length<=200?n+\".indexOf(\"+r+\") !== -1\":\"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }(\"+r+\", \"+n+\",0,\"+(i.length-1)+\")\"}function compileHasOp(e){return\"$id\"===e?'\"id\" in f':JSON.stringify(e)+\" in p\"}function compileNegation(e){return\"!(\"+e+\")\"}function compare(e,i){return e<i?-1:e>i?1:0}module.exports=createFilter;var types=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"];\n},{}],104:[function(require,module,exports){\n\"use strict\";function xyz2lab(r){return r>t3?Math.pow(r,1/3):r/t2+t0}function lab2xyz(r){return r>t1?r*r*r:t2*(r-t0)}function xyz2rgb(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function rgb2xyz(r){return r/=255,r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function rgbToLab(r){var t=rgb2xyz(r[0]),a=rgb2xyz(r[1]),n=rgb2xyz(r[2]),b=xyz2lab((.4124564*t+.3575761*a+.1804375*n)/Xn),o=xyz2lab((.2126729*t+.7151522*a+.072175*n)/Yn),g=xyz2lab((.0193339*t+.119192*a+.9503041*n)/Zn);return[116*o-16,500*(b-o),200*(o-g),r[3]]}function labToRgb(r){var t=(r[0]+16)/116,a=isNaN(r[1])?t:t+r[1]/500,n=isNaN(r[2])?t:t-r[2]/200;return t=Yn*lab2xyz(t),a=Xn*lab2xyz(a),n=Zn*lab2xyz(n),[xyz2rgb(3.2404542*a-1.5371385*t-.4985314*n),xyz2rgb(-.969266*a+1.8760108*t+.041556*n),xyz2rgb(.0556434*a-.2040259*t+1.0572252*n),r[3]]}function rgbToHcl(r){var t=rgbToLab(r),a=t[0],n=t[1],b=t[2],o=Math.atan2(b,n)*rad2deg;return[o<0?o+360:o,Math.sqrt(n*n+b*b),a,r[3]]}function hclToRgb(r){var t=r[0]*deg2rad,a=r[1],n=r[2];return labToRgb([n,Math.cos(t)*a,Math.sin(t)*a,r[3]])}var Xn=.95047,Yn=1,Zn=1.08883,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1,deg2rad=Math.PI/180,rad2deg=180/Math.PI;module.exports={lab:{forward:rgbToLab,reverse:labToRgb},hcl:{forward:rgbToHcl,reverse:hclToRgb}};\n},{}],105:[function(require,module,exports){\n\"use strict\";function identityFunction(t){return t}function createFunction(t,e){var o,n=\"color\"===e.type;if(isFunctionDefinition(t)){var r=t.stops&&\"object\"==typeof t.stops[0][0],a=r||void 0!==t.property,i=r||!a,s=t.type||(\"interpolated\"===e.function?\"exponential\":\"interval\");n&&(t=extend({},t),t.stops&&(t.stops=t.stops.map(function(t){return[t[0],parseColor(t[1])]})),t.default?t.default=parseColor(t.default):t.default=parseColor(e.default));var u,p,l;if(\"exponential\"===s)u=evaluateExponentialFunction;else if(\"interval\"===s)u=evaluateIntervalFunction;else if(\"categorical\"===s){u=evaluateCategoricalFunction,p=Object.create(null);for(var c=0,f=t.stops;c<f.length;c+=1){var v=f[c];p[v[0]]=v[1]}l=typeof t.stops[0][0]}else{if(\"identity\"!==s)throw new Error('Unknown function type \"'+s+'\"');u=evaluateIdentityFunction}var d;if(t.colorSpace&&\"rgb\"!==t.colorSpace){if(!colorSpaces[t.colorSpace])throw new Error(\"Unknown color space: \"+t.colorSpace);var y=colorSpaces[t.colorSpace];t=JSON.parse(JSON.stringify(t));for(var F=0;F<t.stops.length;F++)t.stops[F]=[t.stops[F][0],y.forward(t.stops[F][1])];d=y.reverse}else d=identityFunction;if(r){for(var h={},m=[],g=0;g<t.stops.length;g++){var b=t.stops[g];void 0===h[b[0].zoom]&&(h[b[0].zoom]={zoom:b[0].zoom,type:t.type,property:t.property,stops:[]}),h[b[0].zoom].stops.push([b[0].value,b[1]])}for(var C in h)m.push([h[C].zoom,createFunction(h[C],e)]);o=function(o,n){return d(evaluateExponentialFunction({stops:m,base:t.base},e,o)(o,n))},o.isFeatureConstant=!1,o.isZoomConstant=!1}else i?(o=function(o){return d(u(t,e,o,p,l))},o.isFeatureConstant=!0,o.isZoomConstant=!1):(o=function(o,n){var r=n[t.property];return void 0===r?coalesce(t.default,e.default):d(u(t,e,r,p,l))},o.isFeatureConstant=!1,o.isZoomConstant=!0)}else n&&t&&(t=parseColor(t)),o=function(){return t},o.isFeatureConstant=!0,o.isZoomConstant=!0;return o}function coalesce(t,e,o){return void 0!==t?t:void 0!==e?e:void 0!==o?o:void 0}function evaluateCategoricalFunction(t,e,o,n,r){var a=typeof o===r?n[o]:void 0;return coalesce(a,t.default,e.default)}function evaluateIntervalFunction(t,e,o){if(\"number\"!==getType(o))return coalesce(t.default,e.default);var n=t.stops.length;if(1===n)return t.stops[0][1];if(o<=t.stops[0][0])return t.stops[0][1];if(o>=t.stops[n-1][0])return t.stops[n-1][1];var r=binarySearchForIndex(t.stops,o);return t.stops[r][1]}function evaluateExponentialFunction(t,e,o){var n=void 0!==t.base?t.base:1;if(\"number\"!==getType(o))return coalesce(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(o<=t.stops[0][0])return t.stops[0][1];if(o>=t.stops[r-1][0])return t.stops[r-1][1];var a=binarySearchForIndex(t.stops,o);return interpolate(o,n,t.stops[a][0],t.stops[a+1][0],t.stops[a][1],t.stops[a+1][1])}function evaluateIdentityFunction(t,e,o){return\"color\"===e.type?o=parseColor(o):getType(o)!==e.type&&(o=void 0),coalesce(o,t.default,e.default)}function binarySearchForIndex(t,e){for(var o,n,r=t.length,a=0,i=r-1,s=0;a<=i;){if(s=Math.floor((a+i)/2),o=t[s][0],n=t[s+1][0],e>=o&&e<n)return s;o<e?a=s+1:o>e&&(i=s-1)}return Math.max(s-1,0)}function interpolate(t,e,o,n,r,a){return\"function\"==typeof r?function(){var i=r.apply(void 0,arguments),s=a.apply(void 0,arguments);if(void 0!==i&&void 0!==s)return interpolate(t,e,o,n,i,s)}:r.length?interpolateArray(t,e,o,n,r,a):interpolateNumber(t,e,o,n,r,a)}function interpolateNumber(t,e,o,n,r,a){var i,s=n-o,u=t-o;return i=1===e?u/s:(Math.pow(e,u)-1)/(Math.pow(e,s)-1),r*(1-i)+a*i}function interpolateArray(t,e,o,n,r,a){for(var i=[],s=0;s<r.length;s++)i[s]=interpolateNumber(t,e,o,n,r[s],a[s]);return i}function isFunctionDefinition(t){return\"object\"==typeof t&&(t.stops||\"identity\"===t.type)}var colorSpaces=require(\"./color_spaces\"),parseColor=require(\"../util/parse_color\"),extend=require(\"../util/extend\"),getType=require(\"../util/get_type\");module.exports=createFunction,module.exports.isFunctionDefinition=isFunctionDefinition;\n},{\"../util/extend\":119,\"../util/get_type\":120,\"../util/parse_color\":121,\"./color_spaces\":104}],106:[function(require,module,exports){\n\"use strict\";function key(r){return stringify(refProperties.map(function(e){return r[e]}))}function groupByLayout(r){for(var e={},t=0;t<r.length;t++){var i=key(r[t]),u=e[i];u||(u=e[i]=[]),u.push(r[t])}var n=[];for(var o in e)n.push(e[o]);return n}var refProperties=require(\"./util/ref_properties\"),stringify=require(\"fast-stable-stringify\");module.exports=groupByLayout;\n},{\"./util/ref_properties\":122,\"fast-stable-stringify\":108}],107:[function(require,module,exports){\nfunction clamp_css_byte(e){return e=Math.round(e),e<0?0:e>255?255:e}function clamp_css_float(e){return e<0?0:e>1?1:e}function parse_css_int(e){return clamp_css_byte(\"%\"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function parse_css_float(e){return clamp_css_float(\"%\"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))}function css_hue_to_rgb(e,r,l){return l<0?l+=1:l>1&&(l-=1),6*l<1?e+(r-e)*l*6:2*l<1?r:3*l<2?e+(r-e)*(2/3-l)*6:e}function parseCSSColor(e){var r=e.replace(/ /g,\"\").toLowerCase();if(r in kCSSColorTable)return kCSSColorTable[r].slice();if(\"#\"===r[0]){if(4===r.length){var l=parseInt(r.substr(1),16);return l>=0&&l<=4095?[(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,1]:null}if(7===r.length){var l=parseInt(r.substr(1),16);return l>=0&&l<=16777215?[(16711680&l)>>16,(65280&l)>>8,255&l,1]:null}return null}var a=r.indexOf(\"(\"),t=r.indexOf(\")\");if(a!==-1&&t+1===r.length){var n=r.substr(0,a),s=r.substr(a+1,t-(a+1)).split(\",\"),o=1;switch(n){case\"rgba\":if(4!==s.length)return null;o=parse_css_float(s.pop());case\"rgb\":return 3!==s.length?null:[parse_css_int(s[0]),parse_css_int(s[1]),parse_css_int(s[2]),o];case\"hsla\":if(4!==s.length)return null;o=parse_css_float(s.pop());case\"hsl\":if(3!==s.length)return null;var i=(parseFloat(s[0])%360+360)%360/360,u=parse_css_float(s[1]),g=parse_css_float(s[2]),d=g<=.5?g*(u+1):g+u-g*u,c=2*g-d;return[clamp_css_byte(255*css_hue_to_rgb(c,d,i+1/3)),clamp_css_byte(255*css_hue_to_rgb(c,d,i)),clamp_css_byte(255*css_hue_to_rgb(c,d,i-1/3)),o];default:return null}}return null}var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{exports.parseCSSColor=parseCSSColor}catch(e){}\n},{}],108:[function(require,module,exports){\nfunction sss(r){var e,t,s,n,u,a;switch(typeof r){case\"object\":if(null===r)return null;if(isArray(r)){for(s=\"[\",t=r.length-1,e=0;e<t;e++)s+=sss(r[e])+\",\";return t>-1&&(s+=sss(r[e])),s+\"]\"}for(n=objKeys(r).sort(),t=n.length,s=\"{\",u=n[e=0],a=t>0&&void 0!==r[u];e<t;)a?(s+='\"'+u.replace(strReg,strReplace)+'\":'+sss(r[u]),u=n[++e],a=e<t&&void 0!==r[u],a&&(s+=\",\")):(u=n[++e],a=e<t&&void 0!==r[u]);return s+\"}\";case\"undefined\":return null;case\"string\":return'\"'+r.replace(strReg,strReplace)+'\"';default:return r}}var toString={}.toString,isArray=Array.isArray||function(r){return\"[object Array]\"===toString.call(r)},objKeys=Object.keys||function(r){var e=[];for(var t in r)r.hasOwnProperty(t)&&e.push(t);return e},strReg=/[\\u0000-\\u001f\"\\\\]/g,strReplace=function(r){var e=r.charCodeAt(0);switch(e){case 34:return'\\\\\"';case 92:return\"\\\\\\\\\";case 12:return\"\\\\f\";case 10:return\"\\\\n\";case 13:return\"\\\\r\";case 9:return\"\\\\t\";case 8:return\"\\\\b\";default:return e>15?\"\\\\u00\"+e.toString(16):\"\\\\u000\"+e.toString(16)}};module.exports=function(r){if(void 0!==r)return\"\"+sss(r)},module.exports.stringSearch=strReg,module.exports.stringReplace=strReplace;\n},{}],109:[function(require,module,exports){\nfunction isObjectLike(r){return!!r&&\"object\"==typeof r}function arraySome(r,e){for(var a=-1,t=r.length;++a<t;)if(e(r[a],a,r))return!0;return!1}function baseIsEqual(r,e,a,t,o,n){return r===e||(null==r||null==e||!isObject(r)&&!isObjectLike(e)?r!==r&&e!==e:baseIsEqualDeep(r,e,baseIsEqual,a,t,o,n))}function baseIsEqualDeep(r,e,a,t,o,n,u){var c=isArray(r),s=isArray(e),i=arrayTag,g=arrayTag;c||(i=objToString.call(r),i==argsTag?i=objectTag:i!=objectTag&&(c=isTypedArray(r))),s||(g=objToString.call(e),g==argsTag?g=objectTag:g!=objectTag&&(s=isTypedArray(e)));var b=i==objectTag,l=g==objectTag,f=i==g;if(f&&!c&&!b)return equalByTag(r,e,i);if(!o){var y=b&&hasOwnProperty.call(r,\"__wrapped__\"),T=l&&hasOwnProperty.call(e,\"__wrapped__\");if(y||T)return a(y?r.value():r,T?e.value():e,t,o,n,u)}if(!f)return!1;n||(n=[]),u||(u=[]);for(var j=n.length;j--;)if(n[j]==r)return u[j]==e;n.push(r),u.push(e);var p=(c?equalArrays:equalObjects)(r,e,a,t,o,n,u);return n.pop(),u.pop(),p}function equalArrays(r,e,a,t,o,n,u){var c=-1,s=r.length,i=e.length;if(s!=i&&!(o&&i>s))return!1;for(;++c<s;){var g=r[c],b=e[c],l=t?t(o?b:g,o?g:b,c):void 0;if(void 0!==l){if(l)continue;return!1}if(o){if(!arraySome(e,function(r){return g===r||a(g,r,t,o,n,u)}))return!1}else if(g!==b&&!a(g,b,t,o,n,u))return!1}return!0}function equalByTag(r,e,a){switch(a){case boolTag:case dateTag:return+r==+e;case errorTag:return r.name==e.name&&r.message==e.message;case numberTag:return r!=+r?e!=+e:r==+e;case regexpTag:case stringTag:return r==e+\"\"}return!1}function equalObjects(r,e,a,t,o,n,u){var c=keys(r),s=c.length,i=keys(e),g=i.length;if(s!=g&&!o)return!1;for(var b=s;b--;){var l=c[b];if(!(o?l in e:hasOwnProperty.call(e,l)))return!1}for(var f=o;++b<s;){l=c[b];var y=r[l],T=e[l],j=t?t(o?T:y,o?y:T,l):void 0;if(!(void 0===j?a(y,T,t,o,n,u):j))return!1;f||(f=\"constructor\"==l)}if(!f){var p=r.constructor,v=e.constructor;if(p!=v&&\"constructor\"in r&&\"constructor\"in e&&!(\"function\"==typeof p&&p instanceof p&&\"function\"==typeof v&&v instanceof v))return!1}return!0}function isObject(r){var e=typeof r;return!!r&&(\"object\"==e||\"function\"==e)}var isArray=require(\"lodash.isarray\"),isTypedArray=require(\"lodash.istypedarray\"),keys=require(\"lodash.keys\"),argsTag=\"[object Arguments]\",arrayTag=\"[object Array]\",boolTag=\"[object Boolean]\",dateTag=\"[object Date]\",errorTag=\"[object Error]\",numberTag=\"[object Number]\",objectTag=\"[object Object]\",regexpTag=\"[object RegExp]\",stringTag=\"[object String]\",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString;module.exports=baseIsEqual;\n},{\"lodash.isarray\":113,\"lodash.istypedarray\":115,\"lodash.keys\":116}],110:[function(require,module,exports){\nfunction bindCallback(n,t,r){if(\"function\"!=typeof n)return identity;if(void 0===t)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,c){return n.call(t,r,e,u,c)};case 5:return function(r,e,u,c,i){return n.call(t,r,e,u,c,i)}}return function(){return n.apply(t,arguments)}}function identity(n){return n}module.exports=bindCallback;\n},{}],111:[function(require,module,exports){\nfunction isObjectLike(t){return!!t&&\"object\"==typeof t}function getNative(t,o){var e=null==t?void 0:t[o];return isNative(e)?e:void 0}function isFunction(t){return isObject(t)&&objToString.call(t)==funcTag}function isObject(t){var o=typeof t;return!!t&&(\"object\"==o||\"function\"==o)}function isNative(t){return null!=t&&(isFunction(t)?reIsNative.test(fnToString.call(t)):isObjectLike(t)&&reIsHostCtor.test(t))}var funcTag=\"[object Function]\",reIsHostCtor=/^\\[object .+?Constructor\\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp(\"^\"+fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");module.exports=getNative;\n},{}],112:[function(require,module,exports){\nfunction isArguments(t){return isArrayLikeObject(t)&&hasOwnProperty.call(t,\"callee\")&&(!propertyIsEnumerable.call(t,\"callee\")||objectToString.call(t)==argsTag)}function isArrayLike(t){return null!=t&&isLength(t.length)&&!isFunction(t)}function isArrayLikeObject(t){return isObjectLike(t)&&isArrayLike(t)}function isFunction(t){var e=isObject(t)?objectToString.call(t):\"\";return e==funcTag||e==genTag}function isLength(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER}function isObject(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function isObjectLike(t){return!!t&&\"object\"==typeof t}var MAX_SAFE_INTEGER=9007199254740991,argsTag=\"[object Arguments]\",funcTag=\"[object Function]\",genTag=\"[object GeneratorFunction]\",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable;module.exports=isArguments;\n},{}],113:[function(require,module,exports){\nfunction isObjectLike(t){return!!t&&\"object\"==typeof t}function getNative(t,r){var e=null==t?void 0:t[r];return isNative(e)?e:void 0}function isLength(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER}function isFunction(t){return isObject(t)&&objToString.call(t)==funcTag}function isObject(t){var r=typeof t;return!!t&&(\"object\"==r||\"function\"==r)}function isNative(t){return null!=t&&(isFunction(t)?reIsNative.test(fnToString.call(t)):isObjectLike(t)&&reIsHostCtor.test(t))}var arrayTag=\"[object Array]\",funcTag=\"[object Function]\",reIsHostCtor=/^\\[object .+?Constructor\\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp(\"^\"+fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),nativeIsArray=getNative(Array,\"isArray\"),MAX_SAFE_INTEGER=9007199254740991,isArray=nativeIsArray||function(t){return isObjectLike(t)&&isLength(t.length)&&objToString.call(t)==arrayTag};module.exports=isArray;\n},{}],114:[function(require,module,exports){\nfunction isEqual(a,l,i,e){i=\"function\"==typeof i?bindCallback(i,e,3):void 0;var s=i?i(a,l):void 0;return void 0===s?baseIsEqual(a,l,i):!!s}var baseIsEqual=require(\"lodash._baseisequal\"),bindCallback=require(\"lodash._bindcallback\");module.exports=isEqual;\n},{\"lodash._baseisequal\":109,\"lodash._bindcallback\":110}],115:[function(require,module,exports){\nfunction isLength(a){return\"number\"==typeof a&&a>-1&&a%1==0&&a<=MAX_SAFE_INTEGER}function isObjectLike(a){return!!a&&\"object\"==typeof a}function isTypedArray(a){return isObjectLike(a)&&isLength(a.length)&&!!typedArrayTags[objectToString.call(a)]}var MAX_SAFE_INTEGER=9007199254740991,argsTag=\"[object Arguments]\",arrayTag=\"[object Array]\",boolTag=\"[object Boolean]\",dateTag=\"[object Date]\",errorTag=\"[object Error]\",funcTag=\"[object Function]\",mapTag=\"[object Map]\",numberTag=\"[object Number]\",objectTag=\"[object Object]\",regexpTag=\"[object RegExp]\",setTag=\"[object Set]\",stringTag=\"[object String]\",weakMapTag=\"[object WeakMap]\",arrayBufferTag=\"[object ArrayBuffer]\",dataViewTag=\"[object DataView]\",float32Tag=\"[object Float32Array]\",float64Tag=\"[object Float64Array]\",int8Tag=\"[object Int8Array]\",int16Tag=\"[object Int16Array]\",int32Tag=\"[object Int32Array]\",uint8Tag=\"[object Uint8Array]\",uint8ClampedTag=\"[object Uint8ClampedArray]\",uint16Tag=\"[object Uint16Array]\",uint32Tag=\"[object Uint32Array]\",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var objectProto=Object.prototype,objectToString=objectProto.toString;module.exports=isTypedArray;\n},{}],116:[function(require,module,exports){\nfunction baseProperty(e){return function(t){return null==t?void 0:t[e]}}function isArrayLike(e){return null!=e&&isLength(getLength(e))}function isIndex(e,t){return e=\"number\"==typeof e||reIsUint.test(e)?+e:-1,t=null==t?MAX_SAFE_INTEGER:t,e>-1&&e%1==0&&e<t}function isLength(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function shimKeys(e){for(var t=keysIn(e),r=t.length,n=r&&e.length,s=!!n&&isLength(n)&&(isArray(e)||isArguments(e)),o=-1,i=[];++o<r;){var u=t[o];(s&&isIndex(u,n)||hasOwnProperty.call(e,u))&&i.push(u)}return i}function isObject(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function keysIn(e){if(null==e)return[];isObject(e)||(e=Object(e));var t=e.length;t=t&&isLength(t)&&(isArray(e)||isArguments(e))&&t||0;for(var r=e.constructor,n=-1,s=\"function\"==typeof r&&r.prototype===e,o=Array(t),i=t>0;++n<t;)o[n]=n+\"\";for(var u in e)i&&isIndex(u,t)||\"constructor\"==u&&(s||!hasOwnProperty.call(e,u))||o.push(u);return o}var getNative=require(\"lodash._getnative\"),isArguments=require(\"lodash.isarguments\"),isArray=require(\"lodash.isarray\"),reIsUint=/^\\d+$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeKeys=getNative(Object,\"keys\"),MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty(\"length\"),keys=nativeKeys?function(e){var t=null==e?void 0:e.constructor;return\"function\"==typeof t&&t.prototype===e||\"function\"!=typeof e&&isArrayLike(e)?shimKeys(e):isObject(e)?nativeKeys(e):[]}:shimKeys;module.exports=keys;\n},{\"lodash._getnative\":111,\"lodash.isarguments\":112,\"lodash.isarray\":113}],117:[function(require,module,exports){\n\"use strict\";module.exports=require(\"./v8.json\");\n},{\"./v8.json\":118}],118:[function(require,module,exports){\nmodule.exports={\"$version\":8,\"$root\":{\"version\":{\"required\":true,\"type\":\"enum\",\"values\":[8]},\"name\":{\"type\":\"string\"},\"metadata\":{\"type\":\"*\"},\"center\":{\"type\":\"array\",\"value\":\"number\"},\"zoom\":{\"type\":\"number\"},\"bearing\":{\"type\":\"number\",\"default\":0,\"period\":360,\"units\":\"degrees\"},\"pitch\":{\"type\":\"number\",\"default\":0,\"units\":\"degrees\"},\"light\":{\"type\":\"light\"},\"sources\":{\"required\":true,\"type\":\"sources\"},\"sprite\":{\"type\":\"string\"},\"glyphs\":{\"type\":\"string\"},\"transition\":{\"type\":\"transition\"},\"layers\":{\"required\":true,\"type\":\"array\",\"value\":\"layer\"}},\"sources\":{\"*\":{\"type\":\"source\"}},\"source\":[\"source_tile\",\"source_geojson\",\"source_video\",\"source_image\",\"source_canvas\"],\"source_tile\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"vector\":{},\"raster\":{}}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"tileSize\":{\"type\":\"number\",\"default\":512,\"units\":\"pixels\"},\"*\":{\"type\":\"*\"}},\"source_geojson\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"geojson\":{}}},\"data\":{\"type\":\"*\"},\"maxzoom\":{\"type\":\"number\",\"default\":18},\"buffer\":{\"type\":\"number\",\"default\":128,\"maximum\":512,\"minimum\":0},\"tolerance\":{\"type\":\"number\",\"default\":0.375},\"cluster\":{\"type\":\"boolean\",\"default\":false},\"clusterRadius\":{\"type\":\"number\",\"default\":50,\"minimum\":0},\"clusterMaxZoom\":{\"type\":\"number\"}},\"source_video\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"video\":{}}},\"urls\":{\"required\":true,\"type\":\"array\",\"value\":\"string\"},\"coordinates\":{\"required\":true,\"type\":\"array\",\"length\":4,\"value\":{\"type\":\"array\",\"length\":2,\"value\":\"number\"}}},\"source_image\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"image\":{}}},\"url\":{\"required\":true,\"type\":\"string\"},\"coordinates\":{\"required\":true,\"type\":\"array\",\"length\":4,\"value\":{\"type\":\"array\",\"length\":2,\"value\":\"number\"}}},\"source_canvas\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"canvas\":{}}},\"coordinates\":{\"required\":true,\"type\":\"array\",\"length\":4,\"value\":{\"type\":\"array\",\"length\":2,\"value\":\"number\"}},\"animate\":{\"type\":\"boolean\",\"default\":\"true\"},\"canvas\":{\"type\":\"string\",\"required\":true}},\"layer\":{\"id\":{\"type\":\"string\",\"required\":true},\"type\":{\"type\":\"enum\",\"values\":{\"fill\":{},\"line\":{},\"symbol\":{},\"circle\":{},\"fill-extrusion\":{},\"raster\":{},\"background\":{}}},\"metadata\":{\"type\":\"*\"},\"ref\":{\"type\":\"string\"},\"source\":{\"type\":\"string\"},\"source-layer\":{\"type\":\"string\"},\"minzoom\":{\"type\":\"number\",\"minimum\":0,\"maximum\":24},\"maxzoom\":{\"type\":\"number\",\"minimum\":0,\"maximum\":24},\"filter\":{\"type\":\"filter\"},\"layout\":{\"type\":\"layout\"},\"paint\":{\"type\":\"paint\"},\"paint.*\":{\"type\":\"paint\"}},\"layout\":[\"layout_fill\",\"layout_line\",\"layout_circle\",\"layout_fill-extrusion\",\"layout_symbol\",\"layout_raster\",\"layout_background\"],\"layout_background\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\"}},\"layout_fill\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\"}},\"layout_circle\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\"}},\"layout_fill-extrusion\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\"}},\"layout_line\":{\"line-cap\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"butt\":{},\"round\":{},\"square\":{}},\"default\":\"butt\"},\"line-join\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"bevel\":{},\"round\":{},\"miter\":{}},\"default\":\"miter\"},\"line-miter-limit\":{\"type\":\"number\",\"default\":2,\"function\":\"interpolated\",\"zoom-function\":true,\"requires\":[{\"line-join\":\"miter\"}]},\"line-round-limit\":{\"type\":\"number\",\"default\":1.05,\"function\":\"interpolated\",\"zoom-function\":true,\"requires\":[{\"line-join\":\"round\"}]},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\"}},\"layout_symbol\":{\"symbol-placement\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"point\":{},\"line\":{}},\"default\":\"point\"},\"symbol-spacing\":{\"type\":\"number\",\"default\":250,\"minimum\":1,\"function\":\"interpolated\",\"zoom-function\":true,\"units\":\"pixels\",\"requires\":[{\"symbol-placement\":\"line\"}]},\"symbol-avoid-edges\":{\"type\":\"boolean\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"default\":false},\"icon-allow-overlap\":{\"type\":\"boolean\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"default\":false,\"requires\":[\"icon-image\"]},\"icon-ignore-placement\":{\"type\":\"boolean\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"default\":false,\"requires\":[\"icon-image\"]},\"icon-optional\":{\"type\":\"boolean\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"default\":false,\"requires\":[\"icon-image\",\"text-field\"]},\"icon-rotation-alignment\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"map\":{},\"viewport\":{},\"auto\":{}},\"default\":\"auto\",\"requires\":[\"icon-image\"]},\"icon-size\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"requires\":[\"icon-image\"]},\"icon-text-fit\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"none\":{},\"width\":{},\"height\":{},\"both\":{}},\"default\":\"none\",\"requires\":[\"icon-image\",\"text-field\"]},\"icon-text-fit-padding\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[0,0,0,0],\"units\":\"pixels\",\"function\":\"interpolated\",\"zoom-function\":true,\"requires\":[\"icon-image\",\"text-field\",{\"icon-text-fit\":[\"both\",\"width\",\"height\"]}]},\"icon-image\":{\"type\":\"string\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"tokens\":true},\"icon-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"units\":\"degrees\",\"requires\":[\"icon-image\"]},\"icon-padding\":{\"type\":\"number\",\"default\":2,\"minimum\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"units\":\"pixels\",\"requires\":[\"icon-image\"]},\"icon-keep-upright\":{\"type\":\"boolean\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"default\":false,\"requires\":[\"icon-image\",{\"icon-rotation-alignment\":\"map\"},{\"symbol-placement\":\"line\"}]},\"icon-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"requires\":[\"icon-image\"]},\"text-pitch-alignment\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"map\":{},\"viewport\":{},\"auto\":{}},\"default\":\"auto\",\"requires\":[\"text-field\"]},\"text-rotation-alignment\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"map\":{},\"viewport\":{},\"auto\":{}},\"default\":\"auto\",\"requires\":[\"text-field\"]},\"text-field\":{\"type\":\"string\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"property-function\":true,\"default\":\"\",\"tokens\":true},\"text-font\":{\"type\":\"array\",\"value\":\"string\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"default\":[\"Open Sans Regular\",\"Arial Unicode MS Regular\"],\"requires\":[\"text-field\"]},\"text-size\":{\"type\":\"number\",\"default\":16,\"minimum\":0,\"units\":\"pixels\",\"function\":\"interpolated\",\"zoom-function\":true,\"requires\":[\"text-field\"]},\"text-max-width\":{\"type\":\"number\",\"default\":10,\"minimum\":0,\"units\":\"ems\",\"function\":\"interpolated\",\"zoom-function\":true,\"requires\":[\"text-field\"]},\"text-line-height\":{\"type\":\"number\",\"default\":1.2,\"units\":\"ems\",\"function\":\"interpolated\",\"zoom-function\":true,\"requires\":[\"text-field\"]},\"text-letter-spacing\":{\"type\":\"number\",\"default\":0,\"units\":\"ems\",\"function\":\"interpolated\",\"zoom-function\":true,\"requires\":[\"text-field\"]},\"text-justify\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"left\":{},\"center\":{},\"right\":{}},\"default\":\"center\",\"requires\":[\"text-field\"]},\"text-anchor\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"center\":{},\"left\":{},\"right\":{},\"top\":{},\"bottom\":{},\"top-left\":{},\"top-right\":{},\"bottom-left\":{},\"bottom-right\":{}},\"default\":\"center\",\"requires\":[\"text-field\"]},\"text-max-angle\":{\"type\":\"number\",\"default\":45,\"units\":\"degrees\",\"function\":\"interpolated\",\"zoom-function\":true,\"requires\":[\"text-field\",{\"symbol-placement\":\"line\"}]},\"text-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"units\":\"degrees\",\"function\":\"interpolated\",\"zoom-function\":true,\"requires\":[\"text-field\"]},\"text-padding\":{\"type\":\"number\",\"default\":2,\"minimum\":0,\"units\":\"pixels\",\"function\":\"interpolated\",\"zoom-function\":true,\"requires\":[\"text-field\"]},\"text-keep-upright\":{\"type\":\"boolean\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"default\":true,\"requires\":[\"text-field\",{\"text-rotation-alignment\":\"map\"},{\"symbol-placement\":\"line\"}]},\"text-transform\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"property-function\":true,\"values\":{\"none\":{},\"uppercase\":{},\"lowercase\":{}},\"default\":\"none\",\"requires\":[\"text-field\"]},\"text-offset\":{\"type\":\"array\",\"value\":\"number\",\"units\":\"ems\",\"function\":\"interpolated\",\"zoom-function\":true,\"length\":2,\"default\":[0,0],\"requires\":[\"text-field\"]},\"text-allow-overlap\":{\"type\":\"boolean\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"default\":false,\"requires\":[\"text-field\"]},\"text-ignore-placement\":{\"type\":\"boolean\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"default\":false,\"requires\":[\"text-field\"]},\"text-optional\":{\"type\":\"boolean\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"default\":false,\"requires\":[\"text-field\",\"icon-image\"]},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\"}},\"layout_raster\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\"}},\"filter\":{\"type\":\"array\",\"value\":\"*\"},\"filter_operator\":{\"type\":\"enum\",\"values\":{\"==\":{},\"!=\":{},\">\":{},\">=\":{},\"<\":{},\"<=\":{},\"in\":{},\"!in\":{},\"all\":{},\"any\":{},\"none\":{},\"has\":{},\"!has\":{}}},\"geometry_type\":{\"type\":\"enum\",\"values\":{\"Point\":{},\"LineString\":{},\"Polygon\":{}}},\"function\":{\"stops\":{\"type\":\"array\",\"value\":\"function_stop\"},\"base\":{\"type\":\"number\",\"default\":1,\"minimum\":0},\"property\":{\"type\":\"string\",\"default\":\"$zoom\"},\"type\":{\"type\":\"enum\",\"values\":{\"identity\":{},\"exponential\":{},\"interval\":{},\"categorical\":{}},\"default\":\"exponential\"},\"colorSpace\":{\"type\":\"enum\",\"values\":{\"rgb\":{},\"lab\":{},\"hcl\":{}},\"default\":\"rgb\"},\"default\":{\"type\":\"*\",\"required\":false}},\"function_stop\":{\"type\":\"array\",\"minimum\":0,\"maximum\":22,\"value\":[\"number\",\"color\"],\"length\":2},\"light\":{\"anchor\":{\"type\":\"enum\",\"default\":\"viewport\",\"values\":{\"map\":{},\"viewport\":{}},\"transition\":false},\"position\":{\"type\":\"array\",\"default\":[1.15,210,30],\"length\":3,\"value\":\"number\",\"transition\":true,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":false},\"color\":{\"type\":\"color\",\"default\":\"#ffffff\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":false,\"transition\":true},\"intensity\":{\"type\":\"number\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":false,\"transition\":true}},\"paint\":[\"paint_fill\",\"paint_line\",\"paint_circle\",\"paint_fill-extrusion\",\"paint_symbol\",\"paint_raster\",\"paint_background\"],\"paint_fill\":{\"fill-antialias\":{\"type\":\"boolean\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"default\":true},\"fill-opacity\":{\"type\":\"number\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true},\"fill-color\":{\"type\":\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"requires\":[{\"!\":\"fill-pattern\"}]},\"fill-outline-color\":{\"type\":\"color\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"requires\":[{\"!\":\"fill-pattern\"},{\"fill-antialias\":true}]},\"fill-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true,\"units\":\"pixels\"},\"fill-translate-anchor\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"fill-translate\"]},\"fill-pattern\":{\"type\":\"string\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"transition\":true}},\"paint_fill-extrusion\":{\"fill-extrusion-opacity\":{\"type\":\"number\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":false,\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true},\"fill-extrusion-color\":{\"type\":\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"requires\":[{\"!\":\"fill-extrusion-pattern\"}]},\"fill-extrusion-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true,\"units\":\"pixels\"},\"fill-extrusion-translate-anchor\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"fill-extrusion-translate\"]},\"fill-extrusion-pattern\":{\"type\":\"string\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"transition\":true},\"fill-extrusion-height\":{\"type\":\"number\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"default\":0,\"minimum\":0,\"units\":\"meters\",\"transition\":true},\"fill-extrusion-base\":{\"type\":\"number\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"default\":0,\"minimum\":0,\"units\":\"meters\",\"transition\":true,\"requires\":[\"fill-extrusion-height\"]}},\"paint_line\":{\"line-opacity\":{\"type\":\"number\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true},\"line-color\":{\"type\":\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"requires\":[{\"!\":\"line-pattern\"}]},\"line-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true,\"units\":\"pixels\"},\"line-translate-anchor\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"line-translate\"]},\"line-width\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true,\"units\":\"pixels\"},\"line-gap-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"units\":\"pixels\"},\"line-offset\":{\"type\":\"number\",\"default\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"units\":\"pixels\"},\"line-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"units\":\"pixels\"},\"line-dasharray\":{\"type\":\"array\",\"value\":\"number\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"minimum\":0,\"transition\":true,\"units\":\"line widths\",\"requires\":[{\"!\":\"line-pattern\"}]},\"line-pattern\":{\"type\":\"string\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"transition\":true}},\"paint_circle\":{\"circle-radius\":{\"type\":\"number\",\"default\":5,\"minimum\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"units\":\"pixels\"},\"circle-color\":{\"type\":\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true},\"circle-blur\":{\"type\":\"number\",\"default\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true},\"circle-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true},\"circle-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true,\"units\":\"pixels\"},\"circle-translate-anchor\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"circle-translate\"]},\"circle-pitch-scale\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\"},\"circle-stroke-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"units\":\"pixels\"},\"circle-stroke-color\":{\"type\":\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true},\"circle-stroke-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true}},\"paint_symbol\":{\"icon-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"requires\":[\"icon-image\"]},\"icon-color\":{\"type\":\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"requires\":[\"icon-image\"]},\"icon-halo-color\":{\"type\":\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"requires\":[\"icon-image\"]},\"icon-halo-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"icon-image\"]},\"icon-halo-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"icon-image\"]},\"icon-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"icon-image\"]},\"icon-translate-anchor\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"icon-image\",\"icon-translate\"]},\"text-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"requires\":[\"text-field\"]},\"text-color\":{\"type\":\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"requires\":[\"text-field\"]},\"text-halo-color\":{\"type\":\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"requires\":[\"text-field\"]},\"text-halo-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"text-field\"]},\"text-halo-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"property-function\":true,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"text-field\"]},\"text-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"text-field\"]},\"text-translate-anchor\":{\"type\":\"enum\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"text-field\",\"text-translate\"]}},\"paint_raster\":{\"raster-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true},\"raster-hue-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true,\"units\":\"degrees\"},\"raster-brightness-min\":{\"type\":\"number\",\"function\":\"interpolated\",\"zoom-function\":true,\"default\":0,\"minimum\":0,\"maximum\":1,\"transition\":true},\"raster-brightness-max\":{\"type\":\"number\",\"function\":\"interpolated\",\"zoom-function\":true,\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true},\"raster-saturation\":{\"type\":\"number\",\"default\":0,\"minimum\":-1,\"maximum\":1,\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true},\"raster-contrast\":{\"type\":\"number\",\"default\":0,\"minimum\":-1,\"maximum\":1,\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true},\"raster-fade-duration\":{\"type\":\"number\",\"default\":300,\"minimum\":0,\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true,\"units\":\"milliseconds\"}},\"paint_background\":{\"background-color\":{\"type\":\"color\",\"default\":\"#000000\",\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true,\"requires\":[{\"!\":\"background-pattern\"}]},\"background-pattern\":{\"type\":\"string\",\"function\":\"piecewise-constant\",\"zoom-function\":true,\"transition\":true},\"background-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"function\":\"interpolated\",\"zoom-function\":true,\"transition\":true}},\"transition\":{\"duration\":{\"type\":\"number\",\"default\":300,\"minimum\":0,\"units\":\"milliseconds\"},\"delay\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"units\":\"milliseconds\"}}}\n},{}],119:[function(require,module,exports){\n\"use strict\";module.exports=function(r){for(var t=arguments,e=1;e<arguments.length;e++){var n=t[e];for(var o in n)r[o]=n[o]}return r};\n},{}],120:[function(require,module,exports){\n\"use strict\";module.exports=function(n){return n instanceof Number?\"number\":n instanceof String?\"string\":n instanceof Boolean?\"boolean\":Array.isArray(n)?\"array\":null===n?\"null\":typeof n};\n},{}],121:[function(require,module,exports){\n\"use strict\";var parseColorString=require(\"csscolorparser\").parseCSSColor;module.exports=function(r){if(\"string\"==typeof r){var e=parseColorString(r);if(!e)return;return[e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]]}return Array.isArray(r)?r:void 0};\n},{\"csscolorparser\":107}],122:[function(require,module,exports){\n\"use strict\";module.exports=[\"type\",\"source\",\"source-layer\",\"minzoom\",\"maxzoom\",\"filter\",\"layout\"];\n},{}],123:[function(require,module,exports){\n\"use strict\";module.exports=function(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n};\n},{}],124:[function(require,module,exports){\n\"use strict\";var ValidationError=require(\"../error/validation_error\"),getType=require(\"../util/get_type\"),extend=require(\"../util/extend\");module.exports=function(e){var r=require(\"./validate_function\"),t=require(\"./validate_object\"),i={\"*\":function(){return[]},array:require(\"./validate_array\"),boolean:require(\"./validate_boolean\"),number:require(\"./validate_number\"),color:require(\"./validate_color\"),constants:require(\"./validate_constants\"),enum:require(\"./validate_enum\"),filter:require(\"./validate_filter\"),function:require(\"./validate_function\"),layer:require(\"./validate_layer\"),object:require(\"./validate_object\"),source:require(\"./validate_source\"),light:require(\"./validate_light\"),string:require(\"./validate_string\")},a=e.value,n=e.valueSpec,u=e.key,o=e.styleSpec,l=e.style;if(\"string\"===getType(a)&&\"@\"===a[0]){if(o.$version>7)return[new ValidationError(u,a,\"constants have been deprecated as of v8\")];if(!(a in l.constants))return[new ValidationError(u,a,'constant \"%s\" not found',a)];e=extend({},e,{value:l.constants[a]})}return n.function&&\"object\"===getType(a)?r(e):n.type&&i[n.type]?i[n.type](e):t(extend({},e,{valueSpec:n.type?o[n.type]:n}))};\n},{\"../error/validation_error\":102,\"../util/extend\":119,\"../util/get_type\":120,\"./validate_array\":125,\"./validate_boolean\":126,\"./validate_color\":127,\"./validate_constants\":128,\"./validate_enum\":129,\"./validate_filter\":130,\"./validate_function\":131,\"./validate_layer\":133,\"./validate_light\":135,\"./validate_number\":136,\"./validate_object\":137,\"./validate_source\":140,\"./validate_string\":141}],125:[function(require,module,exports){\n\"use strict\";var getType=require(\"../util/get_type\"),validate=require(\"./validate\"),ValidationError=require(\"../error/validation_error\");module.exports=function(e){var r=e.value,t=e.valueSpec,a=e.style,n=e.styleSpec,l=e.key,i=e.arrayElementValidator||validate;if(\"array\"!==getType(r))return[new ValidationError(l,r,\"array expected, %s found\",getType(r))];if(t.length&&r.length!==t.length)return[new ValidationError(l,r,\"array length %d expected, length %d found\",t.length,r.length)];if(t[\"min-length\"]&&r.length<t[\"min-length\"])return[new ValidationError(l,r,\"array length at least %d expected, length %d found\",t[\"min-length\"],r.length)];var o={type:t.value};n.$version<7&&(o.function=t.function),\"object\"===getType(t.value)&&(o=t.value);for(var u=[],d=0;d<r.length;d++)u=u.concat(i({array:r,arrayIndex:d,value:r[d],valueSpec:o,style:a,styleSpec:n,key:l+\"[\"+d+\"]\"}));return u};\n},{\"../error/validation_error\":102,\"../util/get_type\":120,\"./validate\":124}],126:[function(require,module,exports){\n\"use strict\";var getType=require(\"../util/get_type\"),ValidationError=require(\"../error/validation_error\");module.exports=function(e){var r=e.value,o=e.key,t=getType(r);return\"boolean\"!==t?[new ValidationError(o,r,\"boolean expected, %s found\",t)]:[]};\n},{\"../error/validation_error\":102,\"../util/get_type\":120}],127:[function(require,module,exports){\n\"use strict\";var ValidationError=require(\"../error/validation_error\"),getType=require(\"../util/get_type\"),parseCSSColor=require(\"csscolorparser\").parseCSSColor;module.exports=function(r){var e=r.key,o=r.value,t=getType(o);return\"string\"!==t?[new ValidationError(e,o,\"color expected, %s found\",t)]:null===parseCSSColor(o)?[new ValidationError(e,o,'color expected, \"%s\" found',o)]:[]};\n},{\"../error/validation_error\":102,\"../util/get_type\":120,\"csscolorparser\":107}],128:[function(require,module,exports){\n\"use strict\";var ValidationError=require(\"../error/validation_error\"),getType=require(\"../util/get_type\");module.exports=function(r){var e=r.key,t=r.value,a=r.styleSpec;if(a.$version>7)return t?[new ValidationError(e,t,\"constants have been deprecated as of v8\")]:[];var o=getType(t);if(\"object\"!==o)return[new ValidationError(e,t,\"object expected, %s found\",o)];var n=[];for(var i in t)\"@\"!==i[0]&&n.push(new ValidationError(e+\".\"+i,t[i],'constants must start with \"@\"'));return n};\n},{\"../error/validation_error\":102,\"../util/get_type\":120}],129:[function(require,module,exports){\n\"use strict\";var ValidationError=require(\"../error/validation_error\"),unbundle=require(\"../util/unbundle_jsonlint\");module.exports=function(e){var r=e.key,n=e.value,u=e.valueSpec,o=[];return Array.isArray(u.values)?u.values.indexOf(unbundle(n))===-1&&o.push(new ValidationError(r,n,\"expected one of [%s], %s found\",u.values.join(\", \"),n)):Object.keys(u.values).indexOf(unbundle(n))===-1&&o.push(new ValidationError(r,n,\"expected one of [%s], %s found\",Object.keys(u.values).join(\", \"),n)),o};\n},{\"../error/validation_error\":102,\"../util/unbundle_jsonlint\":123}],130:[function(require,module,exports){\n\"use strict\";var ValidationError=require(\"../error/validation_error\"),validateEnum=require(\"./validate_enum\"),getType=require(\"../util/get_type\"),unbundle=require(\"../util/unbundle_jsonlint\");module.exports=function e(r){var t,a=r.value,n=r.key,l=r.styleSpec,s=[];if(\"array\"!==getType(a))return[new ValidationError(n,a,\"array expected, %s found\",getType(a))];if(a.length<1)return[new ValidationError(n,a,\"filter array must have at least 1 element\")];switch(s=s.concat(validateEnum({key:n+\"[0]\",value:a[0],valueSpec:l.filter_operator,style:r.style,styleSpec:r.styleSpec})),unbundle(a[0])){case\"<\":case\"<=\":case\">\":case\">=\":a.length>=2&&\"$type\"===unbundle(a[1])&&s.push(new ValidationError(n,a,'\"$type\" cannot be use with operator \"%s\"',a[0]));case\"==\":case\"!=\":3!==a.length&&s.push(new ValidationError(n,a,'filter array for operator \"%s\" must have 3 elements',a[0]));case\"in\":case\"!in\":a.length>=2&&(t=getType(a[1]),\"string\"!==t&&s.push(new ValidationError(n+\"[1]\",a[1],\"string expected, %s found\",t)));for(var o=2;o<a.length;o++)t=getType(a[o]),\"$type\"===unbundle(a[1])?s=s.concat(validateEnum({key:n+\"[\"+o+\"]\",value:a[o],valueSpec:l.geometry_type,style:r.style,styleSpec:r.styleSpec})):\"string\"!==t&&\"number\"!==t&&\"boolean\"!==t&&s.push(new ValidationError(n+\"[\"+o+\"]\",a[o],\"string, number, or boolean expected, %s found\",t));break;case\"any\":case\"all\":case\"none\":for(var i=1;i<a.length;i++)s=s.concat(e({key:n+\"[\"+i+\"]\",value:a[i],style:r.style,styleSpec:r.styleSpec}));break;case\"has\":case\"!has\":t=getType(a[1]),2!==a.length?s.push(new ValidationError(n,a,'filter array for \"%s\" operator must have 2 elements',a[0])):\"string\"!==t&&s.push(new ValidationError(n+\"[1]\",a[1],\"string expected, %s found\",t))}return s};\n},{\"../error/validation_error\":102,\"../util/get_type\":120,\"../util/unbundle_jsonlint\":123,\"./validate_enum\":129}],131:[function(require,module,exports){\n\"use strict\";var ValidationError=require(\"../error/validation_error\"),getType=require(\"../util/get_type\"),validate=require(\"./validate\"),validateObject=require(\"./validate_object\"),validateArray=require(\"./validate_array\"),validateNumber=require(\"./validate_number\"),unbundle=require(\"../util/unbundle_jsonlint\");module.exports=function(e){function t(e){if(\"identity\"===p)return[new ValidationError(e.key,e.value,'identity function may not have a \"stops\" property')];var t=[],a=e.value;return t=t.concat(validateArray({key:e.key,value:a,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:r})),\"array\"===getType(a)&&0===a.length&&t.push(new ValidationError(e.key,a,\"array must have at least one stop\")),t}function r(e){var t=[],r=e.value,o=e.key;if(\"array\"!==getType(r))return[new ValidationError(o,r,\"array expected, %s found\",getType(r))];if(2!==r.length)return[new ValidationError(o,r,\"array length %d expected, length %d found\",2,r.length)];if(c){if(\"object\"!==getType(r[0]))return[new ValidationError(o,r,\"object expected, %s found\",getType(r[0]))];if(void 0===r[0].zoom)return[new ValidationError(o,r,\"object stop key must have zoom\")];if(void 0===r[0].value)return[new ValidationError(o,r,\"object stop key must have value\")];if(l&&l>unbundle(r[0].zoom))return[new ValidationError(o,r[0].zoom,\"stop zoom values must appear in ascending order\")];unbundle(r[0].zoom)!==l&&(l=unbundle(r[0].zoom),i=void 0,s={}),t=t.concat(validateObject({key:o+\"[0]\",value:r[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:validateNumber,value:a}}))}else t=t.concat(a({key:o+\"[0]\",value:r[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec}));return t.concat(validate({key:o+\"[1]\",value:r[1],valueSpec:u,style:e.style,styleSpec:e.styleSpec}))}function a(e){var t=getType(e.value),r=unbundle(e.value);if(n){if(t!==n)return[new ValidationError(e.key,e.value,\"%s stop domain type must match previous stop domain type %s\",t,n)]}else n=t;if(\"number\"!==t&&\"string\"!==t&&\"boolean\"!==t)return[new ValidationError(e.key,e.value,\"stop domain value must be a number, string, or boolean\")];if(\"number\"!==t&&\"categorical\"!==p){var a=\"number expected, %s found\";return u[\"property-function\"]&&void 0===p&&(a+='\\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`.'),[new ValidationError(e.key,e.value,a,t)]}return\"categorical\"!==p||\"number\"!==t||isFinite(r)&&Math.floor(r)===r?\"number\"===t&&void 0!==i&&r<i?[new ValidationError(e.key,e.value,\"stop domain values must appear in ascending order\")]:(i=r,\"categorical\"===p&&r in s?[new ValidationError(e.key,e.value,\"stop domain values must be unique\")]:(s[r]=!0,[])):[new ValidationError(e.key,e.value,\"integer expected, found %s\",r)]}function o(e){return validate({key:e.key,value:e.value,valueSpec:u,style:e.style,styleSpec:e.styleSpec})}var n,i,l,u=e.valueSpec,p=unbundle(e.value.type),s={},y=\"categorical\"!==p&&void 0===e.value.property,d=!y,c=\"array\"===getType(e.value.stops)&&\"array\"===getType(e.value.stops[0])&&\"object\"===getType(e.value.stops[0][0]),v=validateObject({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:t,default:o}});return\"identity\"===p&&y&&v.push(new ValidationError(e.key,e.value,'missing required property \"property\"')),\"identity\"===p||e.value.stops||v.push(new ValidationError(e.key,e.value,'missing required property \"stops\"')),\"exponential\"===p&&\"piecewise-constant\"===e.valueSpec.function&&v.push(new ValidationError(e.key,e.value,\"exponential functions not supported\")),e.styleSpec.$version>=8&&(d&&!e.valueSpec[\"property-function\"]?v.push(new ValidationError(e.key,e.value,\"property functions not supported\")):y&&!e.valueSpec[\"zoom-function\"]&&v.push(new ValidationError(e.key,e.value,\"zoom functions not supported\"))),\"categorical\"!==p&&!c||void 0!==e.value.property||v.push(new ValidationError(e.key,e.value,'\"property\" property is required')),v};\n},{\"../error/validation_error\":102,\"../util/get_type\":120,\"../util/unbundle_jsonlint\":123,\"./validate\":124,\"./validate_array\":125,\"./validate_number\":136,\"./validate_object\":137}],132:[function(require,module,exports){\n\"use strict\";var ValidationError=require(\"../error/validation_error\"),validateString=require(\"./validate_string\");module.exports=function(r){var e=r.value,t=r.key,a=validateString(r);return a.length?a:(e.indexOf(\"{fontstack}\")===-1&&a.push(new ValidationError(t,e,'\"glyphs\" url must include a \"{fontstack}\" token')),e.indexOf(\"{range}\")===-1&&a.push(new ValidationError(t,e,'\"glyphs\" url must include a \"{range}\" token')),a)};\n},{\"../error/validation_error\":102,\"./validate_string\":141}],133:[function(require,module,exports){\n\"use strict\";var ValidationError=require(\"../error/validation_error\"),unbundle=require(\"../util/unbundle_jsonlint\"),validateObject=require(\"./validate_object\"),validateFilter=require(\"./validate_filter\"),validatePaintProperty=require(\"./validate_paint_property\"),validateLayoutProperty=require(\"./validate_layout_property\"),extend=require(\"../util/extend\");module.exports=function(e){var r=[],t=e.value,a=e.key,i=e.style,l=e.styleSpec;t.type||t.ref||r.push(new ValidationError(a,t,'either \"type\" or \"ref\" is required'));var u=unbundle(t.type),n=unbundle(t.ref);if(t.id)for(var o=unbundle(t.id),s=0;s<e.arrayIndex;s++){var d=i.layers[s];unbundle(d.id)===o&&r.push(new ValidationError(a,t.id,'duplicate layer id \"%s\", previously used at line %d',t.id,d.id.__line__))}if(\"ref\"in t){[\"type\",\"source\",\"source-layer\",\"filter\",\"layout\"].forEach(function(e){e in t&&r.push(new ValidationError(a,t[e],'\"%s\" is prohibited for ref layers',e))});var y;i.layers.forEach(function(e){unbundle(e.id)===n&&(y=e)}),y?y.ref?r.push(new ValidationError(a,t.ref,\"ref cannot reference another ref layer\")):u=unbundle(y.type):r.push(new ValidationError(a,t.ref,'ref layer \"%s\" not found',n))}else if(\"background\"!==u)if(t.source){var c=i.sources&&i.sources[t.source],p=c&&unbundle(c.type);c?\"vector\"===p&&\"raster\"===u?r.push(new ValidationError(a,t.source,'layer \"%s\" requires a raster source',t.id)):\"raster\"===p&&\"raster\"!==u?r.push(new ValidationError(a,t.source,'layer \"%s\" requires a vector source',t.id)):\"vector\"!==p||t[\"source-layer\"]||r.push(new ValidationError(a,t,'layer \"%s\" must specify a \"source-layer\"',t.id)):r.push(new ValidationError(a,t.source,'source \"%s\" not found',t.source))}else r.push(new ValidationError(a,t,'missing required property \"source\"'));return r=r.concat(validateObject({key:a,value:t,valueSpec:l.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{\"*\":function(){return[]},filter:validateFilter,layout:function(e){return validateObject({layer:t,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{\"*\":function(e){return validateLayoutProperty(extend({layerType:u},e))}}})},paint:function(e){return validateObject({layer:t,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{\"*\":function(e){return validatePaintProperty(extend({layerType:u},e))}}})}}}))};\n},{\"../error/validation_error\":102,\"../util/extend\":119,\"../util/unbundle_jsonlint\":123,\"./validate_filter\":130,\"./validate_layout_property\":134,\"./validate_object\":137,\"./validate_paint_property\":138}],134:[function(require,module,exports){\n\"use strict\";var validateProperty=require(\"./validate_property\");module.exports=function(r){return validateProperty(r,\"layout\")};\n},{\"./validate_property\":139}],135:[function(require,module,exports){\n\"use strict\";var ValidationError=require(\"../error/validation_error\"),getType=require(\"../util/get_type\"),validate=require(\"./validate\");module.exports=function(e){var t=e.value,r=e.styleSpec,a=r.light,i=e.style,n=[],o=getType(t);if(void 0===t)return n;if(\"object\"!==o)return n=n.concat([new ValidationError(\"light\",t,\"object expected, %s found\",o)]);for(var l in t){var c=l.match(/^(.*)-transition$/);n=c&&a[c[1]]&&a[c[1]].transition?n.concat(validate({key:l,value:t[l],valueSpec:r.transition,style:i,styleSpec:r})):a[l]?n.concat(validate({key:l,value:t[l],valueSpec:a[l],style:i,styleSpec:r})):n.concat([new ValidationError(l,t[l],'unknown property \"%s\"',l)])}return n};\n},{\"../error/validation_error\":102,\"../util/get_type\":120,\"./validate\":124}],136:[function(require,module,exports){\n\"use strict\";var getType=require(\"../util/get_type\"),ValidationError=require(\"../error/validation_error\");module.exports=function(e){var r=e.key,i=e.value,m=e.valueSpec,a=getType(i);return\"number\"!==a?[new ValidationError(r,i,\"number expected, %s found\",a)]:\"minimum\"in m&&i<m.minimum?[new ValidationError(r,i,\"%s is less than the minimum value %s\",i,m.minimum)]:\"maximum\"in m&&i>m.maximum?[new ValidationError(r,i,\"%s is greater than the maximum value %s\",i,m.maximum)]:[]};\n},{\"../error/validation_error\":102,\"../util/get_type\":120}],137:[function(require,module,exports){\n\"use strict\";var ValidationError=require(\"../error/validation_error\"),getType=require(\"../util/get_type\"),validateSpec=require(\"./validate\");module.exports=function(e){var r=e.key,t=e.value,i=e.valueSpec||{},a=e.objectElementValidators||{},o=e.style,l=e.styleSpec,n=[],u=getType(t);if(\"object\"!==u)return[new ValidationError(r,t,\"object expected, %s found\",u)];for(var d in t){var p=d.split(\".\")[0],s=i[p]||i[\"*\"],c=void 0;if(a[p])c=a[p];else if(i[p])c=validateSpec;else if(a[\"*\"])c=a[\"*\"];else{if(!i[\"*\"]){n.push(new ValidationError(r,t[d],'unknown property \"%s\"',d));continue}c=validateSpec}n=n.concat(c({key:(r?r+\".\":r)+d,value:t[d],valueSpec:s,style:o,styleSpec:l,object:t,objectKey:d}))}for(var v in i)i[v].required&&void 0===i[v].default&&void 0===t[v]&&n.push(new ValidationError(r,t,'missing required property \"%s\"',v));return n};\n},{\"../error/validation_error\":102,\"../util/get_type\":120,\"./validate\":124}],138:[function(require,module,exports){\n\"use strict\";var validateProperty=require(\"./validate_property\");module.exports=function(r){return validateProperty(r,\"paint\")};\n},{\"./validate_property\":139}],139:[function(require,module,exports){\n\"use strict\";var validate=require(\"./validate\"),ValidationError=require(\"../error/validation_error\"),getType=require(\"../util/get_type\");module.exports=function(e,r){var t=e.key,i=e.style,a=e.styleSpec,n=e.value,o=e.objectKey,s=a[r+\"_\"+e.layerType];if(!s)return[];var p=o.match(/^(.*)-transition$/);if(\"paint\"===r&&p&&s[p[1]]&&s[p[1]].transition)return validate({key:t,value:n,valueSpec:a.transition,style:i,styleSpec:a});var l=e.valueSpec||s[o];if(!l)return[new ValidationError(t,n,'unknown property \"%s\"',o)];var y;if(\"string\"===getType(n)&&l[\"property-function\"]&&!l.tokens&&(y=/^{([^}]+)}$/.exec(n)))return[new ValidationError(t,n,'\"%s\" does not support interpolation syntax\\nUse an identity property function instead: `{ \"type\": \"identity\", \"property\": %s` }`.',o,JSON.stringify(y[1]))];var u=[];return\"symbol\"===e.layerType&&(\"icon-image\"===o&&i&&!i.sprite?u.push(new ValidationError(t,n,'use of \"icon-image\" requires a style \"sprite\" property')):\"text-field\"===o&&i&&!i.glyphs&&u.push(new ValidationError(t,n,'use of \"text-field\" requires a style \"glyphs\" property'))),u.concat(validate({key:e.key,value:n,valueSpec:l,style:i,styleSpec:a}))};\n},{\"../error/validation_error\":102,\"../util/get_type\":120,\"./validate\":124}],140:[function(require,module,exports){\n\"use strict\";var ValidationError=require(\"../error/validation_error\"),unbundle=require(\"../util/unbundle_jsonlint\"),validateObject=require(\"./validate_object\"),validateEnum=require(\"./validate_enum\");module.exports=function(e){var a=e.value,t=e.key,r=e.styleSpec,l=e.style;if(!a.type)return[new ValidationError(t,a,'\"type\" is required')];var u=unbundle(a.type),i=[];switch(u){case\"vector\":case\"raster\":if(i=i.concat(validateObject({key:t,value:a,valueSpec:r.source_tile,style:e.style,styleSpec:r})),\"url\"in a)for(var s in a)[\"type\",\"url\",\"tileSize\"].indexOf(s)<0&&i.push(new ValidationError(t+\".\"+s,a[s],'a source with a \"url\" property may not include a \"%s\" property',s));return i;case\"geojson\":return validateObject({key:t,value:a,valueSpec:r.source_geojson,style:l,styleSpec:r});case\"video\":return validateObject({key:t,value:a,valueSpec:r.source_video,style:l,styleSpec:r});case\"image\":return validateObject({key:t,value:a,valueSpec:r.source_image,style:l,styleSpec:r});case\"canvas\":return validateObject({key:t,value:a,valueSpec:r.source_canvas,style:l,styleSpec:r});default:return validateEnum({key:t+\".type\",value:a.type,valueSpec:{values:[\"vector\",\"raster\",\"geojson\",\"video\",\"image\",\"canvas\"]},style:l,styleSpec:r})}};\n},{\"../error/validation_error\":102,\"../util/unbundle_jsonlint\":123,\"./validate_enum\":129,\"./validate_object\":137}],141:[function(require,module,exports){\n\"use strict\";var getType=require(\"../util/get_type\"),ValidationError=require(\"../error/validation_error\");module.exports=function(r){var e=r.value,t=r.key,i=getType(e);return\"string\"!==i?[new ValidationError(t,e,\"string expected, %s found\",i)]:[]};\n},{\"../error/validation_error\":102,\"../util/get_type\":120}],142:[function(require,module,exports){\n\"use strict\";function validateStyleMin(e,a){a=a||latestStyleSpec;var t=[];return t=t.concat(validate({key:\"\",value:e,valueSpec:a.$root,styleSpec:a,style:e,objectElementValidators:{glyphs:validateGlyphsURL,\"*\":function(){return[]}}})),a.$version>7&&e.constants&&(t=t.concat(validateConstants({key:\"constants\",value:e.constants,style:e,styleSpec:a}))),sortErrors(t)}function sortErrors(e){return[].concat(e).sort(function(e,a){return e.line-a.line})}function wrapCleanErrors(e){return function(){return sortErrors(e.apply(this,arguments))}}var validateConstants=require(\"./validate/validate_constants\"),validate=require(\"./validate/validate\"),latestStyleSpec=require(\"./reference/latest\"),validateGlyphsURL=require(\"./validate/validate_glyphs_url\");validateStyleMin.source=wrapCleanErrors(require(\"./validate/validate_source\")),validateStyleMin.light=wrapCleanErrors(require(\"./validate/validate_light\")),validateStyleMin.layer=wrapCleanErrors(require(\"./validate/validate_layer\")),validateStyleMin.filter=wrapCleanErrors(require(\"./validate/validate_filter\")),validateStyleMin.paintProperty=wrapCleanErrors(require(\"./validate/validate_paint_property\")),validateStyleMin.layoutProperty=wrapCleanErrors(require(\"./validate/validate_layout_property\")),module.exports=validateStyleMin;\n},{\"./reference/latest\":117,\"./validate/validate\":124,\"./validate/validate_constants\":128,\"./validate/validate_filter\":130,\"./validate/validate_glyphs_url\":132,\"./validate/validate_layer\":133,\"./validate/validate_layout_property\":134,\"./validate/validate_light\":135,\"./validate/validate_paint_property\":138,\"./validate/validate_source\":140}],143:[function(require,module,exports){\n\"use strict\";var AnimationLoop=function(){this.n=0,this.times=[]};AnimationLoop.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},AnimationLoop.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},AnimationLoop.prototype.cancel=function(t){this.times=this.times.filter(function(i){return i.id!==t})},module.exports=AnimationLoop;\n},{}],144:[function(require,module,exports){\n\"use strict\";var Evented=require(\"../util/evented\"),ajax=require(\"../util/ajax\"),browser=require(\"../util/browser\"),normalizeURL=require(\"../util/mapbox\").normalizeSpriteURL,SpritePosition=function(){this.x=0,this.y=0,this.width=0,this.height=0,this.pixelRatio=1,this.sdf=!1},ImageSprite=function(t){function i(i,e){var a=this;t.call(this),this.base=i,this.retina=browser.devicePixelRatio>1,this.setEventedParent(e);var r=this.retina?\"@2x\":\"\";ajax.getJSON(normalizeURL(i,r,\".json\"),function(t,i){return t?void a.fire(\"error\",{error:t}):(a.data=i,void(a.imgData&&a.fire(\"data\",{dataType:\"style\"})))}),ajax.getImage(normalizeURL(i,r,\".png\"),function(t,i){if(t)return void a.fire(\"error\",{error:t});a.imgData=browser.getImageData(i);for(var e=0;e<a.imgData.length;e+=4){var r=a.imgData[e+3]/255;a.imgData[e+0]*=r,a.imgData[e+1]*=r,a.imgData[e+2]*=r}a.width=i.width,a.data&&a.fire(\"data\",{dataType:\"style\"})})}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.toJSON=function(){return this.base},i.prototype.loaded=function(){return!(!this.data||!this.imgData)},i.prototype.resize=function(){var t=this;if(browser.devicePixelRatio>1!==this.retina){var e=new i(this.base);e.on(\"data\",function(){t.data=e.data,t.imgData=e.imgData,t.width=e.width,t.retina=e.retina})}},i.prototype.getSpritePosition=function(t){if(!this.loaded())return new SpritePosition;var i=this.data&&this.data[t];return i&&this.imgData?i:new SpritePosition},i}(Evented);module.exports=ImageSprite;\n},{\"../util/ajax\":191,\"../util/browser\":192,\"../util/evented\":200,\"../util/mapbox\":208}],145:[function(require,module,exports){\n\"use strict\";var styleSpec=require(\"../style-spec/reference/latest\"),util=require(\"../util/util\"),Evented=require(\"../util/evented\"),validateStyle=require(\"./validate_style\"),StyleDeclaration=require(\"./style_declaration\"),StyleTransition=require(\"./style_transition\"),TRANSITION_SUFFIX=\"-transition\",Light=function(t){function i(i){t.call(this),this.properties=[\"anchor\",\"color\",\"position\",\"intensity\"],this._specifications=styleSpec.light,this.set(i)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.set=function(t){var i=this;if(!this._validate(validateStyle.light,t)){this._declarations={},this._transitions={},this._transitionOptions={},this.calculated={},t=util.extend({anchor:this._specifications.anchor.default,color:this._specifications.color.default,position:this._specifications.position.default,intensity:this._specifications.intensity.default},t);for(var e=0,o=i.properties;e<o.length;e+=1){var n=o[e];i._declarations[n]=new StyleDeclaration(i._specifications[n],t[n])}return this}},i.prototype.getLight=function(){return{anchor:this.getLightProperty(\"anchor\"),color:this.getLightProperty(\"color\"),position:this.getLightProperty(\"position\"),intensity:this.getLightProperty(\"intensity\")}},i.prototype.getLightProperty=function(t){return util.endsWith(t,TRANSITION_SUFFIX)?this._transitionOptions[t]:this._declarations[t]&&this._declarations[t].value},i.prototype.getLightValue=function(t,i){if(\"position\"===t){var e=this._transitions[t].calculate(i),o=util.sphericalToCartesian(e);return{x:o[0],y:o[1],z:o[2]}}return this._transitions[t].calculate(i)},i.prototype.setLight=function(t){var i=this;if(!this._validate(validateStyle.light,t))for(var e in t){var o=t[e];util.endsWith(e,TRANSITION_SUFFIX)?i._transitionOptions[e]=o:null===o||void 0===o?delete i._declarations[e]:i._declarations[e]=new StyleDeclaration(i._specifications[e],o)}},i.prototype.recalculate=function(t){var i=this;for(var e in i._declarations)i.calculated[e]=i.getLightValue(e,{zoom:t})},i.prototype._applyLightDeclaration=function(t,i,e,o,n){var r=e.transition?this._transitions[t]:void 0,a=this._specifications[t];if(null!==i&&void 0!==i||(i=new StyleDeclaration(a,a.default)),!r||r.declaration.json!==i.json){var s=util.extend({duration:300,delay:0},o,this.getLightProperty(t+TRANSITION_SUFFIX)),l=this._transitions[t]=new StyleTransition(a,i,r,s);l.instant()||(l.loopID=n.set(l.endTime-Date.now())),r&&n.cancel(r.loopID)}},i.prototype.updateLightTransitions=function(t,i,e){var o,n=this;for(o in n._declarations)n._applyLightDeclaration(o,n._declarations[o],t,i,e)},i.prototype._validate=function(t,i){return validateStyle.emitErrors(this,t.call(validateStyle,util.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:styleSpec})))},i}(Evented);module.exports=Light;\n},{\"../style-spec/reference/latest\":117,\"../util/evented\":200,\"../util/util\":212,\"./style_declaration\":147,\"./style_transition\":155,\"./validate_style\":156}],146:[function(require,module,exports){\n\"use strict\";var Evented=require(\"../util/evented\"),StyleLayer=require(\"./style_layer\"),ImageSprite=require(\"./image_sprite\"),Light=require(\"./light\"),GlyphSource=require(\"../symbol/glyph_source\"),SpriteAtlas=require(\"../symbol/sprite_atlas\"),LineAtlas=require(\"../render/line_atlas\"),util=require(\"../util/util\"),ajax=require(\"../util/ajax\"),mapbox=require(\"../util/mapbox\"),browser=require(\"../util/browser\"),Dispatcher=require(\"../util/dispatcher\"),AnimationLoop=require(\"./animation_loop\"),validateStyle=require(\"./validate_style\"),Source=require(\"../source/source\"),QueryFeatures=require(\"../source/query_features\"),SourceCache=require(\"../source/source_cache\"),styleSpec=require(\"../style-spec/reference/latest\"),MapboxGLFunction=require(\"../style-spec/function\"),getWorkerPool=require(\"../util/global_worker_pool\"),deref=require(\"../style-spec/deref\"),diff=require(\"../style-spec/diff\"),rtlTextPlugin=require(\"../source/rtl_text_plugin\"),supportedDiffOperations=util.pick(diff.operations,[\"addLayer\",\"removeLayer\",\"setPaintProperty\",\"setLayoutProperty\",\"setFilter\",\"addSource\",\"removeSource\",\"setLayerZoomRange\",\"setLight\",\"setTransition\"]),ignoredDiffOperations=util.pick(diff.operations,[\"setCenter\",\"setZoom\",\"setBearing\",\"setPitch\"]),Style=function(e){function t(t,r,i){var o=this;e.call(this),this.map=r,this.animationLoop=r&&r.animationLoop||new AnimationLoop,this.dispatcher=new Dispatcher(getWorkerPool(),this),this.spriteAtlas=new SpriteAtlas(1024,1024),this.lineAtlas=new LineAtlas(256,512),this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory={},this._loaded=!1,util.bindAll([\"_redoPlacement\"],this),this._resetUpdates(),i=util.extend({validate:\"string\"!=typeof t||!mapbox.isMapboxURL(t)},i),this.setEventedParent(r),this.fire(\"dataloading\",{dataType:\"style\"});var s=this;this._rtlTextPluginCallback=rtlTextPlugin.registerForPluginAvailability(function(e){s.dispatcher.broadcast(\"loadRTLTextPlugin\",e.pluginBlobURL,e.errorCallback);for(var t in s.sourceCaches)s.sourceCaches[t].reload()});var a=function(e,t){if(e)return void o.fire(\"error\",{error:e});if(!i.validate||!validateStyle.emitErrors(o,validateStyle(t))){o._loaded=!0,o.stylesheet=t,o.updateClasses();for(var r in t.sources)o.addSource(r,t.sources[r],i);t.sprite&&(o.sprite=new ImageSprite(t.sprite,o)),o.glyphSource=new GlyphSource(t.glyphs),o._resolve(),o.fire(\"data\",{dataType:\"style\"}),o.fire(\"style.load\")}};\"string\"==typeof t?ajax.getJSON(mapbox.normalizeStyleURL(t),a):browser.frame(a.bind(this,null,t)),this.on(\"data\",function(e){if(\"source\"===e.dataType&&\"metadata\"===e.sourceDataType){var t=o.sourceCaches[e.sourceId].getSource();if(t&&t.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===t.id&&o._validateLayer(i)}}})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._validateLayer=function(e){var t=this.sourceCaches[e.source];if(e.sourceLayer&&t){var r=t.getSource();(\"geojson\"===r.type||r.vectorLayerIds&&r.vectorLayerIds.indexOf(e.sourceLayer)===-1)&&this.fire(\"error\",{error:new Error('Source layer \"'+e.sourceLayer+'\" does not exist on source \"'+r.id+'\" as specified by style layer \"'+e.id+'\"')})}},t.prototype.loaded=function(){var e=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in e.sourceCaches)if(!e.sourceCaches[t].loaded())return!1;return!(this.sprite&&!this.sprite.loaded())},t.prototype._resolve=function(){var e=this,t=deref(this.stylesheet.layers);this._order=t.map(function(e){return e.id}),this._layers={};for(var r=0,i=t;r<i.length;r+=1){var o=i[r];o=StyleLayer.create(o),o.setEventedParent(e,{layer:{id:o.id}}),e._layers[o.id]=o}this.dispatcher.broadcast(\"setLayers\",this._serializeLayers(this._order)),this.light=new Light(this.stylesheet.light)},t.prototype._serializeLayers=function(e){var t=this;return e.map(function(e){return t._layers[e].serialize()})},t.prototype._applyClasses=function(e,t){var r=this;if(this._loaded){e=e||[],t=t||{transition:!0};var i=this.stylesheet.transition||{},o=this._updatedAllPaintProps?this._layers:this._updatedPaintProps;for(var s in o){var a=r._layers[s],n=r._updatedPaintProps[s];if(r._updatedAllPaintProps||n.all)a.updatePaintTransitions(e,t,i,r.animationLoop,r.zoomHistory);else for(var l in n)r._layers[s].updatePaintTransition(l,e,t,i,r.animationLoop,r.zoomHistory)}this.light.updateLightTransitions(t,i,this.animationLoop)}},t.prototype._recalculate=function(e){var t=this;if(this._loaded){for(var r in t.sourceCaches)t.sourceCaches[r].used=!1;this._updateZoomHistory(e);for(var i=0,o=t._order;i<o.length;i+=1){var s=o[i],a=t._layers[s];a.recalculate(e),!a.isHidden(e)&&a.source&&(t.sourceCaches[a.source].used=!0)}this.light.recalculate(e);var n=300;Math.floor(this.z)!==Math.floor(e)&&this.animationLoop.set(n),this.z=e}},t.prototype._updateZoomHistory=function(e){var t=this.zoomHistory;void 0===t.lastIntegerZoom&&(t.lastIntegerZoom=Math.floor(e),t.lastIntegerZoomTime=0,t.lastZoom=e),Math.floor(t.lastZoom)<Math.floor(e)?(t.lastIntegerZoom=Math.floor(e),t.lastIntegerZoomTime=Date.now()):Math.floor(t.lastZoom)>Math.floor(e)&&(t.lastIntegerZoom=Math.floor(e+1),t.lastIntegerZoomTime=Date.now()),t.lastZoom=e},t.prototype._checkLoaded=function(){if(!this._loaded)throw new Error(\"Style is not done loading\")},t.prototype.update=function(e,t){var r=this;if(this._changed){var i=Object.keys(this._updatedLayers),o=Object.keys(this._removedLayers);(i.length||o.length||this._updatedSymbolOrder)&&this._updateWorkerLayers(i,o);for(var s in r._updatedSources){var a=r._updatedSources[s];\"reload\"===a?r._reloadSource(s):\"clear\"===a&&r._clearSource(s)}this._applyClasses(e,t),this._resetUpdates(),this.fire(\"data\",{dataType:\"style\"})}},t.prototype._updateWorkerLayers=function(e,t){var r=this,i=this._updatedSymbolOrder?this._order.filter(function(e){return\"symbol\"===r._layers[e].type}):null;this.dispatcher.broadcast(\"updateLayers\",{layers:this._serializeLayers(e),removedIds:t,symbolOrder:i})},t.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSymbolOrder=!1,this._updatedSources={},this._updatedPaintProps={},this._updatedAllPaintProps=!1},t.prototype.setState=function(e){var t=this;if(this._checkLoaded(),validateStyle.emitErrors(this,validateStyle(e)))return!1;e=util.extend({},e),e.layers=deref(e.layers);var r=diff(this.serialize(),e).filter(function(e){return!(e.command in ignoredDiffOperations)});if(0===r.length)return!1;var i=r.filter(function(e){return!(e.command in supportedDiffOperations)});if(i.length>0)throw new Error(\"Unimplemented: \"+i.map(function(e){return e.command}).join(\", \")+\".\");return r.forEach(function(e){\"setTransition\"!==e.command&&t[e.command].apply(t,e.args)}),this.stylesheet=e,!0},t.prototype.addSource=function(e,t,r){var i=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error(\"There is already a source with this ID\");if(!t.type)throw new Error(\"The type property must be defined, but the only the following properties were given: \"+Object.keys(t)+\".\");var o=[\"vector\",\"raster\",\"geojson\",\"video\",\"image\",\"canvas\"],s=o.indexOf(t.type)>=0;if(!s||!this._validate(validateStyle.source,\"sources.\"+e,t,null,r)){var a=this.sourceCaches[e]=new SourceCache(e,t,this.dispatcher);a.style=this,a.setEventedParent(this,function(){return{isSourceLoaded:i.loaded(),source:a.serialize(),sourceId:e}}),a.onAdd(this.map),this._changed=!0}},t.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error(\"There is no source with this ID\");var t=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],t.setEventedParent(null),t.clearTiles(),t.onRemove&&t.onRemove(this.map),this._changed=!0},t.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},t.prototype.addLayer=function(e,t,r){this._checkLoaded();var i=e.id;if(\"object\"==typeof e.source&&(this.addSource(i,e.source),e=util.extend(e,{source:i})),!this._validate(validateStyle.layer,\"layers.\"+i,e,{arrayIndex:-1},r)){var o=StyleLayer.create(e);this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}});var s=t?this._order.indexOf(t):this._order.length;if(this._order.splice(s,0,i),this._layers[i]=o,this._removedLayers[i]&&o.source){var a=this._removedLayers[i];delete this._removedLayers[i],this._updatedSources[o.source]=a.type!==o.type?\"clear\":\"reload\"}this._updateLayer(o),\"symbol\"===o.type&&(this._updatedSymbolOrder=!0),this.updateClasses(i)}},t.prototype.moveLayer=function(e,t){this._checkLoaded(),this._changed=!0;var r=this._layers[e];if(!r)return void this.fire(\"error\",{error:new Error(\"The layer '\"+e+\"' does not exist in the map's style and cannot be moved.\")});var i=this._order.indexOf(e);this._order.splice(i,1);var o=t?this._order.indexOf(t):this._order.length;this._order.splice(o,0,e),\"symbol\"===r.type&&(this._updatedSymbolOrder=!0,r.source&&!this._updatedSources[r.source]&&(this._updatedSources[r.source]=\"reload\"))},t.prototype.removeLayer=function(e){this._checkLoaded();var t=this._layers[e];if(!t)return void this.fire(\"error\",{error:new Error(\"The layer '\"+e+\"' does not exist in the map's style and cannot be removed.\")});t.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),\"symbol\"===t.type&&(this._updatedSymbolOrder=!0),this._changed=!0,this._removedLayers[e]=t,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e]},t.prototype.getLayer=function(e){return this._layers[e]},t.prototype.setLayerZoomRange=function(e,t,r){this._checkLoaded();var i=this.getLayer(e);return i?void(i.minzoom===t&&i.maxzoom===r||(null!=t&&(i.minzoom=t),null!=r&&(i.maxzoom=r),this._updateLayer(i))):void this.fire(\"error\",{error:new Error(\"The layer '\"+e+\"' does not exist in the map's style and cannot have zoom extent.\")})},t.prototype.setFilter=function(e,t){this._checkLoaded();var r=this.getLayer(e);return r?void(null!==t&&void 0!==t&&this._validate(validateStyle.filter,\"layers.\"+r.id+\".filter\",t)||util.deepEqual(r.filter,t)||(r.filter=util.clone(t),this._updateLayer(r))):void this.fire(\"error\",{error:new Error(\"The layer '\"+e+\"' does not exist in the map's style and cannot be filtered.\")})},t.prototype.getFilter=function(e){return util.clone(this.getLayer(e).filter)},t.prototype.setLayoutProperty=function(e,t,r){this._checkLoaded();var i=this.getLayer(e);return i?void(util.deepEqual(i.getLayoutProperty(t),r)||(i.setLayoutProperty(t,r),this._updateLayer(i))):void this.fire(\"error\",{error:new Error(\"The layer '\"+e+\"' does not exist in the map's style and cannot be styled.\")})},t.prototype.getLayoutProperty=function(e,t){return this.getLayer(e).getLayoutProperty(t)},t.prototype.setPaintProperty=function(e,t,r,i){this._checkLoaded();var o=this.getLayer(e);if(!o)return void this.fire(\"error\",{error:new Error(\"The layer '\"+e+\"' does not exist in the map's style and cannot be styled.\")});if(!util.deepEqual(o.getPaintProperty(t,i),r)){var s=o.isPaintValueFeatureConstant(t);o.setPaintProperty(t,r,i);var a=!(r&&MapboxGLFunction.isFunctionDefinition(r)&&\"$zoom\"!==r.property&&void 0!==r.property);a&&s||this._updateLayer(o),this.updateClasses(e,t)}},t.prototype.getPaintProperty=function(e,t,r){return this.getLayer(e).getPaintProperty(t,r)},t.prototype.getTransition=function(){return util.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},t.prototype.updateClasses=function(e,t){if(this._changed=!0,e){var r=this._updatedPaintProps;r[e]||(r[e]={}),r[e][t||\"all\"]=!0}else this._updatedAllPaintProps=!0},t.prototype.serialize=function(){var e=this;return util.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:util.mapObject(this.sourceCaches,function(e){return e.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(e){return void 0!==e})},t.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&(this._updatedSources[e.source]=\"reload\"),this._changed=!0},t.prototype._flattenRenderedFeatures=function(e){for(var t=this,r=[],i=this._order.length-1;i>=0;i--)for(var o=t._order[i],s=0,a=e;s<a.length;s+=1){var n=a[s],l=n[o];if(l)for(var d=0,u=l;d<u.length;d+=1){var h=u[d];r.push(h)}}return r},t.prototype.queryRenderedFeatures=function(e,t,r,i){var o=this;t&&t.filter&&this._validate(validateStyle.filter,\"queryRenderedFeatures.filter\",t.filter);var s={};if(t&&t.layers){if(!Array.isArray(t.layers))return void this.fire(\"error\",{error:\"parameters.layers must be an Array.\"});for(var a=0,n=t.layers;a<n.length;a+=1){var l=n[a],d=o._layers[l];if(!d)return void o.fire(\"error\",{error:\"The layer '\"+l+\"' does not exist in the map's style and cannot be queried for features.\"});s[d.source]=!0}}var u=[];for(var h in o.sourceCaches)if(!t.layers||s[h]){var c=QueryFeatures.rendered(o.sourceCaches[h],o._layers,e,t,r,i);u.push(c)}return this._flattenRenderedFeatures(u)},t.prototype.querySourceFeatures=function(e,t){t&&t.filter&&this._validate(validateStyle.filter,\"querySourceFeatures.filter\",t.filter);var r=this.sourceCaches[e];return r?QueryFeatures.source(r,t):[]},t.prototype.addSourceType=function(e,t,r){return Source.getType(e)?r(new Error('A source type called \"'+e+'\" already exists.')):(Source.setType(e,t),t.workerSourceURL?void this.dispatcher.broadcast(\"loadWorkerSource\",{name:e,url:t.workerSourceURL},r):r(null,null))},t.prototype.getLight=function(){return this.light.getLight()},t.prototype.setLight=function(e,t){this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in e)if(!util.deepEqual(e[o],r[o])){i=!0;break}if(i){var s=this.stylesheet.transition||{};this.light.setLight(e),this.light.updateLightTransitions(t||{transition:!0},s,this.animationLoop)}},t.prototype._validate=function(e,t,r,i,o){return(!o||o.validate!==!1)&&validateStyle.emitErrors(this,e.call(validateStyle,util.extend({key:t,style:this.serialize(),value:r,styleSpec:styleSpec},i)))},t.prototype._remove=function(){var e=this;rtlTextPlugin.evented.off(\"pluginAvailable\",this._rtlTextPluginCallback);for(var t in e.sourceCaches)e.sourceCaches[t].clearTiles();this.dispatcher.remove()},t.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},t.prototype._reloadSource=function(e){this.sourceCaches[e].reload()},t.prototype._updateSources=function(e){var t=this;for(var r in t.sourceCaches)t.sourceCaches[r].update(e)},t.prototype._redoPlacement=function(){var e=this;for(var t in e.sourceCaches)e.sourceCaches[t].redoPlacement()},t.prototype.getIcons=function(e,t,r){var i=this,o=function(){i.spriteAtlas.setSprite(i.sprite),i.spriteAtlas.addIcons(t.icons,r)};this.sprite.loaded()?o():this.sprite.on(\"data\",o)},t.prototype.getGlyphs=function(e,t,r){function i(e,t,i){e&&console.error(e),n[i]=t,a--,0===a&&r(null,n)}var o=this,s=t.stacks,a=Object.keys(s).length,n={};for(var l in s)o.glyphSource.getSimpleGlyphs(l,s[l],t.uid,i)},t}(Evented);module.exports=Style;\n},{\"../render/line_atlas\":76,\"../source/query_features\":88,\"../source/rtl_text_plugin\":90,\"../source/source\":91,\"../source/source_cache\":92,\"../style-spec/deref\":100,\"../style-spec/diff\":101,\"../style-spec/function\":105,\"../style-spec/reference/latest\":117,\"../symbol/glyph_source\":165,\"../symbol/sprite_atlas\":170,\"../util/ajax\":191,\"../util/browser\":192,\"../util/dispatcher\":198,\"../util/evented\":200,\"../util/global_worker_pool\":202,\"../util/mapbox\":208,\"../util/util\":212,\"./animation_loop\":143,\"./image_sprite\":144,\"./light\":145,\"./style_layer\":148,\"./validate_style\":156}],147:[function(require,module,exports){\n\"use strict\";var createFunction=require(\"../style-spec/function\"),util=require(\"../util/util\"),StyleDeclaration=function(t,i){var n=this;if(this.value=util.clone(i),this.isFunction=createFunction.isFunctionDefinition(i),this.json=JSON.stringify(this.value),this.minimum=t.minimum,this.function=createFunction(this.value,t),this.isFeatureConstant=this.function.isFeatureConstant,this.isZoomConstant=this.function.isZoomConstant,!this.isFeatureConstant&&!this.isZoomConstant){this.stopZoomLevels=[];for(var o=[],e=0,s=n.value.stops;e<s.length;e+=1){var u=s[e],a=u[0].zoom;n.stopZoomLevels.indexOf(a)<0&&(n.stopZoomLevels.push(a),o.push([a,o.length]))}this.functionInterpolationT=createFunction({type:\"exponential\",stops:o,base:i.base},{type:\"number\"})}};StyleDeclaration.prototype.calculate=function(t,i){var n=this.function(t&&t.zoom,i||{});return void 0!==this.minimum&&n<this.minimum?this.minimum:n},StyleDeclaration.prototype.calculateInterpolationT=function(t,i){return this.functionInterpolationT(t&&t.zoom,i||{})},module.exports=StyleDeclaration;\n},{\"../style-spec/function\":105,\"../util/util\":212}],148:[function(require,module,exports){\n\"use strict\";function getDeclarationValue(t){return t.value}var util=require(\"../util/util\"),StyleTransition=require(\"./style_transition\"),StyleDeclaration=require(\"./style_declaration\"),styleSpec=require(\"../style-spec/reference/latest\"),validateStyle=require(\"./validate_style\"),parseColor=require(\"./../style-spec/util/parse_color\"),Evented=require(\"../util/evented\"),TRANSITION_SUFFIX=\"-transition\",StyleLayer=function(t){function i(i){var a=this;t.call(this),this.id=i.id,this.metadata=i.metadata,this.type=i.type,this.source=i.source,this.sourceLayer=i[\"source-layer\"],this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,this.filter=i.filter,this.paint={},this.layout={},this._paintSpecifications=styleSpec[\"paint_\"+this.type],this._layoutSpecifications=styleSpec[\"layout_\"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={},this._layoutFunctions={};var e,n,o={validate:!1};for(var r in i){var s=r.match(/^paint(?:\\.(.*))?$/);if(s){var l=s[1]||\"\";for(e in i[r])a.setPaintProperty(e,i[r][e],l,o)}}for(n in i.layout)a.setLayoutProperty(n,i.layout[n],o);for(e in a._paintSpecifications)a.paint[e]=a.getPaintValue(e);for(n in a._layoutSpecifications)a._updateLayoutValue(n)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.setLayoutProperty=function(t,i,a){if(null==i)delete this._layoutDeclarations[t];else{var e=\"layers.\"+this.id+\".layout.\"+t;if(this._validate(validateStyle.layoutProperty,e,t,i,a))return;this._layoutDeclarations[t]=new StyleDeclaration(this._layoutSpecifications[t],i)}this._updateLayoutValue(t)},i.prototype.getLayoutProperty=function(t){return this._layoutDeclarations[t]&&this._layoutDeclarations[t].value},i.prototype.getLayoutValue=function(t,i,a){var e=this._layoutSpecifications[t],n=this._layoutDeclarations[t];return n?n.calculate(i,a):e.default},i.prototype.setPaintProperty=function(t,i,a,e){var n=\"layers.\"+this.id+(a?'[\"paint.'+a+'\"].':\".paint.\")+t;if(util.endsWith(t,TRANSITION_SUFFIX))if(this._paintTransitionOptions[a||\"\"]||(this._paintTransitionOptions[a||\"\"]={}),null===i||void 0===i)delete this._paintTransitionOptions[a||\"\"][t];else{if(this._validate(validateStyle.paintProperty,n,t,i,e))return;this._paintTransitionOptions[a||\"\"][t]=i}else if(this._paintDeclarations[a||\"\"]||(this._paintDeclarations[a||\"\"]={}),null===i||void 0===i)delete this._paintDeclarations[a||\"\"][t];else{if(this._validate(validateStyle.paintProperty,n,t,i,e))return;this._paintDeclarations[a||\"\"][t]=new StyleDeclaration(this._paintSpecifications[t],i)}},i.prototype.getPaintProperty=function(t,i){return i=i||\"\",util.endsWith(t,TRANSITION_SUFFIX)?this._paintTransitionOptions[i]&&this._paintTransitionOptions[i][t]:this._paintDeclarations[i]&&this._paintDeclarations[i][t]&&this._paintDeclarations[i][t].value},i.prototype.getPaintValue=function(t,i,a){var e=this._paintSpecifications[t],n=this._paintTransitions[t];return n?n.calculate(i,a):\"color\"===e.type&&e.default?parseColor(e.default):e.default},i.prototype.getPaintValueStopZoomLevels=function(t){var i=this._paintTransitions[t];return i?i.declaration.stopZoomLevels:[]},i.prototype.getPaintInterpolationT=function(t,i){var a=this._paintTransitions[t];return a.declaration.calculateInterpolationT(i)},i.prototype.isPaintValueFeatureConstant=function(t){var i=this._paintTransitions[t];return!i||i.declaration.isFeatureConstant},i.prototype.isLayoutValueFeatureConstant=function(t){var i=this._layoutDeclarations[t];return!i||i.isFeatureConstant},i.prototype.isPaintValueZoomConstant=function(t){var i=this._paintTransitions[t];return!i||i.declaration.isZoomConstant},i.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||(!!(this.maxzoom&&t>=this.maxzoom)||\"none\"===this.layout.visibility)},i.prototype.updatePaintTransitions=function(t,i,a,e,n){for(var o=this,r=util.extend({},this._paintDeclarations[\"\"]),s=0;s<t.length;s++)util.extend(r,o._paintDeclarations[t[s]]);var l;for(l in r)o._applyPaintDeclaration(l,r[l],i,a,e,n);for(l in o._paintTransitions)l in r||o._applyPaintDeclaration(l,null,i,a,e,n)},i.prototype.updatePaintTransition=function(t,i,a,e,n,o){for(var r=this,s=this._paintDeclarations[\"\"][t],l=0;l<i.length;l++){var u=r._paintDeclarations[i[l]];u&&u[t]&&(s=u[t])}this._applyPaintDeclaration(t,s,a,e,n,o)},i.prototype.recalculate=function(t){var i=this;for(var a in i._paintTransitions)i.paint[a]=i.getPaintValue(a,{zoom:t});for(var e in i._layoutFunctions)i.layout[e]=i.getLayoutValue(e,{zoom:t})},i.prototype.serialize=function(){var t=this,i={id:this.id,type:this.type,source:this.source,\"source-layer\":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:util.mapObject(this._layoutDeclarations,getDeclarationValue)};for(var a in t._paintDeclarations){var e=\"\"===a?\"paint\":\"paint.\"+a;i[e]=util.mapObject(t._paintDeclarations[a],getDeclarationValue)}return util.filterObject(i,function(t,i){return void 0!==t&&!(\"layout\"===i&&!Object.keys(t).length)})},i.prototype._applyPaintDeclaration=function(t,i,a,e,n,o){var r=a.transition?this._paintTransitions[t]:void 0,s=this._paintSpecifications[t];if(null!==i&&void 0!==i||(i=new StyleDeclaration(s,s.default)),!r||r.declaration.json!==i.json){var l=util.extend({duration:300,delay:0},e,this.getPaintProperty(t+TRANSITION_SUFFIX)),u=this._paintTransitions[t]=new StyleTransition(s,i,r,l,o);u.instant()||(u.loopID=n.set(u.endTime-Date.now())),r&&n.cancel(r.loopID)}},i.prototype._updateLayoutValue=function(t){var i=this._layoutDeclarations[t];i&&i.isFunction?this._layoutFunctions[t]=!0:(delete this._layoutFunctions[t],this.layout[t]=this.getLayoutValue(t))},i.prototype._validate=function(t,i,a,e,n){return(!n||n.validate!==!1)&&validateStyle.emitErrors(this,t.call(validateStyle,{key:i,layerType:this.type,objectKey:a,value:e,styleSpec:styleSpec,style:{glyphs:!0,sprite:!0}}))},i}(Evented);module.exports=StyleLayer;var subclasses={circle:require(\"./style_layer/circle_style_layer\"),fill:require(\"./style_layer/fill_style_layer\"),\"fill-extrusion\":require(\"./style_layer/fill_extrusion_style_layer\"),line:require(\"./style_layer/line_style_layer\"),symbol:require(\"./style_layer/symbol_style_layer\")};StyleLayer.create=function(t){var i=subclasses[t.type]||StyleLayer;return new i(t)};\n},{\"../style-spec/reference/latest\":117,\"../util/evented\":200,\"../util/util\":212,\"./../style-spec/util/parse_color\":121,\"./style_declaration\":147,\"./style_layer/circle_style_layer\":149,\"./style_layer/fill_extrusion_style_layer\":150,\"./style_layer/fill_style_layer\":151,\"./style_layer/line_style_layer\":152,\"./style_layer/symbol_style_layer\":153,\"./style_transition\":155,\"./validate_style\":156}],149:[function(require,module,exports){\n\"use strict\";var StyleLayer=require(\"../style_layer\"),CircleBucket=require(\"../../data/bucket/circle_bucket\"),CircleStyleLayer=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new CircleBucket(e)},t}(StyleLayer);module.exports=CircleStyleLayer;\n},{\"../../data/bucket/circle_bucket\":46,\"../style_layer\":148}],150:[function(require,module,exports){\n\"use strict\";var StyleLayer=require(\"../style_layer\"),FillExtrusionBucket=require(\"../../data/bucket/fill_extrusion_bucket\"),FillExtrusionStyleLayer=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,r,o){var l=t.prototype.getPaintValue.call(this,e,r,o);return\"fill-extrusion-color\"===e&&l&&(l[3]=1),l},e.prototype.createBucket=function(t){return new FillExtrusionBucket(t)},e}(StyleLayer);module.exports=FillExtrusionStyleLayer;\n},{\"../../data/bucket/fill_extrusion_bucket\":48,\"../style_layer\":148}],151:[function(require,module,exports){\n\"use strict\";var StyleLayer=require(\"../style_layer\"),FillBucket=require(\"../../data/bucket/fill_bucket\"),FillStyleLayer=function(t){function o(){t.apply(this,arguments)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.getPaintValue=function(o,l,e){var i=this;if(\"fill-outline-color\"===o){if(void 0===this.getPaintProperty(\"fill-outline-color\"))return t.prototype.getPaintValue.call(this,\"fill-color\",l,e);for(var r=this._paintTransitions[\"fill-outline-color\"];r;){var n=r&&r.declaration&&r.declaration.value;if(!n)return t.prototype.getPaintValue.call(i,\"fill-color\",l,e);r=r.oldTransition}}return t.prototype.getPaintValue.call(this,o,l,e)},o.prototype.getPaintValueStopZoomLevels=function(o){return\"fill-outline-color\"===o&&void 0===this.getPaintProperty(\"fill-outline-color\")?t.prototype.getPaintValueStopZoomLevels.call(this,\"fill-color\"):t.prototype.getPaintValueStopZoomLevels.call(this,o)},o.prototype.getPaintInterpolationT=function(o,l){return\"fill-outline-color\"===o&&void 0===this.getPaintProperty(\"fill-outline-color\")?t.prototype.getPaintInterpolationT.call(this,\"fill-color\",l):t.prototype.getPaintInterpolationT.call(this,o,l)},o.prototype.isPaintValueFeatureConstant=function(o){return\"fill-outline-color\"===o&&void 0===this.getPaintProperty(\"fill-outline-color\")?t.prototype.isPaintValueFeatureConstant.call(this,\"fill-color\"):t.prototype.isPaintValueFeatureConstant.call(this,o)},o.prototype.isPaintValueZoomConstant=function(o){return\"fill-outline-color\"===o&&void 0===this.getPaintProperty(\"fill-outline-color\")?t.prototype.isPaintValueZoomConstant.call(this,\"fill-color\"):t.prototype.isPaintValueZoomConstant.call(this,o)},o.prototype.createBucket=function(t){return new FillBucket(t)},o}(StyleLayer);module.exports=FillStyleLayer;\n},{\"../../data/bucket/fill_bucket\":47,\"../style_layer\":148}],152:[function(require,module,exports){\n\"use strict\";var StyleLayer=require(\"../style_layer\"),LineBucket=require(\"../../data/bucket/line_bucket\"),util=require(\"../../util/util\"),LineStyleLayer=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getPaintValue=function(t,r,o){var i=e.prototype.getPaintValue.call(this,t,r,o);if(i&&\"line-dasharray\"===t){var a=this.getPaintValue(\"line-width\",util.extend({},r,{zoom:Math.floor(r.zoom)}),o);i.fromScale*=a,i.toScale*=a}return i},t.prototype.createBucket=function(e){return new LineBucket(e)},t}(StyleLayer);module.exports=LineStyleLayer;\n},{\"../../data/bucket/line_bucket\":49,\"../../util/util\":212,\"../style_layer\":148}],153:[function(require,module,exports){\n\"use strict\";var StyleLayer=require(\"../style_layer\"),SymbolBucket=require(\"../../data/bucket/symbol_bucket\"),SymbolStyleLayer=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutValue=function(e,o,r){var a=t.prototype.getLayoutValue.call(this,e,o,r);if(\"auto\"!==a)return a;switch(e){case\"text-rotation-alignment\":case\"icon-rotation-alignment\":return\"line\"===this.getLayoutValue(\"symbol-placement\",o,r)?\"map\":\"viewport\";case\"text-pitch-alignment\":return this.getLayoutValue(\"text-rotation-alignment\",o,r);default:return a}},e.prototype.createBucket=function(t){return new SymbolBucket(t)},e}(StyleLayer);module.exports=SymbolStyleLayer;\n},{\"../../data/bucket/symbol_bucket\":50,\"../style_layer\":148}],154:[function(require,module,exports){\n\"use strict\";var StyleLayer=require(\"./style_layer\"),util=require(\"../util/util\"),featureFilter=require(\"../style-spec/feature_filter\"),groupByLayout=require(\"../style-spec/group_by_layout\"),StyleLayerIndex=function(e){e&&this.replace(e)};StyleLayerIndex.prototype.replace=function(e){var r=this;this.symbolOrder=[];for(var t=0,i=e;t<i.length;t+=1){var a=i[t];\"symbol\"===a.type&&r.symbolOrder.push(a.id)}this._layerConfigs={},this._layers={},this.update(e,[])},StyleLayerIndex.prototype.update=function(e,r,t){for(var i=this,a=0,l=e;a<l.length;a+=1){var y=l[a];i._layerConfigs[y.id]=y;var s=i._layers[y.id]=StyleLayer.create(y);s.updatePaintTransitions({},{transition:!1}),s.filter=featureFilter(s.filter)}for(var o=0,u=r;o<u.length;o+=1){var n=u[o];delete i._layerConfigs[n],delete i._layers[n]}t&&(this.symbolOrder=t),this.familiesBySource={};for(var f=groupByLayout(util.values(this._layerConfigs)),p=0,d=f;p<d.length;p+=1){var h=d[p],c=h.map(function(e){return i._layers[e.id]}),v=c[0];if(!v.layout||\"none\"!==v.layout.visibility){var _=v.source||\"\",g=i.familiesBySource[_];g||(g=i.familiesBySource[_]={});var L=v.sourceLayer||\"_geojsonTileLayer\",m=g[L];m||(m=g[L]=[]),m.push(c)}}},module.exports=StyleLayerIndex;\n},{\"../style-spec/feature_filter\":103,\"../style-spec/group_by_layout\":106,\"../util/util\":212,\"./style_layer\":148}],155:[function(require,module,exports){\n\"use strict\";function interpZoomTransitioned(t,i,o){if(void 0!==t&&void 0!==i)return{from:t.to,fromScale:t.toScale,to:i.to,toScale:i.toScale,t:o}}var util=require(\"../util/util\"),interpolate=require(\"../util/interpolate\"),fakeZoomHistory={lastIntegerZoom:0,lastIntegerZoomTime:0,lastZoom:0},StyleTransition=function(t,i,o,e,a){this.declaration=i,this.startTime=this.endTime=(new Date).getTime(),this.oldTransition=o,this.duration=e.duration||0,this.delay=e.delay||0,this.zoomTransitioned=\"piecewise-constant\"===t.function&&t.transition,this.interp=this.zoomTransitioned?interpZoomTransitioned:interpolate[t.type],this.zoomHistory=a||fakeZoomHistory,this.instant()||(this.endTime=this.startTime+this.duration+this.delay),o&&o.endTime<=this.startTime&&delete o.oldTransition};StyleTransition.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},StyleTransition.prototype.calculate=function(t,i,o){var e=this._calculateTargetValue(t,i);if(this.instant())return e;if(o=o||Date.now(),o>=this.endTime)return e;var a=this.oldTransition.calculate(t,i,this.startTime),n=util.easeCubicInOut((o-this.startTime-this.delay)/this.duration);return this.interp(a,e,n)},StyleTransition.prototype._calculateTargetValue=function(t,i){if(!this.zoomTransitioned)return this.declaration.calculate(t,i);var o=t.zoom,e=this.zoomHistory.lastIntegerZoom,a=o>e?2:.5,n=this.declaration.calculate({zoom:o>e?o-1:o+1},i),r=this.declaration.calculate({zoom:o},i),s=Math.min((Date.now()-this.zoomHistory.lastIntegerZoomTime)/this.duration,1),l=Math.abs(o-e),u=interpolate(s,1,l);return void 0!==n&&void 0!==r?{from:n,fromScale:a,to:r,toScale:1,t:u}:void 0},module.exports=StyleTransition;\n},{\"../util/interpolate\":204,\"../util/util\":212}],156:[function(require,module,exports){\n\"use strict\";module.exports=require(\"../style-spec/validate_style.min\"),module.exports.emitErrors=function(r,e){if(e&&e.length){for(var t=0;t<e.length;t++)r.fire(\"error\",{error:new Error(e[t].message)});return!0}return!1};\n},{\"../style-spec/validate_style.min\":142}],157:[function(require,module,exports){\n\"use strict\";var Point=require(\"point-geometry\"),Anchor=function(t){function o(o,e,n,r){t.call(this,o,e),this.angle=n,void 0!==r&&(this.segment=r)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.clone=function(){return new o(this.x,this.y,this.angle,this.segment)},o}(Point);module.exports=Anchor;\n},{\"point-geometry\":26}],158:[function(require,module,exports){\n\"use strict\";function checkMaxAngle(e,t,a,r,n){if(void 0===t.segment)return!0;for(var i=t,s=t.segment+1,f=0;f>-a/2;){if(s--,s<0)return!1;f-=e[s].dist(i),i=e[s]}f+=e[s].dist(e[s+1]),s++;for(var l=[],o=0;f<a/2;){var u=e[s-1],c=e[s],g=e[s+1];if(!g)return!1;var h=u.angleTo(c)-c.angleTo(g);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:f,angleDelta:h}),o+=h;f-l[0].distance>r;)o-=l.shift().angleDelta;if(o>n)return!1;s++,f+=c.dist(g)}return!0}module.exports=checkMaxAngle;\n},{}],159:[function(require,module,exports){\n\"use strict\";function clipLine(n,x,y,o,e){for(var r=[],t=0;t<n.length;t++)for(var i=n[t],u=void 0,d=0;d<i.length-1;d++){var P=i[d],w=i[d+1];P.x<x&&w.x<x||(P.x<x?P=new Point(x,P.y+(w.y-P.y)*((x-P.x)/(w.x-P.x)))._round():w.x<x&&(w=new Point(x,P.y+(w.y-P.y)*((x-P.x)/(w.x-P.x)))._round()),P.y<y&&w.y<y||(P.y<y?P=new Point(P.x+(w.x-P.x)*((y-P.y)/(w.y-P.y)),y)._round():w.y<y&&(w=new Point(P.x+(w.x-P.x)*((y-P.y)/(w.y-P.y)),y)._round()),P.x>=o&&w.x>=o||(P.x>=o?P=new Point(o,P.y+(w.y-P.y)*((o-P.x)/(w.x-P.x)))._round():w.x>=o&&(w=new Point(o,P.y+(w.y-P.y)*((o-P.x)/(w.x-P.x)))._round()),P.y>=e&&w.y>=e||(P.y>=e?P=new Point(P.x+(w.x-P.x)*((e-P.y)/(w.y-P.y)),e)._round():w.y>=e&&(w=new Point(P.x+(w.x-P.x)*((e-P.y)/(w.y-P.y)),e)._round()),u&&P.equals(u[u.length-1])||(u=[P],r.push(u)),u.push(w)))))}return r}var Point=require(\"point-geometry\");module.exports=clipLine;\n},{\"point-geometry\":26}],160:[function(require,module,exports){\n\"use strict\";var createStructArrayType=require(\"../util/struct_array\"),Point=require(\"point-geometry\"),CollisionBoxArray=createStructArrayType({members:[{type:\"Int16\",name:\"anchorPointX\"},{type:\"Int16\",name:\"anchorPointY\"},{type:\"Int16\",name:\"x1\"},{type:\"Int16\",name:\"y1\"},{type:\"Int16\",name:\"x2\"},{type:\"Int16\",name:\"y2\"},{type:\"Float32\",name:\"maxScale\"},{type:\"Uint32\",name:\"featureIndex\"},{type:\"Uint16\",name:\"sourceLayerIndex\"},{type:\"Uint16\",name:\"bucketIndex\"},{type:\"Int16\",name:\"bbox0\"},{type:\"Int16\",name:\"bbox1\"},{type:\"Int16\",name:\"bbox2\"},{type:\"Int16\",name:\"bbox3\"},{type:\"Float32\",name:\"placementScale\"}]});Object.defineProperty(CollisionBoxArray.prototype.StructType.prototype,\"anchorPoint\",{get:function(){return new Point(this.anchorPointX,this.anchorPointY)}}),module.exports=CollisionBoxArray;\n},{\"../util/struct_array\":210,\"point-geometry\":26}],161:[function(require,module,exports){\n\"use strict\";var CollisionFeature=function(t,e,i,o,s,a,n,r,l,d,u){var h=n.top*r-l,x=n.bottom*r+l,f=n.left*r-l,m=n.right*r+l;if(this.boxStartIndex=t.length,d){var _=x-h,b=m-f;if(_>0)if(_=Math.max(10*r,_),u){var v=e[i.segment+1].sub(e[i.segment])._unit()._mult(b),c=[i.sub(v),i.add(v)];this._addLineCollisionBoxes(t,c,i,0,b,_,o,s,a)}else this._addLineCollisionBoxes(t,e,i,i.segment,b,_,o,s,a)}else t.emplaceBack(i.x,i.y,f,h,m,x,1/0,o,s,a,0,0,0,0,0);this.boxEndIndex=t.length};CollisionFeature.prototype._addLineCollisionBoxes=function(t,e,i,o,s,a,n,r,l){var d=a/2,u=Math.floor(s/d),h=-a/2,x=this.boxes,f=i,m=o+1,_=h;do{if(m--,m<0)return x;_-=e[m].dist(f),f=e[m]}while(_>-s/2);for(var b=e[m].dist(e[m+1]),v=0;v<u;v++){for(var c=-s/2+v*d;_+b<c;){if(_+=b,m++,m+1>=e.length)return x;b=e[m].dist(e[m+1])}var g=c-_,p=e[m],C=e[m+1],B=C.sub(p)._unit()._mult(g)._add(p)._round(),M=Math.max(Math.abs(c-h)-d/2,0),y=s/2/M;t.emplaceBack(B.x,B.y,-a/2,-a/2,a/2,a/2,y,n,r,l,0,0,0,0,0)}return x},module.exports=CollisionFeature;\n},{}],162:[function(require,module,exports){\n\"use strict\";var Point=require(\"point-geometry\"),EXTENT=require(\"../data/extent\"),Grid=require(\"grid-index\"),intersectionTests=require(\"../util/intersection_tests\"),CollisionTile=function(t,e,i){if(\"object\"==typeof t){var r=t;i=e,t=r.angle,e=r.pitch,this.grid=new Grid(r.grid),this.ignoredGrid=new Grid(r.ignoredGrid)}else this.grid=new Grid(EXTENT,12,6),this.ignoredGrid=new Grid(EXTENT,12,0);this.minScale=.5,this.maxScale=2,this.angle=t,this.pitch=e;var a=Math.sin(t),o=Math.cos(t);if(this.rotationMatrix=[o,-a,a,o],this.reverseRotationMatrix=[o,a,-a,o],this.yStretch=1/Math.cos(e/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3),this.collisionBoxArray=i,0===i.length){i.emplaceBack();var n=32767;i.emplaceBack(0,0,0,-n,0,n,n,0,0,0,0,0,0,0,0,0),i.emplaceBack(EXTENT,0,0,-n,0,n,n,0,0,0,0,0,0,0,0,0),i.emplaceBack(0,0,-n,0,n,0,n,0,0,0,0,0,0,0,0,0),i.emplaceBack(0,EXTENT,-n,0,n,0,n,0,0,0,0,0,0,0,0,0)}this.tempCollisionBox=i.get(0),this.edges=[i.get(1),i.get(2),i.get(3),i.get(4)]};CollisionTile.prototype.serialize=function(t){var e=this.grid.toArrayBuffer(),i=this.ignoredGrid.toArrayBuffer();return t&&(t.push(e),t.push(i)),{angle:this.angle,pitch:this.pitch,grid:e,ignoredGrid:i}},CollisionTile.prototype.placeCollisionFeature=function(t,e,i){for(var r=this,a=this.collisionBoxArray,o=this.minScale,n=this.rotationMatrix,l=this.yStretch,h=t.boxStartIndex;h<t.boxEndIndex;h++){var s=a.get(h),x=s.anchorPoint._matMult(n),c=x.x,g=x.y,y=c+s.x1,d=g+s.y1*l,m=c+s.x2,u=g+s.y2*l;if(s.bbox0=y,s.bbox1=d,s.bbox2=m,s.bbox3=u,!e)for(var p=r.grid.query(y,d,m,u),M=0;M<p.length;M++){var f=a.get(p[M]),v=f.anchorPoint._matMult(n);if(o=r.getPlacementScale(o,x,s,v,f),o>=r.maxScale)return o}if(i){var S=void 0;if(r.angle){var P=r.reverseRotationMatrix,b=new Point(s.x1,s.y1).matMult(P),T=new Point(s.x2,s.y1).matMult(P),w=new Point(s.x1,s.y2).matMult(P),N=new Point(s.x2,s.y2).matMult(P);S=r.tempCollisionBox,S.anchorPointX=s.anchorPoint.x,S.anchorPointY=s.anchorPoint.y,S.x1=Math.min(b.x,T.x,w.x,N.x),S.y1=Math.min(b.y,T.x,w.x,N.x),S.x2=Math.max(b.x,T.x,w.x,N.x),S.y2=Math.max(b.y,T.x,w.x,N.x),S.maxScale=s.maxScale}else S=s;for(var B=0;B<this.edges.length;B++){var G=r.edges[B];if(o=r.getPlacementScale(o,s.anchorPoint,S,G.anchorPoint,G),o>=r.maxScale)return o}}}return o},CollisionTile.prototype.queryRenderedSymbols=function(t,e){var i={},r=[];if(0===t.length||0===this.grid.length&&0===this.ignoredGrid.length)return r;for(var a=this.collisionBoxArray,o=this.rotationMatrix,n=this.yStretch,l=[],h=1/0,s=1/0,x=-(1/0),c=-(1/0),g=0;g<t.length;g++)for(var y=t[g],d=0;d<y.length;d++){var m=y[d].matMult(o);h=Math.min(h,m.x),s=Math.min(s,m.y),x=Math.max(x,m.x),c=Math.max(c,m.y),l.push(m)}for(var u=this.grid.query(h,s,x,c),p=this.ignoredGrid.query(h,s,x,c),M=0;M<p.length;M++)u.push(p[M]);for(var f=Math.pow(2,Math.ceil(Math.log(e)/Math.LN2*10)/10),v=0;v<u.length;v++){var S=a.get(u[v]),P=S.sourceLayerIndex,b=S.featureIndex;if(void 0===i[P]&&(i[P]={}),!i[P][b]&&!(f<S.placementScale||f>S.maxScale)){var T=S.anchorPoint.matMult(o),w=T.x+S.x1/e,N=T.y+S.y1/e*n,B=T.x+S.x2/e,G=T.y+S.y2/e*n,E=[new Point(w,N),new Point(B,N),new Point(B,G),new Point(w,G)];intersectionTests.polygonIntersectsPolygon(l,E)&&(i[P][b]=!0,r.push(u[v]))}}return r},CollisionTile.prototype.getPlacementScale=function(t,e,i,r,a){var o=e.x-r.x,n=e.y-r.y,l=(a.x1-i.x2)/o,h=(a.x2-i.x1)/o,s=(a.y1-i.y2)*this.yStretch/n,x=(a.y2-i.y1)*this.yStretch/n;(isNaN(l)||isNaN(h))&&(l=h=1),(isNaN(s)||isNaN(x))&&(s=x=1);var c=Math.min(Math.max(l,h),Math.max(s,x)),g=a.maxScale,y=i.maxScale;return c>g&&(c=g),c>y&&(c=y),c>t&&c>=a.placementScale&&(t=c),t},CollisionTile.prototype.insertCollisionFeature=function(t,e,i){for(var r=this,a=i?this.ignoredGrid:this.grid,o=this.collisionBoxArray,n=t.boxStartIndex;n<t.boxEndIndex;n++){var l=o.get(n);l.placementScale=e,e<r.maxScale&&a.insert(n,l.bbox0,l.bbox1,l.bbox2,l.bbox3)}},module.exports=CollisionTile;\n},{\"../data/extent\":54,\"../util/intersection_tests\":205,\"grid-index\":16,\"point-geometry\":26}],163:[function(require,module,exports){\n\"use strict\";function getAnchors(e,r,t,n,a,l,o,i,h){var c=n?.6*l*o:0,s=Math.max(n?n.right-n.left:0,a?a.right-a.left:0),u=0===e[0].x||e[0].x===h||0===e[0].y||e[0].y===h;r-s*o<r/4&&(r=s*o+r/4);var g=2*l,p=u?r/2*i%r:(s/2+g)*o*i%r;return resample(e,p,r,c,t,s*o,u,!1,h)}function resample(e,r,t,n,a,l,o,i,h){for(var c=l/2,s=0,u=0;u<e.length-1;u++)s+=e[u].dist(e[u+1]);for(var g=0,p=r-t,x=[],f=0;f<e.length-1;f++){for(var v=e[f],m=e[f+1],A=v.dist(m),y=m.angleTo(v);p+t<g+A;){p+=t;var d=(p-g)/A,k=interpolate(v.x,m.x,d),q=interpolate(v.y,m.y,d);if(k>=0&&k<h&&q>=0&&q<h&&p-c>=0&&p+c<=s){var M=new Anchor(k,q,y,f)._round();n&&!checkMaxAngle(e,M,l,n,a)||x.push(M)}}g+=A}return i||x.length||o||(x=resample(e,g/2,t,n,a,l,o,!0,h)),x}var interpolate=require(\"../util/interpolate\"),Anchor=require(\"../symbol/anchor\"),checkMaxAngle=require(\"./check_max_angle\");module.exports=getAnchors;\n},{\"../symbol/anchor\":157,\"../util/interpolate\":204,\"./check_max_angle\":158}],164:[function(require,module,exports){\n\"use strict\";var ShelfPack=require(\"@mapbox/shelf-pack\"),util=require(\"../util/util\"),SIZE_GROWTH_RATE=4,DEFAULT_SIZE=128,MAX_SIZE=2048,GlyphAtlas=function(){this.width=DEFAULT_SIZE,this.height=DEFAULT_SIZE,this.atlas=new ShelfPack(this.width,this.height),this.index={},this.ids={},this.data=new Uint8Array(this.width*this.height)};GlyphAtlas.prototype.getGlyphs=function(){var t,i,e,h=this,r={};for(var s in h.ids)t=s.split(\"#\"),i=t[0],e=t[1],r[i]||(r[i]=[]),r[i].push(e);return r},GlyphAtlas.prototype.getRects=function(){var t,i,e,h=this,r={};for(var s in h.ids)t=s.split(\"#\"),i=t[0],e=t[1],r[i]||(r[i]={}),r[i][e]=h.index[s];return r},GlyphAtlas.prototype.addGlyph=function(t,i,e,h){var r=this;if(!e)return null;var s=i+\"#\"+e.id;if(this.index[s])return this.ids[s].indexOf(t)<0&&this.ids[s].push(t),this.index[s];if(!e.bitmap)return null;var a=e.width+2*h,E=e.height+2*h,n=1,l=a+2*n,T=E+2*n;l+=4-l%4,T+=4-T%4;var u=this.atlas.packOne(l,T);if(u||(this.resize(),u=this.atlas.packOne(l,T)),!u)return util.warnOnce(\"glyph bitmap overflow\"),null;this.index[s]=u,this.ids[s]=[t];for(var d=this.data,p=e.bitmap,A=0;A<E;A++)for(var _=r.width*(u.y+A+n)+u.x+n,o=a*A,x=0;x<a;x++)d[_+x]=p[o+x];return this.dirty=!0,u},GlyphAtlas.prototype.resize=function(){var t=this,i=this.width,e=this.height;if(!(i>=MAX_SIZE||e>=MAX_SIZE)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=SIZE_GROWTH_RATE,this.height*=SIZE_GROWTH_RATE,this.atlas.resize(this.width,this.height);for(var h=new ArrayBuffer(this.width*this.height),r=0;r<e;r++){var s=new Uint8Array(t.data.buffer,e*r,i),a=new Uint8Array(h,e*r*SIZE_GROWTH_RATE,i);a.set(s)}this.data=new Uint8Array(h)}},GlyphAtlas.prototype.bind=function(t){this.gl=t,this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,null))},GlyphAtlas.prototype.updateTexture=function(t){this.bind(t),this.dirty&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data),this.dirty=!1)},module.exports=GlyphAtlas;\n},{\"../util/util\":212,\"@mapbox/shelf-pack\":2}],165:[function(require,module,exports){\n\"use strict\";function glyphUrl(t,e,a,l){return l=l||\"abc\",a.replace(\"{s}\",l[t.length%l.length]).replace(\"{fontstack}\",t).replace(\"{range}\",e)}var normalizeURL=require(\"../util/mapbox\").normalizeGlyphsURL,ajax=require(\"../util/ajax\"),verticalizePunctuation=require(\"../util/verticalize_punctuation\"),Glyphs=require(\"../util/glyphs\"),GlyphAtlas=require(\"../symbol/glyph_atlas\"),Protobuf=require(\"pbf\"),SimpleGlyph=function(t,e,a){var l=1;this.advance=t.advance,this.left=t.left-a-l,this.top=t.top+a+l,this.rect=e},GlyphSource=function(t){this.url=t&&normalizeURL(t),this.atlases={},this.stacks={},this.loading={}};GlyphSource.prototype.getSimpleGlyphs=function(t,e,a,l){var i=this;void 0===this.stacks[t]&&(this.stacks[t]={}),void 0===this.atlases[t]&&(this.atlases[t]=new GlyphAtlas);for(var r={},o=this.stacks[t],s=this.atlases[t],n=3,h={},p=0,u=function(e){var l=Math.floor(e/256);if(o[l]){var i=o[l].glyphs[e],u=s.addGlyph(a,t,i,n);i&&(r[e]=new SimpleGlyph(i,u,n))}else void 0===h[l]&&(h[l]=[],p++),h[l].push(e)},c=0;c<e.length;c++){var y=e[c],f=String.fromCharCode(y);u(y),verticalizePunctuation.lookup[f]&&u(verticalizePunctuation.lookup[f].charCodeAt(0))}p||l(void 0,r,t);var v=function(e,o,u){if(!e)for(var c=i.stacks[t][o]=u.stacks[0],y=0;y<h[o].length;y++){var f=h[o][y],v=c.glyphs[f],d=s.addGlyph(a,t,v,n);v&&(r[f]=new SimpleGlyph(v,d,n))}p--,p||l(void 0,r,t)};for(var d in h)i.loadRange(t,d,v)},GlyphSource.prototype.loadRange=function(t,e,a){if(256*e>65535)return a(\"glyphs > 65535 not supported\");void 0===this.loading[t]&&(this.loading[t]={});var l=this.loading[t];if(l[e])l[e].push(a);else{l[e]=[a];var i=256*e+\"-\"+(256*e+255),r=glyphUrl(t,i,this.url);ajax.getArrayBuffer(r,function(t,a){for(var i=!t&&new Glyphs(new Protobuf(a.data)),r=0;r<l[e].length;r++)l[e][r](t,e,i);delete l[e]})}},GlyphSource.prototype.getGlyphAtlas=function(t){return this.atlases[t]},module.exports=GlyphSource;\n},{\"../symbol/glyph_atlas\":164,\"../util/ajax\":191,\"../util/glyphs\":203,\"../util/mapbox\":208,\"../util/verticalize_punctuation\":214,\"pbf\":25}],166:[function(require,module,exports){\n\"use strict\";module.exports=function(e){function t(t){g.push(e[t]),l++}function r(e,t,r){var n=u[e];return delete u[e],u[t]=n,g[n].geometry[0].pop(),g[n].geometry[0]=g[n].geometry[0].concat(r[0]),n}function n(e,t,r){var n=i[t];return delete i[t],i[e]=n,g[n].geometry[0].shift(),g[n].geometry[0]=r[0].concat(g[n].geometry[0]),n}function o(e,t,r){var n=r?t[0][t[0].length-1]:t[0][0];return e+\":\"+n.x+\":\"+n.y}for(var i={},u={},g=[],l=0,m=0;m<e.length;m++){var y=e[m],c=y.geometry,f=y.text;if(f){var a=o(f,c),s=o(f,c,!0);if(a in u&&s in i&&u[a]!==i[s]){var v=n(a,s,c),d=r(a,s,g[v].geometry);delete i[a],delete u[s],u[o(f,g[d].geometry,!0)]=d,g[v].geometry=null}else a in u?r(a,s,c):s in i?n(a,s,c):(t(m),i[a]=l-1,u[s]=l-1)}else t(m)}return g.filter(function(e){return e.geometry})};\n},{}],167:[function(require,module,exports){\n\"use strict\";function SymbolQuad(t,e,a,n,i,o,l,h,r,s,g){this.anchorPoint=t,this.tl=e,this.tr=a,this.bl=n,this.br=i,this.tex=o,this.anchorAngle=l,this.glyphAngle=h,this.minScale=r,this.maxScale=s,this.writingMode=g}function getIconQuads(t,e,a,n,i,o,l,h,r){var s,g,u,c,m=e.image.rect,f=i.layout,d=1,x=e.left-d,P=x+m.w/e.image.pixelRatio,y=e.top-d,M=y+m.h/e.image.pixelRatio;if(\"none\"!==f[\"icon-text-fit\"]&&l){var p=P-x,v=M-y,w=f[\"text-size\"]/24,S=l.left*w,b=l.right*w,I=l.top*w,_=l.bottom*w,Q=b-S,G=_-I,k=f[\"icon-text-fit-padding\"][0],q=f[\"icon-text-fit-padding\"][1],A=f[\"icon-text-fit-padding\"][2],R=f[\"icon-text-fit-padding\"][3],z=\"width\"===f[\"icon-text-fit\"]?.5*(G-v):0,L=\"height\"===f[\"icon-text-fit\"]?.5*(Q-p):0,V=\"width\"===f[\"icon-text-fit\"]||\"both\"===f[\"icon-text-fit\"]?Q:p,j=\"height\"===f[\"icon-text-fit\"]||\"both\"===f[\"icon-text-fit\"]?G:v;s=new Point(S+L-R,I+z-k),g=new Point(S+L+q+V,I+z-k),u=new Point(S+L+q+V,I+z+A+j),c=new Point(S+L-R,I+z+A+j)}else s=new Point(x,y),g=new Point(P,y),u=new Point(P,M),c=new Point(x,M);var B=i.getLayoutValue(\"icon-rotate\",h,r)*Math.PI/180;if(o){var C=n[t.segment];if(t.y===C.y&&t.x===C.x&&t.segment+1<n.length){var D=n[t.segment+1];B+=Math.atan2(t.y-D.y,t.x-D.x)+Math.PI}else B+=Math.atan2(t.y-C.y,t.x-C.x)}if(B){var E=Math.sin(B),F=Math.cos(B),H=[F,-E,E,F];s=s.matMult(H),g=g.matMult(H),c=c.matMult(H),u=u.matMult(H)}return[new SymbolQuad(new Point(t.x,t.y),s,g,c,u,e.image.rect,0,0,minScale,1/0)]}function getGlyphQuads(t,e,a,n,i,o){for(var l=i.layout[\"text-rotate\"]*Math.PI/180,h=i.layout[\"text-keep-upright\"],r=e.positionedGlyphs,s=[],g=0;g<r.length;g++){var u=r[g],c=u.glyph;if(c){var m=c.rect;if(m){var f=(u.x+c.advance/2)*a,d=void 0,x=minScale;o?(d=[],x=getSegmentGlyphs(d,t,f,n,t.segment,!0),h&&(x=Math.min(x,getSegmentGlyphs(d,t,f,n,t.segment,!1)))):d=[{anchorPoint:new Point(t.x,t.y),offset:0,angle:0,maxScale:1/0,minScale:minScale}];var P=u.x+c.left,y=u.y-c.top,M=P+m.w,p=y+m.h,v=new Point(u.x,c.advance/2),w=new Point(P,y),S=new Point(M,y),b=new Point(P,p),I=new Point(M,p);0!==u.angle&&(w._sub(v)._rotate(u.angle)._add(v),S._sub(v)._rotate(u.angle)._add(v),b._sub(v)._rotate(u.angle)._add(v),I._sub(v)._rotate(u.angle)._add(v));for(var _=0;_<d.length;_++){var Q=d[_],G=w,k=S,q=b,A=I;if(l){var R=Math.sin(l),z=Math.cos(l),L=[z,-R,R,z];G=G.matMult(L),k=k.matMult(L),q=q.matMult(L),A=A.matMult(L)}var V=Math.max(Q.minScale,x),j=(t.angle+Q.offset+2*Math.PI)%(2*Math.PI),B=(Q.angle+Q.offset+2*Math.PI)%(2*Math.PI);s.push(new SymbolQuad(Q.anchorPoint,G,k,q,A,m,j,B,V,Q.maxScale,e.writingMode))}}}}return s}function getSegmentGlyphs(t,e,a,n,i,o){var l=!o;a<0&&(o=!o),o&&i++;var h=new Point(e.x,e.y),r=n[i],s=1/0;a=Math.abs(a);for(var g=minScale;;){var u=h.dist(r),c=a/u,m=Math.atan2(r.y-h.y,r.x-h.x);if(o||(m+=Math.PI),t.push({anchorPoint:h,offset:l?Math.PI:0,minScale:c,maxScale:s,angle:(m+2*Math.PI)%(2*Math.PI)}),c<=g)break;for(h=r;h.equals(r);)if(i+=o?1:-1,r=n[i],!r)return c;var f=r.sub(h)._unit();h=h.sub(f._mult(u)),s=c}return g}var Point=require(\"point-geometry\");module.exports={getIconQuads:getIconQuads,getGlyphQuads:getGlyphQuads,SymbolQuad:SymbolQuad};var minScale=.5;\n},{\"point-geometry\":26}],168:[function(require,module,exports){\n\"use strict\";var resolveTokens=require(\"../util/token\");module.exports=function(e,t,o){var r=e.getLayoutValue(\"text-field\",t,o);if(e.isLayoutValueFeatureConstant(\"text-field\")&&(r=resolveTokens(o,r)),r){r=r.toString();var a=e.getLayoutValue(\"text-transform\",t,o);return\"uppercase\"===a?r=r.toLocaleUpperCase():\"lowercase\"===a&&(r=r.toLocaleLowerCase()),r}};\n},{\"../util/token\":211}],169:[function(require,module,exports){\n\"use strict\";function PositionedGlyph(e,t,i,n,r){this.codePoint=e,this.x=t,this.y=i,this.glyph=n||null,this.angle=r}function Shaping(e,t,i,n,r,a,o){this.positionedGlyphs=e,this.text=t,this.top=i,this.bottom=n,this.left=r,this.right=a,this.writingMode=o}function breakLines(e,t){for(var i=[],n=0,r=0,a=t;r<a.length;r+=1){var o=a[r];i.push(e.substring(n,o)),n=o}return n<e.length&&i.push(e.substring(n,e.length)),i}function shapeText(e,t,i,n,r,a,o,s,h,l,c){var u=e.trim();c===WritingMode.vertical&&(u=verticalizePunctuation(u));var d,g=[],p=new Shaping(g,u,h[1],h[1],h[0],h[0],c);return d=rtlTextPlugin.processBidirectionalText?rtlTextPlugin.processBidirectionalText(u,determineLineBreaks(u,s,i,t)):breakLines(u,determineLineBreaks(u,s,i,t)),shapeLines(p,t,d,n,r,a,o,h,c,s,l),!!g.length&&p}function determineAverageLineWidth(e,t,i,n){var r=0;for(var a in e){var o=n[e.charCodeAt(a)];o&&(r+=o.advance+t)}var s=Math.max(1,Math.ceil(r/i));return r/s}function calculateBadness(e,t,i,n){var r=Math.pow(e-t,2);return n?e<t?r/2:2*r:r+Math.abs(i)*i}function calculatePenalty(e,t){var i=0;return 10===e&&(i-=1e4),40!==e&&65288!==e||(i+=50),41!==t&&65289!==t||(i+=50),i}function evaluateBreak(e,t,i,n,r,a){for(var o=null,s=calculateBadness(t,i,r,a),h=0,l=n;h<l.length;h+=1){var c=l[h],u=t-c.x,d=calculateBadness(u,i,r,a)+c.badness;d<=s&&(o=c,s=d)}return{index:e,x:t,priorBreak:o,badness:s}}function leastBadBreaks(e){return e?leastBadBreaks(e.priorBreak).concat(e.index):[]}function determineLineBreaks(e,t,i,n){if(!i)return[];if(!e)return[];for(var r=[],a=determineAverageLineWidth(e,t,i,n),o=0,s=0;s<e.length;s++){var h=e.charCodeAt(s),l=n[h];l&&!whitespace[h]&&(o+=l.advance+t),s<e.length-1&&(breakable[h]||scriptDetection.charAllowsIdeographicBreaking(h))&&r.push(evaluateBreak(s+1,o,a,r,calculatePenalty(h,e.charCodeAt(s+1)),!1))}return leastBadBreaks(evaluateBreak(e.length,o,a,r,0,!0))}function shapeLines(e,t,i,n,r,a,o,s,h,l,c){var u=-17,d=0,g=u,p=0,v=e.positionedGlyphs;for(var f in i){var x=i[f].trim();if(x.length){for(var B=v.length,k=0;k<x.length;k++){var P=x.charCodeAt(k),b=t[P];b&&(scriptDetection.charHasUprightVerticalOrientation(P)&&h!==WritingMode.horizontal?(v.push(new PositionedGlyph(P,d,0,b,-Math.PI/2)),d+=c+l):(v.push(new PositionedGlyph(P,d,g,b,0)),d+=b.advance+l))}if(v.length!==B){var m=d-l;p=Math.max(m,p),justifyLine(v,t,B,v.length-1,o)}d=0,g+=n}else g+=n}align(v,o,r,a,p,n,i.length,s);var y=i.length*n;e.top+=-a*y,e.bottom=e.top+y,e.left+=-r*p,e.right=e.left+p}function justifyLine(e,t,i,n,r){if(r)for(var a=t[e[n].codePoint].advance,o=(e[n].x+a)*r,s=i;s<=n;s++)e[s].x-=o}function align(e,t,i,n,r,a,o,s){for(var h=(t-i)*r+s[0],l=(-n*o+.5)*a+s[1],c=0;c<e.length;c++)e[c].x+=h,e[c].y+=l}function shapeIcon(e,t){if(!e||!e.rect)return null;var i=t[0],n=t[1],r=i-e.width/2,a=r+e.width,o=n-e.height/2,s=o+e.height;return new PositionedIcon(e,o,s,r,a)}function PositionedIcon(e,t,i,n,r){this.image=e,this.top=t,this.bottom=i,this.left=n,this.right=r}var scriptDetection=require(\"../util/script_detection\"),verticalizePunctuation=require(\"../util/verticalize_punctuation\"),rtlTextPlugin=require(\"../source/rtl_text_plugin\"),WritingMode={horizontal:1,vertical:2};module.exports={shapeText:shapeText,shapeIcon:shapeIcon,WritingMode:WritingMode};var whitespace={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},breakable={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};\n},{\"../source/rtl_text_plugin\":90,\"../util/script_detection\":209,\"../util/verticalize_punctuation\":214}],170:[function(require,module,exports){\n\"use strict\";function copyBitmap(t,i,e,h,a,s,r,o,l,p,n){var u,R,x=h*i+e,f=o*s+r;if(n)for(f-=s,R=-1;R<=p;R++,f+=s)for(x=((R+p)%p+h)*i+e,u=-1;u<=l;u++)a[f+u]=t[x+(u+l)%l];else for(R=0;R<p;R++,x+=i,f+=s)for(u=0;u<l;u++)a[f+u]=t[x+u]}var ShelfPack=require(\"@mapbox/shelf-pack\"),browser=require(\"../util/browser\"),util=require(\"../util/util\"),AtlasImage=function(t,i,e,h,a){this.rect=t,this.width=i,this.height=e,this.sdf=h,this.pixelRatio=a},SpriteAtlas=function(t,i){this.width=t,this.height=i,this.atlas=new ShelfPack(t,i),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0};SpriteAtlas.prototype.allocateImage=function(t,i){t/=this.pixelRatio,i/=this.pixelRatio;var e=2,h=t+e+(4-(t+e)%4),a=i+e+(4-(i+e)%4),s=this.atlas.packOne(h,a);return s?s:(util.warnOnce(\"SpriteAtlas out of space.\"),null)},SpriteAtlas.prototype.getImage=function(t,i){if(this.images[t])return this.images[t];if(!this.sprite)return null;var e=this.sprite.getSpritePosition(t);if(!e.width||!e.height)return null;var h=this.allocateImage(e.width,e.height);if(!h)return null;var a=new AtlasImage(h,e.width/e.pixelRatio,e.height/e.pixelRatio,e.sdf,e.pixelRatio/this.pixelRatio);return this.images[t]=a,this.copy(h,e,i),a},SpriteAtlas.prototype.getPosition=function(t,i){var e=this.getImage(t,i),h=e&&e.rect;if(!h)return null;var a=e.width*e.pixelRatio,s=e.height*e.pixelRatio,r=1;return{size:[e.width,e.height],tl:[(h.x+r)/this.width,(h.y+r)/this.height],br:[(h.x+r+a)/this.width,(h.y+r+s)/this.height]}},SpriteAtlas.prototype.allocate=function(){var t=this;if(!this.data){var i=Math.floor(this.width*this.pixelRatio),e=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(i*e);for(var h=0;h<this.data.length;h++)t.data[h]=0}},SpriteAtlas.prototype.copy=function(t,i,e){if(this.sprite.imgData){var h=new Uint32Array(this.sprite.imgData.buffer);this.allocate();var a=this.data,s=1;copyBitmap(h,this.sprite.width,i.x,i.y,a,this.width*this.pixelRatio,(t.x+s)*this.pixelRatio,(t.y+s)*this.pixelRatio,i.width,i.height,e),this.dirty=!0}},SpriteAtlas.prototype.setSprite=function(t){t&&(this.pixelRatio=browser.devicePixelRatio>1?2:1,this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio)),this.sprite=t},SpriteAtlas.prototype.addIcons=function(t,i){for(var e=this,h=0;h<t.length;h++)e.getImage(t[h]);i(null,this.images)},SpriteAtlas.prototype.bind=function(t,i){var e=!1;this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e=!0);var h=i?t.LINEAR:t.NEAREST;h!==this.filter&&(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,h),this.filter=h),this.dirty&&(this.allocate(),e?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1)},module.exports=SpriteAtlas;\n},{\"../util/browser\":192,\"../util/util\":212,\"@mapbox/shelf-pack\":2}],171:[function(require,module,exports){\n\"use strict\";var DOM=require(\"../util/dom\"),Point=require(\"point-geometry\"),handlers={scrollZoom:require(\"./handler/scroll_zoom\"),boxZoom:require(\"./handler/box_zoom\"),dragRotate:require(\"./handler/drag_rotate\"),dragPan:require(\"./handler/drag_pan\"),keyboard:require(\"./handler/keyboard\"),doubleClickZoom:require(\"./handler/dblclick_zoom\"),touchZoomRotate:require(\"./handler/touch_zoom_rotate\")};module.exports=function(e,t){function n(e){h(\"mouseout\",e)}function o(t){e.stop(),L=DOM.mousePos(g,t),h(\"mousedown\",t),E=!0}function r(t){var n=e.dragRotate&&e.dragRotate.isActive();p&&!n&&h(\"contextmenu\",p),p=null,E=!1,h(\"mouseup\",t)}function a(t){if(!(e.dragPan&&e.dragPan.isActive()||e.dragRotate&&e.dragRotate.isActive())){for(var n=t.toElement||t.target;n&&n!==g;)n=n.parentNode;n===g&&h(\"mousemove\",t)}}function u(t){e.stop(),f(\"touchstart\",t),!t.touches||t.touches.length>1||(b?(clearTimeout(b),b=null,h(\"dblclick\",t)):b=setTimeout(l,300))}function i(e){f(\"touchmove\",e)}function c(e){f(\"touchend\",e)}function d(e){f(\"touchcancel\",e)}function l(){b=null}function s(e){var t=DOM.mousePos(g,e);t.equals(L)&&h(\"click\",e)}function v(e){h(\"dblclick\",e),e.preventDefault()}function m(t){var n=e.dragRotate&&e.dragRotate.isActive();E||n?E&&(p=t):h(\"contextmenu\",t),t.preventDefault()}function h(t,n){var o=DOM.mousePos(g,n);return e.fire(t,{lngLat:e.unproject(o),point:o,originalEvent:n})}function f(t,n){var o=DOM.touchPos(g,n),r=o.reduce(function(e,t,n,o){return e.add(t.div(o.length))},new Point(0,0));return e.fire(t,{lngLat:e.unproject(r),point:r,lngLats:o.map(function(t){return e.unproject(t)},this),points:o,originalEvent:n})}var g=e.getCanvasContainer(),p=null,E=!1,L=null,b=null;for(var q in handlers)e[q]=new handlers[q](e,t),t.interactive&&t[q]&&e[q].enable(t[q]);g.addEventListener(\"mouseout\",n,!1),g.addEventListener(\"mousedown\",o,!1),g.addEventListener(\"mouseup\",r,!1),g.addEventListener(\"mousemove\",a,!1),g.addEventListener(\"touchstart\",u,!1),g.addEventListener(\"touchend\",c,!1),g.addEventListener(\"touchmove\",i,!1),g.addEventListener(\"touchcancel\",d,!1),g.addEventListener(\"click\",s,!1),g.addEventListener(\"dblclick\",v,!1),g.addEventListener(\"contextmenu\",m,!1)};\n},{\"../util/dom\":199,\"./handler/box_zoom\":179,\"./handler/dblclick_zoom\":180,\"./handler/drag_pan\":181,\"./handler/drag_rotate\":182,\"./handler/keyboard\":183,\"./handler/scroll_zoom\":184,\"./handler/touch_zoom_rotate\":185,\"point-geometry\":26}],172:[function(require,module,exports){\n\"use strict\";var util=require(\"../util/util\"),interpolate=require(\"../util/interpolate\"),browser=require(\"../util/browser\"),LngLat=require(\"../geo/lng_lat\"),LngLatBounds=require(\"../geo/lng_lat_bounds\"),Point=require(\"point-geometry\"),Evented=require(\"../util/evented\"),Camera=function(t){function i(i,e){t.call(this),this.moving=!1,this.transform=i,this._bearingSnap=e.bearingSnap}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return this.transform.center},i.prototype.setCenter=function(t,i){return this.jumpTo({center:t},i),this},i.prototype.panBy=function(t,i,e){return this.panTo(this.transform.center,util.extend({offset:Point.convert(t).mult(-1)},i),e),this},i.prototype.panTo=function(t,i,e){return this.easeTo(util.extend({center:t},i),e)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,i){return this.jumpTo({zoom:t},i),this},i.prototype.zoomTo=function(t,i,e){return this.easeTo(util.extend({zoom:t},i),e)},i.prototype.zoomIn=function(t,i){return this.zoomTo(this.getZoom()+1,t,i),this},i.prototype.zoomOut=function(t,i){return this.zoomTo(this.getZoom()-1,t,i),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,i){return this.jumpTo({bearing:t},i),this},i.prototype.rotateTo=function(t,i,e){return this.easeTo(util.extend({bearing:t},i),e)},i.prototype.resetNorth=function(t,i){return this.rotateTo(0,util.extend({duration:1e3},t),i),this},i.prototype.snapToNorth=function(t,i){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,i):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,i){return this.jumpTo({pitch:t},i),this},i.prototype.fitBounds=function(t,i,e){if(i=util.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},i),\"number\"==typeof i.padding){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}if(!util.deepEqual(Object.keys(i.padding).sort(function(t,i){return t<i?-1:t>i?1:0}),[\"bottom\",\"left\",\"right\",\"top\"]))return void util.warnOnce(\"options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'\");t=LngLatBounds.convert(t);var n=[i.padding.left-i.padding.right,i.padding.top-i.padding.bottom],r=Math.min(i.padding.right,i.padding.left),s=Math.min(i.padding.top,i.padding.bottom);i.offset=[i.offset[0]+n[0],i.offset[1]+n[1]];var a=Point.convert(i.offset),h=this.transform,u=h.project(t.getNorthWest()),p=h.project(t.getSouthEast()),c=p.sub(u),g=(h.width-2*r-2*Math.abs(a.x))/c.x,m=(h.height-2*s-2*Math.abs(a.y))/c.y;return m<0||g<0?void util.warnOnce(\"Map cannot fit within canvas with the given bounds, padding, and/or offset.\"):(i.center=h.unproject(u.add(p).div(2)),i.zoom=Math.min(h.scaleZoom(h.scale*Math.min(g,m)),i.maxZoom),i.bearing=0,i.linear?this.easeTo(i,e):this.flyTo(i,e))},i.prototype.jumpTo=function(t,i){this.stop();var e=this.transform,o=!1,n=!1,r=!1;return\"zoom\"in t&&e.zoom!==+t.zoom&&(o=!0,e.zoom=+t.zoom),\"center\"in t&&(e.center=LngLat.convert(t.center)),\"bearing\"in t&&e.bearing!==+t.bearing&&(n=!0,e.bearing=+t.bearing),\"pitch\"in t&&e.pitch!==+t.pitch&&(r=!0,e.pitch=+t.pitch),this.fire(\"movestart\",i).fire(\"move\",i),o&&this.fire(\"zoomstart\",i).fire(\"zoom\",i).fire(\"zoomend\",i),n&&this.fire(\"rotate\",i),r&&this.fire(\"pitch\",i),this.fire(\"moveend\",i)},i.prototype.easeTo=function(t,i){var e=this;this.stop(),t=util.extend({offset:[0,0],duration:500,easing:util.ease},t);var o,n,r=this.transform,s=Point.convert(t.offset),a=this.getZoom(),h=this.getBearing(),u=this.getPitch(),p=\"zoom\"in t?+t.zoom:a,c=\"bearing\"in t?this._normalizeBearing(t.bearing,h):h,g=\"pitch\"in t?+t.pitch:u;\"center\"in t?(o=LngLat.convert(t.center),n=r.centerPoint.add(s)):\"around\"in t?(o=LngLat.convert(t.around),n=r.locationPoint(o)):(n=r.centerPoint.add(s),o=r.pointLocation(n));var m=r.locationPoint(o);return t.animate===!1&&(t.duration=0),this.zooming=p!==a,this.rotating=h!==c,this.pitching=g!==u,t.smoothEasing&&0!==t.duration&&(t.easing=this._smoothOutEasing(t.duration)),t.noMoveStart||(this.moving=!0,this.fire(\"movestart\",i)),this.zooming&&this.fire(\"zoomstart\",i),clearTimeout(this._onEaseEnd),this._ease(function(t){this.zooming&&(r.zoom=interpolate(a,p,t)),this.rotating&&(r.bearing=interpolate(h,c,t)),this.pitching&&(r.pitch=interpolate(u,g,t)),r.setLocationAtPoint(o,m.add(n.sub(m)._mult(t))),this.fire(\"move\",i),this.zooming&&this.fire(\"zoom\",i),this.rotating&&this.fire(\"rotate\",i),this.pitching&&this.fire(\"pitch\",i)},function(){t.delayEndEvents?e._onEaseEnd=setTimeout(e._easeToEnd.bind(e,i),t.delayEndEvents):e._easeToEnd(i)},t),this},i.prototype._easeToEnd=function(t){var i=this.zooming;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,i&&this.fire(\"zoomend\",t),this.fire(\"moveend\",t)},i.prototype.flyTo=function(t,i){function e(t){var i=(y*y-z*z+(t?-1:1)*E*E*_*_)/(2*(t?y:z)*E*_);return Math.log(Math.sqrt(i*i+1)-i)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function n(t){return(Math.exp(t)+Math.exp(-t))/2}function r(t){return o(t)/n(t)}this.stop(),t=util.extend({offset:[0,0],speed:1.2,curve:1.42,easing:util.ease},t);var s=this.transform,a=Point.convert(t.offset),h=this.getZoom(),u=this.getBearing(),p=this.getPitch(),c=\"center\"in t?LngLat.convert(t.center):this.getCenter(),g=\"zoom\"in t?+t.zoom:h,m=\"bearing\"in t?this._normalizeBearing(t.bearing,u):u,f=\"pitch\"in t?+t.pitch:p;Math.abs(s.center.lng)+Math.abs(c.lng)>180&&(s.center.lng>0&&c.lng<0?c.lng+=360:s.center.lng<0&&c.lng>0&&(c.lng-=360));var d=s.zoomScale(g-h),l=s.point,v=\"center\"in t?s.project(c).sub(a.div(d)):l,b=t.curve,z=Math.max(s.width,s.height),y=z/d,_=v.sub(l).mag();if(\"minZoom\"in t){var M=util.clamp(Math.min(t.minZoom,h,g),s.minZoom,s.maxZoom),T=z/s.zoomScale(M-h);b=Math.sqrt(T/_*2)}var E=b*b,x=e(0),L=function(t){return n(x)/n(x+b*t)},Z=function(t){return z*((n(x)*r(x+b*t)-o(x))/E)/_},P=(e(1)-x)/b;if(Math.abs(_)<1e-6){if(Math.abs(z-y)<1e-6)return this.easeTo(t,i);var j=y<z?-1:1;P=Math.abs(Math.log(y/z))/b,Z=function(){return 0},L=function(t){return Math.exp(j*b*t)}}if(\"duration\"in t)t.duration=+t.duration;else{var w=\"screenSpeed\"in t?+t.screenSpeed/b:+t.speed;t.duration=1e3*P/w}return this.moving=!0,this.zooming=!0,u!==m&&(this.rotating=!0),p!==f&&(this.pitching=!0),this.fire(\"movestart\",i),this.fire(\"zoomstart\",i),this._ease(function(t){var e=t*P,o=Z(e),n=1/L(e);s.zoom=h+s.scaleZoom(n),s.center=s.unproject(l.add(v.sub(l).mult(o)).mult(n)),this.rotating&&(s.bearing=interpolate(u,m,t)),this.pitching&&(s.pitch=interpolate(p,f,t)),this.fire(\"move\",i),this.fire(\"zoom\",i),this.rotating&&this.fire(\"rotate\",i),this.pitching&&this.fire(\"pitch\",i)},function(){this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,this.fire(\"zoomend\",i),this.fire(\"moveend\",i)},t),this},i.prototype.isEasing=function(){return!!this._abortFn},i.prototype.isMoving=function(){return this.moving},i.prototype.stop=function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},i.prototype._ease=function(t,i,e){this._finishFn=i,this._abortFn=browser.timed(function(i){t.call(this,e.easing(i)),1===i&&this._finishEase()},e.animate===!1?0:e.duration,this)},i.prototype._finishEase=function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},i.prototype._normalizeBearing=function(t,i){t=util.wrap(t,-180,180);var e=Math.abs(t-i);return Math.abs(t-360-i)<e&&(t-=360),Math.abs(t+360-i)<e&&(t+=360),t},i.prototype._smoothOutEasing=function(t){var i=util.ease;if(this._prevEase){var e=this._prevEase,o=(Date.now()-e.start)/e.duration,n=e.easing(o+.01)-e.easing(o),r=.27/Math.sqrt(n*n+1e-4)*.01,s=Math.sqrt(.0729-r*r);i=util.bezier(r,s,.25,1)}return this._prevEase={start:(new Date).getTime(),duration:t,easing:i},i},i}(Evented);module.exports=Camera;\n},{\"../geo/lng_lat\":62,\"../geo/lng_lat_bounds\":63,\"../util/browser\":192,\"../util/evented\":200,\"../util/interpolate\":204,\"../util/util\":212,\"point-geometry\":26}],173:[function(require,module,exports){\n\"use strict\";var DOM=require(\"../../util/dom\"),util=require(\"../../util/util\"),AttributionControl=function(t){this.options=t,util.bindAll([\"_updateEditLink\",\"_updateData\",\"_updateCompact\"],this)};AttributionControl.prototype.getDefaultPosition=function(){return\"bottom-right\"},AttributionControl.prototype.onAdd=function(t){var i=this.options&&this.options.compact;return this._map=t,this._container=DOM.create(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-attrib\"),i&&this._container.classList.add(\"compact\"),this._updateAttributions(),this._updateEditLink(),this._map.on(\"sourcedata\",this._updateData),this._map.on(\"moveend\",this._updateEditLink),void 0===i&&(this._map.on(\"resize\",this._updateCompact),this._updateCompact()),this._container},AttributionControl.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off(\"sourcedata\",this._updateData),this._map.off(\"moveend\",this._updateEditLink),this._map.off(\"resize\",this._updateCompact),this._map=void 0},AttributionControl.prototype._updateEditLink=function(){if(this._editLink||(this._editLink=this._container.querySelector(\".mapbox-improve-map\")),this._editLink){var t=this._map.getCenter();this._editLink.href=\"https://www.mapbox.com/map-feedback/#/\"+t.lng+\"/\"+t.lat+\"/\"+Math.round(this._map.getZoom()+1)}},AttributionControl.prototype._updateData=function(t){this._updateAttributions(t),this._updateEditLink()},AttributionControl.prototype._updateAttributions=function(t){if(this._map.style&&(!t||\"metadata\"===t.sourceDataType)){var i=[],o=this._map.style.sourceCaches;for(var n in o){var e=o[n].getSource();e.attribution&&i.indexOf(e.attribution)<0&&i.push(e.attribution)}i.sort(function(t,i){return t.length-i.length}),i=i.filter(function(t,o){for(var n=o+1;n<i.length;n++)if(i[n].indexOf(t)>=0)return!1;return!0}),this._container.innerHTML=i.join(\" | \"),this._editLink=null}},AttributionControl.prototype._updateCompact=function(){var t=this._map.getCanvasContainer().offsetWidth<=640;this._container.classList[t?\"add\":\"remove\"](\"compact\")},module.exports=AttributionControl;\n},{\"../../util/dom\":199,\"../../util/util\":212}],174:[function(require,module,exports){\n\"use strict\";var DOM=require(\"../../util/dom\"),util=require(\"../../util/util\"),window=require(\"../../util/window\"),FullscreenControl=function(){this._fullscreen=!1,util.bindAll([\"_onClickFullscreen\",\"_changeIcon\"],this),\"onfullscreenchange\"in window.document?this._fullscreenchange=\"fullscreenchange\":\"onmozfullscreenchange\"in window.document?this._fullscreenchange=\"mozfullscreenchange\":\"onwebkitfullscreenchange\"in window.document?this._fullscreenchange=\"webkitfullscreenchange\":\"onmsfullscreenchange\"in window.document&&(this._fullscreenchange=\"MSFullscreenChange\")};FullscreenControl.prototype.onAdd=function(e){var n=\"mapboxgl-ctrl\",t=this._container=DOM.create(\"div\",n+\" mapboxgl-ctrl-group\"),l=this._fullscreenButton=DOM.create(\"button\",n+\"-icon \"+n+\"-fullscreen\",this._container);return l.setAttribute(\"aria-label\",\"Toggle fullscreen\"),l.type=\"button\",this._fullscreenButton.addEventListener(\"click\",this._onClickFullscreen),this._mapContainer=e.getContainer(),window.document.addEventListener(this._fullscreenchange,this._changeIcon),t},FullscreenControl.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},FullscreenControl.prototype._isFullscreen=function(){return this._fullscreen},FullscreenControl.prototype._changeIcon=function(e){if(e.target===this._mapContainer){this._fullscreen=!this._fullscreen;var n=\"mapboxgl-ctrl\";this._fullscreenButton.classList.toggle(n+\"-shrink\"),this._fullscreenButton.classList.toggle(n+\"-fullscreen\")}},FullscreenControl.prototype._onClickFullscreen=function(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},module.exports=FullscreenControl;\n},{\"../../util/dom\":199,\"../../util/util\":212,\"../../util/window\":194}],175:[function(require,module,exports){\n\"use strict\";function checkGeolocationSupport(t){void 0!==supportsGeolocation?t(supportsGeolocation):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:\"geolocation\"}).then(function(o){supportsGeolocation=\"denied\"!==o.state,t(supportsGeolocation)}):(supportsGeolocation=!!window.navigator.geolocation,t(supportsGeolocation))}var Evented=require(\"../../util/evented\"),DOM=require(\"../../util/dom\"),window=require(\"../../util/window\"),util=require(\"../../util/util\"),defaultGeoPositionOptions={enableHighAccuracy:!1,timeout:6e3},className=\"mapboxgl-ctrl\",supportsGeolocation,GeolocateControl=function(t){function o(o){t.call(this),this.options=o||{},util.bindAll([\"_onSuccess\",\"_onError\",\"_finish\",\"_setupUI\"],this)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.onAdd=function(t){return this._map=t,this._container=DOM.create(\"div\",className+\" \"+className+\"-group\"),checkGeolocationSupport(this._setupUI),this._container},o.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=void 0},o.prototype._onSuccess=function(t){this._map.jumpTo({center:[t.coords.longitude,t.coords.latitude],zoom:17,bearing:0,pitch:0}),this.fire(\"geolocate\",t),this._finish()},o.prototype._onError=function(t){this.fire(\"error\",t),this._finish()},o.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},o.prototype._setupUI=function(t){t!==!1&&(this._container.addEventListener(\"contextmenu\",function(t){return t.preventDefault()}),this._geolocateButton=DOM.create(\"button\",className+\"-icon \"+className+\"-geolocate\",this._container),this._geolocateButton.type=\"button\",this._geolocateButton.setAttribute(\"aria-label\",\"Geolocate\"),this.options.watchPosition&&this._geolocateButton.setAttribute(\"aria-pressed\",!1),this._geolocateButton.addEventListener(\"click\",this._onClickGeolocate.bind(this)))},o.prototype._onClickGeolocate=function(){var t=util.extend(defaultGeoPositionOptions,this.options&&this.options.positionOptions||{});this.options.watchPosition?void 0!==this._geolocationWatchID?(this._geolocateButton.classList.remove(\"watching\"),this._geolocateButton.setAttribute(\"aria-pressed\",!1),window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0):(this._geolocateButton.classList.add(\"watching\"),this._geolocateButton.setAttribute(\"aria-pressed\",!0),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)):(window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,t),this._timeoutId=setTimeout(this._finish,1e4))},o}(Evented);module.exports=GeolocateControl;\n},{\"../../util/dom\":199,\"../../util/evented\":200,\"../../util/util\":212,\"../../util/window\":194}],176:[function(require,module,exports){\n\"use strict\";var DOM=require(\"../../util/dom\"),util=require(\"../../util/util\"),LogoControl=function(){util.bindAll([\"_updateLogo\"],this)};LogoControl.prototype.onAdd=function(o){return this._map=o,this._container=DOM.create(\"div\",\"mapboxgl-ctrl\"),this._map.on(\"sourcedata\",this._updateLogo),this._updateLogo(),this._container},LogoControl.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off(\"sourcedata\",this._updateLogo)},LogoControl.prototype.getDefaultPosition=function(){return\"bottom-left\"},LogoControl.prototype._updateLogo=function(o){if(o&&\"metadata\"===o.sourceDataType)if(!this._container.childNodes.length&&this._logoRequired()){var t=DOM.create(\"a\",\"mapboxgl-ctrl-logo\");t.target=\"_blank\",t.href=\"https://www.mapbox.com/\",t.setAttribute(\"aria-label\",\"Mapbox logo\"),this._container.appendChild(t),this._map.off(\"data\",this._updateLogo)}else this._container.childNodes.length&&!this._logoRequired()&&this.onRemove()},LogoControl.prototype._logoRequired=function(){if(this._map.style){var o=this._map.style.sourceCaches;for(var t in o){var e=o[t].getSource();if(e.mapbox_logo)return!0}return!1}},module.exports=LogoControl;\n},{\"../../util/dom\":199,\"../../util/util\":212}],177:[function(require,module,exports){\n\"use strict\";function copyMouseEvent(t){return new window.MouseEvent(t.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:t.detail,view:t.view,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,movementX:t.movementX,movementY:t.movementY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey})}var DOM=require(\"../../util/dom\"),window=require(\"../../util/window\"),util=require(\"../../util/util\"),className=\"mapboxgl-ctrl\",NavigationControl=function(){util.bindAll([\"_rotateCompassArrow\"],this)};NavigationControl.prototype._rotateCompassArrow=function(){var t=\"rotate(\"+this._map.transform.angle*(180/Math.PI)+\"deg)\";this._compassArrow.style.transform=t},NavigationControl.prototype.onAdd=function(t){return this._map=t,this._container=DOM.create(\"div\",className+\" \"+className+\"-group\",t.getContainer()),this._container.addEventListener(\"contextmenu\",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(className+\"-icon \"+className+\"-zoom-in\",\"Zoom In\",t.zoomIn.bind(t)),this._zoomOutButton=this._createButton(className+\"-icon \"+className+\"-zoom-out\",\"Zoom Out\",t.zoomOut.bind(t)),this._compass=this._createButton(className+\"-icon \"+className+\"-compass\",\"Reset North\",t.resetNorth.bind(t)),this._compassArrow=DOM.create(\"span\",className+\"-compass-arrow\",this._compass),this._compass.addEventListener(\"mousedown\",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),this._map.on(\"rotate\",this._rotateCompassArrow),this._rotateCompassArrow(),this._container},NavigationControl.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off(\"rotate\",this._rotateCompassArrow),this._map=void 0},NavigationControl.prototype._onContextMenu=function(t){t.preventDefault()},NavigationControl.prototype._onCompassDown=function(t){0===t.button&&(DOM.disableDrag(),window.document.addEventListener(\"mousemove\",this._onCompassMove),window.document.addEventListener(\"mouseup\",this._onCompassUp),this._map.getCanvasContainer().dispatchEvent(copyMouseEvent(t)),t.stopPropagation())},NavigationControl.prototype._onCompassMove=function(t){0===t.button&&(this._map.getCanvasContainer().dispatchEvent(copyMouseEvent(t)),t.stopPropagation())},NavigationControl.prototype._onCompassUp=function(t){0===t.button&&(window.document.removeEventListener(\"mousemove\",this._onCompassMove),window.document.removeEventListener(\"mouseup\",this._onCompassUp),DOM.enableDrag(),this._map.getCanvasContainer().dispatchEvent(copyMouseEvent(t)),t.stopPropagation())},NavigationControl.prototype._createButton=function(t,o,e){var n=DOM.create(\"button\",t,this._container);return n.type=\"button\",n.setAttribute(\"aria-label\",o),n.addEventListener(\"click\",function(){e()}),n},module.exports=NavigationControl;\n},{\"../../util/dom\":199,\"../../util/util\":212,\"../../util/window\":194}],178:[function(require,module,exports){\n\"use strict\";function updateScale(t,e,o){var n=o&&o.maxWidth||100,i=t._container.clientHeight/2,a=getDistance(t.unproject([0,i]),t.unproject([n,i]));if(o&&\"imperial\"===o.unit){var r=3.2808*a;if(r>5280){var l=r/5280;setScale(e,n,l,\"mi\")}else setScale(e,n,r,\"ft\")}else setScale(e,n,a,\"m\")}function setScale(t,e,o,n){var i=getRoundNum(o),a=i/o;\"m\"===n&&i>=1e3&&(i/=1e3,n=\"km\"),t.style.width=e*a+\"px\",t.innerHTML=i+n}function getDistance(t,e){var o=6371e3,n=Math.PI/180,i=t.lat*n,a=e.lat*n,r=Math.sin(i)*Math.sin(a)+Math.cos(i)*Math.cos(a)*Math.cos((e.lng-t.lng)*n),l=o*Math.acos(Math.min(r,1));return l}function getRoundNum(t){var e=Math.pow(10,(\"\"+Math.floor(t)).length-1),o=t/e;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,e*o}var DOM=require(\"../../util/dom\"),util=require(\"../../util/util\"),ScaleControl=function(t){this.options=t,util.bindAll([\"_onMove\"],this)};ScaleControl.prototype.getDefaultPosition=function(){return\"bottom-left\"},ScaleControl.prototype._onMove=function(){updateScale(this._map,this._container,this.options)},ScaleControl.prototype.onAdd=function(t){return this._map=t,this._container=DOM.create(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-scale\",t.getContainer()),this._map.on(\"move\",this._onMove),this._onMove(),this._container},ScaleControl.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off(\"move\",this._onMove),this._map=void 0},module.exports=ScaleControl;\n},{\"../../util/dom\":199,\"../../util/util\":212}],179:[function(require,module,exports){\n\"use strict\";var DOM=require(\"../../util/dom\"),LngLatBounds=require(\"../../geo/lng_lat_bounds\"),util=require(\"../../util/util\"),window=require(\"../../util/window\"),BoxZoomHandler=function(o){this._map=o,this._el=o.getCanvasContainer(),this._container=o.getContainer(),util.bindAll([\"_onMouseDown\",\"_onMouseMove\",\"_onMouseUp\",\"_onKeyDown\"],this)};BoxZoomHandler.prototype.isEnabled=function(){return!!this._enabled},BoxZoomHandler.prototype.isActive=function(){return!!this._active},BoxZoomHandler.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener(\"mousedown\",this._onMouseDown,!1),this._enabled=!0)},BoxZoomHandler.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener(\"mousedown\",this._onMouseDown),this._enabled=!1)},BoxZoomHandler.prototype._onMouseDown=function(o){o.shiftKey&&0===o.button&&(window.document.addEventListener(\"mousemove\",this._onMouseMove,!1),window.document.addEventListener(\"keydown\",this._onKeyDown,!1),window.document.addEventListener(\"mouseup\",this._onMouseUp,!1),DOM.disableDrag(),this._startPos=DOM.mousePos(this._el,o),this._active=!0)},BoxZoomHandler.prototype._onMouseMove=function(o){var e=this._startPos,t=DOM.mousePos(this._el,o);this._box||(this._box=DOM.create(\"div\",\"mapboxgl-boxzoom\",this._container),this._container.classList.add(\"mapboxgl-crosshair\"),this._fireEvent(\"boxzoomstart\",o));var n=Math.min(e.x,t.x),i=Math.max(e.x,t.x),s=Math.min(e.y,t.y),r=Math.max(e.y,t.y);DOM.setTransform(this._box,\"translate(\"+n+\"px,\"+s+\"px)\"),this._box.style.width=i-n+\"px\",this._box.style.height=r-s+\"px\"},BoxZoomHandler.prototype._onMouseUp=function(o){if(0===o.button){var e=this._startPos,t=DOM.mousePos(this._el,o),n=(new LngLatBounds).extend(this._map.unproject(e)).extend(this._map.unproject(t));this._finish(),e.x===t.x&&e.y===t.y?this._fireEvent(\"boxzoomcancel\",o):this._map.fitBounds(n,{linear:!0}).fire(\"boxzoomend\",{originalEvent:o,boxZoomBounds:n})}},BoxZoomHandler.prototype._onKeyDown=function(o){27===o.keyCode&&(this._finish(),this._fireEvent(\"boxzoomcancel\",o))},BoxZoomHandler.prototype._finish=function(){this._active=!1,window.document.removeEventListener(\"mousemove\",this._onMouseMove,!1),window.document.removeEventListener(\"keydown\",this._onKeyDown,!1),window.document.removeEventListener(\"mouseup\",this._onMouseUp,!1),this._container.classList.remove(\"mapboxgl-crosshair\"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),DOM.enableDrag()},BoxZoomHandler.prototype._fireEvent=function(o,e){return this._map.fire(o,{originalEvent:e})},module.exports=BoxZoomHandler;\n},{\"../../geo/lng_lat_bounds\":63,\"../../util/dom\":199,\"../../util/util\":212,\"../../util/window\":194}],180:[function(require,module,exports){\n\"use strict\";var DoubleClickZoomHandler=function(o){this._map=o,this._onDblClick=this._onDblClick.bind(this)};DoubleClickZoomHandler.prototype.isEnabled=function(){return!!this._enabled},DoubleClickZoomHandler.prototype.enable=function(){this.isEnabled()||(this._map.on(\"dblclick\",this._onDblClick),this._enabled=!0)},DoubleClickZoomHandler.prototype.disable=function(){this.isEnabled()&&(this._map.off(\"dblclick\",this._onDblClick),this._enabled=!1)},DoubleClickZoomHandler.prototype._onDblClick=function(o){this._map.zoomTo(this._map.getZoom()+(o.originalEvent.shiftKey?-1:1),{around:o.lngLat},o)},module.exports=DoubleClickZoomHandler;\n},{}],181:[function(require,module,exports){\n\"use strict\";var DOM=require(\"../../util/dom\"),util=require(\"../../util/util\"),window=require(\"../../util/window\"),inertiaLinearity=.3,inertiaEasing=util.bezier(0,0,inertiaLinearity,1),inertiaMaxSpeed=1400,inertiaDeceleration=2500,DragPanHandler=function(t){this._map=t,this._el=t.getCanvasContainer(),util.bindAll([\"_onDown\",\"_onMove\",\"_onUp\",\"_onTouchEnd\",\"_onMouseUp\"],this)};DragPanHandler.prototype.isEnabled=function(){return!!this._enabled},DragPanHandler.prototype.isActive=function(){return!!this._active},DragPanHandler.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener(\"mousedown\",this._onDown),this._el.addEventListener(\"touchstart\",this._onDown),this._enabled=!0)},DragPanHandler.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener(\"mousedown\",this._onDown),this._el.removeEventListener(\"touchstart\",this._onDown),this._enabled=!1)},DragPanHandler.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(window.document.addEventListener(\"touchmove\",this._onMove),window.document.addEventListener(\"touchend\",this._onTouchEnd)):(window.document.addEventListener(\"mousemove\",this._onMove),window.document.addEventListener(\"mouseup\",this._onMouseUp)),this._active=!1,this._startPos=this._pos=DOM.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},DragPanHandler.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent(\"dragstart\",t),this._fireEvent(\"movestart\",t));var e=DOM.mousePos(this._el,t),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),e),this._fireEvent(\"drag\",t),this._fireEvent(\"move\",t),this._pos=e,t.preventDefault()}},DragPanHandler.prototype._onUp=function(t){var e=this;if(this.isActive()){this._active=!1,this._fireEvent(\"dragend\",t),this._drainInertiaBuffer();var n=function(){e._map.moving=!1,e._fireEvent(\"moveend\",t)},i=this._inertia;if(i.length<2)return void n();var o=i[i.length-1],r=i[0],a=o[1].sub(r[1]),s=(o[0]-r[0])/1e3;if(0===s||o[1].equals(r[1]))return void n();var u=a.mult(inertiaLinearity/s),h=u.mag();h>inertiaMaxSpeed&&(h=inertiaMaxSpeed,u._unit()._mult(h));var d=h/(inertiaDeceleration*inertiaLinearity),v=u.mult(-d/2);this._map.panBy(v,{duration:1e3*d,easing:inertiaEasing,noMoveStart:!0},{originalEvent:t})}},DragPanHandler.prototype._onMouseUp=function(t){this._ignoreEvent(t)||(this._onUp(t),window.document.removeEventListener(\"mousemove\",this._onMove),window.document.removeEventListener(\"mouseup\",this._onMouseUp))},DragPanHandler.prototype._onTouchEnd=function(t){this._ignoreEvent(t)||(this._onUp(t),window.document.removeEventListener(\"touchmove\",this._onMove),window.document.removeEventListener(\"touchend\",this._onTouchEnd))},DragPanHandler.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},DragPanHandler.prototype._ignoreEvent=function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragRotate&&e.dragRotate.isActive())return!0;if(t.touches)return t.touches.length>1;if(t.ctrlKey)return!0;var n=1,i=0;return\"mousemove\"===t.type?t.buttons&0===n:t.button!==i},DragPanHandler.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>0&&e-t[0][0]>n;)t.shift()},module.exports=DragPanHandler;\n},{\"../../util/dom\":199,\"../../util/util\":212,\"../../util/window\":194}],182:[function(require,module,exports){\n\"use strict\";var DOM=require(\"../../util/dom\"),util=require(\"../../util/util\"),window=require(\"../../util/window\"),inertiaLinearity=.25,inertiaEasing=util.bezier(0,0,inertiaLinearity,1),inertiaMaxSpeed=180,inertiaDeceleration=720,DragRotateHandler=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._bearingSnap=e.bearingSnap,this._pitchWithRotate=e.pitchWithRotate!==!1,util.bindAll([\"_onDown\",\"_onMove\",\"_onUp\"],this)};DragRotateHandler.prototype.isEnabled=function(){return!!this._enabled},DragRotateHandler.prototype.isActive=function(){return!!this._active},DragRotateHandler.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener(\"mousedown\",this._onDown),this._enabled=!0)},DragRotateHandler.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener(\"mousedown\",this._onDown),this._enabled=!1)},DragRotateHandler.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(window.document.addEventListener(\"mousemove\",this._onMove),window.document.addEventListener(\"mouseup\",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=DOM.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault())},DragRotateHandler.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent(\"rotatestart\",t),this._fireEvent(\"movestart\",t));var e=this._map;e.stop();var i=this._pos,n=DOM.mousePos(this._el,t),r=.8*(i.x-n.x),a=(i.y-n.y)*-.5,o=e.getBearing()-r,s=e.getPitch()-a,h=this._inertia,_=h[h.length-1];this._drainInertiaBuffer(),h.push([Date.now(),e._normalizeBearing(o,_[1])]),e.transform.bearing=o,this._pitchWithRotate&&(e.transform.pitch=s),this._fireEvent(\"rotate\",t),this._fireEvent(\"move\",t),this._pos=n}},DragRotateHandler.prototype._onUp=function(t){var e=this;if(!this._ignoreEvent(t)&&(window.document.removeEventListener(\"mousemove\",this._onMove),window.document.removeEventListener(\"mouseup\",this._onUp),this.isActive())){this._active=!1,this._fireEvent(\"rotateend\",t),this._drainInertiaBuffer();var i=this._map,n=i.getBearing(),r=this._inertia,a=function(){Math.abs(n)<e._bearingSnap?i.resetNorth({noMoveStart:!0},{originalEvent:t}):(e._map.moving=!1,e._fireEvent(\"moveend\",t))};if(r.length<2)return void a();var o=r[0],s=r[r.length-1],h=r[r.length-2],_=i._normalizeBearing(n,h[1]),v=s[1]-o[1],u=v<0?-1:1,p=(s[0]-o[0])/1e3;if(0===v||0===p)return void a();var d=Math.abs(v*(inertiaLinearity/p));d>inertiaMaxSpeed&&(d=inertiaMaxSpeed);var l=d/(inertiaDeceleration*inertiaLinearity),g=u*d*(l/2);_+=g,Math.abs(i._normalizeBearing(_,0))<this._bearingSnap&&(_=i._normalizeBearing(0,_)),i.rotateTo(_,{duration:1e3*l,easing:inertiaEasing,noMoveStart:!0},{originalEvent:t})}},DragRotateHandler.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},DragRotateHandler.prototype._ignoreEvent=function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragPan&&e.dragPan.isActive())return!0;if(t.touches)return t.touches.length>1;var i=t.ctrlKey?1:2,n=t.ctrlKey?0:2,r=t.button;return\"undefined\"!=typeof InstallTrigger&&2===t.button&&t.ctrlKey&&window.navigator.platform.toUpperCase().indexOf(\"MAC\")>=0&&(r=0),\"mousemove\"===t.type?t.buttons&0===i:!this.isActive()&&r!==n},DragRotateHandler.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now(),i=160;t.length>0&&e-t[0][0]>i;)t.shift()},module.exports=DragRotateHandler;\n},{\"../../util/dom\":199,\"../../util/util\":212,\"../../util/window\":194}],183:[function(require,module,exports){\n\"use strict\";function easeOut(e){return e*(2-e)}var panStep=100,bearingStep=15,pitchStep=10,KeyboardHandler=function(e){this._map=e,this._el=e.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)};KeyboardHandler.prototype.isEnabled=function(){return!!this._enabled},KeyboardHandler.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener(\"keydown\",this._onKeyDown,!1),this._enabled=!0)},KeyboardHandler.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener(\"keydown\",this._onKeyDown),this._enabled=!1)},KeyboardHandler.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,n=0,a=0,i=0,r=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?a=1:(e.preventDefault(),r=-1);break;case 40:e.shiftKey?a=-1:(r=1,e.preventDefault())}var s=this._map,o=s.getZoom(),d={duration:300,delayEndEvents:500,easing:easeOut,zoom:t?Math.round(o)+t*(e.shiftKey?2:1):o,bearing:s.getBearing()+n*bearingStep,pitch:s.getPitch()+a*pitchStep,offset:[-i*panStep,-r*panStep],center:s.getCenter()};s.easeTo(d,{originalEvent:e})}},module.exports=KeyboardHandler;\n},{}],184:[function(require,module,exports){\n\"use strict\";var DOM=require(\"../../util/dom\"),util=require(\"../../util/util\"),browser=require(\"../../util/browser\"),window=require(\"../../util/window\"),ua=window.navigator.userAgent.toLowerCase(),firefox=ua.indexOf(\"firefox\")!==-1,safari=ua.indexOf(\"safari\")!==-1&&ua.indexOf(\"chrom\")===-1,ScrollZoomHandler=function(e){this._map=e,this._el=e.getCanvasContainer(),util.bindAll([\"_onWheel\",\"_onTimeout\"],this)};ScrollZoomHandler.prototype.isEnabled=function(){return!!this._enabled},ScrollZoomHandler.prototype.enable=function(e){this.isEnabled()||(this._el.addEventListener(\"wheel\",this._onWheel,!1),this._el.addEventListener(\"mousewheel\",this._onWheel,!1),this._enabled=!0,this._aroundCenter=e&&\"center\"===e.around)},ScrollZoomHandler.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener(\"wheel\",this._onWheel),this._el.removeEventListener(\"mousewheel\",this._onWheel),this._enabled=!1)},ScrollZoomHandler.prototype._onWheel=function(e){var t;\"wheel\"===e.type?(t=e.deltaY,firefox&&e.deltaMode===window.WheelEvent.DOM_DELTA_PIXEL&&(t/=browser.devicePixelRatio),e.deltaMode===window.WheelEvent.DOM_DELTA_LINE&&(t*=40)):\"mousewheel\"===e.type&&(t=-e.wheelDeltaY,safari&&(t/=3));var o=browser.now(),i=o-(this._time||0);this._pos=DOM.mousePos(this._el,e),this._time=o,0!==t&&t%4.000244140625===0?this._type=\"wheel\":0!==t&&Math.abs(t)<4?this._type=\"trackpad\":i>400?(this._type=null,this._lastValue=t,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(i*t)<200?\"trackpad\":\"wheel\",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t+=this._lastValue)),e.shiftKey&&t&&(t/=4),this._type&&this._zoom(-t,e),e.preventDefault()},ScrollZoomHandler.prototype._onTimeout=function(){this._type=\"wheel\",this._zoom(-this._lastValue)},ScrollZoomHandler.prototype._zoom=function(e,t){if(0!==e){var o=this._map,i=2/(1+Math.exp(-Math.abs(e/100)));e<0&&0!==i&&(i=1/i);var l=o.ease?o.ease.to:o.transform.scale,s=o.transform.scaleZoom(l*i);o.zoomTo(s,{duration:\"wheel\"===this._type?200:0,around:this._aroundCenter?o.getCenter():o.unproject(this._pos),delayEndEvents:200,smoothEasing:!0},{originalEvent:t})}},module.exports=ScrollZoomHandler;\n},{\"../../util/browser\":192,\"../../util/dom\":199,\"../../util/util\":212,\"../../util/window\":194}],185:[function(require,module,exports){\n\"use strict\";var DOM=require(\"../../util/dom\"),util=require(\"../../util/util\"),window=require(\"../../util/window\"),inertiaLinearity=.15,inertiaEasing=util.bezier(0,0,inertiaLinearity,1),inertiaDeceleration=12,inertiaMaxSpeed=2.5,significantScaleThreshold=.15,significantRotateThreshold=4,TouchZoomRotateHandler=function(t){this._map=t,this._el=t.getCanvasContainer(),util.bindAll([\"_onStart\",\"_onMove\",\"_onEnd\"],this)};TouchZoomRotateHandler.prototype.isEnabled=function(){return!!this._enabled},TouchZoomRotateHandler.prototype.enable=function(t){this.isEnabled()||(this._el.addEventListener(\"touchstart\",this._onStart,!1),this._enabled=!0,this._aroundCenter=t&&\"center\"===t.around)},TouchZoomRotateHandler.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener(\"touchstart\",this._onStart),this._enabled=!1)},TouchZoomRotateHandler.prototype.disableRotation=function(){this._rotationDisabled=!0},TouchZoomRotateHandler.prototype.enableRotation=function(){this._rotationDisabled=!1},TouchZoomRotateHandler.prototype._onStart=function(t){if(2===t.touches.length){var e=DOM.mousePos(this._el,t.touches[0]),o=DOM.mousePos(this._el,t.touches[1]);this._startVec=e.sub(o),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],window.document.addEventListener(\"touchmove\",this._onMove,!1),window.document.addEventListener(\"touchend\",this._onEnd,!1)}},TouchZoomRotateHandler.prototype._onMove=function(t){if(2===t.touches.length){var e=DOM.mousePos(this._el,t.touches[0]),o=DOM.mousePos(this._el,t.touches[1]),i=e.add(o).div(2),n=e.sub(o),a=n.mag()/this._startVec.mag(),r=this._rotationDisabled?0:180*n.angleWith(this._startVec)/Math.PI,s=this._map;if(this._gestureIntent){var h={duration:0,around:s.unproject(i)};\"rotate\"===this._gestureIntent&&(h.bearing=this._startBearing+r),\"zoom\"!==this._gestureIntent&&\"rotate\"!==this._gestureIntent||(h.zoom=s.transform.scaleZoom(this._startScale*a)),s.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),a,i]),s.easeTo(h,{originalEvent:t})}else{var u=Math.abs(1-a)>significantScaleThreshold,d=Math.abs(r)>significantRotateThreshold;d?this._gestureIntent=\"rotate\":u&&(this._gestureIntent=\"zoom\"),this._gestureIntent&&(this._startVec=n,this._startScale=s.transform.scale,this._startBearing=s.transform.bearing)}t.preventDefault()}},TouchZoomRotateHandler.prototype._onEnd=function(t){window.document.removeEventListener(\"touchmove\",this._onMove),window.document.removeEventListener(\"touchend\",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,o=this._map;if(e.length<2)return void o.snapToNorth({},{originalEvent:t});var i=e[e.length-1],n=e[0],a=o.transform.scaleZoom(this._startScale*i[1]),r=o.transform.scaleZoom(this._startScale*n[1]),s=a-r,h=(i[0]-n[0])/1e3,u=i[2];if(0===h||a===r)return void o.snapToNorth({},{originalEvent:t});var d=s*inertiaLinearity/h;Math.abs(d)>inertiaMaxSpeed&&(d=d>0?inertiaMaxSpeed:-inertiaMaxSpeed);var l=1e3*Math.abs(d/(inertiaDeceleration*inertiaLinearity)),c=a+d*l/2e3;c<0&&(c=0),o.easeTo({zoom:c,duration:l,easing:inertiaEasing,around:this._aroundCenter?o.getCenter():o.unproject(u)},{originalEvent:t})},TouchZoomRotateHandler.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now(),o=160;t.length>2&&e-t[0][0]>o;)t.shift()},module.exports=TouchZoomRotateHandler;\n},{\"../../util/dom\":199,\"../../util/util\":212,\"../../util/window\":194}],186:[function(require,module,exports){\n\"use strict\";var util=require(\"../util/util\"),window=require(\"../util/window\"),Hash=function(){util.bindAll([\"_onHashChange\",\"_updateHash\"],this)};Hash.prototype.addTo=function(t){return this._map=t,window.addEventListener(\"hashchange\",this._onHashChange,!1),this._map.on(\"moveend\",this._updateHash),this},Hash.prototype.remove=function(){return window.removeEventListener(\"hashchange\",this._onHashChange,!1),this._map.off(\"moveend\",this._updateHash),delete this._map,this},Hash.prototype._onHashChange=function(){var t=window.location.hash.replace(\"#\",\"\").split(\"/\");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},Hash.prototype._updateHash=function(){var t=this._map.getCenter(),e=this._map.getZoom(),a=this._map.getBearing(),h=this._map.getPitch(),i=Math.max(0,Math.ceil(Math.log(e)/Math.LN2)),n=\"#\"+Math.round(100*e)/100+\"/\"+t.lat.toFixed(i)+\"/\"+t.lng.toFixed(i);(a||h)&&(n+=\"/\"+Math.round(10*a)/10),h&&(n+=\"/\"+Math.round(h)),window.history.replaceState(\"\",\"\",n)},module.exports=Hash;\n},{\"../util/util\":212,\"../util/window\":194}],187:[function(require,module,exports){\n\"use strict\";function removeNode(t){t.parentNode&&t.parentNode.removeChild(t)}var util=require(\"../util/util\"),browser=require(\"../util/browser\"),window=require(\"../util/window\"),DOM=require(\"../util/dom\"),Style=require(\"../style/style\"),AnimationLoop=require(\"../style/animation_loop\"),Painter=require(\"../render/painter\"),Transform=require(\"../geo/transform\"),Hash=require(\"./hash\"),bindHandlers=require(\"./bind_handlers\"),Camera=require(\"./camera\"),LngLat=require(\"../geo/lng_lat\"),LngLatBounds=require(\"../geo/lng_lat_bounds\"),Point=require(\"point-geometry\"),AttributionControl=require(\"./control/attribution_control\"),LogoControl=require(\"./control/logo_control\"),isSupported=require(\"mapbox-gl-supported\"),defaultMinZoom=0,defaultMaxZoom=22,defaultOptions={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:defaultMinZoom,maxZoom:defaultMaxZoom,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0},Map=function(t){function e(e){var o=this;if(e=util.extend({},defaultOptions,e),null!=e.minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error(\"maxZoom must be greater than minZoom\");var i=new Transform(e.minZoom,e.maxZoom,e.renderWorldCopies);if(t.call(this,i,e),this._interactive=e.interactive,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,\"string\"==typeof e.container){if(this._container=window.document.getElementById(e.container),!this._container)throw new Error(\"Container '\"+e.container+\"' not found.\")}else this._container=e.container;this.animationLoop=new AnimationLoop,e.maxBounds&&this.setMaxBounds(e.maxBounds),util.bindAll([\"_onWindowOnline\",\"_onWindowResize\",\"_contextLost\",\"_contextRestored\",\"_update\",\"_render\",\"_onData\",\"_onDataLoading\"],this),this._setupContainer(),this._setupPainter(),this.on(\"move\",this._update.bind(this,!1)),this.on(\"zoom\",this._update.bind(this,!0)),this.on(\"moveend\",function(){o.animationLoop.set(300),o._rerender()}),\"undefined\"!=typeof window&&(window.addEventListener(\"online\",this._onWindowOnline,!1),window.addEventListener(\"resize\",this._onWindowResize,!1)),bindHandlers(this,e),this._hash=e.hash&&(new Hash).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this._classes=[],this.resize(),e.classes&&this.setClasses(e.classes),e.style&&this.setStyle(e.style),e.attributionControl&&this.addControl(new AttributionControl),this.addControl(new LogoControl,e.logoPosition),this.on(\"style.load\",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update(this._classes,{transition:!1})}),this.on(\"data\",this._onData),this.on(\"dataloading\",this._onDataLoading)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var o={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return e.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e=\"top-right\");var o=t.onAdd(this),i=this._controlPositions[e];return e.indexOf(\"bottom\")!==-1?i.insertBefore(o,i.firstChild):i.appendChild(o),this},e.prototype.removeControl=function(t){return t.onRemove(this),this},e.prototype.addClass=function(t,e){return util.warnOnce(\"Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.\"),this._classes.indexOf(t)>=0||\"\"===t?this:(this._classes.push(t),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},e.prototype.removeClass=function(t,e){util.warnOnce(\"Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.\");var o=this._classes.indexOf(t);return o<0||\"\"===t?this:(this._classes.splice(o,1),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},e.prototype.setClasses=function(t,e){util.warnOnce(\"Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.\");for(var o={},i=0;i<t.length;i++)\"\"!==t[i]&&(o[t[i]]=!0);return this._classes=Object.keys(o),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0)},e.prototype.hasClass=function(t){return util.warnOnce(\"Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.\"),this._classes.indexOf(t)>=0},e.prototype.getClasses=function(){return util.warnOnce(\"Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.\"),this._classes},e.prototype.resize=function(){var t=this._containerDimensions(),e=t[0],o=t[1];return this._resizeCanvas(e,o),this.transform.resize(e,o),this.painter.resize(e,o),this.fire(\"movestart\").fire(\"move\").fire(\"resize\").fire(\"moveend\")},e.prototype.getBounds=function(){var t=new LngLatBounds(this.transform.pointLocation(new Point(0,this.transform.height)),this.transform.pointLocation(new Point(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new Point(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new Point(0,this.transform.size.y)))),t},e.prototype.setMaxBounds=function(t){if(t){var e=LngLatBounds.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=[],this.transform.latRange=[],this._update());return this},e.prototype.setMinZoom=function(t){if(t=null===t||void 0===t?defaultMinZoom:t,t>=defaultMinZoom&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error(\"minZoom must be between \"+defaultMinZoom+\" and the current maxZoom, inclusive\")},e.prototype.getMinZoom=function(){return this.transform.minZoom},e.prototype.setMaxZoom=function(t){if(t=null===t||void 0===t?defaultMaxZoom:t,t>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error(\"maxZoom must be greater than the current minZoom\")},e.prototype.getMaxZoom=function(){return this.transform.maxZoom},e.prototype.project=function(t){return this.transform.locationPoint(LngLat.convert(t))},e.prototype.unproject=function(t){return this.transform.pointLocation(Point.convert(t))},e.prototype.queryRenderedFeatures=function(){function t(t){return t instanceof Point||Array.isArray(t)}var e,o={};return 2===arguments.length?(e=arguments[0],o=arguments[1]):1===arguments.length&&t(arguments[0])?e=arguments[0]:1===arguments.length&&(o=arguments[0]),this.style.queryRenderedFeatures(this._makeQueryGeometry(e),o,this.transform.zoom,this.transform.angle)},e.prototype._makeQueryGeometry=function(t){var e=this;void 0===t&&(t=[Point.convert([0,0]),Point.convert([this.transform.width,this.transform.height])]);var o,i=t instanceof Point||\"number\"==typeof t[0];if(i){var r=Point.convert(t);o=[r]}else{var s=[Point.convert(t[0]),Point.convert(t[1])];o=[s[0],new Point(s[1].x,s[0].y),s[1],new Point(s[0].x,s[1].y),s[0]]}return o=o.map(function(t){return e.transform.pointCoordinate(t)})},e.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},e.prototype.setStyle=function(t,e){var o=(!e||e.diff!==!1)&&this.style&&t&&!(t instanceof Style)&&\"string\"!=typeof t;if(o)try{return this.style.setState(t)&&this._update(!0),this}catch(t){util.warnOnce(\"Unable to perform style diff: \"+(t.message||t.error||t)+\".  Rebuilding the style from scratch.\")}return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.off(\"rotate\",this.style._redoPlacement),this.off(\"pitch\",this.style._redoPlacement)),t?(t instanceof Style?this.style=t:this.style=new Style(t,this),this.style.setEventedParent(this,{style:this.style}),this.on(\"rotate\",this.style._redoPlacement),this.on(\"pitch\",this.style._redoPlacement),this):(this.style=null,this)},e.prototype.getStyle=function(){if(this.style)return this.style.serialize()},e.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},e.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];return void 0===e?void this.fire(\"error\",{error:new Error(\"There is no source with ID '\"+t+\"'\")}):e.loaded()},e.prototype.addSourceType=function(t,e,o){return this.style.addSourceType(t,e,o)},e.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},e.prototype.getSource=function(t){return this.style.getSource(t)},e.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},e.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},e.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},e.prototype.getLayer=function(t){return this.style.getLayer(t)},e.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},e.prototype.setLayerZoomRange=function(t,e,o){return this.style.setLayerZoomRange(t,e,o),this._update(!0),this},e.prototype.getFilter=function(t){return this.style.getFilter(t)},e.prototype.setPaintProperty=function(t,e,o,i){return this.style.setPaintProperty(t,e,o,i),this._update(!0),this},e.prototype.getPaintProperty=function(t,e,o){return this.style.getPaintProperty(t,e,o)},e.prototype.setLayoutProperty=function(t,e,o){return this.style.setLayoutProperty(t,e,o),this._update(!0),this},e.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},e.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},e.prototype.getLight=function(){return this.style.getLight()},e.prototype.getContainer=function(){return this._container},e.prototype.getCanvasContainer=function(){return this._canvasContainer},e.prototype.getCanvas=function(){return this._canvas},e.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},e.prototype._setupContainer=function(){var t=this._container;t.classList.add(\"mapboxgl-map\");var e=this._canvasContainer=DOM.create(\"div\",\"mapboxgl-canvas-container\",t);this._interactive&&e.classList.add(\"mapboxgl-interactive\"),this._canvas=DOM.create(\"canvas\",\"mapboxgl-canvas\",e),this._canvas.style.position=\"absolute\",this._canvas.addEventListener(\"webglcontextlost\",this._contextLost,!1),this._canvas.addEventListener(\"webglcontextrestored\",this._contextRestored,!1),this._canvas.setAttribute(\"tabindex\",0),this._canvas.setAttribute(\"aria-label\",\"Map\");var o=this._containerDimensions();this._resizeCanvas(o[0],o[1]);var i=this._controlContainer=DOM.create(\"div\",\"mapboxgl-control-container\",t),r=this._controlPositions={};[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"].forEach(function(t){r[t]=DOM.create(\"div\",\"mapboxgl-ctrl-\"+t,i)})},e.prototype._resizeCanvas=function(t,e){var o=window.devicePixelRatio||1;this._canvas.width=o*t,this._canvas.height=o*e,this._canvas.style.width=t+\"px\",this._canvas.style.height=e+\"px\"},e.prototype._setupPainter=function(){var t=util.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},isSupported.webGLContextAttributes),e=this._canvas.getContext(\"webgl\",t)||this._canvas.getContext(\"experimental-webgl\",t);return e?void(this.painter=new Painter(e,this.transform)):void this.fire(\"error\",{error:new Error(\"Failed to initialize WebGL\")})},e.prototype._contextLost=function(t){t.preventDefault(),this._frameId&&browser.cancelFrame(this._frameId),this.fire(\"webglcontextlost\",{originalEvent:t})},e.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(\"webglcontextrestored\",{originalEvent:t})},e.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},e.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},e.prototype._render=function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(this._classes,this._classOptions),this._classOptions=null,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming}),this.fire(\"render\"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(\"load\")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty)&&this._rerender(),this},e.prototype.remove=function(){this._hash&&this._hash.remove(),browser.cancelFrame(this._frameId),this.setStyle(null),\"undefined\"!=typeof window&&(window.removeEventListener(\"resize\",this._onWindowResize,!1),window.removeEventListener(\"online\",this._onWindowOnline,!1));var t=this.painter.gl.getExtension(\"WEBGL_lose_context\");t&&t.loseContext(),removeNode(this._canvasContainer),removeNode(this._controlContainer),this._container.classList.remove(\"mapboxgl-map\"),this.fire(\"remove\")},e.prototype._rerender=function(){this.style&&!this._frameId&&(this._frameId=browser.frame(this._render))},e.prototype._onWindowOnline=function(){this._update()},e.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,this.style._redoPlacement())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint=t,this._update()},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},e.prototype._onData=function(t){this._update(\"style\"===t.dataType),this.fire(t.dataType+\"data\",t)},e.prototype._onDataLoading=function(t){this.fire(t.dataType+\"dataloading\",t)},Object.defineProperties(e.prototype,o),e}(Camera);module.exports=Map;\n},{\"../geo/lng_lat\":62,\"../geo/lng_lat_bounds\":63,\"../geo/transform\":64,\"../render/painter\":77,\"../style/animation_loop\":143,\"../style/style\":146,\"../util/browser\":192,\"../util/dom\":199,\"../util/util\":212,\"../util/window\":194,\"./bind_handlers\":171,\"./camera\":172,\"./control/attribution_control\":173,\"./control/logo_control\":176,\"./hash\":186,\"mapbox-gl-supported\":22,\"point-geometry\":26}],188:[function(require,module,exports){\n\"use strict\";var DOM=require(\"../util/dom\"),LngLat=require(\"../geo/lng_lat\"),Point=require(\"point-geometry\"),Marker=function(t,e){this._offset=Point.convert(e&&e.offset||[0,0]),this._update=this._update.bind(this),this._onMapClick=this._onMapClick.bind(this),t||(t=DOM.create(\"div\")),t.classList.add(\"mapboxgl-marker\"),this._element=t,this._popup=null};Marker.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on(\"move\",this._update),t.on(\"moveend\",this._update),this._update(),this._map.on(\"click\",this._onMapClick),this},Marker.prototype.remove=function(){return this._map&&(this._map.off(\"click\",this._onMapClick),this._map.off(\"move\",this._update),this._map.off(\"moveend\",this._update),this._map=null),DOM.remove(this._element),this._popup&&this._popup.remove(),this},Marker.prototype.getLngLat=function(){return this._lngLat},Marker.prototype.setLngLat=function(t){return this._lngLat=LngLat.convert(t),this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Marker.prototype.getElement=function(){return this._element},Marker.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&(this._popup=t,this._popup.setLngLat(this._lngLat)),this},Marker.prototype._onMapClick=function(t){var e=t.originalEvent.target,p=this._element;this._popup&&(e===p||p.contains(e))&&this.togglePopup()},Marker.prototype.getPopup=function(){return this._popup},Marker.prototype.togglePopup=function(){var t=this._popup;t&&(t.isOpen()?t.remove():t.addTo(this._map))},Marker.prototype._update=function(t){if(this._map){var e=this._map.project(this._lngLat)._add(this._offset);t&&\"moveend\"!==t.type||(e=e.round()),DOM.setTransform(this._element,\"translate(\"+e.x+\"px, \"+e.y+\"px)\")}},module.exports=Marker;\n},{\"../geo/lng_lat\":62,\"../util/dom\":199,\"point-geometry\":26}],189:[function(require,module,exports){\n\"use strict\";function normalizeOffset(t){if(t){if(\"number\"==typeof t){var o=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{top:new Point(0,t),\"top-left\":new Point(o,o),\"top-right\":new Point(-o,o),bottom:new Point(0,-t),\"bottom-left\":new Point(o,-o),\"bottom-right\":new Point(-o,-o),left:new Point(t,0),right:new Point(-t,0)}}if(isPointLike(t)){var e=Point.convert(t);return{top:e,\"top-left\":e,\"top-right\":e,bottom:e,\"bottom-left\":e,\"bottom-right\":e,left:e,right:e}}return{top:Point.convert(t.top||[0,0]),\"top-left\":Point.convert(t[\"top-left\"]||[0,0]),\"top-right\":Point.convert(t[\"top-right\"]||[0,0]),bottom:Point.convert(t.bottom||[0,0]),\"bottom-left\":Point.convert(t[\"bottom-left\"]||[0,0]),\"bottom-right\":Point.convert(t[\"bottom-right\"]||[0,0]),left:Point.convert(t.left||[0,0]),right:Point.convert(t.right||[0,0])}}return normalizeOffset(new Point(0,0))}function isPointLike(t){return t instanceof Point||Array.isArray(t)}var util=require(\"../util/util\"),Evented=require(\"../util/evented\"),DOM=require(\"../util/dom\"),LngLat=require(\"../geo/lng_lat\"),Point=require(\"point-geometry\"),window=require(\"../util/window\"),defaultOptions={closeButton:!0,closeOnClick:!0},Popup=function(t){function o(o){t.call(this),this.options=util.extend(Object.create(defaultOptions),o),util.bindAll([\"_update\",\"_onClickClose\"],this)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.addTo=function(t){return this._map=t,this._map.on(\"move\",this._update),this.options.closeOnClick&&this._map.on(\"click\",this._onClickClose),this._update(),this},o.prototype.isOpen=function(){return!!this._map},o.prototype.remove=function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off(\"move\",this._update),this._map.off(\"click\",this._onClickClose),delete this._map),this.fire(\"close\"),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(t){return this._lngLat=LngLat.convert(t),this._update(),this},o.prototype.setText=function(t){return this.setDOMContent(window.document.createTextNode(t))},o.prototype.setHTML=function(t){var o,e=window.document.createDocumentFragment(),n=window.document.createElement(\"body\");for(n.innerHTML=t;;){if(o=n.firstChild,!o)break;e.appendChild(o)}return this.setDOMContent(e)},o.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},o.prototype._createContent=function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=DOM.create(\"div\",\"mapboxgl-popup-content\",this._container),this.options.closeButton&&(this._closeButton=DOM.create(\"button\",\"mapboxgl-popup-close-button\",this._content),this._closeButton.type=\"button\",this._closeButton.innerHTML=\"&#215;\",this._closeButton.addEventListener(\"click\",this._onClickClose))},o.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=DOM.create(\"div\",\"mapboxgl-popup\",this._map.getContainer()),this._tip=DOM.create(\"div\",\"mapboxgl-popup-tip\",this._container),this._container.appendChild(this._content));var t=this.options.anchor,o=normalizeOffset(this.options.offset),e=this._map.project(this._lngLat).round();if(!t){var n=this._container.offsetWidth,i=this._container.offsetHeight;t=e.y+o.bottom.y<i?[\"top\"]:e.y>this._map.transform.height-i?[\"bottom\"]:[],e.x<n/2?t.push(\"left\"):e.x>this._map.transform.width-n/2&&t.push(\"right\"),t=0===t.length?\"bottom\":t.join(\"-\")}var r=e.add(o[t]),s={top:\"translate(-50%,0)\",\"top-left\":\"translate(0,0)\",\"top-right\":\"translate(-100%,0)\",bottom:\"translate(-50%,-100%)\",\"bottom-left\":\"translate(0,-100%)\",\"bottom-right\":\"translate(-100%,-100%)\",left:\"translate(0,-50%)\",right:\"translate(-100%,-50%)\"},p=this._container.classList;for(var a in s)p.remove(\"mapboxgl-popup-anchor-\"+a);p.add(\"mapboxgl-popup-anchor-\"+t),DOM.setTransform(this._container,s[t]+\" translate(\"+r.x+\"px,\"+r.y+\"px)\")}},o.prototype._onClickClose=function(){this.remove()},o}(Evented);module.exports=Popup;\n},{\"../geo/lng_lat\":62,\"../util/dom\":199,\"../util/evented\":200,\"../util/util\":212,\"../util/window\":194,\"point-geometry\":26}],190:[function(require,module,exports){\n\"use strict\";var Actor=function(t,e,a){this.target=t,this.parent=e,this.mapId=a,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener(\"message\",this.receive,!1)};Actor.prototype.send=function(t,e,a,r,s){var i=a?this.mapId+\":\"+this.callbackID++:null;a&&(this.callbacks[i]=a),this.target.postMessage({targetMapId:s,sourceMapId:this.mapId,type:t,id:String(i),data:e},r)},Actor.prototype.receive=function(t){var e,a=this,r=t.data,s=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var i=function(t,e,r){a.target.postMessage({sourceMapId:a.mapId,type:\"<response>\",id:String(s),error:t?String(t):null,data:e},r)};if(\"<response>\"===r.type)e=this.callbacks[r.id],delete this.callbacks[r.id],e&&e(r.error||null,r.data);else if(\"undefined\"!=typeof r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,r.data,i);else if(\"undefined\"!=typeof r.id&&this.parent.getWorkerSource){var p=r.type.split(\".\"),d=this.parent.getWorkerSource(r.sourceMapId,p[0]);d[p[1]](r.data,i)}else this.parent[r.type](r.data)}},Actor.prototype.remove=function(){this.target.removeEventListener(\"message\",this.receive,!1)},module.exports=Actor;\n},{}],191:[function(require,module,exports){\n\"use strict\";function sameOrigin(e){var t=window.document.createElement(\"a\");return t.href=e,t.protocol===window.document.location.protocol&&t.host===window.document.location.host}var window=require(\"./window\");exports.getJSON=function(e,t){var n=new window.XMLHttpRequest;return n.open(\"GET\",e,!0),n.setRequestHeader(\"Accept\",\"application/json\"),n.onerror=function(e){t(e)},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var e;try{e=JSON.parse(n.response)}catch(e){return t(e)}t(null,e)}else t(new Error(n.statusText))},n.send(),n},exports.getArrayBuffer=function(e,t){var n=new window.XMLHttpRequest;return n.open(\"GET\",e,!0),n.responseType=\"arraybuffer\",n.onerror=function(e){t(e)},n.onload=function(){return 0===n.response.byteLength&&200===n.status?t(new Error(\"http status 200 returned without content.\")):void(n.status>=200&&n.status<300&&n.response?t(null,{data:n.response,cacheControl:n.getResponseHeader(\"Cache-Control\"),expires:n.getResponseHeader(\"Expires\")}):t(new Error(n.statusText)))},n.send(),n};var transparentPngUrl=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=\";exports.getImage=function(e,t){return exports.getArrayBuffer(e,function(e,n){if(e)return t(e);var r=new window.Image,o=window.URL||window.webkitURL;r.onload=function(){t(null,r),o.revokeObjectURL(r.src)};var a=new window.Blob([new Uint8Array(n.data)],{type:\"image/png\"});r.cacheControl=n.cacheControl,r.expires=n.expires,r.src=n.data.byteLength?o.createObjectURL(a):transparentPngUrl})},exports.getVideo=function(e,t){var n=window.document.createElement(\"video\");n.onloadstart=function(){t(null,n)};for(var r=0;r<e.length;r++){var o=window.document.createElement(\"source\");sameOrigin(e[r])||(n.crossOrigin=\"Anonymous\"),o.src=e[r],n.appendChild(o)}return n};\n},{\"./window\":194}],192:[function(require,module,exports){\n\"use strict\";var window=require(\"./window\");module.exports.now=function(){return window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now.bind(Date)}();var frame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;exports.frame=function(e){return frame(e)};var cancel=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;exports.cancelFrame=function(e){cancel(e)},exports.timed=function(e,n,t){function o(i){r||(i=module.exports.now(),i>=a+n?e.call(t,1):(e.call(t,(i-a)/n),exports.frame(o)))}if(!n)return e.call(t,1),null;var r=!1,a=module.exports.now();return exports.frame(o),function(){r=!0}},exports.getImageData=function(e){var n=window.document.createElement(\"canvas\"),t=n.getContext(\"2d\");return n.width=e.width,n.height=e.height,t.drawImage(e,0,0),t.getImageData(0,0,e.width,e.height).data},exports.supported=require(\"mapbox-gl-supported\"),exports.hardwareConcurrency=window.navigator.hardwareConcurrency||4,Object.defineProperty(exports,\"devicePixelRatio\",{get:function(){return window.devicePixelRatio}}),exports.supportsWebp=!1;var webpImgTest=window.document.createElement(\"img\");webpImgTest.onload=function(){exports.supportsWebp=!0},webpImgTest.src=\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=\";\n},{\"./window\":194,\"mapbox-gl-supported\":22}],193:[function(require,module,exports){\n\"use strict\";var WebWorkify=require(\"webworkify\"),window=require(\"../window\"),workerURL=window.URL.createObjectURL(new WebWorkify(require(\"../../source/worker\"),{bare:!0}));module.exports=function(){return new window.Worker(workerURL)};\n},{\"../../source/worker\":98,\"../window\":194,\"webworkify\":41}],194:[function(require,module,exports){\n\"use strict\";module.exports=self;\n},{}],195:[function(require,module,exports){\n\"use strict\";function compareAreas(e,r){return r.area-e.area}var quickselect=require(\"quickselect\"),calculateSignedArea=require(\"./util\").calculateSignedArea;module.exports=function(e,r){var a=e.length;if(a<=1)return[e];for(var t,u,c=[],i=0;i<a;i++){var l=calculateSignedArea(e[i]);0!==l&&(e[i].area=Math.abs(l),void 0===u&&(u=l<0),u===l<0?(t&&c.push(t),t=[e[i]]):t.push(e[i]))}if(t&&c.push(t),r>1)for(var n=0;n<c.length;n++)c[n].length<=r||(quickselect(c[n],r,1,c[n].length-1,compareAreas),c[n]=c[n].slice(0,r));return c};\n},{\"./util\":212,\"quickselect\":28}],196:[function(require,module,exports){\n\"use strict\";var config={API_URL:\"https://api.mapbox.com\",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null};module.exports=config;\n},{}],197:[function(require,module,exports){\n\"use strict\";var DictionaryCoder=function(r){var t=this;this._stringToNumber={},this._numberToString=[];for(var o=0;o<r.length;o++){var i=r[o];t._stringToNumber[i]=o,t._numberToString[o]=i}};DictionaryCoder.prototype.encode=function(r){return this._stringToNumber[r]},DictionaryCoder.prototype.decode=function(r){return this._numberToString[r]},module.exports=DictionaryCoder;\n},{}],198:[function(require,module,exports){\n\"use strict\";var util=require(\"./util\"),Actor=require(\"./actor\"),Dispatcher=function(t,r){var o=this;this.workerPool=t,this.actors=[],this.currentActor=0,this.id=util.uniqueId();for(var i=this.workerPool.acquire(this.id),e=0;e<i.length;e++){var s=i[e],c=new Actor(s,r,o.id);c.name=\"Worker \"+e,o.actors.push(c)}};Dispatcher.prototype.broadcast=function(t,r,o){o=o||function(){},util.asyncAll(this.actors,function(o,i){o.send(t,r,i)},o)},Dispatcher.prototype.send=function(t,r,o,i,e){return(\"number\"!=typeof i||isNaN(i))&&(i=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[i].send(t,r,o,e),i},Dispatcher.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},module.exports=Dispatcher;\n},{\"./actor\":190,\"./util\":212}],199:[function(require,module,exports){\n\"use strict\";function testProp(e){for(var t=0;t<e.length;t++)if(e[t]in docStyle)return e[t];return e[0]}function suppressClick(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener(\"click\",suppressClick,!0)}var Point=require(\"point-geometry\"),window=require(\"./window\");exports.create=function(e,t,o){var n=window.document.createElement(e);return t&&(n.className=t),o&&o.appendChild(n),n};var docStyle=window.document.documentElement.style,selectProp=testProp([\"userSelect\",\"MozUserSelect\",\"WebkitUserSelect\",\"msUserSelect\"]),userSelect;exports.disableDrag=function(){selectProp&&(userSelect=docStyle[selectProp],docStyle[selectProp]=\"none\")},exports.enableDrag=function(){selectProp&&(docStyle[selectProp]=userSelect)};var transformProp=testProp([\"transform\",\"WebkitTransform\"]);exports.setTransform=function(e,t){e.style[transformProp]=t},exports.suppressClick=function(){window.addEventListener(\"click\",suppressClick,!0),window.setTimeout(function(){window.removeEventListener(\"click\",suppressClick,!0)},0)},exports.mousePos=function(e,t){var o=e.getBoundingClientRect();return t=t.touches?t.touches[0]:t,new Point(t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop)},exports.touchPos=function(e,t){for(var o=e.getBoundingClientRect(),n=[],r=\"touchend\"===t.type?t.changedTouches:t.touches,s=0;s<r.length;s++)n.push(new Point(r[s].clientX-o.left-e.clientLeft,r[s].clientY-o.top-e.clientTop));return n},exports.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};\n},{\"./window\":194,\"point-geometry\":26}],200:[function(require,module,exports){\n\"use strict\";function _addEventListener(e,t,n){n[e]=n[e]||[],n[e].push(t)}function _removeEventListener(e,t,n){if(n&&n[e]){var i=n[e].indexOf(t);i!==-1&&n[e].splice(i,1)}}var util=require(\"./util\"),Evented=function(){};Evented.prototype.on=function(e,t){return this._listeners=this._listeners||{},_addEventListener(e,t,this._listeners),this},Evented.prototype.off=function(e,t){return _removeEventListener(e,t,this._listeners),_removeEventListener(e,t,this._oneTimeListeners),this},Evented.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},_addEventListener(e,t,this._oneTimeListeners),this},Evented.prototype.fire=function(e,t){var n=this;if(this.listens(e)){t=util.extend({},t,{type:e,target:this});for(var i=this._listeners&&this._listeners[e]?this._listeners[e].slice():[],s=0;s<i.length;s++)i[s].call(n,t);for(var r=this._oneTimeListeners&&this._oneTimeListeners[e]?this._oneTimeListeners[e].slice():[],o=0;o<r.length;o++)r[o].call(n,t),_removeEventListener(e,r[o],n._oneTimeListeners);this._eventedParent&&this._eventedParent.fire(e,util.extend({},t,\"function\"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else util.endsWith(e,\"error\")&&console.error(t&&t.error||t||\"Empty error event\");return this},Evented.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},Evented.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this},module.exports=Evented;\n},{\"./util\":212}],201:[function(require,module,exports){\n\"use strict\";function compareMax(e,t){return t.max-e.max}function Cell(e,t,n,r){this.p=new Point(e,t),this.h=n,this.d=pointToPolygonDist(this.p,r),this.max=this.d+this.h*Math.SQRT2}function pointToPolygonDist(e,t){for(var n=!1,r=1/0,o=0;o<t.length;o++)for(var i=t[o],l=0,u=i.length,s=u-1;l<u;s=l++){var a=i[l],h=i[s];a.y>e.y!=h.y>e.y&&e.x<(h.x-a.x)*(e.y-a.y)/(h.y-a.y)+a.x&&(n=!n),r=Math.min(r,distToSegmentSquared(e,a,h))}return(n?1:-1)*Math.sqrt(r)}function getCentroidCell(e){for(var t=0,n=0,r=0,o=e[0],i=0,l=o.length,u=l-1;i<l;u=i++){var s=o[i],a=o[u],h=s.x*a.y-a.x*s.y;n+=(s.x+a.x)*h,r+=(s.y+a.y)*h,t+=3*h}return new Cell(n/t,r/t,0,e)}var Queue=require(\"tinyqueue\"),Point=require(\"point-geometry\"),distToSegmentSquared=require(\"./intersection_tests\").distToSegmentSquared;module.exports=function(e,t,n){t=t||1;for(var r,o,i,l,u=e[0],s=0;s<u.length;s++){var a=u[s];(!s||a.x<r)&&(r=a.x),(!s||a.y<o)&&(o=a.y),(!s||a.x>i)&&(i=a.x),(!s||a.y>l)&&(l=a.y)}var h=i-r,p=l-o,y=Math.min(h,p),x=y/2,d=new Queue(null,compareMax);if(0===y)return[r,o];for(var g=r;g<i;g+=y)for(var f=o;f<l;f+=y)d.push(new Cell(g+x,f+x,x,e));for(var m=getCentroidCell(e),c=d.length;d.length;){var v=d.pop();(v.d>m.d||!m.d)&&(m=v,n&&console.log(\"found best %d after %d probes\",Math.round(1e4*v.d)/1e4,c)),v.max-m.d<=t||(x=v.h/2,d.push(new Cell(v.p.x-x,v.p.y-x,x,e)),d.push(new Cell(v.p.x+x,v.p.y-x,x,e)),d.push(new Cell(v.p.x-x,v.p.y+x,x,e)),d.push(new Cell(v.p.x+x,v.p.y+x,x,e)),c+=4)}return n&&(console.log(\"num probes: \"+c),console.log(\"best distance: \"+m.d)),m.p};\n},{\"./intersection_tests\":205,\"point-geometry\":26,\"tinyqueue\":30}],202:[function(require,module,exports){\n\"use strict\";var WorkerPool=require(\"./worker_pool\"),globalWorkerPool;module.exports=function(){return globalWorkerPool||(globalWorkerPool=new WorkerPool),globalWorkerPool};\n},{\"./worker_pool\":215}],203:[function(require,module,exports){\n\"use strict\";function Glyphs(a,e){this.stacks=a.readFields(readFontstacks,[],e)}function readFontstacks(a,e,r){if(1===a){var t=r.readMessage(readFontstack,{glyphs:{}});e.push(t)}}function readFontstack(a,e,r){if(1===a)e.name=r.readString();else if(2===a)e.range=r.readString();else if(3===a){var t=r.readMessage(readGlyph,{});e.glyphs[t.id]=t}}function readGlyph(a,e,r){1===a?e.id=r.readVarint():2===a?e.bitmap=r.readBytes():3===a?e.width=r.readVarint():4===a?e.height=r.readVarint():5===a?e.left=r.readSVarint():6===a?e.top=r.readSVarint():7===a&&(e.advance=r.readVarint())}module.exports=Glyphs;\n},{}],204:[function(require,module,exports){\n\"use strict\";function interpolate(t,e,n){return t*(1-n)+e*n}module.exports=interpolate,interpolate.number=interpolate,interpolate.vec2=function(t,e,n){return[interpolate(t[0],e[0],n),interpolate(t[1],e[1],n)]},interpolate.color=function(t,e,n){return[interpolate(t[0],e[0],n),interpolate(t[1],e[1],n),interpolate(t[2],e[2],n),interpolate(t[3],e[3],n)]},interpolate.array=function(t,e,n){return t.map(function(t,r){return interpolate(t,e[r],n)})};\n},{}],205:[function(require,module,exports){\n\"use strict\";function polygonIntersectsPolygon(n,t){for(var e=0;e<n.length;e++)if(polygonContainsPoint(t,n[e]))return!0;for(var r=0;r<t.length;r++)if(polygonContainsPoint(n,t[r]))return!0;return!!lineIntersectsLine(n,t)}function multiPolygonIntersectsBufferedMultiPoint(n,t,e){for(var r=0;r<n.length;r++)for(var o=n[r],i=0;i<t.length;i++)for(var l=t[i],u=0;u<l.length;u++){var s=l[u];if(polygonContainsPoint(o,s))return!0;if(pointIntersectsBufferedLine(s,o,e))return!0}return!1}function multiPolygonIntersectsMultiPolygon(n,t){if(1===n.length&&1===n[0].length)return multiPolygonContainsPoint(t,n[0][0]);for(var e=0;e<t.length;e++)for(var r=t[e],o=0;o<r.length;o++)if(multiPolygonContainsPoint(n,r[o]))return!0;for(var i=0;i<n.length;i++){for(var l=n[i],u=0;u<l.length;u++)if(multiPolygonContainsPoint(t,l[u]))return!0;for(var s=0;s<t.length;s++)if(lineIntersectsLine(l,t[s]))return!0}return!1}function multiPolygonIntersectsBufferedMultiLine(n,t,e){for(var r=0;r<t.length;r++)for(var o=t[r],i=0;i<n.length;i++){var l=n[i];if(l.length>=3)for(var u=0;u<o.length;u++)if(polygonContainsPoint(l,o[u]))return!0;if(lineIntersectsBufferedLine(l,o,e))return!0}return!1}function lineIntersectsBufferedLine(n,t,e){if(n.length>1){if(lineIntersectsLine(n,t))return!0;for(var r=0;r<t.length;r++)if(pointIntersectsBufferedLine(t[r],n,e))return!0}for(var o=0;o<n.length;o++)if(pointIntersectsBufferedLine(n[o],t,e))return!0;return!1}function lineIntersectsLine(n,t){if(0===n.length||0===t.length)return!1;for(var e=0;e<n.length-1;e++)for(var r=n[e],o=n[e+1],i=0;i<t.length-1;i++){var l=t[i],u=t[i+1];if(lineSegmentIntersectsLineSegment(r,o,l,u))return!0}return!1}function lineSegmentIntersectsLineSegment(n,t,e,r){return isCounterClockwise(n,e,r)!==isCounterClockwise(t,e,r)&&isCounterClockwise(n,t,e)!==isCounterClockwise(n,t,r)}function pointIntersectsBufferedLine(n,t,e){var r=e*e;if(1===t.length)return n.distSqr(t[0])<r;for(var o=1;o<t.length;o++){var i=t[o-1],l=t[o];if(distToSegmentSquared(n,i,l)<r)return!0}return!1}function distToSegmentSquared(n,t,e){var r=t.distSqr(e);if(0===r)return n.distSqr(t);var o=((n.x-t.x)*(e.x-t.x)+(n.y-t.y)*(e.y-t.y))/r;return o<0?n.distSqr(t):o>1?n.distSqr(e):n.distSqr(e.sub(t)._mult(o)._add(t))}function multiPolygonContainsPoint(n,t){for(var e,r,o,i=!1,l=0;l<n.length;l++){e=n[l];for(var u=0,s=e.length-1;u<e.length;s=u++)r=e[u],o=e[s],r.y>t.y!=o.y>t.y&&t.x<(o.x-r.x)*(t.y-r.y)/(o.y-r.y)+r.x&&(i=!i)}return i}function polygonContainsPoint(n,t){for(var e=!1,r=0,o=n.length-1;r<n.length;o=r++){var i=n[r],l=n[o];i.y>t.y!=l.y>t.y&&t.x<(l.x-i.x)*(t.y-i.y)/(l.y-i.y)+i.x&&(e=!e)}return e}var isCounterClockwise=require(\"./util\").isCounterClockwise;module.exports={multiPolygonIntersectsBufferedMultiPoint:multiPolygonIntersectsBufferedMultiPoint,multiPolygonIntersectsMultiPolygon:multiPolygonIntersectsMultiPolygon,multiPolygonIntersectsBufferedMultiLine:multiPolygonIntersectsBufferedMultiLine,polygonIntersectsPolygon:polygonIntersectsPolygon,distToSegmentSquared:distToSegmentSquared};\n},{\"./util\":212}],206:[function(require,module,exports){\n\"use strict\";var unicodeBlockLookup={\"Latin-1 Supplement\":function(n){return n>=128&&n<=255},\"Hangul Jamo\":function(n){return n>=4352&&n<=4607},\"Unified Canadian Aboriginal Syllabics\":function(n){return n>=5120&&n<=5759},\"Unified Canadian Aboriginal Syllabics Extended\":function(n){return n>=6320&&n<=6399},\"General Punctuation\":function(n){return n>=8192&&n<=8303},\"Letterlike Symbols\":function(n){return n>=8448&&n<=8527},\"Number Forms\":function(n){return n>=8528&&n<=8591},\"Miscellaneous Technical\":function(n){return n>=8960&&n<=9215},\"Control Pictures\":function(n){return n>=9216&&n<=9279},\"Optical Character Recognition\":function(n){return n>=9280&&n<=9311},\"Enclosed Alphanumerics\":function(n){return n>=9312&&n<=9471},\"Geometric Shapes\":function(n){return n>=9632&&n<=9727},\"Miscellaneous Symbols\":function(n){return n>=9728&&n<=9983},\"Miscellaneous Symbols and Arrows\":function(n){return n>=11008&&n<=11263},\"CJK Radicals Supplement\":function(n){return n>=11904&&n<=12031},\"Kangxi Radicals\":function(n){return n>=12032&&n<=12255},\"Ideographic Description Characters\":function(n){return n>=12272&&n<=12287},\"CJK Symbols and Punctuation\":function(n){return n>=12288&&n<=12351},Hiragana:function(n){return n>=12352&&n<=12447},Katakana:function(n){return n>=12448&&n<=12543},Bopomofo:function(n){return n>=12544&&n<=12591},\"Hangul Compatibility Jamo\":function(n){return n>=12592&&n<=12687},Kanbun:function(n){return n>=12688&&n<=12703},\"Bopomofo Extended\":function(n){return n>=12704&&n<=12735},\"CJK Strokes\":function(n){return n>=12736&&n<=12783},\"Katakana Phonetic Extensions\":function(n){return n>=12784&&n<=12799},\"Enclosed CJK Letters and Months\":function(n){return n>=12800&&n<=13055},\"CJK Compatibility\":function(n){return n>=13056&&n<=13311},\"CJK Unified Ideographs Extension A\":function(n){return n>=13312&&n<=19903},\"Yijing Hexagram Symbols\":function(n){return n>=19904&&n<=19967},\"CJK Unified Ideographs\":function(n){return n>=19968&&n<=40959},\"Yi Syllables\":function(n){return n>=40960&&n<=42127},\"Yi Radicals\":function(n){return n>=42128&&n<=42191},\"Hangul Jamo Extended-A\":function(n){return n>=43360&&n<=43391},\"Hangul Syllables\":function(n){return n>=44032&&n<=55215},\"Hangul Jamo Extended-B\":function(n){return n>=55216&&n<=55295},\"Private Use Area\":function(n){return n>=57344&&n<=63743},\"CJK Compatibility Ideographs\":function(n){return n>=63744&&n<=64255},\"Vertical Forms\":function(n){return n>=65040&&n<=65055},\"CJK Compatibility Forms\":function(n){return n>=65072&&n<=65103},\"Small Form Variants\":function(n){return n>=65104&&n<=65135},\"Halfwidth and Fullwidth Forms\":function(n){return n>=65280&&n<=65519}};module.exports=unicodeBlockLookup;\n},{}],207:[function(require,module,exports){\n\"use strict\";var LRUCache=function(t,e){this.max=t,this.onRemove=e,this.reset()};LRUCache.prototype.reset=function(){var t=this;for(var e in t.data)t.onRemove(t.data[e]);return this.data={},this.order=[],this},LRUCache.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var r=this.get(this.order[0]);r&&this.onRemove(r)}return this},LRUCache.prototype.has=function(t){return t in this.data},LRUCache.prototype.keys=function(){return this.order},LRUCache.prototype.get=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},LRUCache.prototype.getWithoutRemoving=function(t){if(!this.has(t))return null;var e=this.data[t];return e},LRUCache.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},LRUCache.prototype.setMaxSize=function(t){var e=this;for(this.max=t;this.order.length>this.max;){var r=e.get(e.order[0]);r&&e.onRemove(r)}return this},module.exports=LRUCache;\n},{}],208:[function(require,module,exports){\n\"use strict\";function makeAPIURL(r,e){var t=parseUrl(config.API_URL);if(r.protocol=t.protocol,r.authority=t.authority,!config.REQUIRE_ACCESS_TOKEN)return formatUrl(r);if(e=e||config.ACCESS_TOKEN,!e)throw new Error(\"An API access token is required to use Mapbox GL. \"+help);if(\"s\"===e[0])throw new Error(\"Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). \"+help);return r.params.push(\"access_token=\"+e),formatUrl(r)}function isMapboxURL(r){return 0===r.indexOf(\"mapbox:\")}function replaceTempAccessToken(r){for(var e=0;e<r.length;e++)0===r[e].indexOf(\"access_token=tk.\")&&(r[e]=\"access_token=\"+(config.ACCESS_TOKEN||\"\"))}function parseUrl(r){var e=r.match(urlRe);if(!e)throw new Error(\"Unable to parse URL object\");return{protocol:e[1],authority:e[2],path:e[3]||\"/\",params:e[4]?e[4].split(\"&\"):[]}}function formatUrl(r){var e=r.params.length?\"?\"+r.params.join(\"&\"):\"\";return r.protocol+\"://\"+r.authority+r.path+e}var config=require(\"./config\"),browser=require(\"./browser\"),help=\"See https://www.mapbox.com/developers/api/#access-tokens\";exports.isMapboxURL=isMapboxURL,exports.normalizeStyleURL=function(r,e){if(!isMapboxURL(r))return r;var t=parseUrl(r);return t.path=\"/styles/v1\"+t.path,makeAPIURL(t,e)},exports.normalizeGlyphsURL=function(r,e){if(!isMapboxURL(r))return r;var t=parseUrl(r);return t.path=\"/fonts/v1\"+t.path,makeAPIURL(t,e)},exports.normalizeSourceURL=function(r,e){if(!isMapboxURL(r))return r;var t=parseUrl(r);return t.path=\"/v4/\"+t.authority+\".json\",t.params.push(\"secure\"),makeAPIURL(t,e)},exports.normalizeSpriteURL=function(r,e,t,o){var a=parseUrl(r);return isMapboxURL(r)?(a.path=\"/styles/v1\"+a.path+\"/sprite\"+e+t,makeAPIURL(a,o)):(a.path+=\"\"+e+t,formatUrl(a))};var imageExtensionRe=/(\\.(png|jpg)\\d*)(?=$)/;exports.normalizeTileURL=function(r,e,t){if(!e||!isMapboxURL(e))return r;var o=parseUrl(r),a=browser.devicePixelRatio>=2||512===t?\"@2x\":\"\",s=browser.supportsWebp?\".webp\":\"$1\";return o.path=o.path.replace(imageExtensionRe,\"\"+a+s),replaceTempAccessToken(o.params),formatUrl(o)};var urlRe=/^(\\w+):\\/\\/([^\\/?]+)(\\/[^?]+)?\\??(.+)?/;\n},{\"./browser\":192,\"./config\":196}],209:[function(require,module,exports){\n\"use strict\";var isChar=require(\"./is_char_in_unicode_block\");module.exports.allowsIdeographicBreaking=function(a){for(var i=0,r=a;i<r.length;i+=1){var s=r[i];if(!exports.charAllowsIdeographicBreaking(s.charCodeAt(0)))return!1}return!0},module.exports.allowsVerticalWritingMode=function(a){for(var i=0,r=a;i<r.length;i+=1){var s=r[i];if(exports.charHasUprightVerticalOrientation(s.charCodeAt(0)))return!0}return!1},module.exports.charAllowsIdeographicBreaking=function(a){return!(a<11904)&&(!!isChar[\"Bopomofo Extended\"](a)||(!!isChar.Bopomofo(a)||(!!isChar[\"CJK Compatibility Forms\"](a)||(!!isChar[\"CJK Compatibility Ideographs\"](a)||(!!isChar[\"CJK Compatibility\"](a)||(!!isChar[\"CJK Radicals Supplement\"](a)||(!!isChar[\"CJK Strokes\"](a)||(!!isChar[\"CJK Symbols and Punctuation\"](a)||(!!isChar[\"CJK Unified Ideographs Extension A\"](a)||(!!isChar[\"CJK Unified Ideographs\"](a)||(!!isChar[\"Enclosed CJK Letters and Months\"](a)||(!!isChar[\"Halfwidth and Fullwidth Forms\"](a)||(!!isChar.Hiragana(a)||(!!isChar[\"Ideographic Description Characters\"](a)||(!!isChar[\"Kangxi Radicals\"](a)||(!!isChar[\"Katakana Phonetic Extensions\"](a)||(!!isChar.Katakana(a)||(!!isChar[\"Vertical Forms\"](a)||(!!isChar[\"Yi Radicals\"](a)||!!isChar[\"Yi Syllables\"](a))))))))))))))))))))},exports.charHasUprightVerticalOrientation=function(a){return 746===a||747===a||!(a<4352)&&(!!isChar[\"Bopomofo Extended\"](a)||(!!isChar.Bopomofo(a)||(!(!isChar[\"CJK Compatibility Forms\"](a)||a>=65097&&a<=65103)||(!!isChar[\"CJK Compatibility Ideographs\"](a)||(!!isChar[\"CJK Compatibility\"](a)||(!!isChar[\"CJK Radicals Supplement\"](a)||(!!isChar[\"CJK Strokes\"](a)||(!(!isChar[\"CJK Symbols and Punctuation\"](a)||a>=12296&&a<=12305||a>=12308&&a<=12319||12336===a)||(!!isChar[\"CJK Unified Ideographs Extension A\"](a)||(!!isChar[\"CJK Unified Ideographs\"](a)||(!!isChar[\"Enclosed CJK Letters and Months\"](a)||(!!isChar[\"Hangul Compatibility Jamo\"](a)||(!!isChar[\"Hangul Jamo Extended-A\"](a)||(!!isChar[\"Hangul Jamo Extended-B\"](a)||(!!isChar[\"Hangul Jamo\"](a)||(!!isChar[\"Hangul Syllables\"](a)||(!!isChar.Hiragana(a)||(!!isChar[\"Ideographic Description Characters\"](a)||(!!isChar.Kanbun(a)||(!!isChar[\"Kangxi Radicals\"](a)||(!!isChar[\"Katakana Phonetic Extensions\"](a)||(!(!isChar.Katakana(a)||12540===a)||(!(!isChar[\"Halfwidth and Fullwidth Forms\"](a)||65288===a||65289===a||65293===a||a>=65306&&a<=65310||65339===a||65341===a||65343===a||a>=65371&&a<=65503||65507===a||a>=65512&&a<=65519)||(!(!isChar[\"Small Form Variants\"](a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||(!!isChar[\"Unified Canadian Aboriginal Syllabics\"](a)||(!!isChar[\"Unified Canadian Aboriginal Syllabics Extended\"](a)||(!!isChar[\"Vertical Forms\"](a)||(!!isChar[\"Yijing Hexagram Symbols\"](a)||(!!isChar[\"Yi Syllables\"](a)||!!isChar[\"Yi Radicals\"](a))))))))))))))))))))))))))))))},exports.charHasNeutralVerticalOrientation=function(a){return!(!isChar[\"Latin-1 Supplement\"](a)||167!==a&&169!==a&&174!==a&&177!==a&&188!==a&&189!==a&&190!==a&&215!==a&&247!==a)||(!(!isChar[\"General Punctuation\"](a)||8214!==a&&8224!==a&&8225!==a&&8240!==a&&8241!==a&&8251!==a&&8252!==a&&8258!==a&&8263!==a&&8264!==a&&8265!==a&&8273!==a)||(!!isChar[\"Letterlike Symbols\"](a)||(!!isChar[\"Number Forms\"](a)||(!(!isChar[\"Miscellaneous Technical\"](a)||!(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||9003===a||a>=9085&&a<=9114||a>=9150&&a<=9165||9167===a||a>=9169&&a<=9179||a>=9186&&a<=9215))||(!(!isChar[\"Control Pictures\"](a)||9251===a)||(!!isChar[\"Optical Character Recognition\"](a)||(!!isChar[\"Enclosed Alphanumerics\"](a)||(!!isChar[\"Geometric Shapes\"](a)||(!(!isChar[\"Miscellaneous Symbols\"](a)||a>=9754&&a<=9759)||(!(!isChar[\"Miscellaneous Symbols and Arrows\"](a)||!(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243))||(!!isChar[\"CJK Symbols and Punctuation\"](a)||(!!isChar.Katakana(a)||(!!isChar[\"Private Use Area\"](a)||(!!isChar[\"CJK Compatibility Forms\"](a)||(!!isChar[\"Small Form Variants\"](a)||(!!isChar[\"Halfwidth and Fullwidth Forms\"](a)||(8734===a||8756===a||8757===a||a>=9984&&a<=10087||a>=10102&&a<=10131||65532===a||65533===a)))))))))))))))))},exports.charHasRotatedVerticalOrientation=function(a){return!(exports.charHasUprightVerticalOrientation(a)||exports.charHasNeutralVerticalOrientation(a))};\n},{\"./is_char_in_unicode_block\":206}],210:[function(require,module,exports){\n\"use strict\";function createStructArrayType(t){var e=JSON.stringify(t);if(structArrayTypeCache[e])return structArrayTypeCache[e];var r=void 0===t.alignment?1:t.alignment,i=0,n=0,a=[\"Uint8\"],o=t.members.map(function(t){a.indexOf(t.type)<0&&a.push(t.type);var e=sizeOf(t.type),o=i=align(i,Math.max(r,e)),s=t.components||1;return n=Math.max(n,e),i+=e*s,{name:t.name,type:t.type,components:s,offset:o}}),s=align(i,Math.max(n,r)),p=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Struct);p.prototype.alignment=r,p.prototype.size=s;for(var y=0,c=o;y<c.length;y+=1)for(var h=c[y],u=0;u<h.components;u++){var f=h.name+(1===h.components?\"\":u);Object.defineProperty(p.prototype,f,{get:createGetter(h,u),set:createSetter(h,u)})}var m=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(StructArray);return m.prototype.members=o,m.prototype.StructType=p,m.prototype.bytesPerElement=s,m.prototype.emplaceBack=createEmplaceBack(o,s),m.prototype._usedTypes=a,structArrayTypeCache[e]=m,m}function align(t,e){return Math.ceil(t/e)*e}function sizeOf(t){return viewTypes[t].BYTES_PER_ELEMENT}function getArrayViewName(t){return t.toLowerCase()}function createEmplaceBack(t,e){for(var r=[],i=[],n=\"var i = this.length;\\nthis.resize(this.length + 1);\\n\",a=0,o=t;a<o.length;a+=1){var s=o[a],p=sizeOf(s.type);r.indexOf(p)<0&&(r.push(p),n+=\"var o\"+p.toFixed(0)+\" = i * \"+(e/p).toFixed(0)+\";\\n\");for(var y=0;y<s.components;y++){var c=\"v\"+i.length,h=\"o\"+p.toFixed(0)+\" + \"+(s.offset/p+y).toFixed(0);n+=\"this.\"+getArrayViewName(s.type)+\"[\"+h+\"] = \"+c+\";\\n\",i.push(c)}}return n+=\"return i;\",new Function(i.toString(),n)}function createMemberComponentString(t,e){var r=\"this._pos\"+sizeOf(t.type).toFixed(0),i=(t.offset/sizeOf(t.type)+e).toFixed(0),n=r+\" + \"+i;return\"this._structArray.\"+getArrayViewName(t.type)+\"[\"+n+\"]\"}function createGetter(t,e){return new Function(\"return \"+createMemberComponentString(t,e)+\";\")}function createSetter(t,e){return new Function(\"x\",createMemberComponentString(t,e)+\" = x;\")}module.exports=createStructArrayType;var viewTypes={Int8:Int8Array,Uint8:Uint8Array,Uint8Clamped:Uint8ClampedArray,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array,Float64:Float64Array},Struct=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},DEFAULT_CAPACITY=128,RESIZE_MULTIPLIER=5,StructArray=function(t){this.isTransferred=!1,void 0!==t?(this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))};StructArray.serialize=function(){return{members:this.prototype.members,alignment:this.prototype.StructType.prototype.alignment,bytesPerElement:this.prototype.bytesPerElement}},StructArray.prototype.serialize=function(t){return this._trim(),t&&(this.isTransferred=!0,t.push(this.arrayBuffer)),{length:this.length,arrayBuffer:this.arrayBuffer}},StructArray.prototype.get=function(t){return new this.StructType(this,t)},StructArray.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},StructArray.prototype.resize=function(t){if(this.length=t,t>this.capacity){this.capacity=Math.max(t,Math.floor(this.capacity*RESIZE_MULTIPLIER),DEFAULT_CAPACITY),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},StructArray.prototype._refreshViews=function(){for(var t=this,e=0,r=t._usedTypes;e<r.length;e+=1){var i=r[e];t[getArrayViewName(i)]=new viewTypes[i](t.arrayBuffer)}},StructArray.prototype.toArray=function(t,e){for(var r=this,i=[],n=t;n<e;n++){var a=r.get(n);i.push(a)}return i};var structArrayTypeCache={};\n},{}],211:[function(require,module,exports){\n\"use strict\";function resolveTokens(e,n){return n.replace(/{([^{}]+)}/g,function(n,r){return r in e?e[r]:\"\"})}module.exports=resolveTokens;\n},{}],212:[function(require,module,exports){\n\"use strict\";var UnitBezier=require(\"@mapbox/unitbezier\"),Coordinate=require(\"../geo/coordinate\"),Point=require(\"point-geometry\");exports.easeCubicInOut=function(r){if(r<=0)return 0;if(r>=1)return 1;var e=r*r,t=e*r;return 4*(r<.5?t:3*(r-e)+t-.75)},exports.bezier=function(r,e,t,n){var o=new UnitBezier(r,e,t,n);return function(r){return o.solve(r)}},exports.ease=exports.bezier(.25,.1,.25,1),exports.clamp=function(r,e,t){return Math.min(t,Math.max(e,r))},exports.wrap=function(r,e,t){var n=t-e,o=((r-e)%n+n)%n+e;return o===e?t:o},exports.asyncAll=function(r,e,t){if(!r.length)return t(null,[]);var n=r.length,o=new Array(r.length),a=null;r.forEach(function(r,i){e(r,function(r,e){r&&(a=r),o[i]=e,0===--n&&t(a,o)})})},exports.values=function(r){var e=[];for(var t in r)e.push(r[t]);return e},exports.keysDifference=function(r,e){var t=[];for(var n in r)n in e||t.push(n);return t},exports.extend=function(r,e,t,n){for(var o=arguments,a=1;a<arguments.length;a++){var i=o[a];for(var u in i)r[u]=i[u]}return r},exports.pick=function(r,e){for(var t={},n=0;n<e.length;n++){var o=e[n];o in r&&(t[o]=r[o])}return t};var id=1;exports.uniqueId=function(){return id++},exports.bindAll=function(r,e){r.forEach(function(r){e[r]&&(e[r]=e[r].bind(e))})},exports.getCoordinatesCenter=function(r){for(var e=1/0,t=1/0,n=-(1/0),o=-(1/0),a=0;a<r.length;a++)e=Math.min(e,r[a].column),t=Math.min(t,r[a].row),n=Math.max(n,r[a].column),o=Math.max(o,r[a].row);var i=n-e,u=o-t,s=Math.max(i,u);return new Coordinate((e+n)/2,(t+o)/2,0).zoomTo(Math.floor(-Math.log(s)/Math.LN2))},exports.endsWith=function(r,e){return r.indexOf(e,r.length-e.length)!==-1},exports.mapObject=function(r,e,t){var n=this,o={};for(var a in r)o[a]=e.call(t||n,r[a],a,r);return o},exports.filterObject=function(r,e,t){var n=this,o={};for(var a in r)e.call(t||n,r[a],a,r)&&(o[a]=r[a]);return o},exports.deepEqual=function(r,e){if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(!exports.deepEqual(r[t],e[t]))return!1;return!0}if(\"object\"==typeof r&&null!==r&&null!==e){if(\"object\"!=typeof e)return!1;var n=Object.keys(r);if(n.length!==Object.keys(e).length)return!1;for(var o in r)if(!exports.deepEqual(r[o],e[o]))return!1;return!0}return r===e},exports.clone=function(r){return Array.isArray(r)?r.map(exports.clone):\"object\"==typeof r&&r?exports.mapObject(r,exports.clone):r},exports.arraysIntersect=function(r,e){for(var t=0;t<r.length;t++)if(e.indexOf(r[t])>=0)return!0;return!1};var warnOnceHistory={};exports.warnOnce=function(r){warnOnceHistory[r]||(\"undefined\"!=typeof console&&console.warn(r),warnOnceHistory[r]=!0)},exports.isCounterClockwise=function(r,e,t){return(t.y-r.y)*(e.x-r.x)>(e.y-r.y)*(t.x-r.x)},exports.calculateSignedArea=function(r){for(var e=0,t=0,n=r.length,o=n-1,a=void 0,i=void 0;t<n;o=t++)a=r[t],i=r[o],e+=(i.x-a.x)*(a.y+i.y);return e},exports.isClosedPolygon=function(r){if(r.length<4)return!1;var e=r[0],t=r[r.length-1];return!(Math.abs(e.x-t.x)>0||Math.abs(e.y-t.y)>0)&&Math.abs(exports.calculateSignedArea(r))>.01},exports.sphericalToCartesian=function(r){var e=r[0],t=r[1],n=r[2];return t+=90,t*=Math.PI/180,n*=Math.PI/180,[e*Math.cos(t)*Math.sin(n),e*Math.sin(t)*Math.sin(n),e*Math.cos(n)]},exports.parseCacheControl=function(r){var e=/(?:^|(?:\\s*\\,\\s*))([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)(?:\\=(?:([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)|(?:\\\"((?:[^\"\\\\]|\\\\.)*)\\\")))?/g,t={};if(r.replace(e,function(r,e,n,o){var a=n||o;return t[e]=!a||a.toLowerCase(),\"\"}),t[\"max-age\"]){var n=parseInt(t[\"max-age\"],10);isNaN(n)?delete t[\"max-age\"]:t[\"max-age\"]=n}return t};\n},{\"../geo/coordinate\":61,\"@mapbox/unitbezier\":3,\"point-geometry\":26}],213:[function(require,module,exports){\n\"use strict\";var Feature=function(e,t,r,o){this.type=\"Feature\",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=o,this.properties=e.properties,null!=e.id&&(this.id=e.id)},prototypeAccessors={geometry:{}};prototypeAccessors.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},prototypeAccessors.geometry.set=function(e){this._geometry=e},Feature.prototype.toJSON=function(){var e=this,t={geometry:this.geometry};for(var r in e)\"_geometry\"!==r&&\"_vectorTileFeature\"!==r&&(t[r]=e[r]);return t},Object.defineProperties(Feature.prototype,prototypeAccessors),module.exports=Feature;\n},{}],214:[function(require,module,exports){\n\"use strict\";var scriptDetection=require(\"./script_detection\");module.exports=function(t){for(var o=\"\",e=0;e<t.length;e++){var r=t.charCodeAt(e+1)||null,l=t.charCodeAt(e-1)||null,i=(!r||!scriptDetection.charHasRotatedVerticalOrientation(r)||module.exports.lookup[t[e+1]])&&(!l||!scriptDetection.charHasRotatedVerticalOrientation(l)||module.exports.lookup[t[e-1]]);o+=i&&module.exports.lookup[t[e]]?module.exports.lookup[t[e]]:t[e]}return o},module.exports.lookup={\"!\":\"\",\"#\":\"\",$:\"\",\"%\":\"\",\"&\":\"\",\"(\":\"\",\")\":\"\",\"*\":\"\",\"+\":\"\",\",\":\"\",\"-\":\"\",\".\":\"\",\"/\":\"\",\":\":\"\",\";\":\"\",\"<\":\"\",\"=\":\"\",\">\":\"\",\"?\":\"\",\"@\":\"\",\"[\":\"\",\"\\\\\":\"\",\"]\":\"\",\"^\":\"\",_:\"\",\"`\":\"\",\"{\":\"\",\"|\":\"\",\"}\":\"\",\"~\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\",\"\":\"\"};\n},{\"./script_detection\":209}],215:[function(require,module,exports){\n\"use strict\";var WebWorker=require(\"./web_worker\"),WorkerPool=function(){this.active={}};WorkerPool.prototype.acquire=function(r){var e=this;if(!this.workers){var o=require(\"../\").workerCount;for(this.workers=[];this.workers.length<o;)e.workers.push(new WebWorker)}return this.active[r]=!0,this.workers.slice()},WorkerPool.prototype.release=function(r){delete this.active[r],0===Object.keys(this.active).length&&(this.workers.forEach(function(r){r.terminate()}),this.workers=null)},module.exports=WorkerPool;\n},{\"../\":65,\"./web_worker\":193}]},{},[65])(65)\n});\n\n\n//# sourceMappingURL=mapbox-gl.js.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../../webpack/buildin/global.js */ 0), __webpack_require__(/*! ./../../buffer/index.js */ 3).Buffer))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmpzPzhmMzEiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09XCJvYmplY3RcIiYmdHlwZW9mIG1vZHVsZSE9PVwidW5kZWZpbmVkXCIpe21vZHVsZS5leHBvcnRzPWYoKX1lbHNlIGlmKHR5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT1cInVuZGVmaW5lZFwiKXtnPXdpbmRvd31lbHNlIGlmKHR5cGVvZiBnbG9iYWwhPT1cInVuZGVmaW5lZFwiKXtnPWdsb2JhbH1lbHNlIGlmKHR5cGVvZiBzZWxmIT09XCJ1bmRlZmluZWRcIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcubWFwYm94Z2wgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4hZnVuY3Rpb24odCxyKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1yKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShyKTp0LmdsTWF0cml4PXIoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoKXt2YXIgdD1uZXcgRmxvYXQzMkFycmF5KDMpO3JldHVybiB0WzBdPTAsdFsxXT0wLHRbMl09MCx0fWZ1bmN0aW9uIHIodCxyLG4pe3ZhciBlPXJbMF0sYT1yWzFdLG89clsyXTtyZXR1cm4gdFswXT1lKm5bMF0rYSpuWzNdK28qbls2XSx0WzFdPWUqblsxXSthKm5bNF0rbypuWzddLHRbMl09ZSpuWzJdK2Eqbls1XStvKm5bOF0sdH1mdW5jdGlvbiBuKCl7dmFyIHQ9bmV3IEZsb2F0MzJBcnJheSg0KTtyZXR1cm4gdFswXT0wLHRbMV09MCx0WzJdPTAsdFszXT0wLHR9ZnVuY3Rpb24gZSh0LHIsbil7dmFyIGU9clswXSxhPXJbMV0sbz1yWzJdLHU9clszXTtyZXR1cm4gdFswXT1uWzBdKmUrbls0XSphK25bOF0qbytuWzEyXSp1LHRbMV09blsxXSplK25bNV0qYStuWzldKm8rblsxM10qdSx0WzJdPW5bMl0qZStuWzZdKmErblsxMF0qbytuWzE0XSp1LHRbM109blszXSplK25bN10qYStuWzExXSpvK25bMTVdKnUsdH1mdW5jdGlvbiBhKCl7dmFyIHQ9bmV3IEZsb2F0MzJBcnJheSg0KTtyZXR1cm4gdFswXT0xLHRbMV09MCx0WzJdPTAsdFszXT0xLHR9ZnVuY3Rpb24gbyh0LHIsbil7dmFyIGU9clswXSxhPXJbMV0sbz1yWzJdLHU9clszXSxpPU1hdGguc2luKG4pLGM9TWF0aC5jb3Mobik7cmV0dXJuIHRbMF09ZSpjK28qaSx0WzFdPWEqYyt1KmksdFsyXT1lKi1pK28qYyx0WzNdPWEqLWkrdSpjLHR9ZnVuY3Rpb24gdSh0LHIsbil7dmFyIGU9clswXSxhPXJbMV0sbz1yWzJdLHU9clszXSxpPW5bMF0sYz1uWzFdO3JldHVybiB0WzBdPWUqaSx0WzFdPWEqaSx0WzJdPW8qYyx0WzNdPXUqYyx0fWZ1bmN0aW9uIGkoKXt2YXIgdD1uZXcgRmxvYXQzMkFycmF5KDkpO3JldHVybiB0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0xLHRbNV09MCx0WzZdPTAsdFs3XT0wLHRbOF09MSx0fWZ1bmN0aW9uIGModCxyKXt2YXIgbj1NYXRoLnNpbihyKSxlPU1hdGguY29zKHIpO3JldHVybiB0WzBdPWUsdFsxXT1uLHRbMl09MCx0WzNdPS1uLHRbNF09ZSx0WzVdPTAsdFs2XT0wLHRbN109MCx0WzhdPTEsdH1mdW5jdGlvbiBmKCl7dmFyIHQ9bmV3IEZsb2F0MzJBcnJheSgxNik7cmV0dXJuIHRbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0xLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0xLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0fWZ1bmN0aW9uIHYodCl7cmV0dXJuIHRbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0xLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0xLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0fWZ1bmN0aW9uIHModCxyKXt2YXIgbj1yWzBdLGU9clsxXSxhPXJbMl0sbz1yWzNdLHU9cls0XSxpPXJbNV0sYz1yWzZdLGY9cls3XSx2PXJbOF0scz1yWzldLGw9clsxMF0sTT1yWzExXSxoPXJbMTJdLG09clsxM10seT1yWzE0XSxkPXJbMTVdLHA9bippLWUqdSx3PW4qYy1hKnUsQT1uKmYtbyp1LEY9ZSpjLWEqaSx4PWUqZi1vKmksYj1hKmYtbypjLGc9diptLXMqaCxqPXYqeS1sKmgsUj12KmQtTSpoLFg9cyp5LWwqbSxaPXMqZC1NKm0saz1sKmQtTSp5LHE9cCprLXcqWitBKlgrRipSLXgqaitiKmc7cmV0dXJuIHE/KHE9MS9xLHRbMF09KGkqay1jKlorZipYKSpxLHRbMV09KGEqWi1lKmstbypYKSpxLHRbMl09KG0qYi15KngrZCpGKSpxLHRbM109KGwqeC1zKmItTSpGKSpxLHRbNF09KGMqUi11KmstZipqKSpxLHRbNV09KG4qay1hKlIrbypqKSpxLHRbNl09KHkqQS1oKmItZCp3KSpxLHRbN109KHYqYi1sKkErTSp3KSpxLHRbOF09KHUqWi1pKlIrZipnKSpxLHRbOV09KGUqUi1uKlotbypnKSpxLHRbMTBdPShoKngtbSpBK2QqcCkqcSx0WzExXT0ocypBLXYqeC1NKnApKnEsdFsxMl09KGkqai11KlgtYypnKSpxLHRbMTNdPShuKlgtZSpqK2EqZykqcSx0WzE0XT0obSp3LWgqRi15KnApKnEsdFsxNV09KHYqRi1zKncrbCpwKSpxLHQpOm51bGx9ZnVuY3Rpb24gbCh0LHIsbil7dmFyIGU9clswXSxhPXJbMV0sbz1yWzJdLHU9clszXSxpPXJbNF0sYz1yWzVdLGY9cls2XSx2PXJbN10scz1yWzhdLGw9cls5XSxNPXJbMTBdLGg9clsxMV0sbT1yWzEyXSx5PXJbMTNdLGQ9clsxNF0scD1yWzE1XSx3PW5bMF0sQT1uWzFdLEY9blsyXSx4PW5bM107cmV0dXJuIHRbMF09dyplK0EqaStGKnMreCptLHRbMV09dyphK0EqYytGKmwreCp5LHRbMl09dypvK0EqZitGKk0reCpkLHRbM109dyp1K0EqditGKmgreCpwLHc9bls0XSxBPW5bNV0sRj1uWzZdLHg9bls3XSx0WzRdPXcqZStBKmkrRipzK3gqbSx0WzVdPXcqYStBKmMrRipsK3gqeSx0WzZdPXcqbytBKmYrRipNK3gqZCx0WzddPXcqdStBKnYrRipoK3gqcCx3PW5bOF0sQT1uWzldLEY9blsxMF0seD1uWzExXSx0WzhdPXcqZStBKmkrRipzK3gqbSx0WzldPXcqYStBKmMrRipsK3gqeSx0WzEwXT13Km8rQSpmK0YqTSt4KmQsdFsxMV09dyp1K0EqditGKmgreCpwLHc9blsxMl0sQT1uWzEzXSxGPW5bMTRdLHg9blsxNV0sdFsxMl09dyplK0EqaStGKnMreCptLHRbMTNdPXcqYStBKmMrRipsK3gqeSx0WzE0XT13Km8rQSpmK0YqTSt4KmQsdFsxNV09dyp1K0EqditGKmgreCpwLHR9ZnVuY3Rpb24gTSh0LHIsbil7dmFyIGUsYSxvLHUsaSxjLGYsdixzLGwsTSxoLG09blswXSx5PW5bMV0sZD1uWzJdO3JldHVybiByPT09dD8odFsxMl09clswXSptK3JbNF0qeStyWzhdKmQrclsxMl0sdFsxM109clsxXSptK3JbNV0qeStyWzldKmQrclsxM10sdFsxNF09clsyXSptK3JbNl0qeStyWzEwXSpkK3JbMTRdLHRbMTVdPXJbM10qbStyWzddKnkrclsxMV0qZCtyWzE1XSk6KGU9clswXSxhPXJbMV0sbz1yWzJdLHU9clszXSxpPXJbNF0sYz1yWzVdLGY9cls2XSx2PXJbN10scz1yWzhdLGw9cls5XSxNPXJbMTBdLGg9clsxMV0sdFswXT1lLHRbMV09YSx0WzJdPW8sdFszXT11LHRbNF09aSx0WzVdPWMsdFs2XT1mLHRbN109dix0WzhdPXMsdFs5XT1sLHRbMTBdPU0sdFsxMV09aCx0WzEyXT1lKm0raSp5K3MqZCtyWzEyXSx0WzEzXT1hKm0rYyp5K2wqZCtyWzEzXSx0WzE0XT1vKm0rZip5K00qZCtyWzE0XSx0WzE1XT11Km0rdip5K2gqZCtyWzE1XSksdH1mdW5jdGlvbiBoKHQscixuKXt2YXIgZT1uWzBdLGE9blsxXSxvPW5bMl07cmV0dXJuIHRbMF09clswXSplLHRbMV09clsxXSplLHRbMl09clsyXSplLHRbM109clszXSplLHRbNF09cls0XSphLHRbNV09cls1XSphLHRbNl09cls2XSphLHRbN109cls3XSphLHRbOF09cls4XSpvLHRbOV09cls5XSpvLHRbMTBdPXJbMTBdKm8sdFsxMV09clsxMV0qbyx0WzEyXT1yWzEyXSx0WzEzXT1yWzEzXSx0WzE0XT1yWzE0XSx0WzE1XT1yWzE1XSx0fWZ1bmN0aW9uIG0odCxyLG4pe3ZhciBlPU1hdGguc2luKG4pLGE9TWF0aC5jb3Mobiksbz1yWzRdLHU9cls1XSxpPXJbNl0sYz1yWzddLGY9cls4XSx2PXJbOV0scz1yWzEwXSxsPXJbMTFdO3JldHVybiByIT09dCYmKHRbMF09clswXSx0WzFdPXJbMV0sdFsyXT1yWzJdLHRbM109clszXSx0WzEyXT1yWzEyXSx0WzEzXT1yWzEzXSx0WzE0XT1yWzE0XSx0WzE1XT1yWzE1XSksdFs0XT1vKmErZiplLHRbNV09dSphK3YqZSx0WzZdPWkqYStzKmUsdFs3XT1jKmErbCplLHRbOF09ZiphLW8qZSx0WzldPXYqYS11KmUsdFsxMF09cyphLWkqZSx0WzExXT1sKmEtYyplLHR9ZnVuY3Rpb24geSh0LHIsbil7dmFyIGU9TWF0aC5zaW4obiksYT1NYXRoLmNvcyhuKSxvPXJbMF0sdT1yWzFdLGk9clsyXSxjPXJbM10sZj1yWzRdLHY9cls1XSxzPXJbNl0sbD1yWzddO3JldHVybiByIT09dCYmKHRbOF09cls4XSx0WzldPXJbOV0sdFsxMF09clsxMF0sdFsxMV09clsxMV0sdFsxMl09clsxMl0sdFsxM109clsxM10sdFsxNF09clsxNF0sdFsxNV09clsxNV0pLHRbMF09byphK2YqZSx0WzFdPXUqYSt2KmUsdFsyXT1pKmErcyplLHRbM109YyphK2wqZSx0WzRdPWYqYS1vKmUsdFs1XT12KmEtdSplLHRbNl09cyphLWkqZSx0WzddPWwqYS1jKmUsdH1mdW5jdGlvbiBkKHQscixuLGUsYSl7dmFyIG89MS9NYXRoLnRhbihyLzIpLHU9MS8oZS1hKTtyZXR1cm4gdFswXT1vL24sdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09byx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09KGErZSkqdSx0WzExXT0tMSx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MiphKmUqdSx0WzE1XT0wLHR9ZnVuY3Rpb24gcCh0LHIsbixlLGEsbyx1KXt2YXIgaT0xLyhyLW4pLGM9MS8oZS1hKSxmPTEvKG8tdSk7cmV0dXJuIHRbMF09LTIqaSx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0tMipjLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0yKmYsdFsxMV09MCx0WzEyXT0ocituKSppLHRbMTNdPShhK2UpKmMsdFsxNF09KHUrbykqZix0WzE1XT0xLHR9dmFyIHc9KHQoKSxuKCkse3ZlYzM6e3RyYW5zZm9ybU1hdDM6cn0sdmVjNDp7dHJhbnNmb3JtTWF0NDplfSxtYXQyOntjcmVhdGU6YSxyb3RhdGU6byxzY2FsZTp1fSxtYXQzOntjcmVhdGU6aSxmcm9tUm90YXRpb246Y30sbWF0NDp7Y3JlYXRlOmYsaWRlbnRpdHk6dix0cmFuc2xhdGU6TSxzY2FsZTpoLG11bHRpcGx5OmwscGVyc3BlY3RpdmU6ZCxyb3RhdGVYOm0scm90YXRlWjp5LGludmVydDpzLG9ydGhvOnB9fSk7cmV0dXJuIHd9KTtcbn0se31dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6dC5TaGVsZlBhY2s9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSl7aT1pfHx7fSx0aGlzLnc9dHx8NjQsdGhpcy5oPWV8fDY0LHRoaXMuYXV0b1Jlc2l6ZT0hIWkuYXV0b1Jlc2l6ZSx0aGlzLnNoZWx2ZXM9W10sdGhpcy5mcmVlYmlucz1bXSx0aGlzLnN0YXRzPXt9LHRoaXMuYmlucz17fSx0aGlzLm1heElkPTB9ZnVuY3Rpb24gZSh0LGUsaSl7dGhpcy54PTAsdGhpcy55PXQsdGhpcy53PXRoaXMuZnJlZT1lLHRoaXMuaD1pfWZ1bmN0aW9uIGkodCxlLGkscyxoLG4scil7dGhpcy5pZD10LHRoaXMueD1lLHRoaXMueT1pLHRoaXMudz1zLHRoaXMuaD1oLHRoaXMubWF4dz1ufHxzLHRoaXMubWF4aD1yfHxoLHRoaXMucmVmY291bnQ9MH1yZXR1cm4gdC5wcm90b3R5cGUucGFjaz1mdW5jdGlvbih0LGUpe3Q9W10uY29uY2F0KHQpLGU9ZXx8e307Zm9yKHZhciBpLHMsaCxuLHI9W10sZj0wO2Y8dC5sZW5ndGg7ZisrKWlmKGk9dFtmXS53fHx0W2ZdLndpZHRoLHM9dFtmXS5ofHx0W2ZdLmhlaWdodCxoPXRbZl0uaWQsaSYmcyl7aWYobj10aGlzLnBhY2tPbmUoaSxzLGgpLCFuKWNvbnRpbnVlO2UuaW5QbGFjZSYmKHRbZl0ueD1uLngsdFtmXS55PW4ueSx0W2ZdLmlkPW4uaWQpLHIucHVzaChuKX1pZih0aGlzLnNoZWx2ZXMubGVuZ3RoPjApe2Zvcih2YXIgbz0wLGE9MCx1PTA7dTx0aGlzLnNoZWx2ZXMubGVuZ3RoO3UrKyl7dmFyIGw9dGhpcy5zaGVsdmVzW3VdO2ErPWwuaCxvPU1hdGgubWF4KGwudy1sLmZyZWUsbyl9dGhpcy5yZXNpemUobyxhKX1yZXR1cm4gcn0sdC5wcm90b3R5cGUucGFja09uZT1mdW5jdGlvbih0LGkscyl7dmFyIGgsbixyLGYsbz17ZnJlZWJpbjotMSxzaGVsZjotMSx3YXN0ZToxLzB9LGE9MDtpZihcInN0cmluZ1wiPT10eXBlb2Ygc3x8XCJudW1iZXJcIj09dHlwZW9mIHMpe2lmKGg9dGhpcy5nZXRCaW4ocykpcmV0dXJuIHRoaXMucmVmKGgpLGg7XCJudW1iZXJcIj09dHlwZW9mIHMmJih0aGlzLm1heElkPU1hdGgubWF4KHMsdGhpcy5tYXhJZCkpfWVsc2Ugcz0rK3RoaXMubWF4SWQ7Zm9yKGY9MDtmPHRoaXMuZnJlZWJpbnMubGVuZ3RoO2YrKyl7aWYoaD10aGlzLmZyZWViaW5zW2ZdLGk9PT1oLm1heGgmJnQ9PT1oLm1heHcpcmV0dXJuIHRoaXMuYWxsb2NGcmVlYmluKGYsdCxpLHMpO2k+aC5tYXhofHx0PmgubWF4d3x8aTw9aC5tYXhoJiZ0PD1oLm1heHcmJihyPWgubWF4dypoLm1heGgtdCppLHI8by53YXN0ZSYmKG8ud2FzdGU9cixvLmZyZWViaW49ZikpfWZvcihmPTA7Zjx0aGlzLnNoZWx2ZXMubGVuZ3RoO2YrKylpZihuPXRoaXMuc2hlbHZlc1tmXSxhKz1uLmgsISh0Pm4uZnJlZSkpe2lmKGk9PT1uLmgpcmV0dXJuIHRoaXMuYWxsb2NTaGVsZihmLHQsaSxzKTtpPm4uaHx8aTxuLmgmJihyPShuLmgtaSkqdCxyPG8ud2FzdGUmJihvLmZyZWViaW49LTEsby53YXN0ZT1yLG8uc2hlbGY9ZikpfWlmKG8uZnJlZWJpbiE9PS0xKXJldHVybiB0aGlzLmFsbG9jRnJlZWJpbihvLmZyZWViaW4sdCxpLHMpO2lmKG8uc2hlbGYhPT0tMSlyZXR1cm4gdGhpcy5hbGxvY1NoZWxmKG8uc2hlbGYsdCxpLHMpO2lmKGk8PXRoaXMuaC1hJiZ0PD10aGlzLncpcmV0dXJuIG49bmV3IGUoYSx0aGlzLncsaSksdGhpcy5hbGxvY1NoZWxmKHRoaXMuc2hlbHZlcy5wdXNoKG4pLTEsdCxpLHMpO2lmKHRoaXMuYXV0b1Jlc2l6ZSl7dmFyIHUsbCxjLHA7cmV0dXJuIHU9bD10aGlzLmgsYz1wPXRoaXMudywoYzw9dXx8dD5jKSYmKHA9MipNYXRoLm1heCh0LGMpKSwodTxjfHxpPnUpJiYobD0yKk1hdGgubWF4KGksdSkpLHRoaXMucmVzaXplKHAsbCksdGhpcy5wYWNrT25lKHQsaSxzKX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuYWxsb2NGcmVlYmluPWZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBoPXRoaXMuZnJlZWJpbnMuc3BsaWNlKHQsMSlbMF07cmV0dXJuIGguaWQ9cyxoLnc9ZSxoLmg9aSxoLnJlZmNvdW50PTAsdGhpcy5iaW5zW3NdPWgsdGhpcy5yZWYoaCksaH0sdC5wcm90b3R5cGUuYWxsb2NTaGVsZj1mdW5jdGlvbih0LGUsaSxzKXt2YXIgaD10aGlzLnNoZWx2ZXNbdF0sbj1oLmFsbG9jKGUsaSxzKTtyZXR1cm4gdGhpcy5iaW5zW3NdPW4sdGhpcy5yZWYobiksbn0sdC5wcm90b3R5cGUuZ2V0QmluPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJpbnNbdF19LHQucHJvdG90eXBlLnJlZj1mdW5jdGlvbih0KXtpZigxPT09Kyt0LnJlZmNvdW50KXt2YXIgZT10Lmg7dGhpcy5zdGF0c1tlXT0oMHx0aGlzLnN0YXRzW2VdKSsxfXJldHVybiB0LnJlZmNvdW50fSx0LnByb3RvdHlwZS51bnJlZj1mdW5jdGlvbih0KXtyZXR1cm4gMD09PXQucmVmY291bnQ/MDooMD09PS0tdC5yZWZjb3VudCYmKHRoaXMuc3RhdHNbdC5oXS0tLGRlbGV0ZSB0aGlzLmJpbnNbdC5pZF0sdGhpcy5mcmVlYmlucy5wdXNoKHQpKSx0LnJlZmNvdW50KX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnNoZWx2ZXM9W10sdGhpcy5mcmVlYmlucz1bXSx0aGlzLnN0YXRzPXt9LHRoaXMuYmlucz17fSx0aGlzLm1heElkPTB9LHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3RoaXMudz10LHRoaXMuaD1lO2Zvcih2YXIgaT0wO2k8dGhpcy5zaGVsdmVzLmxlbmd0aDtpKyspdGhpcy5zaGVsdmVzW2ldLnJlc2l6ZSh0KTtyZXR1cm4hMH0sZS5wcm90b3R5cGUuYWxsb2M9ZnVuY3Rpb24odCxlLHMpe2lmKHQ+dGhpcy5mcmVlfHxlPnRoaXMuaClyZXR1cm4gbnVsbDt2YXIgaD10aGlzLng7cmV0dXJuIHRoaXMueCs9dCx0aGlzLmZyZWUtPXQsbmV3IGkocyxoLHRoaXMueSx0LGUsdCx0aGlzLmgpfSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZnJlZSs9dC10aGlzLncsdGhpcy53PXQsITB9LHR9KTtcbn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gVW5pdEJlemllcih0LGksZSxyKXt0aGlzLmN4PTMqdCx0aGlzLmJ4PTMqKGUtdCktdGhpcy5jeCx0aGlzLmF4PTEtdGhpcy5jeC10aGlzLmJ4LHRoaXMuY3k9MyppLHRoaXMuYnk9Myooci1pKS10aGlzLmN5LHRoaXMuYXk9MS10aGlzLmN5LXRoaXMuYnksdGhpcy5wMXg9dCx0aGlzLnAxeT1yLHRoaXMucDJ4PWUsdGhpcy5wMnk9cn1tb2R1bGUuZXhwb3J0cz1Vbml0QmV6aWVyLFVuaXRCZXppZXIucHJvdG90eXBlLnNhbXBsZUN1cnZlWD1mdW5jdGlvbih0KXtyZXR1cm4oKHRoaXMuYXgqdCt0aGlzLmJ4KSp0K3RoaXMuY3gpKnR9LFVuaXRCZXppZXIucHJvdG90eXBlLnNhbXBsZUN1cnZlWT1mdW5jdGlvbih0KXtyZXR1cm4oKHRoaXMuYXkqdCt0aGlzLmJ5KSp0K3RoaXMuY3kpKnR9LFVuaXRCZXppZXIucHJvdG90eXBlLnNhbXBsZUN1cnZlRGVyaXZhdGl2ZVg9ZnVuY3Rpb24odCl7cmV0dXJuKDMqdGhpcy5heCp0KzIqdGhpcy5ieCkqdCt0aGlzLmN4fSxVbml0QmV6aWVyLnByb3RvdHlwZS5zb2x2ZUN1cnZlWD1mdW5jdGlvbih0LGkpe1widW5kZWZpbmVkXCI9PXR5cGVvZiBpJiYoaT0xZS02KTt2YXIgZSxyLHMsaCxuO2ZvcihzPXQsbj0wO248ODtuKyspe2lmKGg9dGhpcy5zYW1wbGVDdXJ2ZVgocyktdCxNYXRoLmFicyhoKTxpKXJldHVybiBzO3ZhciB1PXRoaXMuc2FtcGxlQ3VydmVEZXJpdmF0aXZlWChzKTtpZihNYXRoLmFicyh1KTwxZS02KWJyZWFrO3MtPWgvdX1pZihlPTAscj0xLHM9dCxzPGUpcmV0dXJuIGU7aWYocz5yKXJldHVybiByO2Zvcig7ZTxyOyl7aWYoaD10aGlzLnNhbXBsZUN1cnZlWChzKSxNYXRoLmFicyhoLXQpPGkpcmV0dXJuIHM7dD5oP2U9czpyPXMscz0uNSooci1lKStlfXJldHVybiBzfSxVbml0QmV6aWVyLnByb3RvdHlwZS5zb2x2ZT1mdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLnNhbXBsZUN1cnZlWSh0aGlzLnNvbHZlQ3VydmVYKHQsaSkpfTtcbn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/dChleHBvcnRzKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV4cG9ydHNcIl0sdCk6dChlLldob29UUz1lLldob29UU3x8e30pfSh0aGlzLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LHIsbixpLHMpe3M9c3x8e307dmFyIGY9ZStcIj9cIitbXCJiYm94PVwiK28ocixuLGkpLFwiZm9ybWF0PVwiKyhzLmZvcm1hdHx8XCJpbWFnZS9wbmdcIiksXCJzZXJ2aWNlPVwiKyhzLnNlcnZpY2V8fFwiV01TXCIpLFwidmVyc2lvbj1cIisocy52ZXJzaW9ufHxcIjEuMS4xXCIpLFwicmVxdWVzdD1cIisocy5yZXF1ZXN0fHxcIkdldE1hcFwiKSxcInNycz1cIisocy5zcnN8fFwiRVBTRzozODU3XCIpLFwid2lkdGg9XCIrKHMud2lkdGh8fDI1NiksXCJoZWlnaHQ9XCIrKHMuaGVpZ2h0fHwyNTYpLFwibGF5ZXJzPVwiK3RdLmpvaW4oXCImXCIpO3JldHVybiBmfWZ1bmN0aW9uIG8oZSx0LG8pe3Q9TWF0aC5wb3coMixvKS10LTE7dmFyIG49cigyNTYqZSwyNTYqdCxvKSxpPXIoMjU2KihlKzEpLDI1NioodCsxKSxvKTtyZXR1cm4gblswXStcIixcIituWzFdK1wiLFwiK2lbMF0rXCIsXCIraVsxXX1mdW5jdGlvbiByKGUsdCxvKXt2YXIgcj0yKk1hdGguUEkqNjM3ODEzNy8yNTYvTWF0aC5wb3coMixvKSxuPWUqci0yKk1hdGguUEkqNjM3ODEzNy8yLGk9dCpyLTIqTWF0aC5QSSo2Mzc4MTM3LzI7cmV0dXJuW24saV19ZS5nZXRVUkw9dCxlLmdldFRpbGVCQm94PW8sZS5nZXRNZXJjQ29vcmRzPXIsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9KTtcbn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZWFyY3V0KGUsbixyKXtyPXJ8fDI7dmFyIHQ9biYmbi5sZW5ndGgsaT10P25bMF0qcjplLmxlbmd0aCx4PWxpbmtlZExpc3QoZSwwLGksciwhMCksYT1bXTtpZigheClyZXR1cm4gYTt2YXIgbyxsLHUscyx2LGYseTtpZih0JiYoeD1lbGltaW5hdGVIb2xlcyhlLG4seCxyKSksZS5sZW5ndGg+ODAqcil7bz11PWVbMF0sbD1zPWVbMV07Zm9yKHZhciBkPXI7ZDxpO2QrPXIpdj1lW2RdLGY9ZVtkKzFdLHY8byYmKG89diksZjxsJiYobD1mKSx2PnUmJih1PXYpLGY+cyYmKHM9Zik7eT1NYXRoLm1heCh1LW8scy1sKX1yZXR1cm4gZWFyY3V0TGlua2VkKHgsYSxyLG8sbCx5KSxhfWZ1bmN0aW9uIGxpbmtlZExpc3QoZSxuLHIsdCxpKXt2YXIgeCxhO2lmKGk9PT1zaWduZWRBcmVhKGUsbixyLHQpPjApZm9yKHg9bjt4PHI7eCs9dClhPWluc2VydE5vZGUoeCxlW3hdLGVbeCsxXSxhKTtlbHNlIGZvcih4PXItdDt4Pj1uO3gtPXQpYT1pbnNlcnROb2RlKHgsZVt4XSxlW3grMV0sYSk7cmV0dXJuIGEmJmVxdWFscyhhLGEubmV4dCkmJihyZW1vdmVOb2RlKGEpLGE9YS5uZXh0KSxhfWZ1bmN0aW9uIGZpbHRlclBvaW50cyhlLG4pe2lmKCFlKXJldHVybiBlO258fChuPWUpO3ZhciByLHQ9ZTtkbyBpZihyPSExLHQuc3RlaW5lcnx8IWVxdWFscyh0LHQubmV4dCkmJjAhPT1hcmVhKHQucHJldix0LHQubmV4dCkpdD10Lm5leHQ7ZWxzZXtpZihyZW1vdmVOb2RlKHQpLHQ9bj10LnByZXYsdD09PXQubmV4dClyZXR1cm4gbnVsbDtyPSEwfXdoaWxlKHJ8fHQhPT1uKTtyZXR1cm4gbn1mdW5jdGlvbiBlYXJjdXRMaW5rZWQoZSxuLHIsdCxpLHgsYSl7aWYoZSl7IWEmJngmJmluZGV4Q3VydmUoZSx0LGkseCk7Zm9yKHZhciBvLGwsdT1lO2UucHJldiE9PWUubmV4dDspaWYobz1lLnByZXYsbD1lLm5leHQseD9pc0Vhckhhc2hlZChlLHQsaSx4KTppc0VhcihlKSluLnB1c2goby5pL3IpLG4ucHVzaChlLmkvciksbi5wdXNoKGwuaS9yKSxyZW1vdmVOb2RlKGUpLGU9bC5uZXh0LHU9bC5uZXh0O2Vsc2UgaWYoZT1sLGU9PT11KXthPzE9PT1hPyhlPWN1cmVMb2NhbEludGVyc2VjdGlvbnMoZSxuLHIpLGVhcmN1dExpbmtlZChlLG4scix0LGkseCwyKSk6Mj09PWEmJnNwbGl0RWFyY3V0KGUsbixyLHQsaSx4KTplYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKGUpLG4scix0LGkseCwxKTticmVha319fWZ1bmN0aW9uIGlzRWFyKGUpe3ZhciBuPWUucHJldixyPWUsdD1lLm5leHQ7aWYoYXJlYShuLHIsdCk+PTApcmV0dXJuITE7Zm9yKHZhciBpPWUubmV4dC5uZXh0O2khPT1lLnByZXY7KXtpZihwb2ludEluVHJpYW5nbGUobi54LG4ueSxyLngsci55LHQueCx0LnksaS54LGkueSkmJmFyZWEoaS5wcmV2LGksaS5uZXh0KT49MClyZXR1cm4hMTtpPWkubmV4dH1yZXR1cm4hMH1mdW5jdGlvbiBpc0Vhckhhc2hlZChlLG4scix0KXt2YXIgaT1lLnByZXYseD1lLGE9ZS5uZXh0O2lmKGFyZWEoaSx4LGEpPj0wKXJldHVybiExO2Zvcih2YXIgbz1pLng8eC54P2kueDxhLng/aS54OmEueDp4Lng8YS54P3gueDphLngsbD1pLnk8eC55P2kueTxhLnk/aS55OmEueTp4Lnk8YS55P3gueTphLnksdT1pLng+eC54P2kueD5hLng/aS54OmEueDp4Lng+YS54P3gueDphLngscz1pLnk+eC55P2kueT5hLnk/aS55OmEueTp4Lnk+YS55P3gueTphLnksdj16T3JkZXIobyxsLG4scix0KSxmPXpPcmRlcih1LHMsbixyLHQpLHk9ZS5uZXh0Wjt5JiZ5Lno8PWY7KXtpZih5IT09ZS5wcmV2JiZ5IT09ZS5uZXh0JiZwb2ludEluVHJpYW5nbGUoaS54LGkueSx4LngseC55LGEueCxhLnkseS54LHkueSkmJmFyZWEoeS5wcmV2LHkseS5uZXh0KT49MClyZXR1cm4hMTt5PXkubmV4dFp9Zm9yKHk9ZS5wcmV2Wjt5JiZ5Lno+PXY7KXtpZih5IT09ZS5wcmV2JiZ5IT09ZS5uZXh0JiZwb2ludEluVHJpYW5nbGUoaS54LGkueSx4LngseC55LGEueCxhLnkseS54LHkueSkmJmFyZWEoeS5wcmV2LHkseS5uZXh0KT49MClyZXR1cm4hMTt5PXkucHJldlp9cmV0dXJuITB9ZnVuY3Rpb24gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhlLG4scil7dmFyIHQ9ZTtkb3t2YXIgaT10LnByZXYseD10Lm5leHQubmV4dDshZXF1YWxzKGkseCkmJmludGVyc2VjdHMoaSx0LHQubmV4dCx4KSYmbG9jYWxseUluc2lkZShpLHgpJiZsb2NhbGx5SW5zaWRlKHgsaSkmJihuLnB1c2goaS5pL3IpLG4ucHVzaCh0Lmkvciksbi5wdXNoKHguaS9yKSxyZW1vdmVOb2RlKHQpLHJlbW92ZU5vZGUodC5uZXh0KSx0PWU9eCksdD10Lm5leHR9d2hpbGUodCE9PWUpO3JldHVybiB0fWZ1bmN0aW9uIHNwbGl0RWFyY3V0KGUsbixyLHQsaSx4KXt2YXIgYT1lO2Rve2Zvcih2YXIgbz1hLm5leHQubmV4dDtvIT09YS5wcmV2Oyl7aWYoYS5pIT09by5pJiZpc1ZhbGlkRGlhZ29uYWwoYSxvKSl7dmFyIGw9c3BsaXRQb2x5Z29uKGEsbyk7cmV0dXJuIGE9ZmlsdGVyUG9pbnRzKGEsYS5uZXh0KSxsPWZpbHRlclBvaW50cyhsLGwubmV4dCksZWFyY3V0TGlua2VkKGEsbixyLHQsaSx4KSx2b2lkIGVhcmN1dExpbmtlZChsLG4scix0LGkseCl9bz1vLm5leHR9YT1hLm5leHR9d2hpbGUoYSE9PWUpfWZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGUsbixyLHQpe3ZhciBpLHgsYSxvLGwsdT1bXTtmb3IoaT0wLHg9bi5sZW5ndGg7aTx4O2krKylhPW5baV0qdCxvPWk8eC0xP25baSsxXSp0OmUubGVuZ3RoLGw9bGlua2VkTGlzdChlLGEsbyx0LCExKSxsPT09bC5uZXh0JiYobC5zdGVpbmVyPSEwKSx1LnB1c2goZ2V0TGVmdG1vc3QobCkpO2Zvcih1LnNvcnQoY29tcGFyZVgpLGk9MDtpPHUubGVuZ3RoO2krKyllbGltaW5hdGVIb2xlKHVbaV0scikscj1maWx0ZXJQb2ludHMocixyLm5leHQpO3JldHVybiByfWZ1bmN0aW9uIGNvbXBhcmVYKGUsbil7cmV0dXJuIGUueC1uLnh9ZnVuY3Rpb24gZWxpbWluYXRlSG9sZShlLG4pe2lmKG49ZmluZEhvbGVCcmlkZ2UoZSxuKSl7dmFyIHI9c3BsaXRQb2x5Z29uKG4sZSk7ZmlsdGVyUG9pbnRzKHIsci5uZXh0KX19ZnVuY3Rpb24gZmluZEhvbGVCcmlkZ2UoZSxuKXt2YXIgcix0PW4saT1lLngseD1lLnksYT0tKDEvMCk7ZG97aWYoeDw9dC55JiZ4Pj10Lm5leHQueSl7dmFyIG89dC54Kyh4LXQueSkqKHQubmV4dC54LXQueCkvKHQubmV4dC55LXQueSk7aWYobzw9aSYmbz5hKXtpZihhPW8sbz09PWkpe2lmKHg9PT10LnkpcmV0dXJuIHQ7aWYoeD09PXQubmV4dC55KXJldHVybiB0Lm5leHR9cj10Lng8dC5uZXh0Lng/dDp0Lm5leHR9fXQ9dC5uZXh0fXdoaWxlKHQhPT1uKTtpZighcilyZXR1cm4gbnVsbDtpZihpPT09YSlyZXR1cm4gci5wcmV2O3ZhciBsLHU9cixzPXIueCx2PXIueSxmPTEvMDtmb3IodD1yLm5leHQ7dCE9PXU7KWk+PXQueCYmdC54Pj1zJiZwb2ludEluVHJpYW5nbGUoeDx2P2k6YSx4LHMsdix4PHY/YTppLHgsdC54LHQueSkmJihsPU1hdGguYWJzKHgtdC55KS8oaS10LngpLChsPGZ8fGw9PT1mJiZ0Lng+ci54KSYmbG9jYWxseUluc2lkZSh0LGUpJiYocj10LGY9bCkpLHQ9dC5uZXh0O3JldHVybiByfWZ1bmN0aW9uIGluZGV4Q3VydmUoZSxuLHIsdCl7dmFyIGk9ZTtkbyBudWxsPT09aS56JiYoaS56PXpPcmRlcihpLngsaS55LG4scix0KSksaS5wcmV2Wj1pLnByZXYsaS5uZXh0Wj1pLm5leHQsaT1pLm5leHQ7d2hpbGUoaSE9PWUpO2kucHJldloubmV4dFo9bnVsbCxpLnByZXZaPW51bGwsc29ydExpbmtlZChpKX1mdW5jdGlvbiBzb3J0TGlua2VkKGUpe3ZhciBuLHIsdCxpLHgsYSxvLGwsdT0xO2Rve2ZvcihyPWUsZT1udWxsLHg9bnVsbCxhPTA7cjspe2ZvcihhKyssdD1yLG89MCxuPTA7bjx1JiYobysrLHQ9dC5uZXh0Wix0KTtuKyspO2ZvcihsPXU7bz4wfHxsPjAmJnQ7KTA9PT1vPyhpPXQsdD10Lm5leHRaLGwtLSk6MCE9PWwmJnQ/ci56PD10Lno/KGk9cixyPXIubmV4dFosby0tKTooaT10LHQ9dC5uZXh0WixsLS0pOihpPXIscj1yLm5leHRaLG8tLSkseD94Lm5leHRaPWk6ZT1pLGkucHJldlo9eCx4PWk7cj10fXgubmV4dFo9bnVsbCx1Kj0yfXdoaWxlKGE+MSk7cmV0dXJuIGV9ZnVuY3Rpb24gek9yZGVyKGUsbixyLHQsaSl7cmV0dXJuIGU9MzI3NjcqKGUtcikvaSxuPTMyNzY3KihuLXQpL2ksZT0xNjcxMTkzNSYoZXxlPDw4KSxlPTI1MjY0NTEzNSYoZXxlPDw0KSxlPTg1ODk5MzQ1OSYoZXxlPDwyKSxlPTE0MzE2NTU3NjUmKGV8ZTw8MSksbj0xNjcxMTkzNSYobnxuPDw4KSxuPTI1MjY0NTEzNSYobnxuPDw0KSxuPTg1ODk5MzQ1OSYobnxuPDwyKSxuPTE0MzE2NTU3NjUmKG58bjw8MSksZXxuPDwxfWZ1bmN0aW9uIGdldExlZnRtb3N0KGUpe3ZhciBuPWUscj1lO2RvIG4ueDxyLngmJihyPW4pLG49bi5uZXh0O3doaWxlKG4hPT1lKTtyZXR1cm4gcn1mdW5jdGlvbiBwb2ludEluVHJpYW5nbGUoZSxuLHIsdCxpLHgsYSxvKXtyZXR1cm4oaS1hKSoobi1vKS0oZS1hKSooeC1vKT49MCYmKGUtYSkqKHQtbyktKHItYSkqKG4tbyk+PTAmJihyLWEpKih4LW8pLShpLWEpKih0LW8pPj0wfWZ1bmN0aW9uIGlzVmFsaWREaWFnb25hbChlLG4pe3JldHVybiBlLm5leHQuaSE9PW4uaSYmZS5wcmV2LmkhPT1uLmkmJiFpbnRlcnNlY3RzUG9seWdvbihlLG4pJiZsb2NhbGx5SW5zaWRlKGUsbikmJmxvY2FsbHlJbnNpZGUobixlKSYmbWlkZGxlSW5zaWRlKGUsbil9ZnVuY3Rpb24gYXJlYShlLG4scil7cmV0dXJuKG4ueS1lLnkpKihyLngtbi54KS0obi54LWUueCkqKHIueS1uLnkpfWZ1bmN0aW9uIGVxdWFscyhlLG4pe3JldHVybiBlLng9PT1uLngmJmUueT09PW4ueX1mdW5jdGlvbiBpbnRlcnNlY3RzKGUsbixyLHQpe3JldHVybiEhKGVxdWFscyhlLG4pJiZlcXVhbHMocix0KXx8ZXF1YWxzKGUsdCkmJmVxdWFscyhyLG4pKXx8YXJlYShlLG4scik+MCE9YXJlYShlLG4sdCk+MCYmYXJlYShyLHQsZSk+MCE9YXJlYShyLHQsbik+MH1mdW5jdGlvbiBpbnRlcnNlY3RzUG9seWdvbihlLG4pe3ZhciByPWU7ZG97aWYoci5pIT09ZS5pJiZyLm5leHQuaSE9PWUuaSYmci5pIT09bi5pJiZyLm5leHQuaSE9PW4uaSYmaW50ZXJzZWN0cyhyLHIubmV4dCxlLG4pKXJldHVybiEwO3I9ci5uZXh0fXdoaWxlKHIhPT1lKTtyZXR1cm4hMX1mdW5jdGlvbiBsb2NhbGx5SW5zaWRlKGUsbil7cmV0dXJuIGFyZWEoZS5wcmV2LGUsZS5uZXh0KTwwP2FyZWEoZSxuLGUubmV4dCk+PTAmJmFyZWEoZSxlLnByZXYsbik+PTA6YXJlYShlLG4sZS5wcmV2KTwwfHxhcmVhKGUsZS5uZXh0LG4pPDB9ZnVuY3Rpb24gbWlkZGxlSW5zaWRlKGUsbil7dmFyIHI9ZSx0PSExLGk9KGUueCtuLngpLzIseD0oZS55K24ueSkvMjtkbyByLnk+eCE9ci5uZXh0Lnk+eCYmaTwoci5uZXh0Lngtci54KSooeC1yLnkpLyhyLm5leHQueS1yLnkpK3IueCYmKHQ9IXQpLHI9ci5uZXh0O3doaWxlKHIhPT1lKTtyZXR1cm4gdH1mdW5jdGlvbiBzcGxpdFBvbHlnb24oZSxuKXt2YXIgcj1uZXcgTm9kZShlLmksZS54LGUueSksdD1uZXcgTm9kZShuLmksbi54LG4ueSksaT1lLm5leHQseD1uLnByZXY7cmV0dXJuIGUubmV4dD1uLG4ucHJldj1lLHIubmV4dD1pLGkucHJldj1yLHQubmV4dD1yLHIucHJldj10LHgubmV4dD10LHQucHJldj14LHR9ZnVuY3Rpb24gaW5zZXJ0Tm9kZShlLG4scix0KXt2YXIgaT1uZXcgTm9kZShlLG4scik7cmV0dXJuIHQ/KGkubmV4dD10Lm5leHQsaS5wcmV2PXQsdC5uZXh0LnByZXY9aSx0Lm5leHQ9aSk6KGkucHJldj1pLGkubmV4dD1pKSxpfWZ1bmN0aW9uIHJlbW92ZU5vZGUoZSl7ZS5uZXh0LnByZXY9ZS5wcmV2LGUucHJldi5uZXh0PWUubmV4dCxlLnByZXZaJiYoZS5wcmV2Wi5uZXh0Wj1lLm5leHRaKSxlLm5leHRaJiYoZS5uZXh0Wi5wcmV2Wj1lLnByZXZaKX1mdW5jdGlvbiBOb2RlKGUsbixyKXt0aGlzLmk9ZSx0aGlzLng9bix0aGlzLnk9cix0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbCx0aGlzLno9bnVsbCx0aGlzLnByZXZaPW51bGwsdGhpcy5uZXh0Wj1udWxsLHRoaXMuc3RlaW5lcj0hMX1mdW5jdGlvbiBzaWduZWRBcmVhKGUsbixyLHQpe2Zvcih2YXIgaT0wLHg9bixhPXItdDt4PHI7eCs9dClpKz0oZVthXS1lW3hdKSooZVt4KzFdK2VbYSsxXSksYT14O3JldHVybiBpfW1vZHVsZS5leHBvcnRzPWVhcmN1dCxlYXJjdXQuZGV2aWF0aW9uPWZ1bmN0aW9uKGUsbixyLHQpe3ZhciBpPW4mJm4ubGVuZ3RoLHg9aT9uWzBdKnI6ZS5sZW5ndGgsYT1NYXRoLmFicyhzaWduZWRBcmVhKGUsMCx4LHIpKTtpZihpKWZvcih2YXIgbz0wLGw9bi5sZW5ndGg7bzxsO28rKyl7dmFyIHU9bltvXSpyLHM9bzxsLTE/bltvKzFdKnI6ZS5sZW5ndGg7YS09TWF0aC5hYnMoc2lnbmVkQXJlYShlLHUscyxyKSl9dmFyIHY9MDtmb3Iobz0wO288dC5sZW5ndGg7bys9Myl7dmFyIGY9dFtvXSpyLHk9dFtvKzFdKnIsZD10W28rMl0qcjt2Kz1NYXRoLmFicygoZVtmXS1lW2RdKSooZVt5KzFdLWVbZisxXSktKGVbZl0tZVt5XSkqKGVbZCsxXS1lW2YrMV0pKX1yZXR1cm4gMD09PWEmJjA9PT12PzA6TWF0aC5hYnMoKHYtYSkvYSl9LGVhcmN1dC5mbGF0dGVuPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1lWzBdWzBdLmxlbmd0aCxyPXt2ZXJ0aWNlczpbXSxob2xlczpbXSxkaW1lbnNpb25zOm59LHQ9MCxpPTA7aTxlLmxlbmd0aDtpKyspe2Zvcih2YXIgeD0wO3g8ZVtpXS5sZW5ndGg7eCsrKWZvcih2YXIgYT0wO2E8bjthKyspci52ZXJ0aWNlcy5wdXNoKGVbaV1beF1bYV0pO2k+MCYmKHQrPWVbaS0xXS5sZW5ndGgsci5ob2xlcy5wdXNoKHQpKX1yZXR1cm4gcn07XG59LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGdlb21ldHJ5KHIpe2lmKFwiUG9seWdvblwiPT09ci50eXBlKXJldHVybiBwb2x5Z29uQXJlYShyLmNvb3JkaW5hdGVzKTtpZihcIk11bHRpUG9seWdvblwiPT09ci50eXBlKXtmb3IodmFyIGU9MCxuPTA7bjxyLmNvb3JkaW5hdGVzLmxlbmd0aDtuKyspZSs9cG9seWdvbkFyZWEoci5jb29yZGluYXRlc1tuXSk7cmV0dXJuIGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcG9seWdvbkFyZWEocil7dmFyIGU9MDtpZihyJiZyLmxlbmd0aD4wKXtlKz1NYXRoLmFicyhyaW5nQXJlYShyWzBdKSk7Zm9yKHZhciBuPTE7bjxyLmxlbmd0aDtuKyspZS09TWF0aC5hYnMocmluZ0FyZWEocltuXSkpfXJldHVybiBlfWZ1bmN0aW9uIHJpbmdBcmVhKHIpe3ZhciBlPTA7aWYoci5sZW5ndGg+Mil7Zm9yKHZhciBuLHQsbz0wO288ci5sZW5ndGgtMTtvKyspbj1yW29dLHQ9cltvKzFdLGUrPXJhZCh0WzBdLW5bMF0pKigyK01hdGguc2luKHJhZChuWzFdKSkrTWF0aC5zaW4ocmFkKHRbMV0pKSk7ZT1lKndnczg0LlJBRElVUyp3Z3M4NC5SQURJVVMvMn1yZXR1cm4gZX1mdW5jdGlvbiByYWQocil7cmV0dXJuIHIqTWF0aC5QSS8xODB9dmFyIHdnczg0PXJlcXVpcmUoXCJ3Z3M4NFwiKTttb2R1bGUuZXhwb3J0cy5nZW9tZXRyeT1nZW9tZXRyeSxtb2R1bGUuZXhwb3J0cy5yaW5nPXJpbmdBcmVhO1xufSx7XCJ3Z3M4NFwiOjQyfV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiByZXdpbmQocixlKXtzd2l0Y2gociYmci50eXBlfHxudWxsKXtjYXNlXCJGZWF0dXJlQ29sbGVjdGlvblwiOnJldHVybiByLmZlYXR1cmVzPXIuZmVhdHVyZXMubWFwKGN1cnJ5T3V0ZXIocmV3aW5kLGUpKSxyO2Nhc2VcIkZlYXR1cmVcIjpyZXR1cm4gci5nZW9tZXRyeT1yZXdpbmQoci5nZW9tZXRyeSxlKSxyO2Nhc2VcIlBvbHlnb25cIjpjYXNlXCJNdWx0aVBvbHlnb25cIjpyZXR1cm4gY29ycmVjdChyLGUpO2RlZmF1bHQ6cmV0dXJuIHJ9fWZ1bmN0aW9uIGN1cnJ5T3V0ZXIocixlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHIobixlKX19ZnVuY3Rpb24gY29ycmVjdChyLGUpe3JldHVyblwiUG9seWdvblwiPT09ci50eXBlP3IuY29vcmRpbmF0ZXM9Y29ycmVjdFJpbmdzKHIuY29vcmRpbmF0ZXMsZSk6XCJNdWx0aVBvbHlnb25cIj09PXIudHlwZSYmKHIuY29vcmRpbmF0ZXM9ci5jb29yZGluYXRlcy5tYXAoY3VycnlPdXRlcihjb3JyZWN0UmluZ3MsZSkpKSxyfWZ1bmN0aW9uIGNvcnJlY3RSaW5ncyhyLGUpe2U9ISFlLHJbMF09d2luZChyWzBdLCFlKTtmb3IodmFyIG49MTtuPHIubGVuZ3RoO24rKylyW25dPXdpbmQocltuXSxlKTtyZXR1cm4gcn1mdW5jdGlvbiB3aW5kKHIsZSl7cmV0dXJuIGN3KHIpPT09ZT9yOnIucmV2ZXJzZSgpfWZ1bmN0aW9uIGN3KHIpe3JldHVybiBnZW9qc29uQXJlYS5yaW5nKHIpPj0wfXZhciBnZW9qc29uQXJlYT1yZXF1aXJlKFwiZ2VvanNvbi1hcmVhXCIpO21vZHVsZS5leHBvcnRzPXJld2luZDtcbn0se1wiZ2VvanNvbi1hcmVhXCI6Nn1dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY2xpcChlLHIsdCxuLHUsaSxsLHMpe2lmKHQvPXIsbi89cixsPj10JiZzPD1uKXJldHVybiBlO2lmKGw+bnx8czx0KXJldHVybiBudWxsO2Zvcih2YXIgaD1bXSxwPTA7cDxlLmxlbmd0aDtwKyspe3ZhciBhLGMsbz1lW3BdLGY9by5nZW9tZXRyeSxnPW8udHlwZTtpZihhPW8ubWluW3VdLGM9by5tYXhbdV0sYT49dCYmYzw9biloLnB1c2gobyk7ZWxzZSBpZighKGE+bnx8Yzx0KSl7dmFyIHY9MT09PWc/Y2xpcFBvaW50cyhmLHQsbix1KTpjbGlwR2VvbWV0cnkoZix0LG4sdSxpLDM9PT1nKTt2Lmxlbmd0aCYmaC5wdXNoKGNyZWF0ZUZlYXR1cmUoby50YWdzLGcsdixvLmlkKSl9fXJldHVybiBoLmxlbmd0aD9oOm51bGx9ZnVuY3Rpb24gY2xpcFBvaW50cyhlLHIsdCxuKXtmb3IodmFyIHU9W10saT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbD1lW2ldLHM9bFtuXTtzPj1yJiZzPD10JiZ1LnB1c2gobCl9cmV0dXJuIHV9ZnVuY3Rpb24gY2xpcEdlb21ldHJ5KGUscix0LG4sdSxpKXtmb3IodmFyIGw9W10scz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgaCxwLGEsYz0wLG89MCxmPW51bGwsZz1lW3NdLHY9Zy5hcmVhLG09Zy5kaXN0LHc9Zy5vdXRlcixTPWcubGVuZ3RoLGQ9W107Zm9yKHA9MDtwPFMtMTtwKyspaD1mfHxnW3BdLGY9Z1twKzFdLGM9b3x8aFtuXSxvPWZbbl0sYzxyP28+dD8oZC5wdXNoKHUoaCxmLHIpLHUoaCxmLHQpKSxpfHwoZD1uZXdTbGljZShsLGQsdixtLHcpKSk6bz49ciYmZC5wdXNoKHUoaCxmLHIpKTpjPnQ/bzxyPyhkLnB1c2godShoLGYsdCksdShoLGYscikpLGl8fChkPW5ld1NsaWNlKGwsZCx2LG0sdykpKTpvPD10JiZkLnB1c2godShoLGYsdCkpOihkLnB1c2goaCksbzxyPyhkLnB1c2godShoLGYscikpLGl8fChkPW5ld1NsaWNlKGwsZCx2LG0sdykpKTpvPnQmJihkLnB1c2godShoLGYsdCkpLGl8fChkPW5ld1NsaWNlKGwsZCx2LG0sdykpKSk7aD1nW1MtMV0sYz1oW25dLGM+PXImJmM8PXQmJmQucHVzaChoKSxhPWRbZC5sZW5ndGgtMV0saSYmYSYmKGRbMF1bMF0hPT1hWzBdfHxkWzBdWzFdIT09YVsxXSkmJmQucHVzaChkWzBdKSxuZXdTbGljZShsLGQsdixtLHcpfXJldHVybiBsfWZ1bmN0aW9uIG5ld1NsaWNlKGUscix0LG4sdSl7cmV0dXJuIHIubGVuZ3RoJiYoci5hcmVhPXQsci5kaXN0PW4sdm9pZCAwIT09dSYmKHIub3V0ZXI9dSksZS5wdXNoKHIpKSxbXX1tb2R1bGUuZXhwb3J0cz1jbGlwO3ZhciBjcmVhdGVGZWF0dXJlPXJlcXVpcmUoXCIuL2ZlYXR1cmVcIik7XG59LHtcIi4vZmVhdHVyZVwiOjEwfV0sOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjb252ZXJ0KGUsdCl7dmFyIHI9W107aWYoXCJGZWF0dXJlQ29sbGVjdGlvblwiPT09ZS50eXBlKWZvcih2YXIgbz0wO288ZS5mZWF0dXJlcy5sZW5ndGg7bysrKWNvbnZlcnRGZWF0dXJlKHIsZS5mZWF0dXJlc1tvXSx0KTtlbHNlXCJGZWF0dXJlXCI9PT1lLnR5cGU/Y29udmVydEZlYXR1cmUocixlLHQpOmNvbnZlcnRGZWF0dXJlKHIse2dlb21ldHJ5OmV9LHQpO3JldHVybiByfWZ1bmN0aW9uIGNvbnZlcnRGZWF0dXJlKGUsdCxyKXtpZihudWxsIT09dC5nZW9tZXRyeSl7dmFyIG8sYSxpLG4sdT10Lmdlb21ldHJ5LGM9dS50eXBlLGw9dS5jb29yZGluYXRlcyxzPXQucHJvcGVydGllcyxwPXQuaWQ7aWYoXCJQb2ludFwiPT09YyllLnB1c2goY3JlYXRlRmVhdHVyZShzLDEsW3Byb2plY3RQb2ludChsKV0scCkpO2Vsc2UgaWYoXCJNdWx0aVBvaW50XCI9PT1jKWUucHVzaChjcmVhdGVGZWF0dXJlKHMsMSxwcm9qZWN0KGwpLHApKTtlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09YyllLnB1c2goY3JlYXRlRmVhdHVyZShzLDIsW3Byb2plY3QobCxyKV0scCkpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PWN8fFwiUG9seWdvblwiPT09Yyl7Zm9yKGk9W10sbz0wO288bC5sZW5ndGg7bysrKW49cHJvamVjdChsW29dLHIpLFwiUG9seWdvblwiPT09YyYmKG4ub3V0ZXI9MD09PW8pLGkucHVzaChuKTtlLnB1c2goY3JlYXRlRmVhdHVyZShzLFwiUG9seWdvblwiPT09Yz8zOjIsaSxwKSl9ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09Yyl7Zm9yKGk9W10sbz0wO288bC5sZW5ndGg7bysrKWZvcihhPTA7YTxsW29dLmxlbmd0aDthKyspbj1wcm9qZWN0KGxbb11bYV0sciksbi5vdXRlcj0wPT09YSxpLnB1c2gobik7ZS5wdXNoKGNyZWF0ZUZlYXR1cmUocywzLGkscCkpfWVsc2V7aWYoXCJHZW9tZXRyeUNvbGxlY3Rpb25cIiE9PWMpdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgZGF0YSBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC5cIik7Zm9yKG89MDtvPHUuZ2VvbWV0cmllcy5sZW5ndGg7bysrKWNvbnZlcnRGZWF0dXJlKGUse2dlb21ldHJ5OnUuZ2VvbWV0cmllc1tvXSxwcm9wZXJ0aWVzOnN9LHIpfX19ZnVuY3Rpb24gcHJvamVjdChlLHQpe2Zvcih2YXIgcj1bXSxvPTA7bzxlLmxlbmd0aDtvKyspci5wdXNoKHByb2plY3RQb2ludChlW29dKSk7cmV0dXJuIHQmJihzaW1wbGlmeShyLHQpLGNhbGNTaXplKHIpKSxyfWZ1bmN0aW9uIHByb2plY3RQb2ludChlKXt2YXIgdD1NYXRoLnNpbihlWzFdKk1hdGguUEkvMTgwKSxyPWVbMF0vMzYwKy41LG89LjUtLjI1Kk1hdGgubG9nKCgxK3QpLygxLXQpKS9NYXRoLlBJO3JldHVybiBvPW88MD8wOm8+MT8xOm8sW3IsbywwXX1mdW5jdGlvbiBjYWxjU2l6ZShlKXtmb3IodmFyIHQscixvPTAsYT0wLGk9MDtpPGUubGVuZ3RoLTE7aSsrKXQ9cnx8ZVtpXSxyPWVbaSsxXSxvKz10WzBdKnJbMV0tclswXSp0WzFdLGErPU1hdGguYWJzKHJbMF0tdFswXSkrTWF0aC5hYnMoclsxXS10WzFdKTtlLmFyZWE9TWF0aC5hYnMoby8yKSxlLmRpc3Q9YX1tb2R1bGUuZXhwb3J0cz1jb252ZXJ0O3ZhciBzaW1wbGlmeT1yZXF1aXJlKFwiLi9zaW1wbGlmeVwiKSxjcmVhdGVGZWF0dXJlPXJlcXVpcmUoXCIuL2ZlYXR1cmVcIik7XG59LHtcIi4vZmVhdHVyZVwiOjEwLFwiLi9zaW1wbGlmeVwiOjEyfV0sMTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY3JlYXRlRmVhdHVyZShlLHQsYSxuKXt2YXIgcj17aWQ6bnx8bnVsbCx0eXBlOnQsZ2VvbWV0cnk6YSx0YWdzOmV8fG51bGwsbWluOlsxLzAsMS8wXSxtYXg6Wy0oMS8wKSwtKDEvMCldfTtyZXR1cm4gY2FsY0JCb3gocikscn1mdW5jdGlvbiBjYWxjQkJveChlKXt2YXIgdD1lLmdlb21ldHJ5LGE9ZS5taW4sbj1lLm1heDtpZigxPT09ZS50eXBlKWNhbGNSaW5nQkJveChhLG4sdCk7ZWxzZSBmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyljYWxjUmluZ0JCb3goYSxuLHRbcl0pO3JldHVybiBlfWZ1bmN0aW9uIGNhbGNSaW5nQkJveChlLHQsYSl7Zm9yKHZhciBuLHI9MDtyPGEubGVuZ3RoO3IrKyluPWFbcl0sZVswXT1NYXRoLm1pbihuWzBdLGVbMF0pLHRbMF09TWF0aC5tYXgoblswXSx0WzBdKSxlWzFdPU1hdGgubWluKG5bMV0sZVsxXSksdFsxXT1NYXRoLm1heChuWzFdLHRbMV0pfW1vZHVsZS5leHBvcnRzPWNyZWF0ZUZlYXR1cmU7XG59LHt9XSwxMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBnZW9qc29udnQoZSx0KXtyZXR1cm4gbmV3IEdlb0pTT05WVChlLHQpfWZ1bmN0aW9uIEdlb0pTT05WVChlLHQpe3Q9dGhpcy5vcHRpb25zPWV4dGVuZChPYmplY3QuY3JlYXRlKHRoaXMub3B0aW9ucyksdCk7dmFyIGk9dC5kZWJ1ZztpJiZjb25zb2xlLnRpbWUoXCJwcmVwcm9jZXNzIGRhdGFcIik7dmFyIG89MTw8dC5tYXhab29tLG49Y29udmVydChlLHQudG9sZXJhbmNlLyhvKnQuZXh0ZW50KSk7dGhpcy50aWxlcz17fSx0aGlzLnRpbGVDb29yZHM9W10saSYmKGNvbnNvbGUudGltZUVuZChcInByZXByb2Nlc3MgZGF0YVwiKSxjb25zb2xlLmxvZyhcImluZGV4OiBtYXhab29tOiAlZCwgbWF4UG9pbnRzOiAlZFwiLHQuaW5kZXhNYXhab29tLHQuaW5kZXhNYXhQb2ludHMpLGNvbnNvbGUudGltZShcImdlbmVyYXRlIHRpbGVzXCIpLHRoaXMuc3RhdHM9e30sdGhpcy50b3RhbD0wKSxuPXdyYXAobix0LmJ1ZmZlci90LmV4dGVudCxpbnRlcnNlY3RYKSxuLmxlbmd0aCYmdGhpcy5zcGxpdFRpbGUobiwwLDAsMCksaSYmKG4ubGVuZ3RoJiZjb25zb2xlLmxvZyhcImZlYXR1cmVzOiAlZCwgcG9pbnRzOiAlZFwiLHRoaXMudGlsZXNbMF0ubnVtRmVhdHVyZXMsdGhpcy50aWxlc1swXS5udW1Qb2ludHMpLGNvbnNvbGUudGltZUVuZChcImdlbmVyYXRlIHRpbGVzXCIpLGNvbnNvbGUubG9nKFwidGlsZXMgZ2VuZXJhdGVkOlwiLHRoaXMudG90YWwsSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0cykpKX1mdW5jdGlvbiB0b0lEKGUsdCxpKXtyZXR1cm4gMzIqKCgxPDxlKSppK3QpK2V9ZnVuY3Rpb24gaW50ZXJzZWN0WChlLHQsaSl7cmV0dXJuW2ksKGktZVswXSkqKHRbMV0tZVsxXSkvKHRbMF0tZVswXSkrZVsxXSwxXX1mdW5jdGlvbiBpbnRlcnNlY3RZKGUsdCxpKXtyZXR1cm5bKGktZVsxXSkqKHRbMF0tZVswXSkvKHRbMV0tZVsxXSkrZVswXSxpLDFdfWZ1bmN0aW9uIGV4dGVuZChlLHQpe2Zvcih2YXIgaSBpbiB0KWVbaV09dFtpXTtyZXR1cm4gZX1mdW5jdGlvbiBpc0NsaXBwZWRTcXVhcmUoZSx0LGkpe3ZhciBvPWUuc291cmNlO2lmKDEhPT1vLmxlbmd0aClyZXR1cm4hMTt2YXIgbj1vWzBdO2lmKDMhPT1uLnR5cGV8fG4uZ2VvbWV0cnkubGVuZ3RoPjEpcmV0dXJuITE7dmFyIHI9bi5nZW9tZXRyeVswXS5sZW5ndGg7aWYoNSE9PXIpcmV0dXJuITE7Zm9yKHZhciBzPTA7czxyO3MrKyl7dmFyIGw9dHJhbnNmb3JtLnBvaW50KG4uZ2VvbWV0cnlbMF1bc10sdCxlLnoyLGUueCxlLnkpO2lmKGxbMF0hPT0taSYmbFswXSE9PXQraXx8bFsxXSE9PS1pJiZsWzFdIT09dCtpKXJldHVybiExfXJldHVybiEwfW1vZHVsZS5leHBvcnRzPWdlb2pzb252dDt2YXIgY29udmVydD1yZXF1aXJlKFwiLi9jb252ZXJ0XCIpLHRyYW5zZm9ybT1yZXF1aXJlKFwiLi90cmFuc2Zvcm1cIiksY2xpcD1yZXF1aXJlKFwiLi9jbGlwXCIpLHdyYXA9cmVxdWlyZShcIi4vd3JhcFwiKSxjcmVhdGVUaWxlPXJlcXVpcmUoXCIuL3RpbGVcIik7R2VvSlNPTlZULnByb3RvdHlwZS5vcHRpb25zPXttYXhab29tOjE0LGluZGV4TWF4Wm9vbTo1LGluZGV4TWF4UG9pbnRzOjFlNSxzb2xpZENoaWxkcmVuOiExLHRvbGVyYW5jZTozLGV4dGVudDo0MDk2LGJ1ZmZlcjo2NCxkZWJ1ZzowfSxHZW9KU09OVlQucHJvdG90eXBlLnNwbGl0VGlsZT1mdW5jdGlvbihlLHQsaSxvLG4scixzKXtmb3IodmFyIGw9W2UsdCxpLG9dLGE9dGhpcy5vcHRpb25zLHU9YS5kZWJ1ZyxjPW51bGw7bC5sZW5ndGg7KXtvPWwucG9wKCksaT1sLnBvcCgpLHQ9bC5wb3AoKSxlPWwucG9wKCk7dmFyIHA9MTw8dCxkPXRvSUQodCxpLG8pLG09dGhpcy50aWxlc1tkXSxmPXQ9PT1hLm1heFpvb20/MDphLnRvbGVyYW5jZS8ocCphLmV4dGVudCk7aWYoIW0mJih1PjEmJmNvbnNvbGUudGltZShcImNyZWF0aW9uXCIpLG09dGhpcy50aWxlc1tkXT1jcmVhdGVUaWxlKGUscCxpLG8sZix0PT09YS5tYXhab29tKSx0aGlzLnRpbGVDb29yZHMucHVzaCh7ejp0LHg6aSx5Om99KSx1KSl7dT4xJiYoY29uc29sZS5sb2coXCJ0aWxlIHolZC0lZC0lZCAoZmVhdHVyZXM6ICVkLCBwb2ludHM6ICVkLCBzaW1wbGlmaWVkOiAlZClcIix0LGksbyxtLm51bUZlYXR1cmVzLG0ubnVtUG9pbnRzLG0ubnVtU2ltcGxpZmllZCksY29uc29sZS50aW1lRW5kKFwiY3JlYXRpb25cIikpO3ZhciBoPVwielwiK3Q7dGhpcy5zdGF0c1toXT0odGhpcy5zdGF0c1toXXx8MCkrMSx0aGlzLnRvdGFsKyt9aWYobS5zb3VyY2U9ZSxuKXtpZih0PT09YS5tYXhab29tfHx0PT09biljb250aW51ZTt2YXIgeD0xPDxuLXQ7aWYoaSE9PU1hdGguZmxvb3Ioci94KXx8byE9PU1hdGguZmxvb3Iocy94KSljb250aW51ZX1lbHNlIGlmKHQ9PT1hLmluZGV4TWF4Wm9vbXx8bS5udW1Qb2ludHM8PWEuaW5kZXhNYXhQb2ludHMpY29udGludWU7aWYoYS5zb2xpZENoaWxkcmVufHwhaXNDbGlwcGVkU3F1YXJlKG0sYS5leHRlbnQsYS5idWZmZXIpKXttLnNvdXJjZT1udWxsLHU+MSYmY29uc29sZS50aW1lKFwiY2xpcHBpbmdcIik7dmFyIGcsdixNLFQsYix5LFM9LjUqYS5idWZmZXIvYS5leHRlbnQsWj0uNS1TLHE9LjUrUyx3PTErUztnPXY9TT1UPW51bGwsYj1jbGlwKGUscCxpLVMsaStxLDAsaW50ZXJzZWN0WCxtLm1pblswXSxtLm1heFswXSkseT1jbGlwKGUscCxpK1osaSt3LDAsaW50ZXJzZWN0WCxtLm1pblswXSxtLm1heFswXSksYiYmKGc9Y2xpcChiLHAsby1TLG8rcSwxLGludGVyc2VjdFksbS5taW5bMV0sbS5tYXhbMV0pLHY9Y2xpcChiLHAsbytaLG8rdywxLGludGVyc2VjdFksbS5taW5bMV0sbS5tYXhbMV0pKSx5JiYoTT1jbGlwKHkscCxvLVMsbytxLDEsaW50ZXJzZWN0WSxtLm1pblsxXSxtLm1heFsxXSksVD1jbGlwKHkscCxvK1osbyt3LDEsaW50ZXJzZWN0WSxtLm1pblsxXSxtLm1heFsxXSkpLHU+MSYmY29uc29sZS50aW1lRW5kKFwiY2xpcHBpbmdcIiksZS5sZW5ndGgmJihsLnB1c2goZ3x8W10sdCsxLDIqaSwyKm8pLGwucHVzaCh2fHxbXSx0KzEsMippLDIqbysxKSxsLnB1c2goTXx8W10sdCsxLDIqaSsxLDIqbyksbC5wdXNoKFR8fFtdLHQrMSwyKmkrMSwyKm8rMSkpfWVsc2UgbiYmKGM9dCl9cmV0dXJuIGN9LEdlb0pTT05WVC5wcm90b3R5cGUuZ2V0VGlsZT1mdW5jdGlvbihlLHQsaSl7dmFyIG89dGhpcy5vcHRpb25zLG49by5leHRlbnQscj1vLmRlYnVnLHM9MTw8ZTt0PSh0JXMrcyklczt2YXIgbD10b0lEKGUsdCxpKTtpZih0aGlzLnRpbGVzW2xdKXJldHVybiB0cmFuc2Zvcm0udGlsZSh0aGlzLnRpbGVzW2xdLG4pO3I+MSYmY29uc29sZS5sb2coXCJkcmlsbGluZyBkb3duIHRvIHolZC0lZC0lZFwiLGUsdCxpKTtmb3IodmFyIGEsdT1lLGM9dCxwPWk7IWEmJnU+MDspdS0tLGM9TWF0aC5mbG9vcihjLzIpLHA9TWF0aC5mbG9vcihwLzIpLGE9dGhpcy50aWxlc1t0b0lEKHUsYyxwKV07aWYoIWF8fCFhLnNvdXJjZSlyZXR1cm4gbnVsbDtpZihyPjEmJmNvbnNvbGUubG9nKFwiZm91bmQgcGFyZW50IHRpbGUgeiVkLSVkLSVkXCIsdSxjLHApLGlzQ2xpcHBlZFNxdWFyZShhLG4sby5idWZmZXIpKXJldHVybiB0cmFuc2Zvcm0udGlsZShhLG4pO3I+MSYmY29uc29sZS50aW1lKFwiZHJpbGxpbmcgZG93blwiKTt2YXIgZD10aGlzLnNwbGl0VGlsZShhLnNvdXJjZSx1LGMscCxlLHQsaSk7aWYocj4xJiZjb25zb2xlLnRpbWVFbmQoXCJkcmlsbGluZyBkb3duXCIpLG51bGwhPT1kKXt2YXIgbT0xPDxlLWQ7bD10b0lEKGQsTWF0aC5mbG9vcih0L20pLE1hdGguZmxvb3IoaS9tKSl9cmV0dXJuIHRoaXMudGlsZXNbbF0/dHJhbnNmb3JtLnRpbGUodGhpcy50aWxlc1tsXSxuKTpudWxsfTtcbn0se1wiLi9jbGlwXCI6OCxcIi4vY29udmVydFwiOjksXCIuL3RpbGVcIjoxMyxcIi4vdHJhbnNmb3JtXCI6MTQsXCIuL3dyYXBcIjoxNX1dLDEyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIHNpbXBsaWZ5KHQsaSl7dmFyIGUscCxyLHMsbz1pKmksZj10Lmxlbmd0aCx1PTAsbj1mLTEsZz1bXTtmb3IodFt1XVsyXT0xLHRbbl1bMl09MTtuOyl7Zm9yKHA9MCxlPXUrMTtlPG47ZSsrKXI9Z2V0U3FTZWdEaXN0KHRbZV0sdFt1XSx0W25dKSxyPnAmJihzPWUscD1yKTtwPm8/KHRbc11bMl09cCxnLnB1c2godSksZy5wdXNoKHMpLHU9cyk6KG49Zy5wb3AoKSx1PWcucG9wKCkpfX1mdW5jdGlvbiBnZXRTcVNlZ0Rpc3QodCxpLGUpe3ZhciBwPWlbMF0scj1pWzFdLHM9ZVswXSxvPWVbMV0sZj10WzBdLHU9dFsxXSxuPXMtcCxnPW8tcjtpZigwIT09bnx8MCE9PWcpe3ZhciBsPSgoZi1wKSpuKyh1LXIpKmcpLyhuKm4rZypnKTtsPjE/KHA9cyxyPW8pOmw+MCYmKHArPW4qbCxyKz1nKmwpfXJldHVybiBuPWYtcCxnPXUtcixuKm4rZypnfW1vZHVsZS5leHBvcnRzPXNpbXBsaWZ5O1xufSx7fV0sMTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY3JlYXRlVGlsZShlLG4scixpLHQsdSl7Zm9yKHZhciBhPXtmZWF0dXJlczpbXSxudW1Qb2ludHM6MCxudW1TaW1wbGlmaWVkOjAsbnVtRmVhdHVyZXM6MCxzb3VyY2U6bnVsbCx4OnIseTppLHoyOm4sdHJhbnNmb3JtZWQ6ITEsbWluOlsyLDFdLG1heDpbLTEsMF19LG09MDttPGUubGVuZ3RoO20rKyl7YS5udW1GZWF0dXJlcysrLGFkZEZlYXR1cmUoYSxlW21dLHQsdSk7dmFyIHM9ZVttXS5taW4sbD1lW21dLm1heDtzWzBdPGEubWluWzBdJiYoYS5taW5bMF09c1swXSksc1sxXTxhLm1pblsxXSYmKGEubWluWzFdPXNbMV0pLGxbMF0+YS5tYXhbMF0mJihhLm1heFswXT1sWzBdKSxsWzFdPmEubWF4WzFdJiYoYS5tYXhbMV09bFsxXSl9cmV0dXJuIGF9ZnVuY3Rpb24gYWRkRmVhdHVyZShlLG4scixpKXt2YXIgdCx1LGEsbSxzPW4uZ2VvbWV0cnksbD1uLnR5cGUsbz1bXSxmPXIqcjtpZigxPT09bClmb3IodD0wO3Q8cy5sZW5ndGg7dCsrKW8ucHVzaChzW3RdKSxlLm51bVBvaW50cysrLGUubnVtU2ltcGxpZmllZCsrO2Vsc2UgZm9yKHQ9MDt0PHMubGVuZ3RoO3QrKylpZihhPXNbdF0saXx8ISgyPT09bCYmYS5kaXN0PHJ8fDM9PT1sJiZhLmFyZWE8Zikpe3ZhciBkPVtdO2Zvcih1PTA7dTxhLmxlbmd0aDt1KyspbT1hW3VdLChpfHxtWzJdPmYpJiYoZC5wdXNoKG0pLGUubnVtU2ltcGxpZmllZCsrKSxlLm51bVBvaW50cysrOzM9PT1sJiZyZXdpbmQoZCxhLm91dGVyKSxvLnB1c2goZCl9ZWxzZSBlLm51bVBvaW50cys9YS5sZW5ndGg7aWYoby5sZW5ndGgpe3ZhciBnPXtnZW9tZXRyeTpvLHR5cGU6bCx0YWdzOm4udGFnc3x8bnVsbH07bnVsbCE9PW4uaWQmJihnLmlkPW4uaWQpLGUuZmVhdHVyZXMucHVzaChnKX19ZnVuY3Rpb24gcmV3aW5kKGUsbil7dmFyIHI9c2lnbmVkQXJlYShlKTtyPDA9PT1uJiZlLnJldmVyc2UoKX1mdW5jdGlvbiBzaWduZWRBcmVhKGUpe2Zvcih2YXIgbixyLGk9MCx0PTAsdT1lLmxlbmd0aCxhPXUtMTt0PHU7YT10Kyspbj1lW3RdLHI9ZVthXSxpKz0oclswXS1uWzBdKSooblsxXStyWzFdKTtyZXR1cm4gaX1tb2R1bGUuZXhwb3J0cz1jcmVhdGVUaWxlO1xufSx7fV0sMTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdHJhbnNmb3JtVGlsZShyLHQpe2lmKHIudHJhbnNmb3JtZWQpcmV0dXJuIHI7dmFyIG4sZSxvLGY9ci56MixhPXIueCxzPXIueTtmb3Iobj0wO248ci5mZWF0dXJlcy5sZW5ndGg7bisrKXt2YXIgaT1yLmZlYXR1cmVzW25dLHU9aS5nZW9tZXRyeSxtPWkudHlwZTtpZigxPT09bSlmb3IoZT0wO2U8dS5sZW5ndGg7ZSsrKXVbZV09dHJhbnNmb3JtUG9pbnQodVtlXSx0LGYsYSxzKTtlbHNlIGZvcihlPTA7ZTx1Lmxlbmd0aDtlKyspe3ZhciBsPXVbZV07Zm9yKG89MDtvPGwubGVuZ3RoO28rKylsW29dPXRyYW5zZm9ybVBvaW50KGxbb10sdCxmLGEscyl9fXJldHVybiByLnRyYW5zZm9ybWVkPSEwLHJ9ZnVuY3Rpb24gdHJhbnNmb3JtUG9pbnQocix0LG4sZSxvKXt2YXIgZj1NYXRoLnJvdW5kKHQqKHJbMF0qbi1lKSksYT1NYXRoLnJvdW5kKHQqKHJbMV0qbi1vKSk7cmV0dXJuW2YsYV19ZXhwb3J0cy50aWxlPXRyYW5zZm9ybVRpbGUsZXhwb3J0cy5wb2ludD10cmFuc2Zvcm1Qb2ludDtcbn0se31dLDE1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIHdyYXAocixlLHQpe3ZhciBvPXIsYT1jbGlwKHIsMSwtMS1lLGUsMCx0LC0xLDIpLHM9Y2xpcChyLDEsMS1lLDIrZSwwLHQsLTEsMik7cmV0dXJuKGF8fHMpJiYobz1jbGlwKHIsMSwtZSwxK2UsMCx0LC0xLDIpfHxbXSxhJiYobz1zaGlmdEZlYXR1cmVDb29yZHMoYSwxKS5jb25jYXQobykpLHMmJihvPW8uY29uY2F0KHNoaWZ0RmVhdHVyZUNvb3JkcyhzLC0xKSkpKSxvfWZ1bmN0aW9uIHNoaWZ0RmVhdHVyZUNvb3JkcyhyLGUpe2Zvcih2YXIgdD1bXSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBhLHM9cltvXSxpPXMudHlwZTtpZigxPT09aSlhPXNoaWZ0Q29vcmRzKHMuZ2VvbWV0cnksZSk7ZWxzZXthPVtdO2Zvcih2YXIgdT0wO3U8cy5nZW9tZXRyeS5sZW5ndGg7dSsrKWEucHVzaChzaGlmdENvb3JkcyhzLmdlb21ldHJ5W3VdLGUpKX10LnB1c2goY3JlYXRlRmVhdHVyZShzLnRhZ3MsaSxhLHMuaWQpKX1yZXR1cm4gdH1mdW5jdGlvbiBzaGlmdENvb3JkcyhyLGUpe3ZhciB0PVtdO3QuYXJlYT1yLmFyZWEsdC5kaXN0PXIuZGlzdDtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyl0LnB1c2goW3Jbb11bMF0rZSxyW29dWzFdLHJbb11bMl1dKTtyZXR1cm4gdH12YXIgY2xpcD1yZXF1aXJlKFwiLi9jbGlwXCIpLGNyZWF0ZUZlYXR1cmU9cmVxdWlyZShcIi4vZmVhdHVyZVwiKTttb2R1bGUuZXhwb3J0cz13cmFwO1xufSx7XCIuL2NsaXBcIjo4LFwiLi9mZWF0dXJlXCI6MTB9XSwxNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBHcmlkSW5kZXgodCxyLGUpe3ZhciBzPXRoaXMuY2VsbHM9W107aWYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt0aGlzLmFycmF5QnVmZmVyPXQ7dmFyIGk9bmV3IEludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7dD1pWzBdLHI9aVsxXSxlPWlbMl0sdGhpcy5kPXIrMiplO2Zvcih2YXIgaD0wO2g8dGhpcy5kKnRoaXMuZDtoKyspe3ZhciBuPWlbTlVNX1BBUkFNUytoXSxvPWlbTlVNX1BBUkFNUytoKzFdO3MucHVzaChuPT09bz9udWxsOmkuc3ViYXJyYXkobixvKSl9dmFyIGw9aVtOVU1fUEFSQU1TK3MubGVuZ3RoXSxhPWlbTlVNX1BBUkFNUytzLmxlbmd0aCsxXTt0aGlzLmtleXM9aS5zdWJhcnJheShsLGEpLHRoaXMuYmJveGVzPWkuc3ViYXJyYXkoYSksdGhpcy5pbnNlcnQ9dGhpcy5faW5zZXJ0UmVhZG9ubHl9ZWxzZXt0aGlzLmQ9cisyKmU7Zm9yKHZhciBkPTA7ZDx0aGlzLmQqdGhpcy5kO2QrKylzLnB1c2goW10pO3RoaXMua2V5cz1bXSx0aGlzLmJib3hlcz1bXX10aGlzLm49cix0aGlzLmV4dGVudD10LHRoaXMucGFkZGluZz1lLHRoaXMuc2NhbGU9ci90LHRoaXMudWlkPTA7dmFyIGY9ZS9yKnQ7dGhpcy5taW49LWYsdGhpcy5tYXg9dCtmfW1vZHVsZS5leHBvcnRzPUdyaWRJbmRleDt2YXIgTlVNX1BBUkFNUz0zO0dyaWRJbmRleC5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQscixlLHMsaSl7dGhpcy5fZm9yRWFjaENlbGwocixlLHMsaSx0aGlzLl9pbnNlcnRDZWxsLHRoaXMudWlkKyspLHRoaXMua2V5cy5wdXNoKHQpLHRoaXMuYmJveGVzLnB1c2gociksdGhpcy5iYm94ZXMucHVzaChlKSx0aGlzLmJib3hlcy5wdXNoKHMpLHRoaXMuYmJveGVzLnB1c2goaSl9LEdyaWRJbmRleC5wcm90b3R5cGUuX2luc2VydFJlYWRvbmx5PWZ1bmN0aW9uKCl7dGhyb3dcIkNhbm5vdCBpbnNlcnQgaW50byBhIEdyaWRJbmRleCBjcmVhdGVkIGZyb20gYW4gQXJyYXlCdWZmZXIuXCJ9LEdyaWRJbmRleC5wcm90b3R5cGUuX2luc2VydENlbGw9ZnVuY3Rpb24odCxyLGUscyxpLGgpe3RoaXMuY2VsbHNbaV0ucHVzaChoKX0sR3JpZEluZGV4LnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0LHIsZSxzKXt2YXIgaT10aGlzLm1pbixoPXRoaXMubWF4O2lmKHQ8PWkmJnI8PWkmJmg8PWUmJmg8PXMpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMua2V5cyk7dmFyIG49W10sbz17fTtyZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwodCxyLGUscyx0aGlzLl9xdWVyeUNlbGwsbixvKSxufSxHcmlkSW5kZXgucHJvdG90eXBlLl9xdWVyeUNlbGw9ZnVuY3Rpb24odCxyLGUscyxpLGgsbil7dmFyIG89dGhpcy5jZWxsc1tpXTtpZihudWxsIT09bylmb3IodmFyIGw9dGhpcy5rZXlzLGE9dGhpcy5iYm94ZXMsZD0wO2Q8by5sZW5ndGg7ZCsrKXt2YXIgZj1vW2RdO2lmKHZvaWQgMD09PW5bZl0pe3ZhciB1PTQqZjt0PD1hW3UrMl0mJnI8PWFbdSszXSYmZT49YVt1KzBdJiZzPj1hW3UrMV0/KG5bZl09ITAsaC5wdXNoKGxbZl0pKTpuW2ZdPSExfX19LEdyaWRJbmRleC5wcm90b3R5cGUuX2ZvckVhY2hDZWxsPWZ1bmN0aW9uKHQscixlLHMsaSxoLG4pe2Zvcih2YXIgbz10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQodCksbD10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQociksYT10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQoZSksZD10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQocyksZj1vO2Y8PWE7ZisrKWZvcih2YXIgdT1sO3U8PWQ7dSsrKXt2YXIgeT10aGlzLmQqdStmO2lmKGkuY2FsbCh0aGlzLHQscixlLHMseSxoLG4pKXJldHVybn19LEdyaWRJbmRleC5wcm90b3R5cGUuX2NvbnZlcnRUb0NlbGxDb29yZD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLmQtMSxNYXRoLmZsb29yKHQqdGhpcy5zY2FsZSkrdGhpcy5wYWRkaW5nKSl9LEdyaWRJbmRleC5wcm90b3R5cGUudG9BcnJheUJ1ZmZlcj1mdW5jdGlvbigpe2lmKHRoaXMuYXJyYXlCdWZmZXIpcmV0dXJuIHRoaXMuYXJyYXlCdWZmZXI7Zm9yKHZhciB0PXRoaXMuY2VsbHMscj1OVU1fUEFSQU1TK3RoaXMuY2VsbHMubGVuZ3RoKzErMSxlPTAscz0wO3M8dGhpcy5jZWxscy5sZW5ndGg7cysrKWUrPXRoaXMuY2VsbHNbc10ubGVuZ3RoO3ZhciBpPW5ldyBJbnQzMkFycmF5KHIrZSt0aGlzLmtleXMubGVuZ3RoK3RoaXMuYmJveGVzLmxlbmd0aCk7aVswXT10aGlzLmV4dGVudCxpWzFdPXRoaXMubixpWzJdPXRoaXMucGFkZGluZztmb3IodmFyIGg9cixuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07aVtOVU1fUEFSQU1TK25dPWgsaS5zZXQobyxoKSxoKz1vLmxlbmd0aH1yZXR1cm4gaVtOVU1fUEFSQU1TK3QubGVuZ3RoXT1oLGkuc2V0KHRoaXMua2V5cyxoKSxoKz10aGlzLmtleXMubGVuZ3RoLGlbTlVNX1BBUkFNUyt0Lmxlbmd0aCsxXT1oLGkuc2V0KHRoaXMuYmJveGVzLGgpLGgrPXRoaXMuYmJveGVzLmxlbmd0aCxpLmJ1ZmZlcn07XG59LHt9XSwxNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5leHBvcnRzLnJlYWQ9ZnVuY3Rpb24oYSxvLHQscixoKXt2YXIgTSxwLHc9OCpoLXItMSxmPSgxPDx3KS0xLGU9Zj4+MSxpPS03LE49dD9oLTE6MCxuPXQ/LTE6MSxzPWFbbytOXTtmb3IoTis9bixNPXMmKDE8PC1pKS0xLHM+Pj0taSxpKz13O2k+MDtNPTI1NipNK2FbbytOXSxOKz1uLGktPTgpO2ZvcihwPU0mKDE8PC1pKS0xLE0+Pj0taSxpKz1yO2k+MDtwPTI1NipwK2FbbytOXSxOKz1uLGktPTgpO2lmKDA9PT1NKU09MS1lO2Vsc2V7aWYoTT09PWYpcmV0dXJuIHA/TmFOOihzPy0xOjEpKigxLzApO3ArPU1hdGgucG93KDIsciksTS09ZX1yZXR1cm4ocz8tMToxKSpwKk1hdGgucG93KDIsTS1yKX0sZXhwb3J0cy53cml0ZT1mdW5jdGlvbihhLG8sdCxyLGgsTSl7dmFyIHAsdyxmLGU9OCpNLWgtMSxpPSgxPDxlKS0xLE49aT4+MSxuPTIzPT09aD9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAscz1yPzA6TS0xLHU9cj8xOi0xLGw9bzwwfHwwPT09byYmMS9vPDA/MTowO2ZvcihvPU1hdGguYWJzKG8pLGlzTmFOKG8pfHxvPT09MS8wPyh3PWlzTmFOKG8pPzE6MCxwPWkpOihwPU1hdGguZmxvb3IoTWF0aC5sb2cobykvTWF0aC5MTjIpLG8qKGY9TWF0aC5wb3coMiwtcCkpPDEmJihwLS0sZio9Miksbys9cCtOPj0xP24vZjpuKk1hdGgucG93KDIsMS1OKSxvKmY+PTImJihwKyssZi89MikscCtOPj1pPyh3PTAscD1pKTpwK04+PTE/KHc9KG8qZi0xKSpNYXRoLnBvdygyLGgpLHArPU4pOih3PW8qTWF0aC5wb3coMixOLTEpKk1hdGgucG93KDIsaCkscD0wKSk7aD49ODthW3Qrc109MjU1Jncscys9dSx3Lz0yNTYsaC09OCk7Zm9yKHA9cDw8aHx3LGUrPWg7ZT4wO2FbdCtzXT0yNTUmcCxzKz11LHAvPTI1NixlLT04KTthW3Qrcy11XXw9MTI4Kmx9O1xufSx7fV0sMTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24ga2RidXNoKHQsaSxlLHMsbil7cmV0dXJuIG5ldyBLREJ1c2godCxpLGUscyxuKX1mdW5jdGlvbiBLREJ1c2godCxpLGUscyxuKXtpPWl8fGRlZmF1bHRHZXRYLGU9ZXx8ZGVmYXVsdEdldFksbj1ufHxBcnJheSx0aGlzLm5vZGVTaXplPXN8fDY0LHRoaXMucG9pbnRzPXQsdGhpcy5pZHM9bmV3IG4odC5sZW5ndGgpLHRoaXMuY29vcmRzPW5ldyBuKDIqdC5sZW5ndGgpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXRoaXMuaWRzW3JdPXIsdGhpcy5jb29yZHNbMipyXT1pKHRbcl0pLHRoaXMuY29vcmRzWzIqcisxXT1lKHRbcl0pO3NvcnQodGhpcy5pZHMsdGhpcy5jb29yZHMsdGhpcy5ub2RlU2l6ZSwwLHRoaXMuaWRzLmxlbmd0aC0xLDApfWZ1bmN0aW9uIGRlZmF1bHRHZXRYKHQpe3JldHVybiB0WzBdfWZ1bmN0aW9uIGRlZmF1bHRHZXRZKHQpe3JldHVybiB0WzFdfXZhciBzb3J0PXJlcXVpcmUoXCIuL3NvcnRcIikscmFuZ2U9cmVxdWlyZShcIi4vcmFuZ2VcIiksd2l0aGluPXJlcXVpcmUoXCIuL3dpdGhpblwiKTttb2R1bGUuZXhwb3J0cz1rZGJ1c2gsS0RCdXNoLnByb3RvdHlwZT17cmFuZ2U6ZnVuY3Rpb24odCxpLGUscyl7cmV0dXJuIHJhbmdlKHRoaXMuaWRzLHRoaXMuY29vcmRzLHQsaSxlLHMsdGhpcy5ub2RlU2l6ZSl9LHdpdGhpbjpmdW5jdGlvbih0LGksZSl7cmV0dXJuIHdpdGhpbih0aGlzLmlkcyx0aGlzLmNvb3Jkcyx0LGksZSx0aGlzLm5vZGVTaXplKX19O1xufSx7XCIuL3JhbmdlXCI6MTksXCIuL3NvcnRcIjoyMCxcIi4vd2l0aGluXCI6MjF9XSwxOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByYW5nZShwLHIscyx1LGgsZSxvKXtmb3IodmFyIGEsdCxuPVswLHAubGVuZ3RoLTEsMF0sZj1bXTtuLmxlbmd0aDspe3ZhciBsPW4ucG9wKCksdj1uLnBvcCgpLGc9bi5wb3AoKTtpZih2LWc8PW8pZm9yKHZhciBpPWc7aTw9djtpKyspYT1yWzIqaV0sdD1yWzIqaSsxXSxhPj1zJiZhPD1oJiZ0Pj11JiZ0PD1lJiZmLnB1c2gocFtpXSk7ZWxzZXt2YXIgYz1NYXRoLmZsb29yKChnK3YpLzIpO2E9clsyKmNdLHQ9clsyKmMrMV0sYT49cyYmYTw9aCYmdD49dSYmdDw9ZSYmZi5wdXNoKHBbY10pO3ZhciBkPShsKzEpJTI7KDA9PT1sP3M8PWE6dTw9dCkmJihuLnB1c2goZyksbi5wdXNoKGMtMSksbi5wdXNoKGQpKSwoMD09PWw/aD49YTplPj10KSYmKG4ucHVzaChjKzEpLG4ucHVzaCh2KSxuLnB1c2goZCkpfX1yZXR1cm4gZn1tb2R1bGUuZXhwb3J0cz1yYW5nZTtcbn0se31dLDIwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIHNvcnRLRCh0LGEsbyxzLHIsZSl7aWYoIShyLXM8PW8pKXt2YXIgZj1NYXRoLmZsb29yKChzK3IpLzIpO3NlbGVjdCh0LGEsZixzLHIsZSUyKSxzb3J0S0QodCxhLG8scyxmLTEsZSsxKSxzb3J0S0QodCxhLG8sZisxLHIsZSsxKX19ZnVuY3Rpb24gc2VsZWN0KHQsYSxvLHMscixlKXtmb3IoO3I+czspe2lmKHItcz42MDApe3ZhciBmPXItcysxLHA9by1zKzEsdz1NYXRoLmxvZyhmKSxtPS41Kk1hdGguZXhwKDIqdy8zKSxuPS41Kk1hdGguc3FydCh3Km0qKGYtbSkvZikqKHAtZi8yPDA/LTE6MSksYz1NYXRoLm1heChzLE1hdGguZmxvb3Ioby1wKm0vZituKSksaD1NYXRoLm1pbihyLE1hdGguZmxvb3IobysoZi1wKSptL2YrbikpO3NlbGVjdCh0LGEsbyxjLGgsZSl9dmFyIGk9YVsyKm8rZV0sbD1zLE09cjtmb3Ioc3dhcEl0ZW0odCxhLHMsbyksYVsyKnIrZV0+aSYmc3dhcEl0ZW0odCxhLHMscik7bDxNOyl7Zm9yKHN3YXBJdGVtKHQsYSxsLE0pLGwrKyxNLS07YVsyKmwrZV08aTspbCsrO2Zvcig7YVsyKk0rZV0+aTspTS0tfWFbMipzK2VdPT09aT9zd2FwSXRlbSh0LGEscyxNKTooTSsrLHN3YXBJdGVtKHQsYSxNLHIpKSxNPD1vJiYocz1NKzEpLG88PU0mJihyPU0tMSl9fWZ1bmN0aW9uIHN3YXBJdGVtKHQsYSxvLHMpe3N3YXAodCxvLHMpLHN3YXAoYSwyKm8sMipzKSxzd2FwKGEsMipvKzEsMipzKzEpfWZ1bmN0aW9uIHN3YXAodCxhLG8pe3ZhciBzPXRbYV07dFthXT10W29dLHRbb109c31tb2R1bGUuZXhwb3J0cz1zb3J0S0Q7XG59LHt9XSwyMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB3aXRoaW4ocyxwLHIsdCx1LGgpe2Zvcih2YXIgaT1bMCxzLmxlbmd0aC0xLDBdLG89W10sbj11KnU7aS5sZW5ndGg7KXt2YXIgZT1pLnBvcCgpLGE9aS5wb3AoKSxmPWkucG9wKCk7aWYoYS1mPD1oKWZvcih2YXIgdj1mO3Y8PWE7disrKXNxRGlzdChwWzIqdl0scFsyKnYrMV0scix0KTw9biYmby5wdXNoKHNbdl0pO2Vsc2V7dmFyIGw9TWF0aC5mbG9vcigoZithKS8yKSxjPXBbMipsXSxxPXBbMipsKzFdO3NxRGlzdChjLHEscix0KTw9biYmby5wdXNoKHNbbF0pO3ZhciBEPShlKzEpJTI7KDA9PT1lP3ItdTw9Yzp0LXU8PXEpJiYoaS5wdXNoKGYpLGkucHVzaChsLTEpLGkucHVzaChEKSksKDA9PT1lP3IrdT49Yzp0K3U+PXEpJiYoaS5wdXNoKGwrMSksaS5wdXNoKGEpLGkucHVzaChEKSl9fXJldHVybiBvfWZ1bmN0aW9uIHNxRGlzdChzLHAscix0KXt2YXIgdT1zLXIsaD1wLXQ7cmV0dXJuIHUqdStoKmh9bW9kdWxlLmV4cG9ydHM9d2l0aGluO1xufSx7fV0sMjI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaXNTdXBwb3J0ZWQoZSl7cmV0dXJuISEoaXNCcm93c2VyKCkmJmlzQXJyYXlTdXBwb3J0ZWQoKSYmaXNGdW5jdGlvblN1cHBvcnRlZCgpJiZpc09iamVjdFN1cHBvcnRlZCgpJiZpc0pTT05TdXBwb3J0ZWQoKSYmaXNXb3JrZXJTdXBwb3J0ZWQoKSYmaXNVaW50OENsYW1wZWRBcnJheVN1cHBvcnRlZCgpJiZpc1dlYkdMU3VwcG9ydGVkQ2FjaGVkKGUmJmUuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCkpfWZ1bmN0aW9uIGlzQnJvd3Nlcigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudH1mdW5jdGlvbiBpc0FycmF5U3VwcG9ydGVkKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZSYmQXJyYXkucHJvdG90eXBlLmV2ZXJ5JiZBcnJheS5wcm90b3R5cGUuZmlsdGVyJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaCYmQXJyYXkucHJvdG90eXBlLmluZGV4T2YmJkFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiYmQXJyYXkucHJvdG90eXBlLm1hcCYmQXJyYXkucHJvdG90eXBlLnNvbWUmJkFycmF5LnByb3RvdHlwZS5yZWR1Y2UmJkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCYmQXJyYXkuaXNBcnJheX1mdW5jdGlvbiBpc0Z1bmN0aW9uU3VwcG9ydGVkKCl7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZSYmRnVuY3Rpb24ucHJvdG90eXBlLmJpbmR9ZnVuY3Rpb24gaXNPYmplY3RTdXBwb3J0ZWQoKXtyZXR1cm4gT2JqZWN0LmtleXMmJk9iamVjdC5jcmVhdGUmJk9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMmJk9iamVjdC5pc1NlYWxlZCYmT2JqZWN0LmlzRnJvemVuJiZPYmplY3QuaXNFeHRlbnNpYmxlJiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJiZPYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzJiZPYmplY3Quc2VhbCYmT2JqZWN0LmZyZWV6ZSYmT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zfWZ1bmN0aW9uIGlzSlNPTlN1cHBvcnRlZCgpe3JldHVyblwiSlNPTlwiaW4gd2luZG93JiZcInBhcnNlXCJpbiBKU09OJiZcInN0cmluZ2lmeVwiaW4gSlNPTn1mdW5jdGlvbiBpc1dvcmtlclN1cHBvcnRlZCgpe3JldHVyblwiV29ya2VyXCJpbiB3aW5kb3d9ZnVuY3Rpb24gaXNVaW50OENsYW1wZWRBcnJheVN1cHBvcnRlZCgpe3JldHVyblwiVWludDhDbGFtcGVkQXJyYXlcImluIHdpbmRvd31mdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkQ2FjaGVkKGUpe3JldHVybiB2b2lkIDA9PT1pc1dlYkdMU3VwcG9ydGVkQ2FjaGVbZV0mJihpc1dlYkdMU3VwcG9ydGVkQ2FjaGVbZV09aXNXZWJHTFN1cHBvcnRlZChlKSksaXNXZWJHTFN1cHBvcnRlZENhY2hlW2VdfWZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWQoZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxyPU9iamVjdC5jcmVhdGUoaXNTdXBwb3J0ZWQud2ViR0xDb250ZXh0QXR0cmlidXRlcyk7cmV0dXJuIHIuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1lLHQucHJvYmFibHlTdXBwb3J0c0NvbnRleHQ/dC5wcm9iYWJseVN1cHBvcnRzQ29udGV4dChcIndlYmdsXCIscil8fHQucHJvYmFibHlTdXBwb3J0c0NvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIixyKTp0LnN1cHBvcnRzQ29udGV4dD90LnN1cHBvcnRzQ29udGV4dChcIndlYmdsXCIscil8fHQuc3VwcG9ydHNDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIscik6dC5nZXRDb250ZXh0KFwid2ViZ2xcIixyKXx8dC5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIscil9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9aXNTdXBwb3J0ZWQ6d2luZG93JiYod2luZG93Lm1hcGJveGdsPXdpbmRvdy5tYXBib3hnbHx8e30sd2luZG93Lm1hcGJveGdsLnN1cHBvcnRlZD1pc1N1cHBvcnRlZCk7dmFyIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZT17fTtpc1N1cHBvcnRlZC53ZWJHTENvbnRleHRBdHRyaWJ1dGVzPXthbnRpYWxpYXM6ITEsYWxwaGE6ITAsc3RlbmNpbDohMCxkZXB0aDohMH07XG59LHt9XSwyMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocix0KXtmb3IodmFyIGU9MCxuPXIubGVuZ3RoLTE7bj49MDtuLS0pe3ZhciBzPXJbbl07XCIuXCI9PT1zP3Iuc3BsaWNlKG4sMSk6XCIuLlwiPT09cz8oci5zcGxpY2UobiwxKSxlKyspOmUmJihyLnNwbGljZShuLDEpLGUtLSl9aWYodClmb3IoO2UtLTtlKXIudW5zaGlmdChcIi4uXCIpO3JldHVybiByfWZ1bmN0aW9uIGZpbHRlcihyLHQpe2lmKHIuZmlsdGVyKXJldHVybiByLmZpbHRlcih0KTtmb3IodmFyIGU9W10sbj0wO248ci5sZW5ndGg7bisrKXQocltuXSxuLHIpJiZlLnB1c2gocltuXSk7cmV0dXJuIGV9dmFyIHNwbGl0UGF0aFJlPS9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvLHNwbGl0UGF0aD1mdW5jdGlvbihyKXtyZXR1cm4gc3BsaXRQYXRoUmUuZXhlYyhyKS5zbGljZSgxKX07ZXhwb3J0cy5yZXNvbHZlPWZ1bmN0aW9uKCl7Zm9yKHZhciByPVwiXCIsdD0hMSxlPWFyZ3VtZW50cy5sZW5ndGgtMTtlPj0tMSYmIXQ7ZS0tKXt2YXIgbj1lPj0wP2FyZ3VtZW50c1tlXTpwcm9jZXNzLmN3ZCgpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5nc1wiKTtuJiYocj1uK1wiL1wiK3IsdD1cIi9cIj09PW4uY2hhckF0KDApKX1yZXR1cm4gcj1ub3JtYWxpemVBcnJheShmaWx0ZXIoci5zcGxpdChcIi9cIiksZnVuY3Rpb24ocil7cmV0dXJuISFyfSksIXQpLmpvaW4oXCIvXCIpLCh0P1wiL1wiOlwiXCIpK3J8fFwiLlwifSxleHBvcnRzLm5vcm1hbGl6ZT1mdW5jdGlvbihyKXt2YXIgdD1leHBvcnRzLmlzQWJzb2x1dGUociksZT1cIi9cIj09PXN1YnN0cihyLC0xKTtyZXR1cm4gcj1ub3JtYWxpemVBcnJheShmaWx0ZXIoci5zcGxpdChcIi9cIiksZnVuY3Rpb24ocil7cmV0dXJuISFyfSksIXQpLmpvaW4oXCIvXCIpLHJ8fHR8fChyPVwiLlwiKSxyJiZlJiYocis9XCIvXCIpLCh0P1wiL1wiOlwiXCIpK3J9LGV4cG9ydHMuaXNBYnNvbHV0ZT1mdW5jdGlvbihyKXtyZXR1cm5cIi9cIj09PXIuY2hhckF0KDApfSxleHBvcnRzLmpvaW49ZnVuY3Rpb24oKXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIGV4cG9ydHMubm9ybWFsaXplKGZpbHRlcihyLGZ1bmN0aW9uKHIsdCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzXCIpO3JldHVybiByfSkuam9pbihcIi9cIikpfSxleHBvcnRzLnJlbGF0aXZlPWZ1bmN0aW9uKHIsdCl7ZnVuY3Rpb24gZShyKXtmb3IodmFyIHQ9MDt0PHIubGVuZ3RoJiZcIlwiPT09clt0XTt0KyspO2Zvcih2YXIgZT1yLmxlbmd0aC0xO2U+PTAmJlwiXCI9PT1yW2VdO2UtLSk7cmV0dXJuIHQ+ZT9bXTpyLnNsaWNlKHQsZS10KzEpfXI9ZXhwb3J0cy5yZXNvbHZlKHIpLnN1YnN0cigxKSx0PWV4cG9ydHMucmVzb2x2ZSh0KS5zdWJzdHIoMSk7Zm9yKHZhciBuPWUoci5zcGxpdChcIi9cIikpLHM9ZSh0LnNwbGl0KFwiL1wiKSksaT1NYXRoLm1pbihuLmxlbmd0aCxzLmxlbmd0aCksbz1pLHU9MDt1PGk7dSsrKWlmKG5bdV0hPT1zW3VdKXtvPXU7YnJlYWt9Zm9yKHZhciBsPVtdLHU9bzt1PG4ubGVuZ3RoO3UrKylsLnB1c2goXCIuLlwiKTtyZXR1cm4gbD1sLmNvbmNhdChzLnNsaWNlKG8pKSxsLmpvaW4oXCIvXCIpfSxleHBvcnRzLnNlcD1cIi9cIixleHBvcnRzLmRlbGltaXRlcj1cIjpcIixleHBvcnRzLmRpcm5hbWU9ZnVuY3Rpb24ocil7dmFyIHQ9c3BsaXRQYXRoKHIpLGU9dFswXSxuPXRbMV07cmV0dXJuIGV8fG4/KG4mJihuPW4uc3Vic3RyKDAsbi5sZW5ndGgtMSkpLGUrbik6XCIuXCJ9LGV4cG9ydHMuYmFzZW5hbWU9ZnVuY3Rpb24ocix0KXt2YXIgZT1zcGxpdFBhdGgocilbMl07cmV0dXJuIHQmJmUuc3Vic3RyKC0xKnQubGVuZ3RoKT09PXQmJihlPWUuc3Vic3RyKDAsZS5sZW5ndGgtdC5sZW5ndGgpKSxlfSxleHBvcnRzLmV4dG5hbWU9ZnVuY3Rpb24ocil7cmV0dXJuIHNwbGl0UGF0aChyKVszXX07dmFyIHN1YnN0cj1cImJcIj09PVwiYWJcIi5zdWJzdHIoLTEpP2Z1bmN0aW9uKHIsdCxlKXtyZXR1cm4gci5zdWJzdHIodCxlKX06ZnVuY3Rpb24ocix0LGUpe3JldHVybiB0PDAmJih0PXIubGVuZ3RoK3QpLHIuc3Vic3RyKHQsZSl9O1xufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJykpXG5cbn0se1wiX3Byb2Nlc3NcIjoyN31dLDI0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIEJ1ZmZlcih0KXt2YXIgZTt0JiZ0Lmxlbmd0aCYmKGU9dCx0PWUubGVuZ3RoKTt2YXIgcj1uZXcgVWludDhBcnJheSh0fHwwKTtyZXR1cm4gZSYmci5zZXQoZSksci5yZWFkVUludDMyTEU9QnVmZmVyTWV0aG9kcy5yZWFkVUludDMyTEUsci53cml0ZVVJbnQzMkxFPUJ1ZmZlck1ldGhvZHMud3JpdGVVSW50MzJMRSxyLnJlYWRJbnQzMkxFPUJ1ZmZlck1ldGhvZHMucmVhZEludDMyTEUsci53cml0ZUludDMyTEU9QnVmZmVyTWV0aG9kcy53cml0ZUludDMyTEUsci5yZWFkRmxvYXRMRT1CdWZmZXJNZXRob2RzLnJlYWRGbG9hdExFLHIud3JpdGVGbG9hdExFPUJ1ZmZlck1ldGhvZHMud3JpdGVGbG9hdExFLHIucmVhZERvdWJsZUxFPUJ1ZmZlck1ldGhvZHMucmVhZERvdWJsZUxFLHIud3JpdGVEb3VibGVMRT1CdWZmZXJNZXRob2RzLndyaXRlRG91YmxlTEUsci50b1N0cmluZz1CdWZmZXJNZXRob2RzLnRvU3RyaW5nLHIud3JpdGU9QnVmZmVyTWV0aG9kcy53cml0ZSxyLnNsaWNlPUJ1ZmZlck1ldGhvZHMuc2xpY2Usci5jb3B5PUJ1ZmZlck1ldGhvZHMuY29weSxyLl9pc0J1ZmZlcj0hMCxyfWZ1bmN0aW9uIGVuY29kZVN0cmluZyh0KXtmb3IodmFyIGUscixuPXQubGVuZ3RoLGk9W10sbz0wO288bjtvKyspe2lmKGU9dC5jaGFyQ29kZUF0KG8pLGU+NTUyOTUmJmU8NTczNDQpe2lmKCFyKXtlPjU2MzE5fHxvKzE9PT1uP2kucHVzaCgyMzksMTkxLDE4OSk6cj1lO2NvbnRpbnVlfWlmKGU8NTYzMjApe2kucHVzaCgyMzksMTkxLDE4OSkscj1lO2NvbnRpbnVlfWU9ci01NTI5Njw8MTB8ZS01NjMyMHw2NTUzNixyPW51bGx9ZWxzZSByJiYoaS5wdXNoKDIzOSwxOTEsMTg5KSxyPW51bGwpO2U8MTI4P2kucHVzaChlKTplPDIwNDg/aS5wdXNoKGU+PjZ8MTkyLDYzJmV8MTI4KTplPDY1NTM2P2kucHVzaChlPj4xMnwyMjQsZT4+NiY2M3wxMjgsNjMmZXwxMjgpOmkucHVzaChlPj4xOHwyNDAsZT4+MTImNjN8MTI4LGU+PjYmNjN8MTI4LDYzJmV8MTI4KX1yZXR1cm4gaX1tb2R1bGUuZXhwb3J0cz1CdWZmZXI7dmFyIGllZWU3NTQ9cmVxdWlyZShcImllZWU3NTRcIiksQnVmZmVyTWV0aG9kcyxsYXN0U3RyLGxhc3RTdHJFbmNvZGVkO0J1ZmZlck1ldGhvZHM9e3JlYWRVSW50MzJMRTpmdW5jdGlvbih0KXtyZXR1cm4odGhpc1t0XXx0aGlzW3QrMV08PDh8dGhpc1t0KzJdPDwxNikrMTY3NzcyMTYqdGhpc1t0KzNdfSx3cml0ZVVJbnQzMkxFOmZ1bmN0aW9uKHQsZSl7dGhpc1tlXT10LHRoaXNbZSsxXT10Pj4+OCx0aGlzW2UrMl09dD4+PjE2LHRoaXNbZSszXT10Pj4+MjR9LHJlYWRJbnQzMkxFOmZ1bmN0aW9uKHQpe3JldHVybih0aGlzW3RdfHRoaXNbdCsxXTw8OHx0aGlzW3QrMl08PDE2KSsodGhpc1t0KzNdPDwyNCl9LHJlYWRGbG9hdExFOmZ1bmN0aW9uKHQpe3JldHVybiBpZWVlNzU0LnJlYWQodGhpcyx0LCEwLDIzLDQpfSxyZWFkRG91YmxlTEU6ZnVuY3Rpb24odCl7cmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLHQsITAsNTIsOCl9LHdyaXRlRmxvYXRMRTpmdW5jdGlvbih0LGUpe3JldHVybiBpZWVlNzU0LndyaXRlKHRoaXMsdCxlLCEwLDIzLDQpfSx3cml0ZURvdWJsZUxFOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGllZWU3NTQud3JpdGUodGhpcyx0LGUsITAsNTIsOCl9LHRvU3RyaW5nOmZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1cIlwiLGk9XCJcIjtlPWV8fDAscj1NYXRoLm1pbih0aGlzLmxlbmd0aCxyfHx0aGlzLmxlbmd0aCk7Zm9yKHZhciBvPWU7bzxyO28rKyl7dmFyIHU9dGhpc1tvXTt1PD0xMjc/KG4rPWRlY29kZVVSSUNvbXBvbmVudChpKStTdHJpbmcuZnJvbUNoYXJDb2RlKHUpLGk9XCJcIik6aSs9XCIlXCIrdS50b1N0cmluZygxNil9cmV0dXJuIG4rPWRlY29kZVVSSUNvbXBvbmVudChpKX0sd3JpdGU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dD09PWxhc3RTdHI/bGFzdFN0ckVuY29kZWQ6ZW5jb2RlU3RyaW5nKHQpLG49MDtuPHIubGVuZ3RoO24rKyl0aGlzW2Urbl09cltuXX0sc2xpY2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdWJhcnJheSh0LGUpfSxjb3B5OmZ1bmN0aW9uKHQsZSl7ZT1lfHwwO2Zvcih2YXIgcj0wO3I8dGhpcy5sZW5ndGg7cisrKXRbZStyXT10aGlzW3JdfX0sQnVmZmVyTWV0aG9kcy53cml0ZUludDMyTEU9QnVmZmVyTWV0aG9kcy53cml0ZVVJbnQzMkxFLEJ1ZmZlci5ieXRlTGVuZ3RoPWZ1bmN0aW9uKHQpe3JldHVybiBsYXN0U3RyPXQsbGFzdFN0ckVuY29kZWQ9ZW5jb2RlU3RyaW5nKHQpLGxhc3RTdHJFbmNvZGVkLmxlbmd0aH0sQnVmZmVyLmlzQnVmZmVyPWZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0Ll9pc0J1ZmZlcil9O1xufSx7XCJpZWVlNzU0XCI6MTd9XSwyNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBQYmYodCl7dGhpcy5idWY9QnVmZmVyLmlzQnVmZmVyKHQpP3Q6bmV3IEJ1ZmZlcih0fHwwKSx0aGlzLnBvcz0wLHRoaXMubGVuZ3RoPXRoaXMuYnVmLmxlbmd0aH1mdW5jdGlvbiByZWFkVmFyaW50UmVtYWluZGVyKHQsaSl7dmFyIGUscj1pLmJ1ZjtpZihlPXJbaS5wb3MrK10sdCs9MjY4NDM1NDU2KigxMjcmZSksZTwxMjgpcmV0dXJuIHQ7aWYoZT1yW2kucG9zKytdLHQrPTM0MzU5NzM4MzY4KigxMjcmZSksZTwxMjgpcmV0dXJuIHQ7aWYoZT1yW2kucG9zKytdLHQrPTQzOTgwNDY1MTExMDQqKDEyNyZlKSxlPDEyOClyZXR1cm4gdDtpZihlPXJbaS5wb3MrK10sdCs9NTYyOTQ5OTUzNDIxMzEyKigxMjcmZSksZTwxMjgpcmV0dXJuIHQ7aWYoZT1yW2kucG9zKytdLHQrPTcyMDU3NTk0MDM3OTI3OTQwKigxMjcmZSksZTwxMjgpcmV0dXJuIHQ7aWYoZT1yW2kucG9zKytdLHQrPTB4ODAwMDAwMDAwMDAwMDAwMCooMTI3JmUpLGU8MTI4KXJldHVybiB0O3Rocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIHZhcmludCBub3QgbW9yZSB0aGFuIDEwIGJ5dGVzXCIpfWZ1bmN0aW9uIHdyaXRlQmlnVmFyaW50KHQsaSl7aS5yZWFsbG9jKDEwKTtmb3IodmFyIGU9aS5wb3MrMTA7dD49MTspe2lmKGkucG9zPj1lKXRocm93IG5ldyBFcnJvcihcIkdpdmVuIHZhcmludCBkb2Vzbid0IGZpdCBpbnRvIDEwIGJ5dGVzXCIpO3ZhciByPTI1NSZ0O2kuYnVmW2kucG9zKytdPXJ8KHQ+PTEyOD8xMjg6MCksdC89MTI4fX1mdW5jdGlvbiByZWFsbG9jRm9yUmF3TWVzc2FnZSh0LGksZSl7dmFyIHI9aTw9MTYzODM/MTppPD0yMDk3MTUxPzI6aTw9MjY4NDM1NDU1PzM6TWF0aC5jZWlsKE1hdGgubG9nKGkpLyg3Kk1hdGguTE4yKSk7ZS5yZWFsbG9jKHIpO2Zvcih2YXIgcz1lLnBvcy0xO3M+PXQ7cy0tKWUuYnVmW3Mrcl09ZS5idWZbc119ZnVuY3Rpb24gd3JpdGVQYWNrZWRWYXJpbnQodCxpKXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpLndyaXRlVmFyaW50KHRbZV0pfWZ1bmN0aW9uIHdyaXRlUGFja2VkU1ZhcmludCh0LGkpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWkud3JpdGVTVmFyaW50KHRbZV0pfWZ1bmN0aW9uIHdyaXRlUGFja2VkRmxvYXQodCxpKXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpLndyaXRlRmxvYXQodFtlXSl9ZnVuY3Rpb24gd3JpdGVQYWNrZWREb3VibGUodCxpKXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpLndyaXRlRG91YmxlKHRbZV0pfWZ1bmN0aW9uIHdyaXRlUGFja2VkQm9vbGVhbih0LGkpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWkud3JpdGVCb29sZWFuKHRbZV0pfWZ1bmN0aW9uIHdyaXRlUGFja2VkRml4ZWQzMih0LGkpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWkud3JpdGVGaXhlZDMyKHRbZV0pfWZ1bmN0aW9uIHdyaXRlUGFja2VkU0ZpeGVkMzIodCxpKXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpLndyaXRlU0ZpeGVkMzIodFtlXSl9ZnVuY3Rpb24gd3JpdGVQYWNrZWRGaXhlZDY0KHQsaSl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaS53cml0ZUZpeGVkNjQodFtlXSl9ZnVuY3Rpb24gd3JpdGVQYWNrZWRTRml4ZWQ2NCh0LGkpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWkud3JpdGVTRml4ZWQ2NCh0W2VdKX1tb2R1bGUuZXhwb3J0cz1QYmY7dmFyIEJ1ZmZlcj1nbG9iYWwuQnVmZmVyfHxyZXF1aXJlKFwiLi9idWZmZXJcIik7UGJmLlZhcmludD0wLFBiZi5GaXhlZDY0PTEsUGJmLkJ5dGVzPTIsUGJmLkZpeGVkMzI9NTt2YXIgU0hJRlRfTEVGVF8zMj00Mjk0OTY3Mjk2LFNISUZUX1JJR0hUXzMyPTEvU0hJRlRfTEVGVF8zMixQT1dfMl82Mz1NYXRoLnBvdygyLDYzKTtQYmYucHJvdG90eXBlPXtkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5idWY9bnVsbH0scmVhZEZpZWxkczpmdW5jdGlvbih0LGksZSl7Zm9yKGU9ZXx8dGhpcy5sZW5ndGg7dGhpcy5wb3M8ZTspe3ZhciByPXRoaXMucmVhZFZhcmludCgpLHM9cj4+MyxuPXRoaXMucG9zO3QocyxpLHRoaXMpLHRoaXMucG9zPT09biYmdGhpcy5za2lwKHIpfXJldHVybiBpfSxyZWFkTWVzc2FnZTpmdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLnJlYWRGaWVsZHModCxpLHRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zKX0scmVhZEZpeGVkMzI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJ1Zi5yZWFkVUludDMyTEUodGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCx0fSxyZWFkU0ZpeGVkMzI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJ1Zi5yZWFkSW50MzJMRSh0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LHR9LHJlYWRGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5idWYucmVhZFVJbnQzMkxFKHRoaXMucG9zKSt0aGlzLmJ1Zi5yZWFkVUludDMyTEUodGhpcy5wb3MrNCkqU0hJRlRfTEVGVF8zMjtyZXR1cm4gdGhpcy5wb3MrPTgsdH0scmVhZFNGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5idWYucmVhZFVJbnQzMkxFKHRoaXMucG9zKSt0aGlzLmJ1Zi5yZWFkSW50MzJMRSh0aGlzLnBvcys0KSpTSElGVF9MRUZUXzMyO3JldHVybiB0aGlzLnBvcys9OCx0fSxyZWFkRmxvYXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJ1Zi5yZWFkRmxvYXRMRSh0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LHR9LHJlYWREb3VibGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJ1Zi5yZWFkRG91YmxlTEUodGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9OCx0fSxyZWFkVmFyaW50OmZ1bmN0aW9uKCl7dmFyIHQsaSxlPXRoaXMuYnVmO3JldHVybiBpPWVbdGhpcy5wb3MrK10sdD0xMjcmaSxpPDEyOD90OihpPWVbdGhpcy5wb3MrK10sdHw9KDEyNyZpKTw8NyxpPDEyOD90OihpPWVbdGhpcy5wb3MrK10sdHw9KDEyNyZpKTw8MTQsaTwxMjg/dDooaT1lW3RoaXMucG9zKytdLHR8PSgxMjcmaSk8PDIxLGk8MTI4P3Q6cmVhZFZhcmludFJlbWFpbmRlcih0LHRoaXMpKSkpfSxyZWFkVmFyaW50NjQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvcyxpPXRoaXMucmVhZFZhcmludCgpO2lmKGk8UE9XXzJfNjMpcmV0dXJuIGk7Zm9yKHZhciBlPXRoaXMucG9zLTI7MjU1PT09dGhpcy5idWZbZV07KWUtLTtlPHQmJihlPXQpLGk9MDtmb3IodmFyIHI9MDtyPGUtdCsxO3IrKyl7dmFyIHM9MTI3Jn50aGlzLmJ1Zlt0K3JdO2krPXI8ND9zPDw3KnI6cypNYXRoLnBvdygyLDcqcil9cmV0dXJuLWktMX0scmVhZFNWYXJpbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRWYXJpbnQoKTtyZXR1cm4gdCUyPT09MT8odCsxKS8tMjp0LzJ9LHJlYWRCb29sZWFuOmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5yZWFkVmFyaW50KCkpfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsaT10aGlzLmJ1Zi50b1N0cmluZyhcInV0ZjhcIix0aGlzLnBvcyx0KTtyZXR1cm4gdGhpcy5wb3M9dCxpfSxyZWFkQnl0ZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyxpPXRoaXMuYnVmLnNsaWNlKHRoaXMucG9zLHQpO3JldHVybiB0aGlzLnBvcz10LGl9LHJlYWRQYWNrZWRWYXJpbnQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsaT1bXTt0aGlzLnBvczx0OylpLnB1c2godGhpcy5yZWFkVmFyaW50KCkpO3JldHVybiBpfSxyZWFkUGFja2VkU1ZhcmludDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyxpPVtdO3RoaXMucG9zPHQ7KWkucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO3JldHVybiBpfSxyZWFkUGFja2VkQm9vbGVhbjpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyxpPVtdO3RoaXMucG9zPHQ7KWkucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO3JldHVybiBpfSxyZWFkUGFja2VkRmxvYXQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsaT1bXTt0aGlzLnBvczx0OylpLnB1c2godGhpcy5yZWFkRmxvYXQoKSk7cmV0dXJuIGl9LHJlYWRQYWNrZWREb3VibGU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsaT1bXTt0aGlzLnBvczx0OylpLnB1c2godGhpcy5yZWFkRG91YmxlKCkpO3JldHVybiBpfSxyZWFkUGFja2VkRml4ZWQzMjpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyxpPVtdO3RoaXMucG9zPHQ7KWkucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO3JldHVybiBpfSxyZWFkUGFja2VkU0ZpeGVkMzI6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsaT1bXTt0aGlzLnBvczx0OylpLnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7cmV0dXJuIGl9LHJlYWRQYWNrZWRGaXhlZDY0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zLGk9W107dGhpcy5wb3M8dDspaS5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7cmV0dXJuIGl9LHJlYWRQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyxpPVtdO3RoaXMucG9zPHQ7KWkucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtyZXR1cm4gaX0sc2tpcDpmdW5jdGlvbih0KXt2YXIgaT03JnQ7aWYoaT09PVBiZi5WYXJpbnQpZm9yKDt0aGlzLmJ1Zlt0aGlzLnBvcysrXT4xMjc7KTtlbHNlIGlmKGk9PT1QYmYuQnl0ZXMpdGhpcy5wb3M9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3M7ZWxzZSBpZihpPT09UGJmLkZpeGVkMzIpdGhpcy5wb3MrPTQ7ZWxzZXtpZihpIT09UGJmLkZpeGVkNjQpdGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZCB0eXBlOiBcIitpKTt0aGlzLnBvcys9OH19LHdyaXRlVGFnOmZ1bmN0aW9uKHQsaSl7dGhpcy53cml0ZVZhcmludCh0PDwzfGkpfSxyZWFsbG9jOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaT10aGlzLmxlbmd0aHx8MTY7aTx0aGlzLnBvcyt0OylpKj0yO2lmKGkhPT10aGlzLmxlbmd0aCl7dmFyIGU9bmV3IEJ1ZmZlcihpKTt0aGlzLmJ1Zi5jb3B5KGUpLHRoaXMuYnVmPWUsdGhpcy5sZW5ndGg9aX19LGZpbmlzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD10aGlzLnBvcyx0aGlzLnBvcz0wLHRoaXMuYnVmLnNsaWNlKDAsdGhpcy5sZW5ndGgpfSx3cml0ZUZpeGVkMzI6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLHRoaXMuYnVmLndyaXRlVUludDMyTEUodCx0aGlzLnBvcyksdGhpcy5wb3MrPTR9LHdyaXRlU0ZpeGVkMzI6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLHRoaXMuYnVmLndyaXRlSW50MzJMRSh0LHRoaXMucG9zKSx0aGlzLnBvcys9NH0sd3JpdGVGaXhlZDY0OmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSx0aGlzLmJ1Zi53cml0ZUludDMyTEUodCYtMSx0aGlzLnBvcyksdGhpcy5idWYud3JpdGVVSW50MzJMRShNYXRoLmZsb29yKHQqU0hJRlRfUklHSFRfMzIpLHRoaXMucG9zKzQpLHRoaXMucG9zKz04fSx3cml0ZVNGaXhlZDY0OmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSx0aGlzLmJ1Zi53cml0ZUludDMyTEUodCYtMSx0aGlzLnBvcyksdGhpcy5idWYud3JpdGVJbnQzMkxFKE1hdGguZmxvb3IodCpTSElGVF9SSUdIVF8zMiksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTh9LHdyaXRlVmFyaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0PSt0LHQ+MjY4NDM1NDU1P3ZvaWQgd3JpdGVCaWdWYXJpbnQodCx0aGlzKToodGhpcy5yZWFsbG9jKDQpLHRoaXMuYnVmW3RoaXMucG9zKytdPTEyNyZ0fCh0PjEyNz8xMjg6MCksdm9pZCh0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT10Pj4+NyYxMjcpKSkpKX0sd3JpdGVTVmFyaW50OmZ1bmN0aW9uKHQpe3RoaXMud3JpdGVWYXJpbnQodDwwPzIqLXQtMToyKnQpfSx3cml0ZUJvb2xlYW46ZnVuY3Rpb24odCl7dGhpcy53cml0ZVZhcmludChCb29sZWFuKHQpKX0sd3JpdGVTdHJpbmc6ZnVuY3Rpb24odCl7dD1TdHJpbmcodCk7dmFyIGk9QnVmZmVyLmJ5dGVMZW5ndGgodCk7dGhpcy53cml0ZVZhcmludChpKSx0aGlzLnJlYWxsb2MoaSksdGhpcy5idWYud3JpdGUodCx0aGlzLnBvcyksdGhpcy5wb3MrPWl9LHdyaXRlRmxvYXQ6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLHRoaXMuYnVmLndyaXRlRmxvYXRMRSh0LHRoaXMucG9zKSx0aGlzLnBvcys9NH0sd3JpdGVEb3VibGU6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDgpLHRoaXMuYnVmLndyaXRlRG91YmxlTEUodCx0aGlzLnBvcyksdGhpcy5wb3MrPTh9LHdyaXRlQnl0ZXM6ZnVuY3Rpb24odCl7dmFyIGk9dC5sZW5ndGg7dGhpcy53cml0ZVZhcmludChpKSx0aGlzLnJlYWxsb2MoaSk7Zm9yKHZhciBlPTA7ZTxpO2UrKyl0aGlzLmJ1Zlt0aGlzLnBvcysrXT10W2VdfSx3cml0ZVJhd01lc3NhZ2U6ZnVuY3Rpb24odCxpKXt0aGlzLnBvcysrO3ZhciBlPXRoaXMucG9zO3QoaSx0aGlzKTt2YXIgcj10aGlzLnBvcy1lO3I+PTEyOCYmcmVhbGxvY0ZvclJhd01lc3NhZ2UoZSxyLHRoaXMpLHRoaXMucG9zPWUtMSx0aGlzLndyaXRlVmFyaW50KHIpLHRoaXMucG9zKz1yfSx3cml0ZU1lc3NhZ2U6ZnVuY3Rpb24odCxpLGUpe3RoaXMud3JpdGVUYWcodCxQYmYuQnl0ZXMpLHRoaXMud3JpdGVSYXdNZXNzYWdlKGksZSl9LHdyaXRlUGFja2VkVmFyaW50OmZ1bmN0aW9uKHQsaSl7dGhpcy53cml0ZU1lc3NhZ2UodCx3cml0ZVBhY2tlZFZhcmludCxpKX0sd3JpdGVQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKHQsaSl7dGhpcy53cml0ZU1lc3NhZ2UodCx3cml0ZVBhY2tlZFNWYXJpbnQsaSl9LHdyaXRlUGFja2VkQm9vbGVhbjpmdW5jdGlvbih0LGkpe3RoaXMud3JpdGVNZXNzYWdlKHQsd3JpdGVQYWNrZWRCb29sZWFuLGkpfSx3cml0ZVBhY2tlZEZsb2F0OmZ1bmN0aW9uKHQsaSl7dGhpcy53cml0ZU1lc3NhZ2UodCx3cml0ZVBhY2tlZEZsb2F0LGkpfSx3cml0ZVBhY2tlZERvdWJsZTpmdW5jdGlvbih0LGkpe3RoaXMud3JpdGVNZXNzYWdlKHQsd3JpdGVQYWNrZWREb3VibGUsaSl9LHdyaXRlUGFja2VkRml4ZWQzMjpmdW5jdGlvbih0LGkpe3RoaXMud3JpdGVNZXNzYWdlKHQsd3JpdGVQYWNrZWRGaXhlZDMyLGkpfSx3cml0ZVBhY2tlZFNGaXhlZDMyOmZ1bmN0aW9uKHQsaSl7dGhpcy53cml0ZU1lc3NhZ2UodCx3cml0ZVBhY2tlZFNGaXhlZDMyLGkpfSx3cml0ZVBhY2tlZEZpeGVkNjQ6ZnVuY3Rpb24odCxpKXt0aGlzLndyaXRlTWVzc2FnZSh0LHdyaXRlUGFja2VkRml4ZWQ2NCxpKX0sd3JpdGVQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbih0LGkpe3RoaXMud3JpdGVNZXNzYWdlKHQsd3JpdGVQYWNrZWRTRml4ZWQ2NCxpKX0sd3JpdGVCeXRlc0ZpZWxkOmZ1bmN0aW9uKHQsaSl7dGhpcy53cml0ZVRhZyh0LFBiZi5CeXRlcyksdGhpcy53cml0ZUJ5dGVzKGkpfSx3cml0ZUZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGkpe3RoaXMud3JpdGVUYWcodCxQYmYuRml4ZWQzMiksdGhpcy53cml0ZUZpeGVkMzIoaSl9LHdyaXRlU0ZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGkpe3RoaXMud3JpdGVUYWcodCxQYmYuRml4ZWQzMiksdGhpcy53cml0ZVNGaXhlZDMyKGkpfSx3cml0ZUZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGkpe3RoaXMud3JpdGVUYWcodCxQYmYuRml4ZWQ2NCksdGhpcy53cml0ZUZpeGVkNjQoaSl9LHdyaXRlU0ZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGkpe3RoaXMud3JpdGVUYWcodCxQYmYuRml4ZWQ2NCksdGhpcy53cml0ZVNGaXhlZDY0KGkpfSx3cml0ZVZhcmludEZpZWxkOmZ1bmN0aW9uKHQsaSl7dGhpcy53cml0ZVRhZyh0LFBiZi5WYXJpbnQpLHRoaXMud3JpdGVWYXJpbnQoaSl9LHdyaXRlU1ZhcmludEZpZWxkOmZ1bmN0aW9uKHQsaSl7dGhpcy53cml0ZVRhZyh0LFBiZi5WYXJpbnQpLHRoaXMud3JpdGVTVmFyaW50KGkpfSx3cml0ZVN0cmluZ0ZpZWxkOmZ1bmN0aW9uKHQsaSl7dGhpcy53cml0ZVRhZyh0LFBiZi5CeXRlcyksdGhpcy53cml0ZVN0cmluZyhpKX0sd3JpdGVGbG9hdEZpZWxkOmZ1bmN0aW9uKHQsaSl7dGhpcy53cml0ZVRhZyh0LFBiZi5GaXhlZDMyKSx0aGlzLndyaXRlRmxvYXQoaSl9LHdyaXRlRG91YmxlRmllbGQ6ZnVuY3Rpb24odCxpKXt0aGlzLndyaXRlVGFnKHQsUGJmLkZpeGVkNjQpLHRoaXMud3JpdGVEb3VibGUoaSl9LHdyaXRlQm9vbGVhbkZpZWxkOmZ1bmN0aW9uKHQsaSl7dGhpcy53cml0ZVZhcmludEZpZWxkKHQsQm9vbGVhbihpKSl9fTtcbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHtcIi4vYnVmZmVyXCI6MjR9XSwyNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBQb2ludCh0LG4pe3RoaXMueD10LHRoaXMueT1ufW1vZHVsZS5leHBvcnRzPVBvaW50LFBvaW50LnByb3RvdHlwZT17Y2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFBvaW50KHRoaXMueCx0aGlzLnkpfSxhZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKHQpfSxzdWI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKHQpfSxtdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHQodCl9LGRpdjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXYodCl9LHJvdGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUodCl9LG1hdE11bHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbWF0TXVsdCh0KX0sdW5pdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3VuaXQoKX0scGVycDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3BlcnAoKX0scm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3VuZCgpfSxtYWc6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSl9LGVxdWFsczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PT09dC54JiZ0aGlzLnk9PT10Lnl9LGRpc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RTcXIodCkpfSxkaXN0U3FyOmZ1bmN0aW9uKHQpe3ZhciBuPXQueC10aGlzLngsaT10LnktdGhpcy55O3JldHVybiBuKm4raSppfSxhbmdsZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueSx0aGlzLngpfSxhbmdsZVRvOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueS10LnksdGhpcy54LXQueCl9LGFuZ2xlV2l0aDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hbmdsZVdpdGhTZXAodC54LHQueSl9LGFuZ2xlV2l0aFNlcDpmdW5jdGlvbih0LG4pe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueCpuLXRoaXMueSp0LHRoaXMueCp0K3RoaXMueSpuKX0sX21hdE11bHQ6ZnVuY3Rpb24odCl7dmFyIG49dFswXSp0aGlzLngrdFsxXSp0aGlzLnksaT10WzJdKnRoaXMueCt0WzNdKnRoaXMueTtyZXR1cm4gdGhpcy54PW4sdGhpcy55PWksdGhpc30sX2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kz10LngsdGhpcy55Kz10LnksdGhpc30sX3N1YjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54LT10LngsdGhpcy55LT10LnksdGhpc30sX211bHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpc30sX2RpdjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Lz10LHRoaXMueS89dCx0aGlzfSxfdW5pdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXYodGhpcy5tYWcoKSksdGhpc30sX3BlcnA6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnk7cmV0dXJuIHRoaXMueT10aGlzLngsdGhpcy54PS10LHRoaXN9LF9yb3RhdGU6ZnVuY3Rpb24odCl7dmFyIG49TWF0aC5jb3ModCksaT1NYXRoLnNpbih0KSxzPW4qdGhpcy54LWkqdGhpcy55LHI9aSp0aGlzLngrbip0aGlzLnk7cmV0dXJuIHRoaXMueD1zLHRoaXMueT1yLHRoaXN9LF9yb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpc319LFBvaW50LmNvbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBQb2ludD90OkFycmF5LmlzQXJyYXkodCk/bmV3IFBvaW50KHRbMF0sdFsxXSk6dH07XG59LHt9XSwyNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0KCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIHJ1blRpbWVvdXQoZSl7aWYoY2FjaGVkU2V0VGltZW91dD09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZSwwKTtpZigoY2FjaGVkU2V0VGltZW91dD09PWRlZmF1bHRTZXRUaW1vdXR8fCFjYWNoZWRTZXRUaW1lb3V0KSYmc2V0VGltZW91dClyZXR1cm4gY2FjaGVkU2V0VGltZW91dD1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZSwwKTt0cnl7cmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLGUsMCl9fX1mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQoZSl7aWYoY2FjaGVkQ2xlYXJUaW1lb3V0PT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKGNhY2hlZENsZWFyVGltZW91dD09PWRlZmF1bHRDbGVhclRpbWVvdXR8fCFjYWNoZWRDbGVhclRpbWVvdXQpJiZjbGVhclRpbWVvdXQpcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dD1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtyZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcyxlKX19fWZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpe2RyYWluaW5nJiZjdXJyZW50UXVldWUmJihkcmFpbmluZz0hMSxjdXJyZW50UXVldWUubGVuZ3RoP3F1ZXVlPWN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpOnF1ZXVlSW5kZXg9LTEscXVldWUubGVuZ3RoJiZkcmFpblF1ZXVlKCkpfWZ1bmN0aW9uIGRyYWluUXVldWUoKXtpZighZHJhaW5pbmcpe3ZhciBlPXJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtkcmFpbmluZz0hMDtmb3IodmFyIHQ9cXVldWUubGVuZ3RoO3Q7KXtmb3IoY3VycmVudFF1ZXVlPXF1ZXVlLHF1ZXVlPVtdOysrcXVldWVJbmRleDx0OyljdXJyZW50UXVldWUmJmN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtxdWV1ZUluZGV4PS0xLHQ9cXVldWUubGVuZ3RofWN1cnJlbnRRdWV1ZT1udWxsLGRyYWluaW5nPSExLHJ1bkNsZWFyVGltZW91dChlKX19ZnVuY3Rpb24gSXRlbShlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIG5vb3AoKXt9dmFyIHByb2Nlc3M9bW9kdWxlLmV4cG9ydHM9e30sY2FjaGVkU2V0VGltZW91dCxjYWNoZWRDbGVhclRpbWVvdXQ7IWZ1bmN0aW9uKCl7dHJ5e2NhY2hlZFNldFRpbWVvdXQ9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0OmRlZmF1bHRTZXRUaW1vdXR9Y2F0Y2goZSl7Y2FjaGVkU2V0VGltZW91dD1kZWZhdWx0U2V0VGltb3V0fXRyeXtjYWNoZWRDbGVhclRpbWVvdXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDpkZWZhdWx0Q2xlYXJUaW1lb3V0fWNhdGNoKGUpe2NhY2hlZENsZWFyVGltZW91dD1kZWZhdWx0Q2xlYXJUaW1lb3V0fX0oKTt2YXIgcXVldWU9W10sZHJhaW5pbmc9ITEsY3VycmVudFF1ZXVlLHF1ZXVlSW5kZXg9LTE7cHJvY2Vzcy5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciB1PTE7dTxhcmd1bWVudHMubGVuZ3RoO3UrKyl0W3UtMV09YXJndW1lbnRzW3VdO3F1ZXVlLnB1c2gobmV3IEl0ZW0oZSx0KSksMSE9PXF1ZXVlLmxlbmd0aHx8ZHJhaW5pbmd8fHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSl9LEl0ZW0ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LHByb2Nlc3MudGl0bGU9XCJicm93c2VyXCIscHJvY2Vzcy5icm93c2VyPSEwLHByb2Nlc3MuZW52PXt9LHByb2Nlc3MuYXJndj1bXSxwcm9jZXNzLnZlcnNpb249XCJcIixwcm9jZXNzLnZlcnNpb25zPXt9LHByb2Nlc3Mub249bm9vcCxwcm9jZXNzLmFkZExpc3RlbmVyPW5vb3AscHJvY2Vzcy5vbmNlPW5vb3AscHJvY2Vzcy5vZmY9bm9vcCxwcm9jZXNzLnJlbW92ZUxpc3RlbmVyPW5vb3AscHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnM9bm9vcCxwcm9jZXNzLmVtaXQ9bm9vcCxwcm9jZXNzLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHByb2Nlc3MuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LHByb2Nlc3MuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxwcm9jZXNzLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O1xufSx7fV0sMjg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcGFydGlhbFNvcnQoYSx0LHIsbyxwKXtmb3Iocj1yfHwwLG89b3x8YS5sZW5ndGgtMSxwPXB8fGRlZmF1bHRDb21wYXJlO28+cjspe2lmKG8tcj42MDApe3ZhciBmPW8tcisxLGU9dC1yKzEsbD1NYXRoLmxvZyhmKSxzPS41Kk1hdGguZXhwKDIqbC8zKSxpPS41Kk1hdGguc3FydChsKnMqKGYtcykvZikqKGUtZi8yPDA/LTE6MSksbj1NYXRoLm1heChyLE1hdGguZmxvb3IodC1lKnMvZitpKSksaD1NYXRoLm1pbihvLE1hdGguZmxvb3IodCsoZi1lKSpzL2YraSkpO3BhcnRpYWxTb3J0KGEsdCxuLGgscCl9dmFyIHU9YVt0XSxNPXIsdz1vO2Zvcihzd2FwKGEscix0KSxwKGFbb10sdSk+MCYmc3dhcChhLHIsbyk7TTx3Oyl7Zm9yKHN3YXAoYSxNLHcpLE0rKyx3LS07cChhW01dLHUpPDA7KU0rKztmb3IoO3AoYVt3XSx1KT4wOyl3LS19MD09PXAoYVtyXSx1KT9zd2FwKGEscix3KToodysrLHN3YXAoYSx3LG8pKSx3PD10JiYocj13KzEpLHQ8PXcmJihvPXctMSl9fWZ1bmN0aW9uIHN3YXAoYSx0LHIpe3ZhciBvPWFbdF07YVt0XT1hW3JdLGFbcl09b31mdW5jdGlvbiBkZWZhdWx0Q29tcGFyZShhLHQpe3JldHVybiBhPHQ/LTE6YT50PzE6MH1tb2R1bGUuZXhwb3J0cz1wYXJ0aWFsU29ydDtcbn0se31dLDI5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIHN1cGVyY2x1c3Rlcih0KXtyZXR1cm4gbmV3IFN1cGVyQ2x1c3Rlcih0KX1mdW5jdGlvbiBTdXBlckNsdXN0ZXIodCl7dGhpcy5vcHRpb25zPWV4dGVuZChPYmplY3QuY3JlYXRlKHRoaXMub3B0aW9ucyksdCksdGhpcy50cmVlcz1uZXcgQXJyYXkodGhpcy5vcHRpb25zLm1heFpvb20rMSl9ZnVuY3Rpb24gY3JlYXRlQ2x1c3Rlcih0LGUsbyxuKXtyZXR1cm57eDp0LHk6ZSx6b29tOjEvMCxpZDpuLG51bVBvaW50czpvfX1mdW5jdGlvbiBjcmVhdGVQb2ludENsdXN0ZXIodCxlKXt2YXIgbz10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzO3JldHVybiBjcmVhdGVDbHVzdGVyKGxuZ1gob1swXSksbGF0WShvWzFdKSwxLGUpfWZ1bmN0aW9uIGdldENsdXN0ZXJKU09OKHQpe3JldHVybnt0eXBlOlwiRmVhdHVyZVwiLHByb3BlcnRpZXM6Z2V0Q2x1c3RlclByb3BlcnRpZXModCksZ2VvbWV0cnk6e3R5cGU6XCJQb2ludFwiLGNvb3JkaW5hdGVzOlt4TG5nKHQueCkseUxhdCh0LnkpXX19fWZ1bmN0aW9uIGdldENsdXN0ZXJQcm9wZXJ0aWVzKHQpe3ZhciBlPXQubnVtUG9pbnRzLG89ZT49MWU0P01hdGgucm91bmQoZS8xZTMpK1wia1wiOmU+PTFlMz9NYXRoLnJvdW5kKGUvMTAwKS8xMCtcImtcIjplO3JldHVybntjbHVzdGVyOiEwLHBvaW50X2NvdW50OmUscG9pbnRfY291bnRfYWJicmV2aWF0ZWQ6b319ZnVuY3Rpb24gbG5nWCh0KXtyZXR1cm4gdC8zNjArLjV9ZnVuY3Rpb24gbGF0WSh0KXt2YXIgZT1NYXRoLnNpbih0Kk1hdGguUEkvMTgwKSxvPS41LS4yNSpNYXRoLmxvZygoMStlKS8oMS1lKSkvTWF0aC5QSTtyZXR1cm4gbzwwPzA6bz4xPzE6b31mdW5jdGlvbiB4TG5nKHQpe3JldHVybiAzNjAqKHQtLjUpfWZ1bmN0aW9uIHlMYXQodCl7dmFyIGU9KDE4MC0zNjAqdCkqTWF0aC5QSS8xODA7cmV0dXJuIDM2MCpNYXRoLmF0YW4oTWF0aC5leHAoZSkpL01hdGguUEktOTB9ZnVuY3Rpb24gZXh0ZW5kKHQsZSl7Zm9yKHZhciBvIGluIGUpdFtvXT1lW29dO3JldHVybiB0fWZ1bmN0aW9uIGdldFgodCl7cmV0dXJuIHQueH1mdW5jdGlvbiBnZXRZKHQpe3JldHVybiB0Lnl9dmFyIGtkYnVzaD1yZXF1aXJlKFwia2RidXNoXCIpO21vZHVsZS5leHBvcnRzPXN1cGVyY2x1c3RlcixTdXBlckNsdXN0ZXIucHJvdG90eXBlPXtvcHRpb25zOnttaW5ab29tOjAsbWF4Wm9vbToxNixyYWRpdXM6NDAsZXh0ZW50OjUxMixub2RlU2l6ZTo2NCxsb2c6ITF9LGxvYWQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLmxvZztlJiZjb25zb2xlLnRpbWUoXCJ0b3RhbCB0aW1lXCIpO3ZhciBvPVwicHJlcGFyZSBcIit0Lmxlbmd0aCtcIiBwb2ludHNcIjtlJiZjb25zb2xlLnRpbWUobyksdGhpcy5wb2ludHM9dDt2YXIgbj10Lm1hcChjcmVhdGVQb2ludENsdXN0ZXIpO2UmJmNvbnNvbGUudGltZUVuZChvKTtmb3IodmFyIHI9dGhpcy5vcHRpb25zLm1heFpvb207cj49dGhpcy5vcHRpb25zLm1pblpvb207ci0tKXt2YXIgaT0rRGF0ZS5ub3coKTt0aGlzLnRyZWVzW3IrMV09a2RidXNoKG4sZ2V0WCxnZXRZLHRoaXMub3B0aW9ucy5ub2RlU2l6ZSxGbG9hdDMyQXJyYXkpLG49dGhpcy5fY2x1c3RlcihuLHIpLGUmJmNvbnNvbGUubG9nKFwieiVkOiAlZCBjbHVzdGVycyBpbiAlZG1zXCIscixuLmxlbmd0aCwrRGF0ZS5ub3coKS1pKX1yZXR1cm4gdGhpcy50cmVlc1t0aGlzLm9wdGlvbnMubWluWm9vbV09a2RidXNoKG4sZ2V0WCxnZXRZLHRoaXMub3B0aW9ucy5ub2RlU2l6ZSxGbG9hdDMyQXJyYXkpLGUmJmNvbnNvbGUudGltZUVuZChcInRvdGFsIHRpbWVcIiksdGhpc30sZ2V0Q2x1c3RlcnM6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG89dGhpcy50cmVlc1t0aGlzLl9saW1pdFpvb20oZSldLG49by5yYW5nZShsbmdYKHRbMF0pLGxhdFkodFszXSksbG5nWCh0WzJdKSxsYXRZKHRbMV0pKSxyPVtdLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHM9by5wb2ludHNbbltpXV07ci5wdXNoKHMuaWQhPT0tMT90aGlzLnBvaW50c1tzLmlkXTpnZXRDbHVzdGVySlNPTihzKSl9cmV0dXJuIHJ9LGdldFRpbGU6ZnVuY3Rpb24odCxlLG8pe3ZhciBuPXRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKHQpXSxyPU1hdGgucG93KDIsdCksaT10aGlzLm9wdGlvbnMuZXh0ZW50LHM9dGhpcy5vcHRpb25zLnJhZGl1cyx1PXMvaSxhPShvLXUpL3IsaD0obysxK3UpL3IsbD17ZmVhdHVyZXM6W119O3JldHVybiB0aGlzLl9hZGRUaWxlRmVhdHVyZXMobi5yYW5nZSgoZS11KS9yLGEsKGUrMSt1KS9yLGgpLG4ucG9pbnRzLGUsbyxyLGwpLDA9PT1lJiZ0aGlzLl9hZGRUaWxlRmVhdHVyZXMobi5yYW5nZSgxLXUvcixhLDEsaCksbi5wb2ludHMscixvLHIsbCksZT09PXItMSYmdGhpcy5fYWRkVGlsZUZlYXR1cmVzKG4ucmFuZ2UoMCxhLHUvcixoKSxuLnBvaW50cywtMSxvLHIsbCksbC5mZWF0dXJlcy5sZW5ndGg/bDpudWxsfSxfYWRkVGlsZUZlYXR1cmVzOmZ1bmN0aW9uKHQsZSxvLG4scixpKXtmb3IodmFyIHM9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIHU9ZVt0W3NdXTtpLmZlYXR1cmVzLnB1c2goe3R5cGU6MSxnZW9tZXRyeTpbW01hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCoodS54KnItbykpLE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCoodS55KnItbikpXV0sdGFnczp1LmlkIT09LTE/dGhpcy5wb2ludHNbdS5pZF0ucHJvcGVydGllczpnZXRDbHVzdGVyUHJvcGVydGllcyh1KX0pfX0sX2xpbWl0Wm9vbTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5tYXgodGhpcy5vcHRpb25zLm1pblpvb20sTWF0aC5taW4odCx0aGlzLm9wdGlvbnMubWF4Wm9vbSsxKSl9LF9jbHVzdGVyOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBvPVtdLG49dGhpcy5vcHRpb25zLnJhZGl1cy8odGhpcy5vcHRpb25zLmV4dGVudCpNYXRoLnBvdygyLGUpKSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aWYoIShpLnpvb208PWUpKXtpLnpvb209ZTtmb3IodmFyIHM9dGhpcy50cmVlc1tlKzFdLHU9cy53aXRoaW4oaS54LGkueSxuKSxhPSExLGg9aS5udW1Qb2ludHMsbD1pLngqaCxwPWkueSpoLG09MDttPHUubGVuZ3RoO20rKyl7dmFyIGM9cy5wb2ludHNbdVttXV07ZTxjLnpvb20mJihhPSEwLGMuem9vbT1lLGwrPWMueCpjLm51bVBvaW50cyxwKz1jLnkqYy5udW1Qb2ludHMsaCs9Yy5udW1Qb2ludHMpfW8ucHVzaChhP2NyZWF0ZUNsdXN0ZXIobC9oLHAvaCxoLC0xKTppKX19cmV0dXJuIG99fTtcbn0se1wia2RidXNoXCI6MTh9XSwzMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBUaW55UXVldWUodCxpKXtpZighKHRoaXMgaW5zdGFuY2VvZiBUaW55UXVldWUpKXJldHVybiBuZXcgVGlueVF1ZXVlKHQsaSk7aWYodGhpcy5kYXRhPXR8fFtdLHRoaXMubGVuZ3RoPXRoaXMuZGF0YS5sZW5ndGgsdGhpcy5jb21wYXJlPWl8fGRlZmF1bHRDb21wYXJlLHQpZm9yKHZhciBhPU1hdGguZmxvb3IodGhpcy5sZW5ndGgvMik7YT49MDthLS0pdGhpcy5fZG93bihhKX1mdW5jdGlvbiBkZWZhdWx0Q29tcGFyZSh0LGkpe3JldHVybiB0PGk/LTE6dD5pPzE6MH1mdW5jdGlvbiBzd2FwKHQsaSxhKXt2YXIgbj10W2ldO3RbaV09dFthXSx0W2FdPW59bW9kdWxlLmV4cG9ydHM9VGlueVF1ZXVlLFRpbnlRdWV1ZS5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLnB1c2godCksdGhpcy5sZW5ndGgrKyx0aGlzLl91cCh0aGlzLmxlbmd0aC0xKX0scG9wOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWzBdO3JldHVybiB0aGlzLmRhdGFbMF09dGhpcy5kYXRhW3RoaXMubGVuZ3RoLTFdLHRoaXMubGVuZ3RoLS0sdGhpcy5kYXRhLnBvcCgpLHRoaXMuX2Rvd24oMCksdH0scGVlazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFbMF19LF91cDpmdW5jdGlvbih0KXtmb3IodmFyIGk9dGhpcy5kYXRhLGE9dGhpcy5jb21wYXJlO3Q+MDspe3ZhciBuPU1hdGguZmxvb3IoKHQtMSkvMik7aWYoIShhKGlbdF0saVtuXSk8MCkpYnJlYWs7c3dhcChpLG4sdCksdD1ufX0sX2Rvd246ZnVuY3Rpb24odCl7Zm9yKHZhciBpPXRoaXMuZGF0YSxhPXRoaXMuY29tcGFyZSxuPXRoaXMubGVuZ3RoOzspe3ZhciBlPTIqdCsxLGg9ZSsxLHM9dDtpZihlPG4mJmEoaVtlXSxpW3NdKTwwJiYocz1lKSxoPG4mJmEoaVtoXSxpW3NdKTwwJiYocz1oKSxzPT09dClyZXR1cm47c3dhcChpLHMsdCksdD1zfX19O1xufSx7fV0sMzE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT9tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3Quc3VwZXJfPWUsdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSl9Om1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dC5zdXBlcl89ZTt2YXIgbz1mdW5jdGlvbigpe307by5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG8sdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dH07XG59LHt9XSwzMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihvKXtyZXR1cm4gbyYmXCJvYmplY3RcIj09dHlwZW9mIG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8uY29weSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygby5maWxsJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLnJlYWRVSW50OH07XG59LHt9XSwzMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsKXtcbmZ1bmN0aW9uIGluc3BlY3QoZSxyKXt2YXIgdD17c2VlbjpbXSxzdHlsaXplOnN0eWxpemVOb0NvbG9yfTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD49MyYmKHQuZGVwdGg9YXJndW1lbnRzWzJdKSxhcmd1bWVudHMubGVuZ3RoPj00JiYodC5jb2xvcnM9YXJndW1lbnRzWzNdKSxpc0Jvb2xlYW4ocik/dC5zaG93SGlkZGVuPXI6ciYmZXhwb3J0cy5fZXh0ZW5kKHQsciksaXNVbmRlZmluZWQodC5zaG93SGlkZGVuKSYmKHQuc2hvd0hpZGRlbj0hMSksaXNVbmRlZmluZWQodC5kZXB0aCkmJih0LmRlcHRoPTIpLGlzVW5kZWZpbmVkKHQuY29sb3JzKSYmKHQuY29sb3JzPSExKSxpc1VuZGVmaW5lZCh0LmN1c3RvbUluc3BlY3QpJiYodC5jdXN0b21JbnNwZWN0PSEwKSx0LmNvbG9ycyYmKHQuc3R5bGl6ZT1zdHlsaXplV2l0aENvbG9yKSxmb3JtYXRWYWx1ZSh0LGUsdC5kZXB0aCl9ZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihlLHIpe3ZhciB0PWluc3BlY3Quc3R5bGVzW3JdO3JldHVybiB0P1wiXHUwMDFiW1wiK2luc3BlY3QuY29sb3JzW3RdWzBdK1wibVwiK2UrXCJcdTAwMWJbXCIraW5zcGVjdC5jb2xvcnNbdF1bMV0rXCJtXCI6ZX1mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihlLHIpe3JldHVybiBlfWZ1bmN0aW9uIGFycmF5VG9IYXNoKGUpe3ZhciByPXt9O3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSx0KXtyW2VdPSEwfSkscn1mdW5jdGlvbiBmb3JtYXRWYWx1ZShlLHIsdCl7aWYoZS5jdXN0b21JbnNwZWN0JiZyJiZpc0Z1bmN0aW9uKHIuaW5zcGVjdCkmJnIuaW5zcGVjdCE9PWV4cG9ydHMuaW5zcGVjdCYmKCFyLmNvbnN0cnVjdG9yfHxyLmNvbnN0cnVjdG9yLnByb3RvdHlwZSE9PXIpKXt2YXIgbj1yLmluc3BlY3QodCxlKTtyZXR1cm4gaXNTdHJpbmcobil8fChuPWZvcm1hdFZhbHVlKGUsbix0KSksbn12YXIgaT1mb3JtYXRQcmltaXRpdmUoZSxyKTtpZihpKXJldHVybiBpO3ZhciBvPU9iamVjdC5rZXlzKHIpLHM9YXJyYXlUb0hhc2gobyk7aWYoZS5zaG93SGlkZGVuJiYobz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyKSksaXNFcnJvcihyKSYmKG8uaW5kZXhPZihcIm1lc3NhZ2VcIik+PTB8fG8uaW5kZXhPZihcImRlc2NyaXB0aW9uXCIpPj0wKSlyZXR1cm4gZm9ybWF0RXJyb3Iocik7aWYoMD09PW8ubGVuZ3RoKXtpZihpc0Z1bmN0aW9uKHIpKXt2YXIgdT1yLm5hbWU/XCI6IFwiK3IubmFtZTpcIlwiO3JldHVybiBlLnN0eWxpemUoXCJbRnVuY3Rpb25cIit1K1wiXVwiLFwic3BlY2lhbFwiKX1pZihpc1JlZ0V4cChyKSlyZXR1cm4gZS5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKSxcInJlZ2V4cFwiKTtpZihpc0RhdGUocikpcmV0dXJuIGUuc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpLFwiZGF0ZVwiKTtpZihpc0Vycm9yKHIpKXJldHVybiBmb3JtYXRFcnJvcihyKX12YXIgYz1cIlwiLGE9ITEsbD1bXCJ7XCIsXCJ9XCJdO2lmKGlzQXJyYXkocikmJihhPSEwLGw9W1wiW1wiLFwiXVwiXSksaXNGdW5jdGlvbihyKSl7dmFyIHA9ci5uYW1lP1wiOiBcIityLm5hbWU6XCJcIjtjPVwiIFtGdW5jdGlvblwiK3ArXCJdXCJ9aWYoaXNSZWdFeHAocikmJihjPVwiIFwiK1JlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKSksaXNEYXRlKHIpJiYoYz1cIiBcIitEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHIpKSxpc0Vycm9yKHIpJiYoYz1cIiBcIitmb3JtYXRFcnJvcihyKSksMD09PW8ubGVuZ3RoJiYoIWF8fDA9PXIubGVuZ3RoKSlyZXR1cm4gbFswXStjK2xbMV07aWYodDwwKXJldHVybiBpc1JlZ0V4cChyKT9lLnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpLFwicmVnZXhwXCIpOmUuc3R5bGl6ZShcIltPYmplY3RdXCIsXCJzcGVjaWFsXCIpO2Uuc2Vlbi5wdXNoKHIpO3ZhciBmO3JldHVybiBmPWE/Zm9ybWF0QXJyYXkoZSxyLHQscyxvKTpvLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gZm9ybWF0UHJvcGVydHkoZSxyLHQscyxuLGEpfSksZS5zZWVuLnBvcCgpLHJlZHVjZVRvU2luZ2xlU3RyaW5nKGYsYyxsKX1mdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoZSxyKXtpZihpc1VuZGVmaW5lZChyKSlyZXR1cm4gZS5zdHlsaXplKFwidW5kZWZpbmVkXCIsXCJ1bmRlZmluZWRcIik7aWYoaXNTdHJpbmcocikpe3ZhciB0PVwiJ1wiK0pTT04uc3RyaW5naWZ5KHIpLnJlcGxhY2UoL15cInxcIiQvZyxcIlwiKS5yZXBsYWNlKC8nL2csXCJcXFxcJ1wiKS5yZXBsYWNlKC9cXFxcXCIvZywnXCInKStcIidcIjtyZXR1cm4gZS5zdHlsaXplKHQsXCJzdHJpbmdcIil9cmV0dXJuIGlzTnVtYmVyKHIpP2Uuc3R5bGl6ZShcIlwiK3IsXCJudW1iZXJcIik6aXNCb29sZWFuKHIpP2Uuc3R5bGl6ZShcIlwiK3IsXCJib29sZWFuXCIpOmlzTnVsbChyKT9lLnN0eWxpemUoXCJudWxsXCIsXCJudWxsXCIpOnZvaWQgMH1mdW5jdGlvbiBmb3JtYXRFcnJvcihlKXtyZXR1cm5cIltcIitFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKStcIl1cIn1mdW5jdGlvbiBmb3JtYXRBcnJheShlLHIsdCxuLGkpe2Zvcih2YXIgbz1bXSxzPTAsdT1yLmxlbmd0aDtzPHU7KytzKWhhc093blByb3BlcnR5KHIsU3RyaW5nKHMpKT9vLnB1c2goZm9ybWF0UHJvcGVydHkoZSxyLHQsbixTdHJpbmcocyksITApKTpvLnB1c2goXCJcIik7cmV0dXJuIGkuZm9yRWFjaChmdW5jdGlvbihpKXtpLm1hdGNoKC9eXFxkKyQvKXx8by5wdXNoKGZvcm1hdFByb3BlcnR5KGUscix0LG4saSwhMCkpfSksb31mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShlLHIsdCxuLGksbyl7dmFyIHMsdSxjO2lmKGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGkpfHx7dmFsdWU6cltpXX0sYy5nZXQ/dT1jLnNldD9lLnN0eWxpemUoXCJbR2V0dGVyL1NldHRlcl1cIixcInNwZWNpYWxcIik6ZS5zdHlsaXplKFwiW0dldHRlcl1cIixcInNwZWNpYWxcIik6Yy5zZXQmJih1PWUuc3R5bGl6ZShcIltTZXR0ZXJdXCIsXCJzcGVjaWFsXCIpKSxoYXNPd25Qcm9wZXJ0eShuLGkpfHwocz1cIltcIitpK1wiXVwiKSx1fHwoZS5zZWVuLmluZGV4T2YoYy52YWx1ZSk8MD8odT1pc051bGwodCk/Zm9ybWF0VmFsdWUoZSxjLnZhbHVlLG51bGwpOmZvcm1hdFZhbHVlKGUsYy52YWx1ZSx0LTEpLHUuaW5kZXhPZihcIlxcblwiKT4tMSYmKHU9bz91LnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5cIiAgXCIrZX0pLmpvaW4oXCJcXG5cIikuc3Vic3RyKDIpOlwiXFxuXCIrdS5zcGxpdChcIlxcblwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuXCIgICBcIitlfSkuam9pbihcIlxcblwiKSkpOnU9ZS5zdHlsaXplKFwiW0NpcmN1bGFyXVwiLFwic3BlY2lhbFwiKSksaXNVbmRlZmluZWQocykpe2lmKG8mJmkubWF0Y2goL15cXGQrJC8pKXJldHVybiB1O3M9SlNPTi5zdHJpbmdpZnkoXCJcIitpKSxzLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKT8ocz1zLnN1YnN0cigxLHMubGVuZ3RoLTIpLHM9ZS5zdHlsaXplKHMsXCJuYW1lXCIpKToocz1zLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpLnJlcGxhY2UoL1xcXFxcIi9nLCdcIicpLnJlcGxhY2UoLyheXCJ8XCIkKS9nLFwiJ1wiKSxzPWUuc3R5bGl6ZShzLFwic3RyaW5nXCIpKX1yZXR1cm4gcytcIjogXCIrdX1mdW5jdGlvbiByZWR1Y2VUb1NpbmdsZVN0cmluZyhlLHIsdCl7dmFyIG49MCxpPWUucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuIG4rKyxyLmluZGV4T2YoXCJcXG5cIik+PTAmJm4rKyxlK3IucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csXCJcIikubGVuZ3RoKzF9LDApO3JldHVybiBpPjYwP3RbMF0rKFwiXCI9PT1yP1wiXCI6citcIlxcbiBcIikrXCIgXCIrZS5qb2luKFwiLFxcbiAgXCIpK1wiIFwiK3RbMV06dFswXStyK1wiIFwiK2Uuam9pbihcIiwgXCIpK1wiIFwiK3RbMV19ZnVuY3Rpb24gaXNBcnJheShlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKX1mdW5jdGlvbiBpc0Jvb2xlYW4oZSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIGlzTnVsbChlKXtyZXR1cm4gbnVsbD09PWV9ZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoZSl7cmV0dXJuIG51bGw9PWV9ZnVuY3Rpb24gaXNOdW1iZXIoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9ZnVuY3Rpb24gaXNTdHJpbmcoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9ZnVuY3Rpb24gaXNTeW1ib2woZSl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIGV9ZnVuY3Rpb24gaXNVbmRlZmluZWQoZSl7cmV0dXJuIHZvaWQgMD09PWV9ZnVuY3Rpb24gaXNSZWdFeHAoZSl7cmV0dXJuIGlzT2JqZWN0KGUpJiZcIltvYmplY3QgUmVnRXhwXVwiPT09b2JqZWN0VG9TdHJpbmcoZSl9ZnVuY3Rpb24gaXNPYmplY3QoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lfWZ1bmN0aW9uIGlzRGF0ZShlKXtyZXR1cm4gaXNPYmplY3QoZSkmJlwiW29iamVjdCBEYXRlXVwiPT09b2JqZWN0VG9TdHJpbmcoZSl9ZnVuY3Rpb24gaXNFcnJvcihlKXtyZXR1cm4gaXNPYmplY3QoZSkmJihcIltvYmplY3QgRXJyb3JdXCI9PT1vYmplY3RUb1N0cmluZyhlKXx8ZSBpbnN0YW5jZW9mIEVycm9yKX1mdW5jdGlvbiBpc0Z1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV9ZnVuY3Rpb24gaXNQcmltaXRpdmUoZSl7cmV0dXJuIG51bGw9PT1lfHxcImJvb2xlYW5cIj09dHlwZW9mIGV8fFwibnVtYmVyXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8XCJzeW1ib2xcIj09dHlwZW9mIGV8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gcGFkKGUpe3JldHVybiBlPDEwP1wiMFwiK2UudG9TdHJpbmcoMTApOmUudG9TdHJpbmcoMTApfWZ1bmN0aW9uIHRpbWVzdGFtcCgpe3ZhciBlPW5ldyBEYXRlLHI9W3BhZChlLmdldEhvdXJzKCkpLHBhZChlLmdldE1pbnV0ZXMoKSkscGFkKGUuZ2V0U2Vjb25kcygpKV0uam9pbihcIjpcIik7cmV0dXJuW2UuZ2V0RGF0ZSgpLG1vbnRoc1tlLmdldE1vbnRoKCldLHJdLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIGhhc093blByb3BlcnR5KGUscil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpfXZhciBmb3JtYXRSZWdFeHA9LyVbc2RqJV0vZztleHBvcnRzLmZvcm1hdD1mdW5jdGlvbihlKXtpZighaXNTdHJpbmcoZSkpe2Zvcih2YXIgcj1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylyLnB1c2goaW5zcGVjdChhcmd1bWVudHNbdF0pKTtyZXR1cm4gci5qb2luKFwiIFwiKX1mb3IodmFyIHQ9MSxuPWFyZ3VtZW50cyxpPW4ubGVuZ3RoLG89U3RyaW5nKGUpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLGZ1bmN0aW9uKGUpe2lmKFwiJSVcIj09PWUpcmV0dXJuXCIlXCI7aWYodD49aSlyZXR1cm4gZTtzd2l0Y2goZSl7Y2FzZVwiJXNcIjpyZXR1cm4gU3RyaW5nKG5bdCsrXSk7Y2FzZVwiJWRcIjpyZXR1cm4gTnVtYmVyKG5bdCsrXSk7Y2FzZVwiJWpcIjp0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KG5bdCsrXSl9Y2F0Y2goZSl7cmV0dXJuXCJbQ2lyY3VsYXJdXCJ9ZGVmYXVsdDpyZXR1cm4gZX19KSxzPW5bdF07dDxpO3M9blsrK3RdKW8rPWlzTnVsbChzKXx8IWlzT2JqZWN0KHMpP1wiIFwiK3M6XCIgXCIraW5zcGVjdChzKTtyZXR1cm4gb30sZXhwb3J0cy5kZXByZWNhdGU9ZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KCl7aWYoIW4pe2lmKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbil0aHJvdyBuZXcgRXJyb3Iocik7cHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uP2NvbnNvbGUudHJhY2Uocik6Y29uc29sZS5lcnJvcihyKSxuPSEwfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1pZihpc1VuZGVmaW5lZChnbG9iYWwucHJvY2VzcykpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGUscikuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtpZihwcm9jZXNzLm5vRGVwcmVjYXRpb249PT0hMClyZXR1cm4gZTt2YXIgbj0hMTtyZXR1cm4gdH07dmFyIGRlYnVncz17fSxkZWJ1Z0Vudmlyb247ZXhwb3J0cy5kZWJ1Z2xvZz1mdW5jdGlvbihlKXtpZihpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pJiYoZGVidWdFbnZpcm9uPXByb2Nlc3MuZW52Lk5PREVfREVCVUd8fFwiXCIpLGU9ZS50b1VwcGVyQ2FzZSgpLCFkZWJ1Z3NbZV0paWYobmV3IFJlZ0V4cChcIlxcXFxiXCIrZStcIlxcXFxiXCIsXCJpXCIpLnRlc3QoZGVidWdFbnZpcm9uKSl7dmFyIHI9cHJvY2Vzcy5waWQ7ZGVidWdzW2VdPWZ1bmN0aW9uKCl7dmFyIHQ9ZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpO2NvbnNvbGUuZXJyb3IoXCIlcyAlZDogJXNcIixlLHIsdCl9fWVsc2UgZGVidWdzW2VdPWZ1bmN0aW9uKCl7fTtyZXR1cm4gZGVidWdzW2VdfSxleHBvcnRzLmluc3BlY3Q9aW5zcGVjdCxpbnNwZWN0LmNvbG9ycz17Ym9sZDpbMSwyMl0saXRhbGljOlszLDIzXSx1bmRlcmxpbmU6WzQsMjRdLGludmVyc2U6WzcsMjddLHdoaXRlOlszNywzOV0sZ3JleTpbOTAsMzldLGJsYWNrOlszMCwzOV0sYmx1ZTpbMzQsMzldLGN5YW46WzM2LDM5XSxncmVlbjpbMzIsMzldLG1hZ2VudGE6WzM1LDM5XSxyZWQ6WzMxLDM5XSx5ZWxsb3c6WzMzLDM5XX0saW5zcGVjdC5zdHlsZXM9e3NwZWNpYWw6XCJjeWFuXCIsbnVtYmVyOlwieWVsbG93XCIsYm9vbGVhbjpcInllbGxvd1wiLHVuZGVmaW5lZDpcImdyZXlcIixudWxsOlwiYm9sZFwiLHN0cmluZzpcImdyZWVuXCIsZGF0ZTpcIm1hZ2VudGFcIixyZWdleHA6XCJyZWRcIn0sZXhwb3J0cy5pc0FycmF5PWlzQXJyYXksZXhwb3J0cy5pc0Jvb2xlYW49aXNCb29sZWFuLGV4cG9ydHMuaXNOdWxsPWlzTnVsbCxleHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkPWlzTnVsbE9yVW5kZWZpbmVkLGV4cG9ydHMuaXNOdW1iZXI9aXNOdW1iZXIsZXhwb3J0cy5pc1N0cmluZz1pc1N0cmluZyxleHBvcnRzLmlzU3ltYm9sPWlzU3ltYm9sLGV4cG9ydHMuaXNVbmRlZmluZWQ9aXNVbmRlZmluZWQsZXhwb3J0cy5pc1JlZ0V4cD1pc1JlZ0V4cCxleHBvcnRzLmlzT2JqZWN0PWlzT2JqZWN0LGV4cG9ydHMuaXNEYXRlPWlzRGF0ZSxleHBvcnRzLmlzRXJyb3I9aXNFcnJvcixleHBvcnRzLmlzRnVuY3Rpb249aXNGdW5jdGlvbixleHBvcnRzLmlzUHJpbWl0aXZlPWlzUHJpbWl0aXZlLGV4cG9ydHMuaXNCdWZmZXI9cmVxdWlyZShcIi4vc3VwcG9ydC9pc0J1ZmZlclwiKTt2YXIgbW9udGhzPVtcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5cIixcIkp1bFwiLFwiQXVnXCIsXCJTZXBcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIl07ZXhwb3J0cy5sb2c9ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcIiVzIC0gJXNcIix0aW1lc3RhbXAoKSxleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLGFyZ3VtZW50cykpfSxleHBvcnRzLmluaGVyaXRzPXJlcXVpcmUoXCJpbmhlcml0c1wiKSxleHBvcnRzLl9leHRlbmQ9ZnVuY3Rpb24oZSxyKXtpZighcnx8IWlzT2JqZWN0KHIpKXJldHVybiBlO2Zvcih2YXIgdD1PYmplY3Qua2V5cyhyKSxuPXQubGVuZ3RoO24tLTspZVt0W25dXT1yW3Rbbl1dO3JldHVybiBlfTtcbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se1wiLi9zdXBwb3J0L2lzQnVmZmVyXCI6MzIsXCJfcHJvY2Vzc1wiOjI3LFwiaW5oZXJpdHNcIjozMX1dLDM0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGU9cmVxdWlyZShcIi4vbGliL3ZlY3RvcnRpbGUuanNcIiksbW9kdWxlLmV4cG9ydHMuVmVjdG9yVGlsZUZlYXR1cmU9cmVxdWlyZShcIi4vbGliL3ZlY3RvcnRpbGVmZWF0dXJlLmpzXCIpLG1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGVMYXllcj1yZXF1aXJlKFwiLi9saWIvdmVjdG9ydGlsZWxheWVyLmpzXCIpO1xufSx7XCIuL2xpYi92ZWN0b3J0aWxlLmpzXCI6MzUsXCIuL2xpYi92ZWN0b3J0aWxlZmVhdHVyZS5qc1wiOjM2LFwiLi9saWIvdmVjdG9ydGlsZWxheWVyLmpzXCI6Mzd9XSwzNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBWZWN0b3JUaWxlKGUscil7dGhpcy5sYXllcnM9ZS5yZWFkRmllbGRzKHJlYWRUaWxlLHt9LHIpfWZ1bmN0aW9uIHJlYWRUaWxlKGUscixpKXtpZigzPT09ZSl7dmFyIHQ9bmV3IFZlY3RvclRpbGVMYXllcihpLGkucmVhZFZhcmludCgpK2kucG9zKTt0Lmxlbmd0aCYmKHJbdC5uYW1lXT10KX19dmFyIFZlY3RvclRpbGVMYXllcj1yZXF1aXJlKFwiLi92ZWN0b3J0aWxlbGF5ZXJcIik7bW9kdWxlLmV4cG9ydHM9VmVjdG9yVGlsZTtcbn0se1wiLi92ZWN0b3J0aWxlbGF5ZXJcIjozN31dLDM2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFZlY3RvclRpbGVGZWF0dXJlKGUsdCxyLGksYSl7dGhpcy5wcm9wZXJ0aWVzPXt9LHRoaXMuZXh0ZW50PXIsdGhpcy50eXBlPTAsdGhpcy5fcGJmPWUsdGhpcy5fZ2VvbWV0cnk9LTEsdGhpcy5fa2V5cz1pLHRoaXMuX3ZhbHVlcz1hLGUucmVhZEZpZWxkcyhyZWFkRmVhdHVyZSx0aGlzLHQpfWZ1bmN0aW9uIHJlYWRGZWF0dXJlKGUsdCxyKXsxPT1lP3QuaWQ9ci5yZWFkVmFyaW50KCk6Mj09ZT9yZWFkVGFnKHIsdCk6Mz09ZT90LnR5cGU9ci5yZWFkVmFyaW50KCk6ND09ZSYmKHQuX2dlb21ldHJ5PXIucG9zKX1mdW5jdGlvbiByZWFkVGFnKGUsdCl7Zm9yKHZhciByPWUucmVhZFZhcmludCgpK2UucG9zO2UucG9zPHI7KXt2YXIgaT10Ll9rZXlzW2UucmVhZFZhcmludCgpXSxhPXQuX3ZhbHVlc1tlLnJlYWRWYXJpbnQoKV07dC5wcm9wZXJ0aWVzW2ldPWF9fWZ1bmN0aW9uIGNsYXNzaWZ5UmluZ3MoZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodDw9MSlyZXR1cm5bZV07Zm9yKHZhciByLGksYT1bXSxvPTA7bzx0O28rKyl7dmFyIG49c2lnbmVkQXJlYShlW29dKTswIT09biYmKHZvaWQgMD09PWkmJihpPW48MCksaT09PW48MD8ociYmYS5wdXNoKHIpLHI9W2Vbb11dKTpyLnB1c2goZVtvXSkpfXJldHVybiByJiZhLnB1c2gociksYX1mdW5jdGlvbiBzaWduZWRBcmVhKGUpe2Zvcih2YXIgdCxyLGk9MCxhPTAsbz1lLmxlbmd0aCxuPW8tMTthPG87bj1hKyspdD1lW2FdLHI9ZVtuXSxpKz0oci54LXQueCkqKHQueStyLnkpO3JldHVybiBpfXZhciBQb2ludD1yZXF1aXJlKFwicG9pbnQtZ2VvbWV0cnlcIik7bW9kdWxlLmV4cG9ydHM9VmVjdG9yVGlsZUZlYXR1cmUsVmVjdG9yVGlsZUZlYXR1cmUudHlwZXM9W1wiVW5rbm93blwiLFwiUG9pbnRcIixcIkxpbmVTdHJpbmdcIixcIlBvbHlnb25cIl0sVmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLmxvYWRHZW9tZXRyeT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3BiZjtlLnBvcz10aGlzLl9nZW9tZXRyeTtmb3IodmFyIHQscj1lLnJlYWRWYXJpbnQoKStlLnBvcyxpPTEsYT0wLG89MCxuPTAscz1bXTtlLnBvczxyOyl7aWYoIWEpe3ZhciBwPWUucmVhZFZhcmludCgpO2k9NyZwLGE9cD4+M31pZihhLS0sMT09PWl8fDI9PT1pKW8rPWUucmVhZFNWYXJpbnQoKSxuKz1lLnJlYWRTVmFyaW50KCksMT09PWkmJih0JiZzLnB1c2godCksdD1bXSksdC5wdXNoKG5ldyBQb2ludChvLG4pKTtlbHNle2lmKDchPT1pKXRocm93IG5ldyBFcnJvcihcInVua25vd24gY29tbWFuZCBcIitpKTt0JiZ0LnB1c2godFswXS5jbG9uZSgpKX19cmV0dXJuIHQmJnMucHVzaCh0KSxzfSxWZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUuYmJveD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3BiZjtlLnBvcz10aGlzLl9nZW9tZXRyeTtmb3IodmFyIHQ9ZS5yZWFkVmFyaW50KCkrZS5wb3Mscj0xLGk9MCxhPTAsbz0wLG49MS8wLHM9LSgxLzApLHA9MS8wLGg9LSgxLzApO2UucG9zPHQ7KXtpZighaSl7dmFyIHU9ZS5yZWFkVmFyaW50KCk7cj03JnUsaT11Pj4zfWlmKGktLSwxPT09cnx8Mj09PXIpYSs9ZS5yZWFkU1ZhcmludCgpLG8rPWUucmVhZFNWYXJpbnQoKSxhPG4mJihuPWEpLGE+cyYmKHM9YSksbzxwJiYocD1vKSxvPmgmJihoPW8pO2Vsc2UgaWYoNyE9PXIpdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBjb21tYW5kIFwiK3IpfXJldHVybltuLHAscyxoXX0sVmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLnRvR2VvSlNPTj1mdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gaShlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIHI9ZVt0XSxpPTE4MC0zNjAqKHIueStwKS9uO2VbdF09WzM2MCooci54K3MpL24tMTgwLDM2MC9NYXRoLlBJKk1hdGguYXRhbihNYXRoLmV4cChpKk1hdGguUEkvMTgwKSktOTBdfX12YXIgYSxvLG49dGhpcy5leHRlbnQqTWF0aC5wb3coMixyKSxzPXRoaXMuZXh0ZW50KmUscD10aGlzLmV4dGVudCp0LGg9dGhpcy5sb2FkR2VvbWV0cnkoKSx1PVZlY3RvclRpbGVGZWF0dXJlLnR5cGVzW3RoaXMudHlwZV07c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSAxOnZhciBkPVtdO2ZvcihhPTA7YTxoLmxlbmd0aDthKyspZFthXT1oW2FdWzBdO2g9ZCxpKGgpO2JyZWFrO2Nhc2UgMjpmb3IoYT0wO2E8aC5sZW5ndGg7YSsrKWkoaFthXSk7YnJlYWs7Y2FzZSAzOmZvcihoPWNsYXNzaWZ5UmluZ3MoaCksYT0wO2E8aC5sZW5ndGg7YSsrKWZvcihvPTA7bzxoW2FdLmxlbmd0aDtvKyspaShoW2FdW29dKX0xPT09aC5sZW5ndGg/aD1oWzBdOnU9XCJNdWx0aVwiK3U7dmFyIGY9e3R5cGU6XCJGZWF0dXJlXCIsZ2VvbWV0cnk6e3R5cGU6dSxjb29yZGluYXRlczpofSxwcm9wZXJ0aWVzOnRoaXMucHJvcGVydGllc307cmV0dXJuXCJpZFwiaW4gdGhpcyYmKGYuaWQ9dGhpcy5pZCksZn07XG59LHtcInBvaW50LWdlb21ldHJ5XCI6MjZ9XSwzNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBWZWN0b3JUaWxlTGF5ZXIoZSx0KXt0aGlzLnZlcnNpb249MSx0aGlzLm5hbWU9bnVsbCx0aGlzLmV4dGVudD00MDk2LHRoaXMubGVuZ3RoPTAsdGhpcy5fcGJmPWUsdGhpcy5fa2V5cz1bXSx0aGlzLl92YWx1ZXM9W10sdGhpcy5fZmVhdHVyZXM9W10sZS5yZWFkRmllbGRzKHJlYWRMYXllcix0aGlzLHQpLHRoaXMubGVuZ3RoPXRoaXMuX2ZlYXR1cmVzLmxlbmd0aH1mdW5jdGlvbiByZWFkTGF5ZXIoZSx0LHIpezE1PT09ZT90LnZlcnNpb249ci5yZWFkVmFyaW50KCk6MT09PWU/dC5uYW1lPXIucmVhZFN0cmluZygpOjU9PT1lP3QuZXh0ZW50PXIucmVhZFZhcmludCgpOjI9PT1lP3QuX2ZlYXR1cmVzLnB1c2goci5wb3MpOjM9PT1lP3QuX2tleXMucHVzaChyLnJlYWRTdHJpbmcoKSk6ND09PWUmJnQuX3ZhbHVlcy5wdXNoKHJlYWRWYWx1ZU1lc3NhZ2UocikpfWZ1bmN0aW9uIHJlYWRWYWx1ZU1lc3NhZ2UoZSl7Zm9yKHZhciB0PW51bGwscj1lLnJlYWRWYXJpbnQoKStlLnBvcztlLnBvczxyOyl7dmFyIGE9ZS5yZWFkVmFyaW50KCk+PjM7dD0xPT09YT9lLnJlYWRTdHJpbmcoKToyPT09YT9lLnJlYWRGbG9hdCgpOjM9PT1hP2UucmVhZERvdWJsZSgpOjQ9PT1hP2UucmVhZFZhcmludDY0KCk6NT09PWE/ZS5yZWFkVmFyaW50KCk6Nj09PWE/ZS5yZWFkU1ZhcmludCgpOjc9PT1hP2UucmVhZEJvb2xlYW4oKTpudWxsfXJldHVybiB0fXZhciBWZWN0b3JUaWxlRmVhdHVyZT1yZXF1aXJlKFwiLi92ZWN0b3J0aWxlZmVhdHVyZS5qc1wiKTttb2R1bGUuZXhwb3J0cz1WZWN0b3JUaWxlTGF5ZXIsVmVjdG9yVGlsZUxheWVyLnByb3RvdHlwZS5mZWF0dXJlPWZ1bmN0aW9uKGUpe2lmKGU8MHx8ZT49dGhpcy5fZmVhdHVyZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kc1wiKTt0aGlzLl9wYmYucG9zPXRoaXMuX2ZlYXR1cmVzW2VdO3ZhciB0PXRoaXMuX3BiZi5yZWFkVmFyaW50KCkrdGhpcy5fcGJmLnBvcztyZXR1cm4gbmV3IFZlY3RvclRpbGVGZWF0dXJlKHRoaXMuX3BiZix0LHRoaXMuZXh0ZW50LHRoaXMuX2tleXMsdGhpcy5fdmFsdWVzKX07XG59LHtcIi4vdmVjdG9ydGlsZWZlYXR1cmUuanNcIjozNn1dLDM4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGZyb21WZWN0b3JUaWxlSnMoZSl7dmFyIHI9W107Zm9yKHZhciBvIGluIGUubGF5ZXJzKXIucHVzaChwcmVwYXJlTGF5ZXIoZS5sYXllcnNbb10pKTt2YXIgdD1uZXcgUGJmO3JldHVybiB2dHBiLnRpbGUud3JpdGUoe2xheWVyczpyfSx0KSx0LmZpbmlzaCgpfWZ1bmN0aW9uIGZyb21HZW9qc29uVnQoZSl7dmFyIHI9e307Zm9yKHZhciBvIGluIGUpcltvXT1uZXcgR2VvSlNPTldyYXBwZXIoZVtvXS5mZWF0dXJlcykscltvXS5uYW1lPW87cmV0dXJuIGZyb21WZWN0b3JUaWxlSnMoe2xheWVyczpyfSl9ZnVuY3Rpb24gcHJlcGFyZUxheWVyKGUpe2Zvcih2YXIgcj17bmFtZTplLm5hbWV8fFwiXCIsdmVyc2lvbjplLnZlcnNpb258fDEsZXh0ZW50OmUuZXh0ZW50fHw0MDk2LGtleXM6W10sdmFsdWVzOltdLGZlYXR1cmVzOltdfSxvPXt9LHQ9e30sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgYT1lLmZlYXR1cmUobik7YS5nZW9tZXRyeT1lbmNvZGVHZW9tZXRyeShhLmxvYWRHZW9tZXRyeSgpKTt2YXIgdT1bXTtmb3IodmFyIHMgaW4gYS5wcm9wZXJ0aWVzKXt2YXIgaT1vW3NdO1widW5kZWZpbmVkXCI9PXR5cGVvZiBpJiYoci5rZXlzLnB1c2gocyksaT1yLmtleXMubGVuZ3RoLTEsb1tzXT1pKTt2YXIgcD13cmFwVmFsdWUoYS5wcm9wZXJ0aWVzW3NdKSxsPXRbcC5rZXldO1widW5kZWZpbmVkXCI9PXR5cGVvZiBsJiYoci52YWx1ZXMucHVzaChwKSxsPXIudmFsdWVzLmxlbmd0aC0xLHRbcC5rZXldPWwpLHUucHVzaChpKSx1LnB1c2gobCl9YS50YWdzPXUsci5mZWF0dXJlcy5wdXNoKGEpfXJldHVybiByfWZ1bmN0aW9uIGNvbW1hbmQoZSxyKXtyZXR1cm4ocjw8MykrKDcmZSl9ZnVuY3Rpb24gemlnemFnKGUpe3JldHVybiBlPDwxXmU+PjMxfWZ1bmN0aW9uIGVuY29kZUdlb21ldHJ5KGUpe2Zvcih2YXIgcj1bXSxvPTAsdD0wLG49ZS5sZW5ndGgsYT0wO2E8bjthKyspe3ZhciB1PWVbYV07ci5wdXNoKGNvbW1hbmQoMSwxKSk7Zm9yKHZhciBzPTA7czx1Lmxlbmd0aDtzKyspezE9PT1zJiZyLnB1c2goY29tbWFuZCgyLHUubGVuZ3RoLTEpKTt2YXIgaT11W3NdLngtbyxwPXVbc10ueS10O3IucHVzaCh6aWd6YWcoaSksemlnemFnKHApKSxvKz1pLHQrPXB9fXJldHVybiByfWZ1bmN0aW9uIHdyYXBWYWx1ZShlKXt2YXIgcixvPXR5cGVvZiBlO3JldHVyblwic3RyaW5nXCI9PT1vP3I9e3N0cmluZ192YWx1ZTplfTpcImJvb2xlYW5cIj09PW8/cj17Ym9vbF92YWx1ZTplfTpcIm51bWJlclwiPT09bz9yPWUlMSE9PTA/e2RvdWJsZV92YWx1ZTplfTplPDA/e3NpbnRfdmFsdWU6ZX06e3VpbnRfdmFsdWU6ZX06KGU9SlNPTi5zdHJpbmdpZnkoZSkscj17c3RyaW5nX3ZhbHVlOmV9KSxyLmtleT1vK1wiOlwiK2Uscn12YXIgUGJmPXJlcXVpcmUoXCJwYmZcIiksdnRwYj1yZXF1aXJlKFwiLi92ZWN0b3ItdGlsZS1wYlwiKSxHZW9KU09OV3JhcHBlcj1yZXF1aXJlKFwiLi9saWIvZ2VvanNvbl93cmFwcGVyXCIpO21vZHVsZS5leHBvcnRzPWZyb21WZWN0b3JUaWxlSnMsbW9kdWxlLmV4cG9ydHMuZnJvbVZlY3RvclRpbGVKcz1mcm9tVmVjdG9yVGlsZUpzLG1vZHVsZS5leHBvcnRzLmZyb21HZW9qc29uVnQ9ZnJvbUdlb2pzb25WdCxtb2R1bGUuZXhwb3J0cy5HZW9KU09OV3JhcHBlcj1HZW9KU09OV3JhcHBlcjtcbn0se1wiLi9saWIvZ2VvanNvbl93cmFwcGVyXCI6MzksXCIuL3ZlY3Rvci10aWxlLXBiXCI6NDAsXCJwYmZcIjoyNX1dLDM5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIEdlb0pTT05XcmFwcGVyKGUpe3RoaXMuZmVhdHVyZXM9ZSx0aGlzLmxlbmd0aD1lLmxlbmd0aH1mdW5jdGlvbiBGZWF0dXJlV3JhcHBlcihlKXt0aGlzLmlkPVwibnVtYmVyXCI9PXR5cGVvZiBlLmlkP2UuaWQ6dm9pZCAwLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5yYXdHZW9tZXRyeT0xPT09ZS50eXBlP1tlLmdlb21ldHJ5XTplLmdlb21ldHJ5LHRoaXMucHJvcGVydGllcz1lLnRhZ3MsdGhpcy5leHRlbnQ9NDA5Nn12YXIgUG9pbnQ9cmVxdWlyZShcInBvaW50LWdlb21ldHJ5XCIpLFZlY3RvclRpbGVGZWF0dXJlPXJlcXVpcmUoXCJ2ZWN0b3ItdGlsZVwiKS5WZWN0b3JUaWxlRmVhdHVyZTttb2R1bGUuZXhwb3J0cz1HZW9KU09OV3JhcHBlcixHZW9KU09OV3JhcHBlci5wcm90b3R5cGUuZmVhdHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEZlYXR1cmVXcmFwcGVyKHRoaXMuZmVhdHVyZXNbZV0pfSxGZWF0dXJlV3JhcHBlci5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yYXdHZW9tZXRyeTt0aGlzLmdlb21ldHJ5PVtdO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtmb3IodmFyIHI9ZVt0XSxvPVtdLGE9MDthPHIubGVuZ3RoO2ErKylvLnB1c2gobmV3IFBvaW50KHJbYV1bMF0sclthXVsxXSkpO3RoaXMuZ2VvbWV0cnkucHVzaChvKX1yZXR1cm4gdGhpcy5nZW9tZXRyeX0sRmVhdHVyZVdyYXBwZXIucHJvdG90eXBlLmJib3g9ZnVuY3Rpb24oKXt0aGlzLmdlb21ldHJ5fHx0aGlzLmxvYWRHZW9tZXRyeSgpO2Zvcih2YXIgZT10aGlzLmdlb21ldHJ5LHQ9MS8wLHI9LSgxLzApLG89MS8wLGE9LSgxLzApLGk9MDtpPGUubGVuZ3RoO2krKylmb3IodmFyIHA9ZVtpXSxuPTA7bjxwLmxlbmd0aDtuKyspe3ZhciBoPXBbbl07dD1NYXRoLm1pbih0LGgueCkscj1NYXRoLm1heChyLGgueCksbz1NYXRoLm1pbihvLGgueSksYT1NYXRoLm1heChhLGgueSl9cmV0dXJuW3QsbyxyLGFdfSxGZWF0dXJlV3JhcHBlci5wcm90b3R5cGUudG9HZW9KU09OPVZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS50b0dlb0pTT047XG59LHtcInBvaW50LWdlb21ldHJ5XCI6MjYsXCJ2ZWN0b3ItdGlsZVwiOjM0fV0sNDA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcmVhZFRpbGUoZSxyKXtyZXR1cm4gZS5yZWFkRmllbGRzKHJlYWRUaWxlRmllbGQse2xheWVyczpbXX0scil9ZnVuY3Rpb24gcmVhZFRpbGVGaWVsZChlLHIsaSl7Mz09PWUmJnIubGF5ZXJzLnB1c2gocmVhZExheWVyKGksaS5yZWFkVmFyaW50KCkraS5wb3MpKX1mdW5jdGlvbiB3cml0ZVRpbGUoZSxyKXt2YXIgaTtpZih2b2lkIDAhPT1lLmxheWVycylmb3IoaT0wO2k8ZS5sYXllcnMubGVuZ3RoO2krKylyLndyaXRlTWVzc2FnZSgzLHdyaXRlTGF5ZXIsZS5sYXllcnNbaV0pfWZ1bmN0aW9uIHJlYWRWYWx1ZShlLHIpe3JldHVybiBlLnJlYWRGaWVsZHMocmVhZFZhbHVlRmllbGQse30scil9ZnVuY3Rpb24gcmVhZFZhbHVlRmllbGQoZSxyLGkpezE9PT1lP3Iuc3RyaW5nX3ZhbHVlPWkucmVhZFN0cmluZygpOjI9PT1lP3IuZmxvYXRfdmFsdWU9aS5yZWFkRmxvYXQoKTozPT09ZT9yLmRvdWJsZV92YWx1ZT1pLnJlYWREb3VibGUoKTo0PT09ZT9yLmludF92YWx1ZT1pLnJlYWRWYXJpbnQoKTo1PT09ZT9yLnVpbnRfdmFsdWU9aS5yZWFkVmFyaW50KCk6Nj09PWU/ci5zaW50X3ZhbHVlPWkucmVhZFNWYXJpbnQoKTo3PT09ZSYmKHIuYm9vbF92YWx1ZT1pLnJlYWRCb29sZWFuKCkpfWZ1bmN0aW9uIHdyaXRlVmFsdWUoZSxyKXt2b2lkIDAhPT1lLnN0cmluZ192YWx1ZSYmci53cml0ZVN0cmluZ0ZpZWxkKDEsZS5zdHJpbmdfdmFsdWUpLHZvaWQgMCE9PWUuZmxvYXRfdmFsdWUmJnIud3JpdGVGbG9hdEZpZWxkKDIsZS5mbG9hdF92YWx1ZSksdm9pZCAwIT09ZS5kb3VibGVfdmFsdWUmJnIud3JpdGVEb3VibGVGaWVsZCgzLGUuZG91YmxlX3ZhbHVlKSx2b2lkIDAhPT1lLmludF92YWx1ZSYmci53cml0ZVZhcmludEZpZWxkKDQsZS5pbnRfdmFsdWUpLHZvaWQgMCE9PWUudWludF92YWx1ZSYmci53cml0ZVZhcmludEZpZWxkKDUsZS51aW50X3ZhbHVlKSx2b2lkIDAhPT1lLnNpbnRfdmFsdWUmJnIud3JpdGVTVmFyaW50RmllbGQoNixlLnNpbnRfdmFsdWUpLHZvaWQgMCE9PWUuYm9vbF92YWx1ZSYmci53cml0ZUJvb2xlYW5GaWVsZCg3LGUuYm9vbF92YWx1ZSl9ZnVuY3Rpb24gcmVhZEZlYXR1cmUoZSxyKXt2YXIgaT1lLnJlYWRGaWVsZHMocmVhZEZlYXR1cmVGaWVsZCx7fSxyKTtyZXR1cm4gdm9pZCAwPT09aS50eXBlJiYoaS50eXBlPVwiVW5rbm93blwiKSxpfWZ1bmN0aW9uIHJlYWRGZWF0dXJlRmllbGQoZSxyLGkpezE9PT1lP3IuaWQ9aS5yZWFkVmFyaW50KCk6Mj09PWU/ci50YWdzPWkucmVhZFBhY2tlZFZhcmludCgpOjM9PT1lP3IudHlwZT1pLnJlYWRWYXJpbnQoKTo0PT09ZSYmKHIuZ2VvbWV0cnk9aS5yZWFkUGFja2VkVmFyaW50KCkpfWZ1bmN0aW9uIHdyaXRlRmVhdHVyZShlLHIpe3ZvaWQgMCE9PWUuaWQmJnIud3JpdGVWYXJpbnRGaWVsZCgxLGUuaWQpLHZvaWQgMCE9PWUudGFncyYmci53cml0ZVBhY2tlZFZhcmludCgyLGUudGFncyksdm9pZCAwIT09ZS50eXBlJiZyLndyaXRlVmFyaW50RmllbGQoMyxlLnR5cGUpLHZvaWQgMCE9PWUuZ2VvbWV0cnkmJnIud3JpdGVQYWNrZWRWYXJpbnQoNCxlLmdlb21ldHJ5KX1mdW5jdGlvbiByZWFkTGF5ZXIoZSxyKXtyZXR1cm4gZS5yZWFkRmllbGRzKHJlYWRMYXllckZpZWxkLHtmZWF0dXJlczpbXSxrZXlzOltdLHZhbHVlczpbXX0scil9ZnVuY3Rpb24gcmVhZExheWVyRmllbGQoZSxyLGkpezE1PT09ZT9yLnZlcnNpb249aS5yZWFkVmFyaW50KCk6MT09PWU/ci5uYW1lPWkucmVhZFN0cmluZygpOjI9PT1lP3IuZmVhdHVyZXMucHVzaChyZWFkRmVhdHVyZShpLGkucmVhZFZhcmludCgpK2kucG9zKSk6Mz09PWU/ci5rZXlzLnB1c2goaS5yZWFkU3RyaW5nKCkpOjQ9PT1lP3IudmFsdWVzLnB1c2gocmVhZFZhbHVlKGksaS5yZWFkVmFyaW50KCkraS5wb3MpKTo1PT09ZSYmKHIuZXh0ZW50PWkucmVhZFZhcmludCgpKX1mdW5jdGlvbiB3cml0ZUxheWVyKGUscil7dm9pZCAwIT09ZS52ZXJzaW9uJiZyLndyaXRlVmFyaW50RmllbGQoMTUsZS52ZXJzaW9uKSx2b2lkIDAhPT1lLm5hbWUmJnIud3JpdGVTdHJpbmdGaWVsZCgxLGUubmFtZSk7dmFyIGk7aWYodm9pZCAwIT09ZS5mZWF0dXJlcylmb3IoaT0wO2k8ZS5mZWF0dXJlcy5sZW5ndGg7aSsrKXIud3JpdGVNZXNzYWdlKDIsd3JpdGVGZWF0dXJlLGUuZmVhdHVyZXNbaV0pO2lmKHZvaWQgMCE9PWUua2V5cylmb3IoaT0wO2k8ZS5rZXlzLmxlbmd0aDtpKyspci53cml0ZVN0cmluZ0ZpZWxkKDMsZS5rZXlzW2ldKTtpZih2b2lkIDAhPT1lLnZhbHVlcylmb3IoaT0wO2k8ZS52YWx1ZXMubGVuZ3RoO2krKylyLndyaXRlTWVzc2FnZSg0LHdyaXRlVmFsdWUsZS52YWx1ZXNbaV0pO3ZvaWQgMCE9PWUuZXh0ZW50JiZyLndyaXRlVmFyaW50RmllbGQoNSxlLmV4dGVudCl9dmFyIHRpbGU9ZXhwb3J0cy50aWxlPXtyZWFkOnJlYWRUaWxlLHdyaXRlOndyaXRlVGlsZX07dGlsZS5HZW9tVHlwZT17VW5rbm93bjowLFBvaW50OjEsTGluZVN0cmluZzoyLFBvbHlnb246M30sdGlsZS52YWx1ZT17cmVhZDpyZWFkVmFsdWUsd3JpdGU6d3JpdGVWYWx1ZX0sdGlsZS5mZWF0dXJlPXtyZWFkOnJlYWRGZWF0dXJlLHdyaXRlOndyaXRlRmVhdHVyZX0sdGlsZS5sYXllcj17cmVhZDpyZWFkTGF5ZXIsd3JpdGU6d3JpdGVMYXllcn07XG59LHt9XSw0MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgYnVuZGxlRm49YXJndW1lbnRzWzNdLHNvdXJjZXM9YXJndW1lbnRzWzRdLGNhY2hlPWFyZ3VtZW50c1s1XSxzdHJpbmdpZnk9SlNPTi5zdHJpbmdpZnk7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ocixlKXtmdW5jdGlvbiB0KHIpe2Rbcl09ITA7Zm9yKHZhciBlIGluIHNvdXJjZXNbcl1bMV0pe3ZhciBuPXNvdXJjZXNbcl1bMV1bZV07ZFtuXXx8dChuKX19Zm9yKHZhciBuLG89T2JqZWN0LmtleXMoY2FjaGUpLGE9MCxpPW8ubGVuZ3RoO2E8aTthKyspe3ZhciBzPW9bYV0sdT1jYWNoZVtzXS5leHBvcnRzO2lmKHU9PT1yfHx1JiZ1LmRlZmF1bHQ9PT1yKXtuPXM7YnJlYWt9fWlmKCFuKXtuPU1hdGguZmxvb3IoTWF0aC5wb3coMTYsOCkqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMTYpO2Zvcih2YXIgZj17fSxhPTAsaT1vLmxlbmd0aDthPGk7YSsrKXt2YXIgcz1vW2FdO2Zbc109c31zb3VyY2VzW25dPVtGdW5jdGlvbihbXCJyZXF1aXJlXCIsXCJtb2R1bGVcIixcImV4cG9ydHNcIl0sXCIoXCIrcitcIikoc2VsZilcIiksZl19dmFyIGM9TWF0aC5mbG9vcihNYXRoLnBvdygxNiw4KSpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygxNiksbD17fTtsW25dPW4sc291cmNlc1tjXT1bRnVuY3Rpb24oW1wicmVxdWlyZVwiXSxcInZhciBmID0gcmVxdWlyZShcIitzdHJpbmdpZnkobikrXCIpOyhmLmRlZmF1bHQgPyBmLmRlZmF1bHQgOiBmKShzZWxmKTtcIiksbF07dmFyIGQ9e307dChjKTt2YXIgZz1cIihcIitidW5kbGVGbitcIikoe1wiK09iamVjdC5rZXlzKGQpLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gc3RyaW5naWZ5KHIpK1wiOltcIitzb3VyY2VzW3JdWzBdK1wiLFwiK3N0cmluZ2lmeShzb3VyY2VzW3JdWzFdKStcIl1cIn0pLmpvaW4oXCIsXCIpK1wifSx7fSxbXCIrc3RyaW5naWZ5KGMpK1wiXSlcIix2PXdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkx8fHdpbmRvdy5tb3pVUkx8fHdpbmRvdy5tc1VSTCx3PW5ldyBCbG9iKFtnXSx7dHlwZTpcInRleHQvamF2YXNjcmlwdFwifSk7aWYoZSYmZS5iYXJlKXJldHVybiB3O3ZhciBoPXYuY3JlYXRlT2JqZWN0VVJMKHcpLGI9bmV3IFdvcmtlcihoKTtyZXR1cm4gYi5vYmplY3RVUkw9aCxifTtcbn0se31dLDQyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzLlJBRElVUz02Mzc4MTM3LG1vZHVsZS5leHBvcnRzLkZMQVRURU5JTkc9MS8yOTguMjU3MjIzNTYzLG1vZHVsZS5leHBvcnRzLlBPTEFSX1JBRElVUz02MzU2NzUyLjMxNDI7XG59LHt9XSw0MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cz17XCJ2ZXJzaW9uXCI6XCIwLjMzLjFcIn1cbn0se31dLDQ0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIHNlcmlhbGl6ZVBhaW50VmVydGV4QXJyYXlzKHIsZSl7dmFyIHQ9e307Zm9yKHZhciBhIGluIHIpe3ZhciBpPXJbYV0ucGFpbnRWZXJ0ZXhBcnJheTtpZigwIT09aS5sZW5ndGgpe3ZhciBuPWkuc2VyaWFsaXplKGUpLHM9aS5jb25zdHJ1Y3Rvci5zZXJpYWxpemUoKTt0W2FdPXthcnJheTpuLHR5cGU6c319fXJldHVybiB0fXZhciBQcm9ncmFtQ29uZmlndXJhdGlvbj1yZXF1aXJlKFwiLi9wcm9ncmFtX2NvbmZpZ3VyYXRpb25cIiksU2VnbWVudD1mdW5jdGlvbihyLGUpe3RoaXMudmVydGV4T2Zmc2V0PXIsdGhpcy5wcmltaXRpdmVPZmZzZXQ9ZSx0aGlzLnZlcnRleExlbmd0aD0wLHRoaXMucHJpbWl0aXZlTGVuZ3RoPTB9LEFycmF5R3JvdXA9ZnVuY3Rpb24ocixlLHQpe3ZhciBhPXRoaXM7dGhpcy5nbG9iYWxQcm9wZXJ0aWVzPXt6b29tOnR9O3ZhciBpPXIubGF5b3V0VmVydGV4QXJyYXlUeXBlO3RoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IGk7dmFyIG49ci5lbGVtZW50QXJyYXlUeXBlO24mJih0aGlzLmVsZW1lbnRBcnJheT1uZXcgbik7dmFyIHM9ci5lbGVtZW50QXJyYXlUeXBlMjtzJiYodGhpcy5lbGVtZW50QXJyYXkyPW5ldyBzKSx0aGlzLmxheWVyRGF0YT17fTtmb3IodmFyIHk9MCxvPWU7eTxvLmxlbmd0aDt5Kz0xKXt2YXIgcD1vW3ldLGw9UHJvZ3JhbUNvbmZpZ3VyYXRpb24uY3JlYXRlRHluYW1pYyhyLnBhaW50QXR0cmlidXRlc3x8W10scCx0KTthLmxheWVyRGF0YVtwLmlkXT17bGF5ZXI6cCxwcm9ncmFtQ29uZmlndXJhdGlvbjpsLHBhaW50VmVydGV4QXJyYXk6bmV3IGwuUGFpbnRWZXJ0ZXhBcnJheSxwYWludFByb3BlcnR5U3RhdGlzdGljczpsLmNyZWF0ZVBhaW50UHJvcGVydHlTdGF0aXN0aWNzKCl9fXRoaXMuc2VnbWVudHM9W10sdGhpcy5zZWdtZW50czI9W119O0FycmF5R3JvdXAucHJvdG90eXBlLnByZXBhcmVTZWdtZW50PWZ1bmN0aW9uKHIpe3ZhciBlPXRoaXMuc2VnbWVudHNbdGhpcy5zZWdtZW50cy5sZW5ndGgtMV07cmV0dXJuKCFlfHxlLnZlcnRleExlbmd0aCtyPkFycmF5R3JvdXAuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgpJiYoZT1uZXcgU2VnbWVudCh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCx0aGlzLmVsZW1lbnRBcnJheS5sZW5ndGgpLHRoaXMuc2VnbWVudHMucHVzaChlKSksZX0sQXJyYXlHcm91cC5wcm90b3R5cGUucHJlcGFyZVNlZ21lbnQyPWZ1bmN0aW9uKHIpe3ZhciBlPXRoaXMuc2VnbWVudHMyW3RoaXMuc2VnbWVudHMyLmxlbmd0aC0xXTtyZXR1cm4oIWV8fGUudmVydGV4TGVuZ3RoK3I+QXJyYXlHcm91cC5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSCkmJihlPW5ldyBTZWdtZW50KHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLHRoaXMuZWxlbWVudEFycmF5Mi5sZW5ndGgpLHRoaXMuc2VnbWVudHMyLnB1c2goZSkpLGV9LEFycmF5R3JvdXAucHJvdG90eXBlLnBvcHVsYXRlUGFpbnRBcnJheXM9ZnVuY3Rpb24ocil7dmFyIGU9dGhpcztmb3IodmFyIHQgaW4gZS5sYXllckRhdGEpe3ZhciBhPWUubGF5ZXJEYXRhW3RdOzAhPT1hLnBhaW50VmVydGV4QXJyYXkuYnl0ZXNQZXJFbGVtZW50JiZhLnByb2dyYW1Db25maWd1cmF0aW9uLnBvcHVsYXRlUGFpbnRBcnJheShhLmxheWVyLGEucGFpbnRWZXJ0ZXhBcnJheSxhLnBhaW50UHJvcGVydHlTdGF0aXN0aWNzLGUubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLGUuZ2xvYmFsUHJvcGVydGllcyxyKX19LEFycmF5R3JvdXAucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofSxBcnJheUdyb3VwLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24ocil7cmV0dXJue2xheW91dFZlcnRleEFycmF5OnRoaXMubGF5b3V0VmVydGV4QXJyYXkuc2VyaWFsaXplKHIpLGVsZW1lbnRBcnJheTp0aGlzLmVsZW1lbnRBcnJheSYmdGhpcy5lbGVtZW50QXJyYXkuc2VyaWFsaXplKHIpLGVsZW1lbnRBcnJheTI6dGhpcy5lbGVtZW50QXJyYXkyJiZ0aGlzLmVsZW1lbnRBcnJheTIuc2VyaWFsaXplKHIpLHBhaW50VmVydGV4QXJyYXlzOnNlcmlhbGl6ZVBhaW50VmVydGV4QXJyYXlzKHRoaXMubGF5ZXJEYXRhLHIpLHNlZ21lbnRzOnRoaXMuc2VnbWVudHMsc2VnbWVudHMyOnRoaXMuc2VnbWVudHMyfX0sQXJyYXlHcm91cC5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSD1NYXRoLnBvdygyLDE2KS0xLG1vZHVsZS5leHBvcnRzPUFycmF5R3JvdXA7XG59LHtcIi4vcHJvZ3JhbV9jb25maWd1cmF0aW9uXCI6NTh9XSw0NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgQXJyYXlHcm91cD1yZXF1aXJlKFwiLi9hcnJheV9ncm91cFwiKSxCdWZmZXJHcm91cD1yZXF1aXJlKFwiLi9idWZmZXJfZ3JvdXBcIiksdXRpbD1yZXF1aXJlKFwiLi4vdXRpbC91dGlsXCIpLEJ1Y2tldD1mdW5jdGlvbihyLHQpe3RoaXMuem9vbT1yLnpvb20sdGhpcy5vdmVyc2NhbGluZz1yLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXIubGF5ZXJzLHRoaXMuaW5kZXg9ci5pbmRleCxyLmFycmF5cz90aGlzLmJ1ZmZlcnM9bmV3IEJ1ZmZlckdyb3VwKHQsci5sYXllcnMsci56b29tLHIuYXJyYXlzKTp0aGlzLmFycmF5cz1uZXcgQXJyYXlHcm91cCh0LHIubGF5ZXJzLHIuem9vbSl9O0J1Y2tldC5wcm90b3R5cGUucG9wdWxhdGU9ZnVuY3Rpb24ocix0KXtmb3IodmFyIGU9dGhpcyxpPTAsYT1yO2k8YS5sZW5ndGg7aSs9MSl7dmFyIHU9YVtpXTtlLmxheWVyc1swXS5maWx0ZXIodSkmJihlLmFkZEZlYXR1cmUodSksdC5mZWF0dXJlSW5kZXguaW5zZXJ0KHUsZS5pbmRleCkpfX0sQnVja2V0LnByb3RvdHlwZS5nZXRQYWludFByb3BlcnR5U3RhdGlzdGljcz1mdW5jdGlvbigpe3JldHVybiB1dGlsLm1hcE9iamVjdCh0aGlzLmFycmF5cy5sYXllckRhdGEsZnVuY3Rpb24ocil7cmV0dXJuIHIucGFpbnRQcm9wZXJ0eVN0YXRpc3RpY3N9KX0sQnVja2V0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJyYXlzLmlzRW1wdHkoKX0sQnVja2V0LnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24ocil7cmV0dXJue3pvb206dGhpcy56b29tLGxheWVySWRzOnRoaXMubGF5ZXJzLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gci5pZH0pLGFycmF5czp0aGlzLmFycmF5cy5zZXJpYWxpemUocil9fSxCdWNrZXQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmJ1ZmZlcnMmJih0aGlzLmJ1ZmZlcnMuZGVzdHJveSgpLHRoaXMuYnVmZmVycz1udWxsKX0sbW9kdWxlLmV4cG9ydHM9QnVja2V0LEJ1Y2tldC5kZXNlcmlhbGl6ZT1mdW5jdGlvbihyLHQpe2lmKHQpe2Zvcih2YXIgZT17fSxpPTAsYT1yO2k8YS5sZW5ndGg7aSs9MSl7dmFyIHU9YVtpXSxvPXUubGF5ZXJJZHMubWFwKGZ1bmN0aW9uKHIpe3JldHVybiB0LmdldExheWVyKHIpfSkuZmlsdGVyKEJvb2xlYW4pO2lmKDAhPT1vLmxlbmd0aClmb3IodmFyIHM9b1swXS5jcmVhdGVCdWNrZXQodXRpbC5leHRlbmQoe2xheWVyczpvfSx1KSksbj0wLGY9bztuPGYubGVuZ3RoO24rPTEpe3ZhciB5PWZbbl07ZVt5LmlkXT1zfX1yZXR1cm4gZX19O1xufSx7XCIuLi91dGlsL3V0aWxcIjoyMTIsXCIuL2FycmF5X2dyb3VwXCI6NDQsXCIuL2J1ZmZlcl9ncm91cFwiOjUyfV0sNDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYWRkQ2lyY2xlVmVydGV4KGUscix0LGEscCl7ZS5lbXBsYWNlQmFjaygyKnIrKGErMSkvMiwyKnQrKHArMSkvMil9dmFyIEJ1Y2tldD1yZXF1aXJlKFwiLi4vYnVja2V0XCIpLGNyZWF0ZVZlcnRleEFycmF5VHlwZT1yZXF1aXJlKFwiLi4vdmVydGV4X2FycmF5X3R5cGVcIiksY3JlYXRlRWxlbWVudEFycmF5VHlwZT1yZXF1aXJlKFwiLi4vZWxlbWVudF9hcnJheV90eXBlXCIpLGxvYWRHZW9tZXRyeT1yZXF1aXJlKFwiLi4vbG9hZF9nZW9tZXRyeVwiKSxFWFRFTlQ9cmVxdWlyZShcIi4uL2V4dGVudFwiKSxjaXJjbGVJbnRlcmZhY2U9e2xheW91dFZlcnRleEFycmF5VHlwZTpjcmVhdGVWZXJ0ZXhBcnJheVR5cGUoW3tuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9XSksZWxlbWVudEFycmF5VHlwZTpjcmVhdGVFbGVtZW50QXJyYXlUeXBlKCkscGFpbnRBdHRyaWJ1dGVzOlt7cHJvcGVydHk6XCJjaXJjbGUtY29sb3JcIix0eXBlOlwiVWludDhcIn0se3Byb3BlcnR5OlwiY2lyY2xlLXJhZGl1c1wiLHR5cGU6XCJVaW50MTZcIixtdWx0aXBsaWVyOjEwfSx7cHJvcGVydHk6XCJjaXJjbGUtYmx1clwiLHR5cGU6XCJVaW50MTZcIixtdWx0aXBsaWVyOjEwfSx7cHJvcGVydHk6XCJjaXJjbGUtb3BhY2l0eVwiLHR5cGU6XCJVaW50OFwiLG11bHRpcGxpZXI6MjU1fSx7cHJvcGVydHk6XCJjaXJjbGUtc3Ryb2tlLWNvbG9yXCIsdHlwZTpcIlVpbnQ4XCJ9LHtwcm9wZXJ0eTpcImNpcmNsZS1zdHJva2Utd2lkdGhcIix0eXBlOlwiVWludDE2XCIsbXVsdGlwbGllcjoxMH0se3Byb3BlcnR5OlwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCIsdHlwZTpcIlVpbnQ4XCIsbXVsdGlwbGllcjoyNTV9XX0sQ2lyY2xlQnVja2V0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIocil7ZS5jYWxsKHRoaXMscixjaXJjbGVJbnRlcmZhY2UpfXJldHVybiBlJiYoci5fX3Byb3RvX189ZSksci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSksci5wcm90b3R5cGUuY29uc3RydWN0b3I9cixyLnByb3RvdHlwZS5hZGRGZWF0dXJlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgcj10aGlzLmFycmF5cyx0PTAsYT1sb2FkR2VvbWV0cnkoZSk7dDxhLmxlbmd0aDt0Kz0xKWZvcih2YXIgcD1hW3RdLGM9MCxpPXA7YzxpLmxlbmd0aDtjKz0xKXt2YXIgeT1pW2NdLGw9eS54LG89eS55O2lmKCEobDwwfHxsPj1FWFRFTlR8fG88MHx8bz49RVhURU5UKSl7dmFyIG49ci5wcmVwYXJlU2VnbWVudCg0KSx1PW4udmVydGV4TGVuZ3RoO2FkZENpcmNsZVZlcnRleChyLmxheW91dFZlcnRleEFycmF5LGwsbywtMSwtMSksYWRkQ2lyY2xlVmVydGV4KHIubGF5b3V0VmVydGV4QXJyYXksbCxvLDEsLTEpLGFkZENpcmNsZVZlcnRleChyLmxheW91dFZlcnRleEFycmF5LGwsbywxLDEpLGFkZENpcmNsZVZlcnRleChyLmxheW91dFZlcnRleEFycmF5LGwsbywtMSwxKSxyLmVsZW1lbnRBcnJheS5lbXBsYWNlQmFjayh1LHUrMSx1KzIpLHIuZWxlbWVudEFycmF5LmVtcGxhY2VCYWNrKHUsdSszLHUrMiksbi52ZXJ0ZXhMZW5ndGgrPTQsbi5wcmltaXRpdmVMZW5ndGgrPTJ9fXIucG9wdWxhdGVQYWludEFycmF5cyhlLnByb3BlcnRpZXMpfSxyfShCdWNrZXQpO21vZHVsZS5leHBvcnRzPUNpcmNsZUJ1Y2tldDtcbn0se1wiLi4vYnVja2V0XCI6NDUsXCIuLi9lbGVtZW50X2FycmF5X3R5cGVcIjo1MyxcIi4uL2V4dGVudFwiOjU0LFwiLi4vbG9hZF9nZW9tZXRyeVwiOjU2LFwiLi4vdmVydGV4X2FycmF5X3R5cGVcIjo2MH1dLDQ3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBCdWNrZXQ9cmVxdWlyZShcIi4uL2J1Y2tldFwiKSxjcmVhdGVWZXJ0ZXhBcnJheVR5cGU9cmVxdWlyZShcIi4uL3ZlcnRleF9hcnJheV90eXBlXCIpLGNyZWF0ZUVsZW1lbnRBcnJheVR5cGU9cmVxdWlyZShcIi4uL2VsZW1lbnRfYXJyYXlfdHlwZVwiKSxsb2FkR2VvbWV0cnk9cmVxdWlyZShcIi4uL2xvYWRfZ2VvbWV0cnlcIiksZWFyY3V0PXJlcXVpcmUoXCJlYXJjdXRcIiksY2xhc3NpZnlSaW5ncz1yZXF1aXJlKFwiLi4vLi4vdXRpbC9jbGFzc2lmeV9yaW5nc1wiKSxFQVJDVVRfTUFYX1JJTkdTPTUwMCxmaWxsSW50ZXJmYWNlPXtsYXlvdXRWZXJ0ZXhBcnJheVR5cGU6Y3JlYXRlVmVydGV4QXJyYXlUeXBlKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0pLGVsZW1lbnRBcnJheVR5cGU6Y3JlYXRlRWxlbWVudEFycmF5VHlwZSgzKSxlbGVtZW50QXJyYXlUeXBlMjpjcmVhdGVFbGVtZW50QXJyYXlUeXBlKDIpLHBhaW50QXR0cmlidXRlczpbe3Byb3BlcnR5OlwiZmlsbC1jb2xvclwiLHR5cGU6XCJVaW50OFwifSx7cHJvcGVydHk6XCJmaWxsLW91dGxpbmUtY29sb3JcIix0eXBlOlwiVWludDhcIn0se3Byb3BlcnR5OlwiZmlsbC1vcGFjaXR5XCIsdHlwZTpcIlVpbnQ4XCIsbXVsdGlwbGllcjoyNTV9XX0sRmlsbEJ1Y2tldD1mdW5jdGlvbihlKXtmdW5jdGlvbiByKHIpe2UuY2FsbCh0aGlzLHIsZmlsbEludGVyZmFjZSl9cmV0dXJuIGUmJihyLl9fcHJvdG9fXz1lKSxyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSxyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yLHIucHJvdG90eXBlLmFkZEZlYXR1cmU9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPXRoaXMuYXJyYXlzLHQ9MCxhPWNsYXNzaWZ5UmluZ3MobG9hZEdlb21ldHJ5KGUpLEVBUkNVVF9NQVhfUklOR1MpO3Q8YS5sZW5ndGg7dCs9MSl7Zm9yKHZhciBsPWFbdF0scD0wLG49MCx5PWw7bjx5Lmxlbmd0aDtuKz0xKXt2YXIgbz15W25dO3ArPW8ubGVuZ3RofWZvcih2YXIgaT1yLnByZXBhcmVTZWdtZW50KHApLGM9aS52ZXJ0ZXhMZW5ndGgsdT1bXSxoPVtdLHM9MCxnPWw7czxnLmxlbmd0aDtzKz0xKXt2YXIgbT1nW3NdO2lmKDAhPT1tLmxlbmd0aCl7bSE9PWxbMF0mJmgucHVzaCh1Lmxlbmd0aC8yKTt2YXIgZj1yLnByZXBhcmVTZWdtZW50MihtLmxlbmd0aCksQT1mLnZlcnRleExlbmd0aDtyLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKG1bMF0ueCxtWzBdLnkpLHIuZWxlbWVudEFycmF5Mi5lbXBsYWNlQmFjayhBK20ubGVuZ3RoLTEsQSksdS5wdXNoKG1bMF0ueCksdS5wdXNoKG1bMF0ueSk7Zm9yKHZhciB2PTE7djxtLmxlbmd0aDt2Kyspci5sYXlvdXRWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhtW3ZdLngsbVt2XS55KSxyLmVsZW1lbnRBcnJheTIuZW1wbGFjZUJhY2soQSt2LTEsQSt2KSx1LnB1c2gobVt2XS54KSx1LnB1c2gobVt2XS55KTtmLnZlcnRleExlbmd0aCs9bS5sZW5ndGgsZi5wcmltaXRpdmVMZW5ndGgrPW0ubGVuZ3RofX1mb3IodmFyIHg9ZWFyY3V0KHUsaCksXz0wO188eC5sZW5ndGg7Xys9MylyLmVsZW1lbnRBcnJheS5lbXBsYWNlQmFjayhjK3hbX10sYyt4W18rMV0sYyt4W18rMl0pO2kudmVydGV4TGVuZ3RoKz1wLGkucHJpbWl0aXZlTGVuZ3RoKz14Lmxlbmd0aC8zfXIucG9wdWxhdGVQYWludEFycmF5cyhlLnByb3BlcnRpZXMpfSxyfShCdWNrZXQpO21vZHVsZS5leHBvcnRzPUZpbGxCdWNrZXQ7XG59LHtcIi4uLy4uL3V0aWwvY2xhc3NpZnlfcmluZ3NcIjoxOTUsXCIuLi9idWNrZXRcIjo0NSxcIi4uL2VsZW1lbnRfYXJyYXlfdHlwZVwiOjUzLFwiLi4vbG9hZF9nZW9tZXRyeVwiOjU2LFwiLi4vdmVydGV4X2FycmF5X3R5cGVcIjo2MCxcImVhcmN1dFwiOjV9XSw0ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhZGRWZXJ0ZXgoZSxyLHQsYSxuLHksbyxpKXtlLmVtcGxhY2VCYWNrKHIsdCwyKk1hdGguZmxvb3IoYSpGQUNUT1IpK28sbipGQUNUT1IqMix5KkZBQ1RPUioyLE1hdGgucm91bmQoaSkpfWZ1bmN0aW9uIGlzQm91bmRhcnlFZGdlKGUscil7cmV0dXJuIGUueD09PXIueCYmKGUueDwwfHxlLng+RVhURU5UKXx8ZS55PT09ci55JiYoZS55PDB8fGUueT5FWFRFTlQpfXZhciBCdWNrZXQ9cmVxdWlyZShcIi4uL2J1Y2tldFwiKSxjcmVhdGVWZXJ0ZXhBcnJheVR5cGU9cmVxdWlyZShcIi4uL3ZlcnRleF9hcnJheV90eXBlXCIpLGNyZWF0ZUVsZW1lbnRBcnJheVR5cGU9cmVxdWlyZShcIi4uL2VsZW1lbnRfYXJyYXlfdHlwZVwiKSxsb2FkR2VvbWV0cnk9cmVxdWlyZShcIi4uL2xvYWRfZ2VvbWV0cnlcIiksRVhURU5UPXJlcXVpcmUoXCIuLi9leHRlbnRcIiksZWFyY3V0PXJlcXVpcmUoXCJlYXJjdXRcIiksY2xhc3NpZnlSaW5ncz1yZXF1aXJlKFwiLi4vLi4vdXRpbC9jbGFzc2lmeV9yaW5nc1wiKSxFQVJDVVRfTUFYX1JJTkdTPTUwMCxmaWxsRXh0cnVzaW9uSW50ZXJmYWNlPXtsYXlvdXRWZXJ0ZXhBcnJheVR5cGU6Y3JlYXRlVmVydGV4QXJyYXlUeXBlKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfbm9ybWFsXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfZWRnZWRpc3RhbmNlXCIsY29tcG9uZW50czoxLHR5cGU6XCJJbnQxNlwifV0pLGVsZW1lbnRBcnJheVR5cGU6Y3JlYXRlRWxlbWVudEFycmF5VHlwZSgzKSxwYWludEF0dHJpYnV0ZXM6W3twcm9wZXJ0eTpcImZpbGwtZXh0cnVzaW9uLWJhc2VcIix0eXBlOlwiVWludDE2XCJ9LHtwcm9wZXJ0eTpcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiLHR5cGU6XCJVaW50MTZcIn0se3Byb3BlcnR5OlwiZmlsbC1leHRydXNpb24tY29sb3JcIix0eXBlOlwiVWludDhcIn1dfSxGQUNUT1I9TWF0aC5wb3coMiwxMyksRmlsbEV4dHJ1c2lvbkJ1Y2tldD1mdW5jdGlvbihlKXtmdW5jdGlvbiByKHIpe2UuY2FsbCh0aGlzLHIsZmlsbEV4dHJ1c2lvbkludGVyZmFjZSl9cmV0dXJuIGUmJihyLl9fcHJvdG9fXz1lKSxyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSxyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yLHIucHJvdG90eXBlLmFkZEZlYXR1cmU9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPXRoaXMuYXJyYXlzLHQ9MCxhPWNsYXNzaWZ5UmluZ3MobG9hZEdlb21ldHJ5KGUpLEVBUkNVVF9NQVhfUklOR1MpO3Q8YS5sZW5ndGg7dCs9MSl7Zm9yKHZhciBuPWFbdF0seT0wLG89MCxpPW47bzxpLmxlbmd0aDtvKz0xKXt2YXIgbD1pW29dO3krPWwubGVuZ3RofWZvcih2YXIgcD1yLnByZXBhcmVTZWdtZW50KDUqeSksdT1bXSxjPVtdLHg9W10scz0wLGQ9bjtzPGQubGVuZ3RoO3MrPTEpe3ZhciBoPWRbc107aWYoMCE9PWgubGVuZ3RoKXtoIT09blswXSYmYy5wdXNoKHUubGVuZ3RoLzIpO2Zvcih2YXIgbT0wLGY9MDtmPGgubGVuZ3RoO2YrKyl7dmFyIEE9aFtmXTtpZihhZGRWZXJ0ZXgoci5sYXlvdXRWZXJ0ZXhBcnJheSxBLngsQS55LDAsMCwxLDEsMCkseC5wdXNoKHAudmVydGV4TGVuZ3RoKyspLGY+PTEpe3ZhciBnPWhbZi0xXTtpZighaXNCb3VuZGFyeUVkZ2UoQSxnKSl7dmFyIF89QS5zdWIoZykuX3BlcnAoKS5fdW5pdCgpO2FkZFZlcnRleChyLmxheW91dFZlcnRleEFycmF5LEEueCxBLnksXy54LF8ueSwwLDAsbSksYWRkVmVydGV4KHIubGF5b3V0VmVydGV4QXJyYXksQS54LEEueSxfLngsXy55LDAsMSxtKSxtKz1nLmRpc3QoQSksYWRkVmVydGV4KHIubGF5b3V0VmVydGV4QXJyYXksZy54LGcueSxfLngsXy55LDAsMCxtKSxhZGRWZXJ0ZXgoci5sYXlvdXRWZXJ0ZXhBcnJheSxnLngsZy55LF8ueCxfLnksMCwxLG0pO3ZhciB2PXAudmVydGV4TGVuZ3RoO3IuZWxlbWVudEFycmF5LmVtcGxhY2VCYWNrKHYsdisxLHYrMiksci5lbGVtZW50QXJyYXkuZW1wbGFjZUJhY2sodisxLHYrMix2KzMpLHAudmVydGV4TGVuZ3RoKz00LHAucHJpbWl0aXZlTGVuZ3RoKz0yfX11LnB1c2goQS54KSx1LnB1c2goQS55KX19fWZvcih2YXIgVD1lYXJjdXQodSxjKSxFPTA7RTxULmxlbmd0aDtFKz0zKXIuZWxlbWVudEFycmF5LmVtcGxhY2VCYWNrKHhbVFtFXV0seFtUW0UrMV1dLHhbVFtFKzJdXSk7cC5wcmltaXRpdmVMZW5ndGgrPVQubGVuZ3RoLzN9ci5wb3B1bGF0ZVBhaW50QXJyYXlzKGUucHJvcGVydGllcyl9LHJ9KEJ1Y2tldCk7bW9kdWxlLmV4cG9ydHM9RmlsbEV4dHJ1c2lvbkJ1Y2tldDtcbn0se1wiLi4vLi4vdXRpbC9jbGFzc2lmeV9yaW5nc1wiOjE5NSxcIi4uL2J1Y2tldFwiOjQ1LFwiLi4vZWxlbWVudF9hcnJheV90eXBlXCI6NTMsXCIuLi9leHRlbnRcIjo1NCxcIi4uL2xvYWRfZ2VvbWV0cnlcIjo1NixcIi4uL3ZlcnRleF9hcnJheV90eXBlXCI6NjAsXCJlYXJjdXRcIjo1fV0sNDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYWRkTGluZVZlcnRleChlLHQscixpLGEsbixkKXtlLmVtcGxhY2VCYWNrKHQueDw8MXxpLHQueTw8MXxhLE1hdGgucm91bmQoRVhUUlVERV9TQ0FMRSpyLngpKzEyOCxNYXRoLnJvdW5kKEVYVFJVREVfU0NBTEUqci55KSsxMjgsKDA9PT1uPzA6bjwwPy0xOjEpKzF8KGQqTElORV9ESVNUQU5DRV9TQ0FMRSY2Myk8PDIsZCpMSU5FX0RJU1RBTkNFX1NDQUxFPj42KX12YXIgQnVja2V0PXJlcXVpcmUoXCIuLi9idWNrZXRcIiksY3JlYXRlVmVydGV4QXJyYXlUeXBlPXJlcXVpcmUoXCIuLi92ZXJ0ZXhfYXJyYXlfdHlwZVwiKSxjcmVhdGVFbGVtZW50QXJyYXlUeXBlPXJlcXVpcmUoXCIuLi9lbGVtZW50X2FycmF5X3R5cGVcIiksbG9hZEdlb21ldHJ5PXJlcXVpcmUoXCIuLi9sb2FkX2dlb21ldHJ5XCIpLEVYVEVOVD1yZXF1aXJlKFwiLi4vZXh0ZW50XCIpLEVYVFJVREVfU0NBTEU9NjMsQ09TX0hBTEZfU0hBUlBfQ09STkVSPU1hdGguY29zKDM3LjUqKE1hdGguUEkvMTgwKSksU0hBUlBfQ09STkVSX09GRlNFVD0xNSxMSU5FX0RJU1RBTkNFX0JVRkZFUl9CSVRTPTE1LExJTkVfRElTVEFOQ0VfU0NBTEU9LjUsTUFYX0xJTkVfRElTVEFOQ0U9TWF0aC5wb3coMixMSU5FX0RJU1RBTkNFX0JVRkZFUl9CSVRTLTEpL0xJTkVfRElTVEFOQ0VfU0NBTEUsbGluZUludGVyZmFjZT17bGF5b3V0VmVydGV4QXJyYXlUeXBlOmNyZWF0ZVZlcnRleEFycmF5VHlwZShbe25hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2RhdGFcIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQ4XCJ9XSkscGFpbnRBdHRyaWJ1dGVzOlt7cHJvcGVydHk6XCJsaW5lLWNvbG9yXCIsdHlwZTpcIlVpbnQ4XCJ9LHtwcm9wZXJ0eTpcImxpbmUtYmx1clwiLG11bHRpcGxpZXI6MTAsdHlwZTpcIlVpbnQ4XCJ9LHtwcm9wZXJ0eTpcImxpbmUtb3BhY2l0eVwiLG11bHRpcGxpZXI6MTAsdHlwZTpcIlVpbnQ4XCJ9LHtwcm9wZXJ0eTpcImxpbmUtZ2FwLXdpZHRoXCIsbXVsdGlwbGllcjoxMCx0eXBlOlwiVWludDhcIixuYW1lOlwiYV9nYXB3aWR0aFwifSx7cHJvcGVydHk6XCJsaW5lLW9mZnNldFwiLG11bHRpcGxpZXI6MSx0eXBlOlwiSW50OFwifV0sZWxlbWVudEFycmF5VHlwZTpjcmVhdGVFbGVtZW50QXJyYXlUeXBlKCl9LExpbmVCdWNrZXQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtlLmNhbGwodGhpcyx0LGxpbmVJbnRlcmZhY2UpfXJldHVybiBlJiYodC5fX3Byb3RvX189ZSksdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSksdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCx0LnByb3RvdHlwZS5hZGRGZWF0dXJlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLHI9dGhpcy5sYXllcnNbMF0ubGF5b3V0LGk9cltcImxpbmUtam9pblwiXSxhPXJbXCJsaW5lLWNhcFwiXSxuPXJbXCJsaW5lLW1pdGVyLWxpbWl0XCJdLGQ9cltcImxpbmUtcm91bmQtbGltaXRcIl0scz0wLHU9bG9hZEdlb21ldHJ5KGUsTElORV9ESVNUQU5DRV9CVUZGRVJfQklUUyk7czx1Lmxlbmd0aDtzKz0xKXt2YXIgbD11W3NdO3QuYWRkTGluZShsLGUucHJvcGVydGllcyxpLGEsbixkKX19LHQucHJvdG90eXBlLmFkZExpbmU9ZnVuY3Rpb24oZSx0LHIsaSxhLG4pe2Zvcih2YXIgZD10aGlzLHM9ZS5sZW5ndGg7cz4yJiZlW3MtMV0uZXF1YWxzKGVbcy0yXSk7KXMtLTtpZighKGUubGVuZ3RoPDIpKXtcImJldmVsXCI9PT1yJiYoYT0xLjA1KTt2YXIgdT1TSEFSUF9DT1JORVJfT0ZGU0VUKihFWFRFTlQvKDUxMip0aGlzLm92ZXJzY2FsaW5nKSksbD1lWzBdLHA9ZVtzLTFdLG89bC5lcXVhbHMocCksYz10aGlzLmFycmF5cyxfPWMucHJlcGFyZVNlZ21lbnQoMTAqcyk7aWYoMiE9PXN8fCFvKXt0aGlzLmRpc3RhbmNlPTA7dmFyIGgseSxtLEUseCxDLHYsQT1pLGY9bz9cImJ1dHRcIjppLEw9ITA7dGhpcy5lMT10aGlzLmUyPXRoaXMuZTM9LTEsbyYmKGg9ZVtzLTJdLHg9bC5zdWIoaCkuX3VuaXQoKS5fcGVycCgpKTtmb3IodmFyIFM9MDtTPHM7UysrKWlmKG09byYmUz09PXMtMT9lWzFdOmVbUysxXSwhbXx8IWVbU10uZXF1YWxzKG0pKXt4JiYoRT14KSxoJiYoeT1oKSxoPWVbU10seD1tP20uc3ViKGgpLl91bml0KCkuX3BlcnAoKTpFLEU9RXx8eDt2YXIgVj1FLmFkZCh4KTswPT09Vi54JiYwPT09Vi55fHxWLl91bml0KCk7dmFyIFQ9Vi54KngueCtWLnkqeC55LEk9MCE9PVQ/MS9UOjEvMCxOPVQ8Q09TX0hBTEZfU0hBUlBfQ09STkVSJiZ5JiZtO2lmKE4mJlM+MCl7dmFyIGI9aC5kaXN0KHkpO2lmKGI+Mip1KXt2YXIgUj1oLnN1YihoLnN1Yih5KS5fbXVsdCh1L2IpLl9yb3VuZCgpKTtkLmRpc3RhbmNlKz1SLmRpc3QoeSksZC5hZGRDdXJyZW50VmVydGV4KFIsZC5kaXN0YW5jZSxFLm11bHQoMSksMCwwLCExLF8pLHk9Un19dmFyIGc9eSYmbSxCPWc/cjptP0E6ZjtpZihnJiZcInJvdW5kXCI9PT1CJiYoSTxuP0I9XCJtaXRlclwiOkk8PTImJihCPVwiZmFrZXJvdW5kXCIpKSxcIm1pdGVyXCI9PT1CJiZJPmEmJihCPVwiYmV2ZWxcIiksXCJiZXZlbFwiPT09QiYmKEk+MiYmKEI9XCJmbGlwYmV2ZWxcIiksSTxhJiYoQj1cIm1pdGVyXCIpKSx5JiYoZC5kaXN0YW5jZSs9aC5kaXN0KHkpKSxcIm1pdGVyXCI9PT1CKVYuX211bHQoSSksZC5hZGRDdXJyZW50VmVydGV4KGgsZC5kaXN0YW5jZSxWLDAsMCwhMSxfKTtlbHNlIGlmKFwiZmxpcGJldmVsXCI9PT1CKXtpZihJPjEwMClWPXguY2xvbmUoKS5tdWx0KC0xKTtlbHNle3ZhciBGPUUueCp4LnktRS55KngueD4wPy0xOjEsaz1JKkUuYWRkKHgpLm1hZygpL0Uuc3ViKHgpLm1hZygpO1YuX3BlcnAoKS5fbXVsdChrKkYpfWQuYWRkQ3VycmVudFZlcnRleChoLGQuZGlzdGFuY2UsViwwLDAsITEsXyksZC5hZGRDdXJyZW50VmVydGV4KGgsZC5kaXN0YW5jZSxWLm11bHQoLTEpLDAsMCwhMSxfKX1lbHNlIGlmKFwiYmV2ZWxcIj09PUJ8fFwiZmFrZXJvdW5kXCI9PT1CKXt2YXIgRD1FLngqeC55LUUueSp4Lng+MCxVPS1NYXRoLnNxcnQoSSpJLTEpO2lmKEQ/KHY9MCxDPVUpOihDPTAsdj1VKSxMfHxkLmFkZEN1cnJlbnRWZXJ0ZXgoaCxkLmRpc3RhbmNlLEUsQyx2LCExLF8pLFwiZmFrZXJvdW5kXCI9PT1CKXtmb3IodmFyIHE9TWF0aC5mbG9vcig4KiguNS0oVC0uNSkpKSxQPXZvaWQgMCxNPTA7TTxxO00rKylQPXgubXVsdCgoTSsxKS8ocSsxKSkuX2FkZChFKS5fdW5pdCgpLGQuYWRkUGllU2xpY2VWZXJ0ZXgoaCxkLmRpc3RhbmNlLFAsRCxfKTtkLmFkZFBpZVNsaWNlVmVydGV4KGgsZC5kaXN0YW5jZSxWLEQsXyk7Zm9yKHZhciBPPXEtMTtPPj0wO08tLSlQPUUubXVsdCgoTysxKS8ocSsxKSkuX2FkZCh4KS5fdW5pdCgpLGQuYWRkUGllU2xpY2VWZXJ0ZXgoaCxkLmRpc3RhbmNlLFAsRCxfKX1tJiZkLmFkZEN1cnJlbnRWZXJ0ZXgoaCxkLmRpc3RhbmNlLHgsLUMsLXYsITEsXyl9ZWxzZVwiYnV0dFwiPT09Qj8oTHx8ZC5hZGRDdXJyZW50VmVydGV4KGgsZC5kaXN0YW5jZSxFLDAsMCwhMSxfKSxtJiZkLmFkZEN1cnJlbnRWZXJ0ZXgoaCxkLmRpc3RhbmNlLHgsMCwwLCExLF8pKTpcInNxdWFyZVwiPT09Qj8oTHx8KGQuYWRkQ3VycmVudFZlcnRleChoLGQuZGlzdGFuY2UsRSwxLDEsITEsXyksZC5lMT1kLmUyPS0xKSxtJiZkLmFkZEN1cnJlbnRWZXJ0ZXgoaCxkLmRpc3RhbmNlLHgsLTEsLTEsITEsXykpOlwicm91bmRcIj09PUImJihMfHwoZC5hZGRDdXJyZW50VmVydGV4KGgsZC5kaXN0YW5jZSxFLDAsMCwhMSxfKSxkLmFkZEN1cnJlbnRWZXJ0ZXgoaCxkLmRpc3RhbmNlLEUsMSwxLCEwLF8pLGQuZTE9ZC5lMj0tMSksbSYmKGQuYWRkQ3VycmVudFZlcnRleChoLGQuZGlzdGFuY2UseCwtMSwtMSwhMCxfKSxkLmFkZEN1cnJlbnRWZXJ0ZXgoaCxkLmRpc3RhbmNlLHgsMCwwLCExLF8pKSk7aWYoTiYmUzxzLTEpe3ZhciBYPWguZGlzdChtKTtpZihYPjIqdSl7dmFyIEg9aC5hZGQobS5zdWIoaCkuX211bHQodS9YKS5fcm91bmQoKSk7ZC5kaXN0YW5jZSs9SC5kaXN0KGgpLGQuYWRkQ3VycmVudFZlcnRleChILGQuZGlzdGFuY2UseC5tdWx0KDEpLDAsMCwhMSxfKSxoPUh9fUw9ITF9Yy5wb3B1bGF0ZVBhaW50QXJyYXlzKHQpfX19LHQucHJvdG90eXBlLmFkZEN1cnJlbnRWZXJ0ZXg9ZnVuY3Rpb24oZSx0LHIsaSxhLG4sZCl7dmFyIHMsdT1uPzE6MCxsPXRoaXMuYXJyYXlzLHA9bC5sYXlvdXRWZXJ0ZXhBcnJheSxvPWwuZWxlbWVudEFycmF5O3M9ci5jbG9uZSgpLGkmJnMuX3N1YihyLnBlcnAoKS5fbXVsdChpKSksYWRkTGluZVZlcnRleChwLGUscyx1LDAsaSx0KSx0aGlzLmUzPWQudmVydGV4TGVuZ3RoKyssdGhpcy5lMT49MCYmdGhpcy5lMj49MCYmKG8uZW1wbGFjZUJhY2sodGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMpLGQucHJpbWl0aXZlTGVuZ3RoKyspLHRoaXMuZTE9dGhpcy5lMix0aGlzLmUyPXRoaXMuZTMscz1yLm11bHQoLTEpLGEmJnMuX3N1YihyLnBlcnAoKS5fbXVsdChhKSksYWRkTGluZVZlcnRleChwLGUscyx1LDEsLWEsdCksdGhpcy5lMz1kLnZlcnRleExlbmd0aCsrLHRoaXMuZTE+PTAmJnRoaXMuZTI+PTAmJihvLmVtcGxhY2VCYWNrKHRoaXMuZTEsdGhpcy5lMix0aGlzLmUzKSxkLnByaW1pdGl2ZUxlbmd0aCsrKSx0aGlzLmUxPXRoaXMuZTIsdGhpcy5lMj10aGlzLmUzLHQ+TUFYX0xJTkVfRElTVEFOQ0UvMiYmKHRoaXMuZGlzdGFuY2U9MCx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoZSx0aGlzLmRpc3RhbmNlLHIsaSxhLG4sZCkpfSx0LnByb3RvdHlwZS5hZGRQaWVTbGljZVZlcnRleD1mdW5jdGlvbihlLHQscixpLGEpe3ZhciBuPWk/MTowO3I9ci5tdWx0KGk/LTE6MSk7dmFyIGQ9dGhpcy5hcnJheXMscz1kLmxheW91dFZlcnRleEFycmF5LHU9ZC5lbGVtZW50QXJyYXk7YWRkTGluZVZlcnRleChzLGUsciwwLG4sMCx0KSx0aGlzLmUzPWEudmVydGV4TGVuZ3RoKyssdGhpcy5lMT49MCYmdGhpcy5lMj49MCYmKHUuZW1wbGFjZUJhY2sodGhpcy5lMSx0aGlzLmUyLHRoaXMuZTMpLGEucHJpbWl0aXZlTGVuZ3RoKyspLGk/dGhpcy5lMj10aGlzLmUzOnRoaXMuZTE9dGhpcy5lM30sdH0oQnVja2V0KTttb2R1bGUuZXhwb3J0cz1MaW5lQnVja2V0O1xufSx7XCIuLi9idWNrZXRcIjo0NSxcIi4uL2VsZW1lbnRfYXJyYXlfdHlwZVwiOjUzLFwiLi4vZXh0ZW50XCI6NTQsXCIuLi9sb2FkX2dlb21ldHJ5XCI6NTYsXCIuLi92ZXJ0ZXhfYXJyYXlfdHlwZVwiOjYwfV0sNTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYWRkVmVydGV4KGUsdCxvLHIsYSxpLG4sbCxzLGMseSl7ZS5lbXBsYWNlQmFjayh0LG8sTWF0aC5yb3VuZCg2NCpyKSxNYXRoLnJvdW5kKDY0KmEpLGkvNCxuLzQsMTAqKGN8fDApLHksMTAqKGx8fDApLDEwKk1hdGgubWluKHN8fDI1LDI1KSl9ZnVuY3Rpb24gYWRkQ29sbGlzaW9uQm94VmVydGV4KGUsdCxvLHIsYSl7cmV0dXJuIGUuZW1wbGFjZUJhY2sodC54LHQueSxNYXRoLnJvdW5kKG8ueCksTWF0aC5yb3VuZChvLnkpLDEwKnIsMTAqYSl9dmFyIFBvaW50PXJlcXVpcmUoXCJwb2ludC1nZW9tZXRyeVwiKSxBcnJheUdyb3VwPXJlcXVpcmUoXCIuLi9hcnJheV9ncm91cFwiKSxCdWZmZXJHcm91cD1yZXF1aXJlKFwiLi4vYnVmZmVyX2dyb3VwXCIpLGNyZWF0ZVZlcnRleEFycmF5VHlwZT1yZXF1aXJlKFwiLi4vdmVydGV4X2FycmF5X3R5cGVcIiksY3JlYXRlRWxlbWVudEFycmF5VHlwZT1yZXF1aXJlKFwiLi4vZWxlbWVudF9hcnJheV90eXBlXCIpLEVYVEVOVD1yZXF1aXJlKFwiLi4vZXh0ZW50XCIpLEFuY2hvcj1yZXF1aXJlKFwiLi4vLi4vc3ltYm9sL2FuY2hvclwiKSxnZXRBbmNob3JzPXJlcXVpcmUoXCIuLi8uLi9zeW1ib2wvZ2V0X2FuY2hvcnNcIikscmVzb2x2ZVRva2Vucz1yZXF1aXJlKFwiLi4vLi4vdXRpbC90b2tlblwiKSxRdWFkcz1yZXF1aXJlKFwiLi4vLi4vc3ltYm9sL3F1YWRzXCIpLFNoYXBpbmc9cmVxdWlyZShcIi4uLy4uL3N5bWJvbC9zaGFwaW5nXCIpLHJlc29sdmVUZXh0PXJlcXVpcmUoXCIuLi8uLi9zeW1ib2wvcmVzb2x2ZV90ZXh0XCIpLG1lcmdlTGluZXM9cmVxdWlyZShcIi4uLy4uL3N5bWJvbC9tZXJnZWxpbmVzXCIpLGNsaXBMaW5lPXJlcXVpcmUoXCIuLi8uLi9zeW1ib2wvY2xpcF9saW5lXCIpLHV0aWw9cmVxdWlyZShcIi4uLy4uL3V0aWwvdXRpbFwiKSxzY3JpcHREZXRlY3Rpb249cmVxdWlyZShcIi4uLy4uL3V0aWwvc2NyaXB0X2RldGVjdGlvblwiKSxsb2FkR2VvbWV0cnk9cmVxdWlyZShcIi4uL2xvYWRfZ2VvbWV0cnlcIiksQ29sbGlzaW9uRmVhdHVyZT1yZXF1aXJlKFwiLi4vLi4vc3ltYm9sL2NvbGxpc2lvbl9mZWF0dXJlXCIpLGZpbmRQb2xlT2ZJbmFjY2Vzc2liaWxpdHk9cmVxdWlyZShcIi4uLy4uL3V0aWwvZmluZF9wb2xlX29mX2luYWNjZXNzaWJpbGl0eVwiKSxjbGFzc2lmeVJpbmdzPXJlcXVpcmUoXCIuLi8uLi91dGlsL2NsYXNzaWZ5X3JpbmdzXCIpLFZlY3RvclRpbGVGZWF0dXJlPXJlcXVpcmUoXCJ2ZWN0b3ItdGlsZVwiKS5WZWN0b3JUaWxlRmVhdHVyZSxydGxUZXh0UGx1Z2luPXJlcXVpcmUoXCIuLi8uLi9zb3VyY2UvcnRsX3RleHRfcGx1Z2luXCIpLHNoYXBlVGV4dD1TaGFwaW5nLnNoYXBlVGV4dCxzaGFwZUljb249U2hhcGluZy5zaGFwZUljb24sV3JpdGluZ01vZGU9U2hhcGluZy5Xcml0aW5nTW9kZSxnZXRHbHlwaFF1YWRzPVF1YWRzLmdldEdseXBoUXVhZHMsZ2V0SWNvblF1YWRzPVF1YWRzLmdldEljb25RdWFkcyxlbGVtZW50QXJyYXlUeXBlPWNyZWF0ZUVsZW1lbnRBcnJheVR5cGUoKSxsYXlvdXRWZXJ0ZXhBcnJheVR5cGU9Y3JlYXRlVmVydGV4QXJyYXlUeXBlKFt7bmFtZTpcImFfcG9zX29mZnNldFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX3RleHR1cmVfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJVaW50MTZcIn0se25hbWU6XCJhX2RhdGFcIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQ4XCJ9XSksc3ltYm9sSW50ZXJmYWNlcz17Z2x5cGg6e2xheW91dFZlcnRleEFycmF5VHlwZTpsYXlvdXRWZXJ0ZXhBcnJheVR5cGUsZWxlbWVudEFycmF5VHlwZTplbGVtZW50QXJyYXlUeXBlLHBhaW50QXR0cmlidXRlczpbe25hbWU6XCJhX2ZpbGxfY29sb3JcIixwcm9wZXJ0eTpcInRleHQtY29sb3JcIix0eXBlOlwiVWludDhcIn0se25hbWU6XCJhX2hhbG9fY29sb3JcIixwcm9wZXJ0eTpcInRleHQtaGFsby1jb2xvclwiLHR5cGU6XCJVaW50OFwifSx7bmFtZTpcImFfaGFsb193aWR0aFwiLHByb3BlcnR5OlwidGV4dC1oYWxvLXdpZHRoXCIsdHlwZTpcIlVpbnQxNlwiLG11bHRpcGxpZXI6MTB9LHtuYW1lOlwiYV9oYWxvX2JsdXJcIixwcm9wZXJ0eTpcInRleHQtaGFsby1ibHVyXCIsdHlwZTpcIlVpbnQxNlwiLG11bHRpcGxpZXI6MTB9LHtuYW1lOlwiYV9vcGFjaXR5XCIscHJvcGVydHk6XCJ0ZXh0LW9wYWNpdHlcIix0eXBlOlwiVWludDhcIixtdWx0aXBsaWVyOjI1NX1dfSxpY29uOntsYXlvdXRWZXJ0ZXhBcnJheVR5cGU6bGF5b3V0VmVydGV4QXJyYXlUeXBlLGVsZW1lbnRBcnJheVR5cGU6ZWxlbWVudEFycmF5VHlwZSxwYWludEF0dHJpYnV0ZXM6W3tuYW1lOlwiYV9maWxsX2NvbG9yXCIscHJvcGVydHk6XCJpY29uLWNvbG9yXCIsdHlwZTpcIlVpbnQ4XCJ9LHtuYW1lOlwiYV9oYWxvX2NvbG9yXCIscHJvcGVydHk6XCJpY29uLWhhbG8tY29sb3JcIix0eXBlOlwiVWludDhcIn0se25hbWU6XCJhX2hhbG9fd2lkdGhcIixwcm9wZXJ0eTpcImljb24taGFsby13aWR0aFwiLHR5cGU6XCJVaW50MTZcIixtdWx0aXBsaWVyOjEwfSx7bmFtZTpcImFfaGFsb19ibHVyXCIscHJvcGVydHk6XCJpY29uLWhhbG8tYmx1clwiLHR5cGU6XCJVaW50MTZcIixtdWx0aXBsaWVyOjEwfSx7bmFtZTpcImFfb3BhY2l0eVwiLHByb3BlcnR5OlwiaWNvbi1vcGFjaXR5XCIsdHlwZTpcIlVpbnQ4XCIsbXVsdGlwbGllcjoyNTV9XX0sY29sbGlzaW9uQm94OntsYXlvdXRWZXJ0ZXhBcnJheVR5cGU6Y3JlYXRlVmVydGV4QXJyYXlUeXBlKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfZXh0cnVkZVwiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2RhdGFcIixjb21wb25lbnRzOjIsdHlwZTpcIlVpbnQ4XCJ9XSksZWxlbWVudEFycmF5VHlwZTpjcmVhdGVFbGVtZW50QXJyYXlUeXBlKDIpfX0sU3ltYm9sQnVja2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5jb2xsaXNpb25Cb3hBcnJheT1lLmNvbGxpc2lvbkJveEFycmF5LHRoaXMuem9vbT1lLnpvb20sdGhpcy5vdmVyc2NhbGluZz1lLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMuaW5kZXg9ZS5pbmRleCx0aGlzLnNkZkljb25zPWUuc2RmSWNvbnMsdGhpcy5pY29uc05lZWRMaW5lYXI9ZS5pY29uc05lZWRMaW5lYXIsdGhpcy5hZGp1c3RlZFRleHRTaXplPWUuYWRqdXN0ZWRUZXh0U2l6ZSx0aGlzLmFkanVzdGVkSWNvblNpemU9ZS5hZGp1c3RlZEljb25TaXplLHRoaXMuZm9udHN0YWNrPWUuZm9udHN0YWNrLGUuYXJyYXlzKXt0aGlzLmJ1ZmZlcnM9e307Zm9yKHZhciBvIGluIGUuYXJyYXlzKWUuYXJyYXlzW29dJiYodC5idWZmZXJzW29dPW5ldyBCdWZmZXJHcm91cChzeW1ib2xJbnRlcmZhY2VzW29dLGUubGF5ZXJzLGUuem9vbSxlLmFycmF5c1tvXSkpfX07U3ltYm9sQnVja2V0LnByb3RvdHlwZS5wb3B1bGF0ZT1mdW5jdGlvbihlLHQpe3ZhciBvPXRoaXMscj10aGlzLmxheWVyc1swXSxhPXIubGF5b3V0LGk9YVtcInRleHQtZm9udFwiXSxuPWFbXCJpY29uLWltYWdlXCJdLGw9aSYmKCFyLmlzTGF5b3V0VmFsdWVGZWF0dXJlQ29uc3RhbnQoXCJ0ZXh0LWZpZWxkXCIpfHxhW1widGV4dC1maWVsZFwiXSkscz1uO2lmKHRoaXMuZmVhdHVyZXM9W10sbHx8cyl7Zm9yKHZhciBjPXQuaWNvbkRlcGVuZGVuY2llcyx5PXQuZ2x5cGhEZXBlbmRlbmNpZXMscD15W2ldPXlbaV18fHt9LHg9MDt4PGUubGVuZ3RoO3grKyl7dmFyIGg9ZVt4XTtpZihyLmZpbHRlcihoKSl7dmFyIHU9dm9pZCAwO2wmJih1PXJlc29sdmVUZXh0KHIse3pvb206by56b29tfSxoLnByb3BlcnRpZXMpLHJ0bFRleHRQbHVnaW4uYXBwbHlBcmFiaWNTaGFwaW5nJiYodT1ydGxUZXh0UGx1Z2luLmFwcGx5QXJhYmljU2hhcGluZyh1KSkpO3ZhciBkPXZvaWQgMDtpZihzJiYoZD1yZXNvbHZlVG9rZW5zKGgucHJvcGVydGllcyxuKSksKHV8fGQpJiYoby5mZWF0dXJlcy5wdXNoKHt0ZXh0OnUsaWNvbjpkLGluZGV4Ongsc291cmNlTGF5ZXJJbmRleDpoLnNvdXJjZUxheWVySW5kZXgsZ2VvbWV0cnk6bG9hZEdlb21ldHJ5KGgpLHByb3BlcnRpZXM6aC5wcm9wZXJ0aWVzLHR5cGU6VmVjdG9yVGlsZUZlYXR1cmUudHlwZXNbaC50eXBlXX0pLGQmJihjW2RdPSEwKSx1KSlmb3IodmFyIG09MDttPHUubGVuZ3RoO20rKylwW3UuY2hhckNvZGVBdChtKV09ITB9fVwibGluZVwiPT09YVtcInN5bWJvbC1wbGFjZW1lbnRcIl0mJih0aGlzLmZlYXR1cmVzPW1lcmdlTGluZXModGhpcy5mZWF0dXJlcykpfX0sU3ltYm9sQnVja2V0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJyYXlzLmljb24uaXNFbXB0eSgpJiZ0aGlzLmFycmF5cy5nbHlwaC5pc0VtcHR5KCkmJnRoaXMuYXJyYXlzLmNvbGxpc2lvbkJveC5pc0VtcHR5KCl9LFN5bWJvbEJ1Y2tldC5wcm90b3R5cGUuZ2V0UGFpbnRQcm9wZXJ0eVN0YXRpc3RpY3M9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PXt9LG89MCxyPWUubGF5ZXJzO288ci5sZW5ndGg7bys9MSl7dmFyIGE9cltvXTt0W2EuaWRdPXV0aWwuZXh0ZW5kKHt9LGUuYXJyYXlzLmljb24ubGF5ZXJEYXRhW2EuaWRdLnBhaW50UHJvcGVydHlTdGF0aXN0aWNzLGUuYXJyYXlzLmdseXBoLmxheWVyRGF0YVthLmlkXS5wYWludFByb3BlcnR5U3RhdGlzdGljcyl9cmV0dXJuIHR9LFN5bWJvbEJ1Y2tldC5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybnt6b29tOnRoaXMuem9vbSxsYXllcklkczp0aGlzLmxheWVycy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSxzZGZJY29uczp0aGlzLnNkZkljb25zLGljb25zTmVlZExpbmVhcjp0aGlzLmljb25zTmVlZExpbmVhcixhZGp1c3RlZFRleHRTaXplOnRoaXMuYWRqdXN0ZWRUZXh0U2l6ZSxhZGp1c3RlZEljb25TaXplOnRoaXMuYWRqdXN0ZWRJY29uU2l6ZSxmb250c3RhY2s6dGhpcy5mb250c3RhY2ssYXJyYXlzOnV0aWwubWFwT2JqZWN0KHRoaXMuYXJyYXlzLGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzRW1wdHkoKT9udWxsOnQuc2VyaWFsaXplKGUpfSl9fSxTeW1ib2xCdWNrZXQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmJ1ZmZlcnMmJih0aGlzLmJ1ZmZlcnMuaWNvbiYmdGhpcy5idWZmZXJzLmljb24uZGVzdHJveSgpLHRoaXMuYnVmZmVycy5nbHlwaCYmdGhpcy5idWZmZXJzLmdseXBoLmRlc3Ryb3koKSx0aGlzLmJ1ZmZlcnMuY29sbGlzaW9uQm94JiZ0aGlzLmJ1ZmZlcnMuY29sbGlzaW9uQm94LmRlc3Ryb3koKSx0aGlzLmJ1ZmZlcnM9bnVsbCl9LFN5bWJvbEJ1Y2tldC5wcm90b3R5cGUuY3JlYXRlQXJyYXlzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmFycmF5cz11dGlsLm1hcE9iamVjdChzeW1ib2xJbnRlcmZhY2VzLGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQXJyYXlHcm91cCh0LGUubGF5ZXJzLGUuem9vbSl9KX0sU3ltYm9sQnVja2V0LnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpczt0aGlzLnN5bWJvbEluc3RhbmNlcz1bXSx0aGlzLmFkanVzdGVkVGV4dE1heFNpemU9dGhpcy5sYXllcnNbMF0uZ2V0TGF5b3V0VmFsdWUoXCJ0ZXh0LXNpemVcIix7em9vbToxOH0pLHRoaXMuYWRqdXN0ZWRUZXh0U2l6ZT10aGlzLmxheWVyc1swXS5nZXRMYXlvdXRWYWx1ZShcInRleHQtc2l6ZVwiLHt6b29tOnRoaXMuem9vbSsxfSksdGhpcy5hZGp1c3RlZEljb25NYXhTaXplPXRoaXMubGF5ZXJzWzBdLmdldExheW91dFZhbHVlKFwiaWNvbi1zaXplXCIse3pvb206MTh9KSx0aGlzLmFkanVzdGVkSWNvblNpemU9dGhpcy5sYXllcnNbMF0uZ2V0TGF5b3V0VmFsdWUoXCJpY29uLXNpemVcIix7em9vbTp0aGlzLnpvb20rMX0pO3ZhciByPTUxMip0aGlzLm92ZXJzY2FsaW5nO3RoaXMudGlsZVBpeGVsUmF0aW89RVhURU5UL3IsdGhpcy5jb21wYXJlVGV4dD17fSx0aGlzLmljb25zTmVlZExpbmVhcj0hMTt2YXIgYT10aGlzLmxheWVyc1swXS5sYXlvdXQsaT0uNSxuPS41O3N3aXRjaChhW1widGV4dC1hbmNob3JcIl0pe2Nhc2VcInJpZ2h0XCI6Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6aT0xO2JyZWFrO2Nhc2VcImxlZnRcIjpjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6aT0wfXN3aXRjaChhW1widGV4dC1hbmNob3JcIl0pe2Nhc2VcImJvdHRvbVwiOmNhc2VcImJvdHRvbS1yaWdodFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6bj0xO2JyZWFrO2Nhc2VcInRvcFwiOmNhc2VcInRvcC1yaWdodFwiOmNhc2VcInRvcC1sZWZ0XCI6bj0wfWZvcih2YXIgbD1cInJpZ2h0XCI9PT1hW1widGV4dC1qdXN0aWZ5XCJdPzE6XCJsZWZ0XCI9PT1hW1widGV4dC1qdXN0aWZ5XCJdPzA6LjUscz0yNCxjPWFbXCJ0ZXh0LWxpbmUtaGVpZ2h0XCJdKnMseT1cImxpbmVcIiE9PWFbXCJzeW1ib2wtcGxhY2VtZW50XCJdP2FbXCJ0ZXh0LW1heC13aWR0aFwiXSpzOjAscD1hW1widGV4dC1sZXR0ZXItc3BhY2luZ1wiXSpzLHg9W2FbXCJ0ZXh0LW9mZnNldFwiXVswXSpzLGFbXCJ0ZXh0LW9mZnNldFwiXVsxXSpzXSxoPXRoaXMuZm9udHN0YWNrPWFbXCJ0ZXh0LWZvbnRcIl0uam9pbihcIixcIiksdT1cIm1hcFwiPT09YVtcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCJdJiZcImxpbmVcIj09PWFbXCJzeW1ib2wtcGxhY2VtZW50XCJdLGQ9MCxtPW8uZmVhdHVyZXM7ZDxtLmxlbmd0aDtkKz0xKXt2YXIgZz1tW2RdLGY9dm9pZCAwO2lmKGcudGV4dCl7dmFyIGI9c2NyaXB0RGV0ZWN0aW9uLmFsbG93c1ZlcnRpY2FsV3JpdGluZ01vZGUoZy50ZXh0KTtmPXt9LGZbV3JpdGluZ01vZGUuaG9yaXpvbnRhbF09c2hhcGVUZXh0KGcudGV4dCxlW2hdLHksYyxpLG4sbCxwLHgscyxXcml0aW5nTW9kZS5ob3Jpem9udGFsKSxmW1dyaXRpbmdNb2RlLnZlcnRpY2FsXT1iJiZ1JiZzaGFwZVRleHQoZy50ZXh0LGVbaF0seSxjLGksbixsLHAseCxzLFdyaXRpbmdNb2RlLnZlcnRpY2FsKX1lbHNlIGY9e307dmFyIHY9dm9pZCAwO2lmKGcuaWNvbil7dmFyIEk9dFtnLmljb25dLFM9by5sYXllcnNbMF0uZ2V0TGF5b3V0VmFsdWUoXCJpY29uLW9mZnNldFwiLHt6b29tOm8uem9vbX0sZy5wcm9wZXJ0aWVzKTt2PXNoYXBlSWNvbihJLFMpLEkmJih2b2lkIDA9PT1vLnNkZkljb25zP28uc2RmSWNvbnM9SS5zZGY6by5zZGZJY29ucyE9PUkuc2RmJiZ1dGlsLndhcm5PbmNlKFwiU3R5bGUgc2hlZXQgd2FybmluZzogQ2Fubm90IG1peCBTREYgYW5kIG5vbi1TREYgaWNvbnMgaW4gb25lIGJ1ZmZlclwiKSwxIT09SS5waXhlbFJhdGlvP28uaWNvbnNOZWVkTGluZWFyPSEwOjA9PT1hW1wiaWNvbi1yb3RhdGVcIl0mJm8ubGF5ZXJzWzBdLmlzTGF5b3V0VmFsdWVGZWF0dXJlQ29uc3RhbnQoXCJpY29uLXJvdGF0ZVwiKXx8KG8uaWNvbnNOZWVkTGluZWFyPSEwKSl9KGZbV3JpdGluZ01vZGUuaG9yaXpvbnRhbF18fHYpJiZvLmFkZEZlYXR1cmUoZyxmLHYpfX0sU3ltYm9sQnVja2V0LnByb3RvdHlwZS5hZGRGZWF0dXJlPWZ1bmN0aW9uKGUsdCxvKXt2YXIgcj10aGlzLGE9dGhpcy5sYXllcnNbMF0ubGF5b3V0LGk9MjQsbj10aGlzLmFkanVzdGVkVGV4dFNpemUvaSxsPXZvaWQgMCE9PXRoaXMuYWRqdXN0ZWRUZXh0TWF4U2l6ZT90aGlzLmFkanVzdGVkVGV4dE1heFNpemU6dGhpcy5hZGp1c3RlZFRleHRTaXplLHM9dGhpcy50aWxlUGl4ZWxSYXRpbypuLGM9dGhpcy50aWxlUGl4ZWxSYXRpbypsL2kseT10aGlzLnRpbGVQaXhlbFJhdGlvKnRoaXMuYWRqdXN0ZWRJY29uU2l6ZSxwPXRoaXMudGlsZVBpeGVsUmF0aW8qYVtcInN5bWJvbC1zcGFjaW5nXCJdLHg9YVtcInN5bWJvbC1hdm9pZC1lZGdlc1wiXSxoPWFbXCJ0ZXh0LXBhZGRpbmdcIl0qdGhpcy50aWxlUGl4ZWxSYXRpbyx1PWFbXCJpY29uLXBhZGRpbmdcIl0qdGhpcy50aWxlUGl4ZWxSYXRpbyxkPWFbXCJ0ZXh0LW1heC1hbmdsZVwiXS8xODAqTWF0aC5QSSxtPVwibWFwXCI9PT1hW1widGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIl0mJlwibGluZVwiPT09YVtcInN5bWJvbC1wbGFjZW1lbnRcIl0sZz1cIm1hcFwiPT09YVtcImljb24tcm90YXRpb24tYWxpZ25tZW50XCJdJiZcImxpbmVcIj09PWFbXCJzeW1ib2wtcGxhY2VtZW50XCJdLGY9YVtcInRleHQtYWxsb3ctb3ZlcmxhcFwiXXx8YVtcImljb24tYWxsb3ctb3ZlcmxhcFwiXXx8YVtcInRleHQtaWdub3JlLXBsYWNlbWVudFwiXXx8YVtcImljb24taWdub3JlLXBsYWNlbWVudFwiXSxiPWFbXCJzeW1ib2wtcGxhY2VtZW50XCJdLHY9cC8yLEk9ZnVuY3Rpb24oYSxpKXt2YXIgbj0hKGkueDwwfHxpLng+RVhURU5UfHxpLnk8MHx8aS55PkVYVEVOVCk7aWYoIXh8fG4pe3ZhciBsPW58fGY7ci5hZGRTeW1ib2xJbnN0YW5jZShpLGEsdCxvLHIubGF5ZXJzWzBdLGwsci5jb2xsaXNpb25Cb3hBcnJheSxlLmluZGV4LGUuc291cmNlTGF5ZXJJbmRleCxyLmluZGV4LHMsaCxtLHksdSxnLHt6b29tOnIuem9vbX0sZS5wcm9wZXJ0aWVzKX19O2lmKFwibGluZVwiPT09Yilmb3IodmFyIFM9MCxUPWNsaXBMaW5lKGUuZ2VvbWV0cnksMCwwLEVYVEVOVCxFWFRFTlQpO1M8VC5sZW5ndGg7Uys9MSlmb3IodmFyIE09VFtTXSxCPWdldEFuY2hvcnMoTSxwLGQsdFtXcml0aW5nTW9kZS52ZXJ0aWNhbF18fHRbV3JpdGluZ01vZGUuaG9yaXpvbnRhbF0sbyxpLGMsci5vdmVyc2NhbGluZyxFWFRFTlQpLEE9MCx6PUI7QTx6Lmxlbmd0aDtBKz0xKXt2YXIgXz16W0FdLEU9dFtXcml0aW5nTW9kZS5ob3Jpem9udGFsXTtFJiZyLmFuY2hvcklzVG9vQ2xvc2UoRS50ZXh0LHYsXyl8fEkoTSxfKX1lbHNlIGlmKFwiUG9seWdvblwiPT09ZS50eXBlKWZvcih2YXIgUD0wLGs9Y2xhc3NpZnlSaW5ncyhlLmdlb21ldHJ5LDApO1A8ay5sZW5ndGg7UCs9MSl7dmFyIHc9a1tQXSxMPWZpbmRQb2xlT2ZJbmFjY2Vzc2liaWxpdHkodywxNik7SSh3WzBdLG5ldyBBbmNob3IoTC54LEwueSwwKSl9ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PWUudHlwZSlmb3IodmFyIFY9MCxDPWUuZ2VvbWV0cnk7VjxDLmxlbmd0aDtWKz0xKXt2YXIgTj1DW1ZdO0koTixuZXcgQW5jaG9yKE5bMF0ueCxOWzBdLnksMCkpfWVsc2UgaWYoXCJQb2ludFwiPT09ZS50eXBlKWZvcih2YXIgaj0wLHE9ZS5nZW9tZXRyeTtqPHEubGVuZ3RoO2orPTEpZm9yKHZhciBGPXFbal0sVz0wLFE9RjtXPFEubGVuZ3RoO1crPTEpe3ZhciBVPVFbV107SShbVV0sbmV3IEFuY2hvcihVLngsVS55LDApKX19LFN5bWJvbEJ1Y2tldC5wcm90b3R5cGUuYW5jaG9ySXNUb29DbG9zZT1mdW5jdGlvbihlLHQsbyl7dmFyIHI9dGhpcy5jb21wYXJlVGV4dDtpZihlIGluIHIpe2Zvcih2YXIgYT1yW2VdLGk9YS5sZW5ndGgtMTtpPj0wO2ktLSlpZihvLmRpc3QoYVtpXSk8dClyZXR1cm4hMH1lbHNlIHJbZV09W107cmV0dXJuIHJbZV0ucHVzaChvKSwhMX0sU3ltYm9sQnVja2V0LnByb3RvdHlwZS5wbGFjZT1mdW5jdGlvbihlLHQpe3ZhciBvPXRoaXM7dGhpcy5jcmVhdGVBcnJheXMoKTt2YXIgcj10aGlzLmxheWVyc1swXS5sYXlvdXQsYT1lLm1heFNjYWxlLGk9XCJtYXBcIj09PXJbXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiXSYmXCJsaW5lXCI9PT1yW1wic3ltYm9sLXBsYWNlbWVudFwiXSxuPVwibWFwXCI9PT1yW1wiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIl0mJlwibGluZVwiPT09cltcInN5bWJvbC1wbGFjZW1lbnRcIl0sbD1yW1widGV4dC1hbGxvdy1vdmVybGFwXCJdfHxyW1wiaWNvbi1hbGxvdy1vdmVybGFwXCJdfHxyW1widGV4dC1pZ25vcmUtcGxhY2VtZW50XCJdfHxyW1wiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCJdO2lmKGwpe3ZhciBzPWUuYW5nbGUsYz1NYXRoLnNpbihzKSx5PU1hdGguY29zKHMpO3RoaXMuc3ltYm9sSW5zdGFuY2VzLnNvcnQoZnVuY3Rpb24oZSx0KXt2YXIgbz1jKmUuYW5jaG9yLngreSplLmFuY2hvci55fDAscj1jKnQuYW5jaG9yLngreSp0LmFuY2hvci55fDA7cmV0dXJuIG8tcnx8dC5mZWF0dXJlSW5kZXgtZS5mZWF0dXJlSW5kZXh9KX1mb3IodmFyIHA9MCx4PW8uc3ltYm9sSW5zdGFuY2VzO3A8eC5sZW5ndGg7cCs9MSl7dmFyIGg9eFtwXSx1PXtib3hTdGFydEluZGV4OmgudGV4dEJveFN0YXJ0SW5kZXgsYm94RW5kSW5kZXg6aC50ZXh0Qm94RW5kSW5kZXh9LGQ9e2JveFN0YXJ0SW5kZXg6aC5pY29uQm94U3RhcnRJbmRleCxib3hFbmRJbmRleDpoLmljb25Cb3hFbmRJbmRleH0sbT0hKGgudGV4dEJveFN0YXJ0SW5kZXg9PT1oLnRleHRCb3hFbmRJbmRleCksZz0hKGguaWNvbkJveFN0YXJ0SW5kZXg9PT1oLmljb25Cb3hFbmRJbmRleCksZj1yW1widGV4dC1vcHRpb25hbFwiXXx8IW0sYj1yW1wiaWNvbi1vcHRpb25hbFwiXXx8IWcsdj1tP2UucGxhY2VDb2xsaXNpb25GZWF0dXJlKHUscltcInRleHQtYWxsb3ctb3ZlcmxhcFwiXSxyW1wic3ltYm9sLWF2b2lkLWVkZ2VzXCJdKTplLm1pblNjYWxlLEk9Zz9lLnBsYWNlQ29sbGlzaW9uRmVhdHVyZShkLHJbXCJpY29uLWFsbG93LW92ZXJsYXBcIl0scltcInN5bWJvbC1hdm9pZC1lZGdlc1wiXSk6ZS5taW5TY2FsZTtmfHxiPyFiJiZ2P3Y9TWF0aC5tYXgoSSx2KTohZiYmSSYmKEk9TWF0aC5tYXgoSSx2KSk6ST12PU1hdGgubWF4KEksdiksbSYmKGUuaW5zZXJ0Q29sbGlzaW9uRmVhdHVyZSh1LHYscltcInRleHQtaWdub3JlLXBsYWNlbWVudFwiXSksdjw9YSYmby5hZGRTeW1ib2xzKG8uYXJyYXlzLmdseXBoLGguZ2x5cGhRdWFkcyx2LHJbXCJ0ZXh0LWtlZXAtdXByaWdodFwiXSxpLGUuYW5nbGUsaC5mZWF0dXJlUHJvcGVydGllcyxoLndyaXRpbmdNb2RlcykpLGcmJihlLmluc2VydENvbGxpc2lvbkZlYXR1cmUoZCxJLHJbXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIl0pLEk8PWEmJm8uYWRkU3ltYm9scyhvLmFycmF5cy5pY29uLGguaWNvblF1YWRzLEkscltcImljb24ta2VlcC11cHJpZ2h0XCJdLG4sZS5hbmdsZSxoLmZlYXR1cmVQcm9wZXJ0aWVzKSl9dCYmdGhpcy5hZGRUb0RlYnVnQnVmZmVycyhlKX0sU3ltYm9sQnVja2V0LnByb3RvdHlwZS5hZGRTeW1ib2xzPWZ1bmN0aW9uKGUsdCxvLHIsYSxpLG4sbCl7Zm9yKHZhciBzPWUuZWxlbWVudEFycmF5LGM9ZS5sYXlvdXRWZXJ0ZXhBcnJheSx5PXRoaXMuem9vbSxwPU1hdGgubWF4KE1hdGgubG9nKG8pL01hdGguTE4yK3ksMCkseD0wLGg9dDt4PGgubGVuZ3RoO3grPTEpe3ZhciB1PWhbeF0sZD0odS5hbmNob3JBbmdsZStpK01hdGguUEkpJSgyKk1hdGguUEkpO2lmKGwmV3JpdGluZ01vZGUudmVydGljYWwpe2lmKGEmJnUud3JpdGluZ01vZGU9PT1Xcml0aW5nTW9kZS52ZXJ0aWNhbCl7aWYociYmYSYmZDw9NSpNYXRoLlBJLzR8fGQ+NypNYXRoLlBJLzQpY29udGludWV9ZWxzZSBpZihyJiZhJiZkPD0zKk1hdGguUEkvNHx8ZD41Kk1hdGguUEkvNCljb250aW51ZX1lbHNlIGlmKHImJmEmJihkPD1NYXRoLlBJLzJ8fGQ+MypNYXRoLlBJLzIpKWNvbnRpbnVlO3ZhciBtPXUudGwsZz11LnRyLGY9dS5ibCxiPXUuYnIsdj11LnRleCxJPXUuYW5jaG9yUG9pbnQsUz1NYXRoLm1heCh5K01hdGgubG9nKHUubWluU2NhbGUpL01hdGguTE4yLHApLFQ9TWF0aC5taW4oeStNYXRoLmxvZyh1Lm1heFNjYWxlKS9NYXRoLkxOMiwyNSk7aWYoIShUPD1TKSl7Uz09PXAmJihTPTApO3ZhciBNPU1hdGgucm91bmQodS5nbHlwaEFuZ2xlLygyKk1hdGguUEkpKjI1NiksQj1lLnByZXBhcmVTZWdtZW50KDQpLEE9Qi52ZXJ0ZXhMZW5ndGg7YWRkVmVydGV4KGMsSS54LEkueSxtLngsbS55LHYueCx2LnksUyxULHAsTSksYWRkVmVydGV4KGMsSS54LEkueSxnLngsZy55LHYueCt2Lncsdi55LFMsVCxwLE0pLGFkZFZlcnRleChjLEkueCxJLnksZi54LGYueSx2Lngsdi55K3YuaCxTLFQscCxNKSxhZGRWZXJ0ZXgoYyxJLngsSS55LGIueCxiLnksdi54K3Yudyx2Lnkrdi5oLFMsVCxwLE0pLHMuZW1wbGFjZUJhY2soQSxBKzEsQSsyKSxzLmVtcGxhY2VCYWNrKEErMSxBKzIsQSszKSxCLnZlcnRleExlbmd0aCs9NCxCLnByaW1pdGl2ZUxlbmd0aCs9Mn19ZS5wb3B1bGF0ZVBhaW50QXJyYXlzKG4pfSxTeW1ib2xCdWNrZXQucHJvdG90eXBlLmFkZFRvRGVidWdCdWZmZXJzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLG89dGhpcy5hcnJheXMuY29sbGlzaW9uQm94LHI9by5sYXlvdXRWZXJ0ZXhBcnJheSxhPW8uZWxlbWVudEFycmF5LGk9LWUuYW5nbGUsbj1lLnlTdHJldGNoLGw9MCxzPXQuc3ltYm9sSW5zdGFuY2VzO2w8cy5sZW5ndGg7bCs9MSl7dmFyIGM9c1tsXTtjLnRleHRDb2xsaXNpb25GZWF0dXJlPXtib3hTdGFydEluZGV4OmMudGV4dEJveFN0YXJ0SW5kZXgsYm94RW5kSW5kZXg6Yy50ZXh0Qm94RW5kSW5kZXh9LGMuaWNvbkNvbGxpc2lvbkZlYXR1cmU9e2JveFN0YXJ0SW5kZXg6Yy5pY29uQm94U3RhcnRJbmRleCxib3hFbmRJbmRleDpjLmljb25Cb3hFbmRJbmRleH07Zm9yKHZhciB5PTA7eTwyO3krKyl7dmFyIHA9Y1swPT09eT9cInRleHRDb2xsaXNpb25GZWF0dXJlXCI6XCJpY29uQ29sbGlzaW9uRmVhdHVyZVwiXTtpZihwKWZvcih2YXIgeD1wLmJveFN0YXJ0SW5kZXg7eDxwLmJveEVuZEluZGV4O3grKyl7dmFyIGg9dC5jb2xsaXNpb25Cb3hBcnJheS5nZXQoeCksdT1oLmFuY2hvclBvaW50LGQ9bmV3IFBvaW50KGgueDEsaC55MSpuKS5fcm90YXRlKGkpLG09bmV3IFBvaW50KGgueDIsaC55MSpuKS5fcm90YXRlKGkpLGc9bmV3IFBvaW50KGgueDEsaC55MipuKS5fcm90YXRlKGkpLGY9bmV3IFBvaW50KGgueDIsaC55MipuKS5fcm90YXRlKGkpLGI9TWF0aC5tYXgoMCxNYXRoLm1pbigyNSx0Lnpvb20rTWF0aC5sb2coaC5tYXhTY2FsZSkvTWF0aC5MTjIpKSx2PU1hdGgubWF4KDAsTWF0aC5taW4oMjUsdC56b29tK01hdGgubG9nKGgucGxhY2VtZW50U2NhbGUpL01hdGguTE4yKSksST1vLnByZXBhcmVTZWdtZW50KDQpLFM9SS52ZXJ0ZXhMZW5ndGg7YWRkQ29sbGlzaW9uQm94VmVydGV4KHIsdSxkLGIsdiksYWRkQ29sbGlzaW9uQm94VmVydGV4KHIsdSxtLGIsdiksYWRkQ29sbGlzaW9uQm94VmVydGV4KHIsdSxmLGIsdiksYWRkQ29sbGlzaW9uQm94VmVydGV4KHIsdSxnLGIsdiksYS5lbXBsYWNlQmFjayhTLFMrMSksYS5lbXBsYWNlQmFjayhTKzEsUysyKSxhLmVtcGxhY2VCYWNrKFMrMixTKzMpLGEuZW1wbGFjZUJhY2soUyszLFMpLEkudmVydGV4TGVuZ3RoKz00LEkucHJpbWl0aXZlTGVuZ3RoKz00fX19fSxTeW1ib2xCdWNrZXQucHJvdG90eXBlLmFkZFN5bWJvbEluc3RhbmNlPWZ1bmN0aW9uKGUsdCxvLHIsYSxpLG4sbCxzLGMseSxwLHgsaCx1LGQsbSxnKXt2YXIgZixiLHY9W10sST1bXTtmb3IodmFyIFMgaW4gbyl7dmFyIFQ9cGFyc2VJbnQoUywxMCk7b1tUXSYmKEk9SS5jb25jYXQoaT9nZXRHbHlwaFF1YWRzKGUsb1tUXSx5LHQsYSx4LFQpOltdKSxmPW5ldyBDb2xsaXNpb25GZWF0dXJlKG4sdCxlLGwscyxjLG9bVF0seSxwLHgsITEpKX12YXIgTT1mP2YuYm94U3RhcnRJbmRleDp0aGlzLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxCPWY/Zi5ib3hFbmRJbmRleDp0aGlzLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aDtyJiYodj1pP2dldEljb25RdWFkcyhlLHIsaCx0LGEsZCxvW1dyaXRpbmdNb2RlLmhvcml6b250YWxdLG0sZyk6W10sYj1uZXcgQ29sbGlzaW9uRmVhdHVyZShuLHQsZSxsLHMsYyxyLGgsdSxkLCEwKSk7dmFyIEE9Yj9iLmJveFN0YXJ0SW5kZXg6dGhpcy5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsej1iP2IuYm94RW5kSW5kZXg6dGhpcy5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGg7Qj5TeW1ib2xCdWNrZXQuTUFYX0lOU1RBTkNFUyYmdXRpbC53YXJuT25jZShcIlRvbyBtYW55IHN5bWJvbHMgYmVpbmcgcmVuZGVyZWQgaW4gYSB0aWxlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzI5MDdcIiksej5TeW1ib2xCdWNrZXQuTUFYX0lOU1RBTkNFUyYmdXRpbC53YXJuT25jZShcIlRvbyBtYW55IGdseXBocyBiZWluZyByZW5kZXJlZCBpbiBhIHRpbGUuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMjkwN1wiKTt2YXIgXz0ob1tXcml0aW5nTW9kZS52ZXJ0aWNhbF0/V3JpdGluZ01vZGUudmVydGljYWw6MCl8KG9bV3JpdGluZ01vZGUuaG9yaXpvbnRhbF0/V3JpdGluZ01vZGUuaG9yaXpvbnRhbDowKTt0aGlzLnN5bWJvbEluc3RhbmNlcy5wdXNoKHt0ZXh0Qm94U3RhcnRJbmRleDpNLHRleHRCb3hFbmRJbmRleDpCLGljb25Cb3hTdGFydEluZGV4OkEsaWNvbkJveEVuZEluZGV4OnosZ2x5cGhRdWFkczpJLGljb25RdWFkczp2LGFuY2hvcjplLGZlYXR1cmVJbmRleDpsLGZlYXR1cmVQcm9wZXJ0aWVzOmcsd3JpdGluZ01vZGVzOl99KX0sU3ltYm9sQnVja2V0Lk1BWF9JTlNUQU5DRVM9NjU1MzUsbW9kdWxlLmV4cG9ydHM9U3ltYm9sQnVja2V0O1xufSx7XCIuLi8uLi9zb3VyY2UvcnRsX3RleHRfcGx1Z2luXCI6OTAsXCIuLi8uLi9zeW1ib2wvYW5jaG9yXCI6MTU3LFwiLi4vLi4vc3ltYm9sL2NsaXBfbGluZVwiOjE1OSxcIi4uLy4uL3N5bWJvbC9jb2xsaXNpb25fZmVhdHVyZVwiOjE2MSxcIi4uLy4uL3N5bWJvbC9nZXRfYW5jaG9yc1wiOjE2MyxcIi4uLy4uL3N5bWJvbC9tZXJnZWxpbmVzXCI6MTY2LFwiLi4vLi4vc3ltYm9sL3F1YWRzXCI6MTY3LFwiLi4vLi4vc3ltYm9sL3Jlc29sdmVfdGV4dFwiOjE2OCxcIi4uLy4uL3N5bWJvbC9zaGFwaW5nXCI6MTY5LFwiLi4vLi4vdXRpbC9jbGFzc2lmeV9yaW5nc1wiOjE5NSxcIi4uLy4uL3V0aWwvZmluZF9wb2xlX29mX2luYWNjZXNzaWJpbGl0eVwiOjIwMSxcIi4uLy4uL3V0aWwvc2NyaXB0X2RldGVjdGlvblwiOjIwOSxcIi4uLy4uL3V0aWwvdG9rZW5cIjoyMTEsXCIuLi8uLi91dGlsL3V0aWxcIjoyMTIsXCIuLi9hcnJheV9ncm91cFwiOjQ0LFwiLi4vYnVmZmVyX2dyb3VwXCI6NTIsXCIuLi9lbGVtZW50X2FycmF5X3R5cGVcIjo1MyxcIi4uL2V4dGVudFwiOjU0LFwiLi4vbG9hZF9nZW9tZXRyeVwiOjU2LFwiLi4vdmVydGV4X2FycmF5X3R5cGVcIjo2MCxcInBvaW50LWdlb21ldHJ5XCI6MjYsXCJ2ZWN0b3ItdGlsZVwiOjM0fV0sNTE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIEF0dHJpYnV0ZVR5cGU9e0ludDg6XCJCWVRFXCIsVWludDg6XCJVTlNJR05FRF9CWVRFXCIsSW50MTY6XCJTSE9SVFwiLFVpbnQxNjpcIlVOU0lHTkVEX1NIT1JUXCJ9LEJ1ZmZlcj1mdW5jdGlvbihlLHQscil7dGhpcy5hcnJheUJ1ZmZlcj1lLmFycmF5QnVmZmVyLHRoaXMubGVuZ3RoPWUubGVuZ3RoLHRoaXMuYXR0cmlidXRlcz10Lm1lbWJlcnMsdGhpcy5pdGVtU2l6ZT10LmJ5dGVzUGVyRWxlbWVudCx0aGlzLnR5cGU9cix0aGlzLmFycmF5VHlwZT10fTtCdWZmZXIuZnJvbVN0cnVjdEFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBCdWZmZXIoZS5zZXJpYWxpemUoKSxlLmNvbnN0cnVjdG9yLnNlcmlhbGl6ZSgpLHQpfSxCdWZmZXIucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVt0aGlzLnR5cGVdO3RoaXMuYnVmZmVyP2UuYmluZEJ1ZmZlcih0LHRoaXMuYnVmZmVyKToodGhpcy5nbD1lLHRoaXMuYnVmZmVyPWUuY3JlYXRlQnVmZmVyKCksZS5iaW5kQnVmZmVyKHQsdGhpcy5idWZmZXIpLGUuYnVmZmVyRGF0YSh0LHRoaXMuYXJyYXlCdWZmZXIsZS5TVEFUSUNfRFJBVyksdGhpcy5hcnJheUJ1ZmZlcj1udWxsKX0sQnVmZmVyLnByb3RvdHlwZS5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBmPXRoaXMsaT0wO2k8dGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDtpKyspe3ZhciB1PWYuYXR0cmlidXRlc1tpXSxzPXRbdS5uYW1lXTt2b2lkIDAhPT1zJiZlLnZlcnRleEF0dHJpYlBvaW50ZXIocyx1LmNvbXBvbmVudHMsZVtBdHRyaWJ1dGVUeXBlW3UudHlwZV1dLCExLGYuYXJyYXlUeXBlLmJ5dGVzUGVyRWxlbWVudCx1Lm9mZnNldCsoZi5hcnJheVR5cGUuYnl0ZXNQZXJFbGVtZW50KnJ8fDApKX19LEJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYnVmZmVyJiZ0aGlzLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlcil9LEJ1ZmZlci5CdWZmZXJUeXBlPXtWRVJURVg6XCJBUlJBWV9CVUZGRVJcIixFTEVNRU5UOlwiRUxFTUVOVF9BUlJBWV9CVUZGRVJcIn0sbW9kdWxlLmV4cG9ydHM9QnVmZmVyO1xufSx7fV0sNTI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWw9cmVxdWlyZShcIi4uL3V0aWwvdXRpbFwiKSxCdWZmZXI9cmVxdWlyZShcIi4vYnVmZmVyXCIpLFByb2dyYW1Db25maWd1cmF0aW9uPXJlcXVpcmUoXCIuL3Byb2dyYW1fY29uZmlndXJhdGlvblwiKSxWZXJ0ZXhBcnJheU9iamVjdD1yZXF1aXJlKFwiLi4vcmVuZGVyL3ZlcnRleF9hcnJheV9vYmplY3RcIiksQnVmZmVyR3JvdXA9ZnVuY3Rpb24oZSxyLHQsYSl7dmFyIGY9dGhpczt0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj1uZXcgQnVmZmVyKGEubGF5b3V0VmVydGV4QXJyYXksZS5sYXlvdXRWZXJ0ZXhBcnJheVR5cGUuc2VyaWFsaXplKCksQnVmZmVyLkJ1ZmZlclR5cGUuVkVSVEVYKSxhLmVsZW1lbnRBcnJheSYmKHRoaXMuZWxlbWVudEJ1ZmZlcj1uZXcgQnVmZmVyKGEuZWxlbWVudEFycmF5LGUuZWxlbWVudEFycmF5VHlwZS5zZXJpYWxpemUoKSxCdWZmZXIuQnVmZmVyVHlwZS5FTEVNRU5UKSksYS5lbGVtZW50QXJyYXkyJiYodGhpcy5lbGVtZW50QnVmZmVyMj1uZXcgQnVmZmVyKGEuZWxlbWVudEFycmF5MixlLmVsZW1lbnRBcnJheVR5cGUyLnNlcmlhbGl6ZSgpLEJ1ZmZlci5CdWZmZXJUeXBlLkVMRU1FTlQpKSx0aGlzLmxheWVyRGF0YT17fTtmb3IodmFyIG49MCx1PXI7bjx1Lmxlbmd0aDtuKz0xKXt2YXIgaT11W25dLHM9YS5wYWludFZlcnRleEFycmF5cyYmYS5wYWludFZlcnRleEFycmF5c1tpLmlkXSxvPVByb2dyYW1Db25maWd1cmF0aW9uLmNyZWF0ZUR5bmFtaWMoZS5wYWludEF0dHJpYnV0ZXN8fFtdLGksdCkseT1zP25ldyBCdWZmZXIocy5hcnJheSxzLnR5cGUsQnVmZmVyLkJ1ZmZlclR5cGUuVkVSVEVYKTpudWxsO2YubGF5ZXJEYXRhW2kuaWRdPXtwcm9ncmFtQ29uZmlndXJhdGlvbjpvLHBhaW50VmVydGV4QnVmZmVyOnl9fXRoaXMuc2VnbWVudHM9YS5zZWdtZW50cyx0aGlzLnNlZ21lbnRzMj1hLnNlZ21lbnRzMjtmb3IodmFyIGw9MCxtPVtmLnNlZ21lbnRzLGYuc2VnbWVudHMyXTtsPG0ubGVuZ3RoO2wrPTEpZm9yKHZhciBCPW1bbF0scD0wLGc9Qnx8W107cDxnLmxlbmd0aDtwKz0xKXt2YXIgaD1nW3BdO2gudmFvcz11dGlsLm1hcE9iamVjdChmLmxheWVyRGF0YSxmdW5jdGlvbigpe3JldHVybiBuZXcgVmVydGV4QXJyYXlPYmplY3R9KX19O0J1ZmZlckdyb3VwLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5lbGVtZW50QnVmZmVyJiZ0aGlzLmVsZW1lbnRCdWZmZXIuZGVzdHJveSgpLHRoaXMuZWxlbWVudEJ1ZmZlcjImJnRoaXMuZWxlbWVudEJ1ZmZlcjIuZGVzdHJveSgpO2Zvcih2YXIgciBpbiBlLmxheWVyRGF0YSl7dmFyIHQ9ZS5sYXllckRhdGFbcl0ucGFpbnRWZXJ0ZXhCdWZmZXI7dCYmdC5kZXN0cm95KCl9Zm9yKHZhciBhPTAsZj1bZS5zZWdtZW50cyxlLnNlZ21lbnRzMl07YTxmLmxlbmd0aDthKz0xKWZvcih2YXIgbj1mW2FdLHU9MCxpPW58fFtdO3U8aS5sZW5ndGg7dSs9MSl7dmFyIHM9aVt1XTtmb3IodmFyIG8gaW4gcy52YW9zKXMudmFvc1tvXS5kZXN0cm95KCl9fSxtb2R1bGUuZXhwb3J0cz1CdWZmZXJHcm91cDtcbn0se1wiLi4vcmVuZGVyL3ZlcnRleF9hcnJheV9vYmplY3RcIjo4MCxcIi4uL3V0aWwvdXRpbFwiOjIxMixcIi4vYnVmZmVyXCI6NTEsXCIuL3Byb2dyYW1fY29uZmlndXJhdGlvblwiOjU4fV0sNTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY3JlYXRlRWxlbWVudEFycmF5VHlwZShlKXtyZXR1cm4gY3JlYXRlU3RydWN0QXJyYXlUeXBlKHttZW1iZXJzOlt7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNlc1wiLGNvbXBvbmVudHM6ZXx8M31dfSl9dmFyIGNyZWF0ZVN0cnVjdEFycmF5VHlwZT1yZXF1aXJlKFwiLi4vdXRpbC9zdHJ1Y3RfYXJyYXlcIik7bW9kdWxlLmV4cG9ydHM9Y3JlYXRlRWxlbWVudEFycmF5VHlwZTtcbn0se1wiLi4vdXRpbC9zdHJ1Y3RfYXJyYXlcIjoyMTB9XSw1NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz04MTkyO1xufSx7fV0sNTU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdHJhbnNsYXRlRGlzdGFuY2UoZSl7cmV0dXJuIE1hdGguc3FydChlWzBdKmVbMF0rZVsxXSplWzFdKX1mdW5jdGlvbiB0b3BEb3duRmVhdHVyZUNvbXBhcmF0b3IoZSx0KXtyZXR1cm4gdC1lfWZ1bmN0aW9uIGdldExpbmVXaWR0aChlLHQpe3JldHVybiB0PjA/dCsyKmU6ZX1mdW5jdGlvbiB0cmFuc2xhdGUoZSx0LHIsaSxhKXtpZighdFswXSYmIXRbMV0pcmV0dXJuIGU7dD1Qb2ludC5jb252ZXJ0KHQpLFwidmlld3BvcnRcIj09PXImJnQuX3JvdGF0ZSgtaSk7Zm9yKHZhciBuPVtdLHM9MDtzPGUubGVuZ3RoO3MrKyl7Zm9yKHZhciBsPWVbc10sbz1bXSx1PTA7dTxsLmxlbmd0aDt1Kyspby5wdXNoKGxbdV0uc3ViKHQuX211bHQoYSkpKTtuLnB1c2gobyl9cmV0dXJuIG59ZnVuY3Rpb24gb2Zmc2V0TGluZShlLHQpe2Zvcih2YXIgcj1bXSxpPW5ldyBQb2ludCgwLDApLGE9MDthPGUubGVuZ3RoO2ErKyl7Zm9yKHZhciBuPWVbYV0scz1bXSxsPTA7bDxuLmxlbmd0aDtsKyspe3ZhciBvPW5bbC0xXSx1PW5bbF0sYz1uW2wrMV0seT0wPT09bD9pOnUuc3ViKG8pLl91bml0KCkuX3BlcnAoKSxmPWw9PT1uLmxlbmd0aC0xP2k6Yy5zdWIodSkuX3VuaXQoKS5fcGVycCgpLGg9eS5fYWRkKGYpLl91bml0KCksZD1oLngqZi54K2gueSpmLnk7aC5fbXVsdCgxL2QpLHMucHVzaChoLl9tdWx0KHQpLl9hZGQodSkpfXIucHVzaChzKX1yZXR1cm4gcn12YXIgUG9pbnQ9cmVxdWlyZShcInBvaW50LWdlb21ldHJ5XCIpLGxvYWRHZW9tZXRyeT1yZXF1aXJlKFwiLi9sb2FkX2dlb21ldHJ5XCIpLEVYVEVOVD1yZXF1aXJlKFwiLi9leHRlbnRcIiksZmVhdHVyZUZpbHRlcj1yZXF1aXJlKFwiLi4vc3R5bGUtc3BlYy9mZWF0dXJlX2ZpbHRlclwiKSxjcmVhdGVTdHJ1Y3RBcnJheVR5cGU9cmVxdWlyZShcIi4uL3V0aWwvc3RydWN0X2FycmF5XCIpLEdyaWQ9cmVxdWlyZShcImdyaWQtaW5kZXhcIiksRGljdGlvbmFyeUNvZGVyPXJlcXVpcmUoXCIuLi91dGlsL2RpY3Rpb25hcnlfY29kZXJcIiksdnQ9cmVxdWlyZShcInZlY3Rvci10aWxlXCIpLFByb3RvYnVmPXJlcXVpcmUoXCJwYmZcIiksR2VvSlNPTkZlYXR1cmU9cmVxdWlyZShcIi4uL3V0aWwvdmVjdG9ydGlsZV90b19nZW9qc29uXCIpLGFycmF5c0ludGVyc2VjdD1yZXF1aXJlKFwiLi4vdXRpbC91dGlsXCIpLmFycmF5c0ludGVyc2VjdCxpbnRlcnNlY3Rpb249cmVxdWlyZShcIi4uL3V0aWwvaW50ZXJzZWN0aW9uX3Rlc3RzXCIpLG11bHRpUG9seWdvbkludGVyc2VjdHNCdWZmZXJlZE11bHRpUG9pbnQ9aW50ZXJzZWN0aW9uLm11bHRpUG9seWdvbkludGVyc2VjdHNCdWZmZXJlZE11bHRpUG9pbnQsbXVsdGlQb2x5Z29uSW50ZXJzZWN0c011bHRpUG9seWdvbj1pbnRlcnNlY3Rpb24ubXVsdGlQb2x5Z29uSW50ZXJzZWN0c011bHRpUG9seWdvbixtdWx0aVBvbHlnb25JbnRlcnNlY3RzQnVmZmVyZWRNdWx0aUxpbmU9aW50ZXJzZWN0aW9uLm11bHRpUG9seWdvbkludGVyc2VjdHNCdWZmZXJlZE11bHRpTGluZSxGZWF0dXJlSW5kZXhBcnJheT1jcmVhdGVTdHJ1Y3RBcnJheVR5cGUoe21lbWJlcnM6W3t0eXBlOlwiVWludDMyXCIsbmFtZTpcImZlYXR1cmVJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJzb3VyY2VMYXllckluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImJ1Y2tldEluZGV4XCJ9XX0pLEZlYXR1cmVJbmRleD1mdW5jdGlvbihlLHQscil7aWYoZS5ncmlkKXt2YXIgaT1lLGE9dDtlPWkuY29vcmQsdD1pLm92ZXJzY2FsaW5nLHRoaXMuZ3JpZD1uZXcgR3JpZChpLmdyaWQpLHRoaXMuZmVhdHVyZUluZGV4QXJyYXk9bmV3IEZlYXR1cmVJbmRleEFycmF5KGkuZmVhdHVyZUluZGV4QXJyYXkpLHRoaXMucmF3VGlsZURhdGE9YSx0aGlzLmJ1Y2tldExheWVySURzPWkuYnVja2V0TGF5ZXJJRHMsdGhpcy5wYWludFByb3BlcnR5U3RhdGlzdGljcz1pLnBhaW50UHJvcGVydHlTdGF0aXN0aWNzfWVsc2UgdGhpcy5ncmlkPW5ldyBHcmlkKEVYVEVOVCwxNiwwKSx0aGlzLmZlYXR1cmVJbmRleEFycmF5PW5ldyBGZWF0dXJlSW5kZXhBcnJheTt0aGlzLmNvb3JkPWUsdGhpcy5vdmVyc2NhbGluZz10LHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLno9ZS56LU1hdGgubG9nKHQpL01hdGguTE4yLHRoaXMuc2V0Q29sbGlzaW9uVGlsZShyKX07RmVhdHVyZUluZGV4LnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5sZW5ndGg7dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5lbXBsYWNlQmFjayhlLmluZGV4LGUuc291cmNlTGF5ZXJJbmRleCx0KTtmb3IodmFyIGE9bG9hZEdlb21ldHJ5KGUpLG49MDtuPGEubGVuZ3RoO24rKyl7Zm9yKHZhciBzPWFbbl0sbD1bMS8wLDEvMCwtKDEvMCksLSgxLzApXSxvPTA7bzxzLmxlbmd0aDtvKyspe3ZhciB1PXNbb107bFswXT1NYXRoLm1pbihsWzBdLHUueCksbFsxXT1NYXRoLm1pbihsWzFdLHUueSksbFsyXT1NYXRoLm1heChsWzJdLHUueCksbFszXT1NYXRoLm1heChsWzNdLHUueSl9ci5ncmlkLmluc2VydChpLGxbMF0sbFsxXSxsWzJdLGxbM10pfX0sRmVhdHVyZUluZGV4LnByb3RvdHlwZS5zZXRDb2xsaXNpb25UaWxlPWZ1bmN0aW9uKGUpe3RoaXMuY29sbGlzaW9uVGlsZT1lfSxGZWF0dXJlSW5kZXgucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdyaWQudG9BcnJheUJ1ZmZlcigpO3JldHVybiBlJiZlLnB1c2godCkse2Nvb3JkOnRoaXMuY29vcmQsb3ZlcnNjYWxpbmc6dGhpcy5vdmVyc2NhbGluZyxncmlkOnQsZmVhdHVyZUluZGV4QXJyYXk6dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5zZXJpYWxpemUoZSksYnVja2V0TGF5ZXJJRHM6dGhpcy5idWNrZXRMYXllcklEcyxwYWludFByb3BlcnR5U3RhdGlzdGljczp0aGlzLnBhaW50UHJvcGVydHlTdGF0aXN0aWNzfX0sRmVhdHVyZUluZGV4LnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy52dExheWVyc3x8KHRoaXMudnRMYXllcnM9bmV3IHZ0LlZlY3RvclRpbGUobmV3IFByb3RvYnVmKHRoaXMucmF3VGlsZURhdGEpKS5sYXllcnMsdGhpcy5zb3VyY2VMYXllckNvZGVyPW5ldyBEaWN0aW9uYXJ5Q29kZXIodGhpcy52dExheWVycz9PYmplY3Qua2V5cyh0aGlzLnZ0TGF5ZXJzKS5zb3J0KCk6W1wiX2dlb2pzb25UaWxlTGF5ZXJcIl0pKTt2YXIgaT17fSxhPWUucGFyYW1zfHx7fSxuPUVYVEVOVC9lLnRpbGVTaXplL2Uuc2NhbGUscz1mZWF0dXJlRmlsdGVyKGEuZmlsdGVyKSxsPTA7Zm9yKHZhciBvIGluIHQpe3ZhciB1PXRbb10sYz0wO2lmKFwibGluZVwiPT09dS50eXBlKXt2YXIgeT1nZXRMaW5lV2lkdGgoci5nZXRQYWludFZhbHVlKFwibGluZS13aWR0aFwiLHUpLHIuZ2V0UGFpbnRWYWx1ZShcImxpbmUtZ2FwLXdpZHRoXCIsdSkpLGY9ci5nZXRQYWludFZhbHVlKFwibGluZS1vZmZzZXRcIix1KSxoPXIuZ2V0UGFpbnRWYWx1ZShcImxpbmUtdHJhbnNsYXRlXCIsdSk7Yz15LzIrTWF0aC5hYnMoZikrdHJhbnNsYXRlRGlzdGFuY2UoaCl9ZWxzZVwiZmlsbFwiPT09dS50eXBlP2M9dHJhbnNsYXRlRGlzdGFuY2Uoci5nZXRQYWludFZhbHVlKFwiZmlsbC10cmFuc2xhdGVcIix1KSk6XCJmaWxsLWV4dHJ1c2lvblwiPT09dS50eXBlP2M9dHJhbnNsYXRlRGlzdGFuY2Uoci5nZXRQYWludFZhbHVlKFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCIsdSkpOlwiY2lyY2xlXCI9PT11LnR5cGUmJihjPXIuZ2V0UGFpbnRWYWx1ZShcImNpcmNsZS1yYWRpdXNcIix1KSt0cmFuc2xhdGVEaXN0YW5jZShyLmdldFBhaW50VmFsdWUoXCJjaXJjbGUtdHJhbnNsYXRlXCIsdSkpKTtsPU1hdGgubWF4KGwsYypuKX1mb3IodmFyIGQ9ZS5xdWVyeUdlb21ldHJ5Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQb2ludChlLngsZS55KX0pfSksZz0xLzAscD0xLzAsdj0tKDEvMCkseD0tKDEvMCksUD0wO1A8ZC5sZW5ndGg7UCsrKWZvcih2YXIgbT1kW1BdLEk9MDtJPG0ubGVuZ3RoO0krKyl7dmFyIEw9bVtJXTtnPU1hdGgubWluKGcsTC54KSxwPU1hdGgubWluKHAsTC55KSx2PU1hdGgubWF4KHYsTC54KSx4PU1hdGgubWF4KHgsTC55KX12YXIgTT10aGlzLmdyaWQucXVlcnkoZy1sLHAtbCx2K2wseCtsKTtNLnNvcnQodG9wRG93bkZlYXR1cmVDb21wYXJhdG9yKSx0aGlzLmZpbHRlck1hdGNoaW5nKGksTSx0aGlzLmZlYXR1cmVJbmRleEFycmF5LGQscyxhLmxheWVycyx0LGUuYmVhcmluZyxuKTt2YXIgVj10aGlzLmNvbGxpc2lvblRpbGUucXVlcnlSZW5kZXJlZFN5bWJvbHMoZCxlLnNjYWxlKTtyZXR1cm4gVi5zb3J0KCksdGhpcy5maWx0ZXJNYXRjaGluZyhpLFYsdGhpcy5jb2xsaXNpb25UaWxlLmNvbGxpc2lvbkJveEFycmF5LGQscyxhLmxheWVycyx0LGUuYmVhcmluZyxuKSxpfSxGZWF0dXJlSW5kZXgucHJvdG90eXBlLmZpbHRlck1hdGNoaW5nPWZ1bmN0aW9uKGUsdCxyLGksYSxuLHMsbCxvKXtmb3IodmFyIHUsYz10aGlzLHk9MDt5PHQubGVuZ3RoO3krKyl7dmFyIGY9dFt5XTtpZihmIT09dSl7dT1mO3ZhciBoPXIuZ2V0KGYpLGQ9Yy5idWNrZXRMYXllcklEc1toLmJ1Y2tldEluZGV4XTtpZighbnx8YXJyYXlzSW50ZXJzZWN0KG4sZCkpe3ZhciBnPWMuc291cmNlTGF5ZXJDb2Rlci5kZWNvZGUoaC5zb3VyY2VMYXllckluZGV4KSxwPWMudnRMYXllcnNbZ10sdj1wLmZlYXR1cmUoaC5mZWF0dXJlSW5kZXgpO2lmKGEodikpZm9yKHZhciB4PW51bGwsUD0wO1A8ZC5sZW5ndGg7UCsrKXt2YXIgbT1kW1BdO2lmKCEobiYmbi5pbmRleE9mKG0pPDApKXt2YXIgST1zW21dO2lmKEkpe3ZhciBMPXZvaWQgMDtpZihcInN5bWJvbFwiIT09SS50eXBlKWlmKHh8fCh4PWxvYWRHZW9tZXRyeSh2KSksXCJsaW5lXCI9PT1JLnR5cGUpe0w9dHJhbnNsYXRlKGksYy5nZXRQYWludFZhbHVlKFwibGluZS10cmFuc2xhdGVcIixJLHYpLGMuZ2V0UGFpbnRWYWx1ZShcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiLEksdiksbCxvKTt2YXIgTT1vLzIqZ2V0TGluZVdpZHRoKGMuZ2V0UGFpbnRWYWx1ZShcImxpbmUtd2lkdGhcIixJLHYpLGMuZ2V0UGFpbnRWYWx1ZShcImxpbmUtZ2FwLXdpZHRoXCIsSSx2KSksVj1jLmdldFBhaW50VmFsdWUoXCJsaW5lLW9mZnNldFwiLEksdik7aWYoViYmKHg9b2Zmc2V0TGluZSh4LFYqbykpLCFtdWx0aVBvbHlnb25JbnRlcnNlY3RzQnVmZmVyZWRNdWx0aUxpbmUoTCx4LE0pKWNvbnRpbnVlfWVsc2UgaWYoXCJmaWxsXCI9PT1JLnR5cGV8fFwiZmlsbC1leHRydXNpb25cIj09PUkudHlwZSl7dmFyIGI9SS50eXBlO2lmKEw9dHJhbnNsYXRlKGksYy5nZXRQYWludFZhbHVlKGIrXCItdHJhbnNsYXRlXCIsSSx2KSxjLmdldFBhaW50VmFsdWUoYitcIi10cmFuc2xhdGUtYW5jaG9yXCIsSSx2KSxsLG8pLCFtdWx0aVBvbHlnb25JbnRlcnNlY3RzTXVsdGlQb2x5Z29uKEwseCkpY29udGludWV9ZWxzZSBpZihcImNpcmNsZVwiPT09SS50eXBlKXtMPXRyYW5zbGF0ZShpLGMuZ2V0UGFpbnRWYWx1ZShcImNpcmNsZS10cmFuc2xhdGVcIixJLHYpLGMuZ2V0UGFpbnRWYWx1ZShcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCIsSSx2KSxsLG8pO3ZhciB3PWMuZ2V0UGFpbnRWYWx1ZShcImNpcmNsZS1yYWRpdXNcIixJLHYpKm87aWYoIW11bHRpUG9seWdvbkludGVyc2VjdHNCdWZmZXJlZE11bHRpUG9pbnQoTCx4LHcpKWNvbnRpbnVlfXZhciBfPW5ldyBHZW9KU09ORmVhdHVyZSh2LGMueixjLngsYy55KTtfLmxheWVyPUkuc2VyaWFsaXplKCk7dmFyIEY9ZVttXTt2b2lkIDA9PT1GJiYoRj1lW21dPVtdKSxGLnB1c2goXyl9fX19fX19LEZlYXR1cmVJbmRleC5wcm90b3R5cGUuZ2V0UGFpbnRWYWx1ZT1mdW5jdGlvbihlLHQscil7dmFyIGk9dC5pc1BhaW50VmFsdWVGZWF0dXJlQ29uc3RhbnQoZSk7aWYoaXx8cil7dmFyIGE9cj9yLnByb3BlcnRpZXM6e307cmV0dXJuIHQuZ2V0UGFpbnRWYWx1ZShlLHt6b29tOnRoaXMuen0sYSl9cmV0dXJuIHRoaXMucGFpbnRQcm9wZXJ0eVN0YXRpc3RpY3NbdC5pZF1bZV0ubWF4fSxtb2R1bGUuZXhwb3J0cz1GZWF0dXJlSW5kZXg7XG59LHtcIi4uL3N0eWxlLXNwZWMvZmVhdHVyZV9maWx0ZXJcIjoxMDMsXCIuLi91dGlsL2RpY3Rpb25hcnlfY29kZXJcIjoxOTcsXCIuLi91dGlsL2ludGVyc2VjdGlvbl90ZXN0c1wiOjIwNSxcIi4uL3V0aWwvc3RydWN0X2FycmF5XCI6MjEwLFwiLi4vdXRpbC91dGlsXCI6MjEyLFwiLi4vdXRpbC92ZWN0b3J0aWxlX3RvX2dlb2pzb25cIjoyMTMsXCIuL2V4dGVudFwiOjU0LFwiLi9sb2FkX2dlb21ldHJ5XCI6NTYsXCJncmlkLWluZGV4XCI6MTYsXCJwYmZcIjoyNSxcInBvaW50LWdlb21ldHJ5XCI6MjYsXCJ2ZWN0b3ItdGlsZVwiOjM0fV0sNTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY3JlYXRlQm91bmRzKGUpe3JldHVybnttaW46LTEqTWF0aC5wb3coMixlLTEpLG1heDpNYXRoLnBvdygyLGUtMSktMX19dmFyIHV0aWw9cmVxdWlyZShcIi4uL3V0aWwvdXRpbFwiKSxFWFRFTlQ9cmVxdWlyZShcIi4vZXh0ZW50XCIpLGJvdW5kc0xvb2t1cD17MTU6Y3JlYXRlQm91bmRzKDE1KSwxNjpjcmVhdGVCb3VuZHMoMTYpfTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1ib3VuZHNMb29rdXBbdHx8MTZdLG89RVhURU5UL2UuZXh0ZW50LHU9ZS5sb2FkR2VvbWV0cnkoKSxuPTA7bjx1Lmxlbmd0aDtuKyspZm9yKHZhciBhPXVbbl0saT0wO2k8YS5sZW5ndGg7aSsrKXt2YXIgZD1hW2ldO2QueD1NYXRoLnJvdW5kKGQueCpvKSxkLnk9TWF0aC5yb3VuZChkLnkqbyksKGQueDxyLm1pbnx8ZC54PnIubWF4fHxkLnk8ci5taW58fGQueT5yLm1heCkmJnV0aWwud2Fybk9uY2UoXCJHZW9tZXRyeSBleGNlZWRzIGFsbG93ZWQgZXh0ZW50LCByZWR1Y2UgeW91ciB2ZWN0b3IgdGlsZSBidWZmZXIgc2l6ZVwiKX1yZXR1cm4gdX07XG59LHtcIi4uL3V0aWwvdXRpbFwiOjIxMixcIi4vZXh0ZW50XCI6NTR9XSw1NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgY3JlYXRlU3RydWN0QXJyYXlUeXBlPXJlcXVpcmUoXCIuLi91dGlsL3N0cnVjdF9hcnJheVwiKSxQb3NBcnJheT1jcmVhdGVTdHJ1Y3RBcnJheVR5cGUoe21lbWJlcnM6W3tuYW1lOlwiYV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9XX0pO21vZHVsZS5leHBvcnRzPVBvc0FycmF5O1xufSx7XCIuLi91dGlsL3N0cnVjdF9hcnJheVwiOjIxMH1dLDU4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGdldFBhaW50QXR0cmlidXRlVmFsdWUodCxyLGUsaSl7aWYoIXQuem9vbVN0b3BzKXJldHVybiByLmdldFBhaW50VmFsdWUodC5wcm9wZXJ0eSxlLGkpO3ZhciBhPXQuem9vbVN0b3BzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gci5nZXRQYWludFZhbHVlKHQucHJvcGVydHksdXRpbC5leHRlbmQoe30sZSx7em9vbTphfSksaSl9KTtyZXR1cm4gMT09PWEubGVuZ3RoP2FbMF06YX1mdW5jdGlvbiBub3JtYWxpemVQYWludEF0dHJpYnV0ZSh0LHIpe3ZhciBlPXQubmFtZTtlfHwoZT10LnByb3BlcnR5LnJlcGxhY2Uoci50eXBlK1wiLVwiLFwiXCIpLnJlcGxhY2UoLy0vZyxcIl9cIikpO3ZhciBpPVwiY29sb3JcIj09PXIuX3BhaW50U3BlY2lmaWNhdGlvbnNbdC5wcm9wZXJ0eV0udHlwZTtyZXR1cm4gdXRpbC5leHRlbmQoe25hbWU6XCJhX1wiK2UsY29tcG9uZW50czppPzQ6MSxtdWx0aXBsaWVyOmk/MjU1OjEsZGltZW5zaW9uczppPzQ6MX0sdCl9dmFyIGNyZWF0ZVZlcnRleEFycmF5VHlwZT1yZXF1aXJlKFwiLi92ZXJ0ZXhfYXJyYXlfdHlwZVwiKSx1dGlsPXJlcXVpcmUoXCIuLi91dGlsL3V0aWxcIiksUHJvZ3JhbUNvbmZpZ3VyYXRpb249ZnVuY3Rpb24oKXt0aGlzLmF0dHJpYnV0ZXM9W10sdGhpcy51bmlmb3Jtcz1bXSx0aGlzLmludGVycG9sYXRpb25Vbmlmb3Jtcz1bXSx0aGlzLnByYWdtYXM9e3ZlcnRleDp7fSxmcmFnbWVudDp7fX0sdGhpcy5jYWNoZUtleT1cIlwifTtQcm9ncmFtQ29uZmlndXJhdGlvbi5jcmVhdGVEeW5hbWljPWZ1bmN0aW9uKHQscixlKXtmb3IodmFyIGk9bmV3IFByb2dyYW1Db25maWd1cmF0aW9uLGE9MCxuPXQ7YTxuLmxlbmd0aDthKz0xKXt2YXIgbz1uW2FdLHA9bm9ybWFsaXplUGFpbnRBdHRyaWJ1dGUobyxyKSx1PXAubmFtZS5zbGljZSgyKTtyLmlzUGFpbnRWYWx1ZUZlYXR1cmVDb25zdGFudChwLnByb3BlcnR5KT9pLmFkZFpvb21BdHRyaWJ1dGUodSxwKTpyLmlzUGFpbnRWYWx1ZVpvb21Db25zdGFudChwLnByb3BlcnR5KT9pLmFkZFByb3BlcnR5QXR0cmlidXRlKHUscCk6aS5hZGRab29tQW5kUHJvcGVydHlBdHRyaWJ1dGUodSxwLHIsZSl9cmV0dXJuIGkuUGFpbnRWZXJ0ZXhBcnJheT1jcmVhdGVWZXJ0ZXhBcnJheVR5cGUoaS5hdHRyaWJ1dGVzKSxpfSxQcm9ncmFtQ29uZmlndXJhdGlvbi5jcmVhdGVTdGF0aWM9ZnVuY3Rpb24odCl7Zm9yKHZhciByPW5ldyBQcm9ncmFtQ29uZmlndXJhdGlvbixlPTAsaT10O2U8aS5sZW5ndGg7ZSs9MSl7dmFyIGE9aVtlXTtyLmFkZFVuaWZvcm0oYSxcInVfXCIrYSl9cmV0dXJuIHJ9LFByb2dyYW1Db25maWd1cmF0aW9uLnByb3RvdHlwZS5hZGRVbmlmb3JtPWZ1bmN0aW9uKHQscil7dmFyIGU9dGhpcy5nZXRQcmFnbWFzKHQpO2UuZGVmaW5lLnB1c2goXCJ1bmlmb3JtIHtwcmVjaXNpb259IHt0eXBlfSBcIityK1wiO1wiKSxlLmluaXRpYWxpemUucHVzaChcIntwcmVjaXNpb259IHt0eXBlfSBcIit0K1wiID0gXCIrcitcIjtcIiksdGhpcy5jYWNoZUtleSs9XCIvdV9cIit0fSxQcm9ncmFtQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuYWRkWm9vbUF0dHJpYnV0ZT1mdW5jdGlvbih0LHIpe3RoaXMudW5pZm9ybXMucHVzaChyKSx0aGlzLmFkZFVuaWZvcm0odCxyLm5hbWUpfSxQcm9ncmFtQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuYWRkUHJvcGVydHlBdHRyaWJ1dGU9ZnVuY3Rpb24odCxyKXt2YXIgZT10aGlzLmdldFByYWdtYXModCk7dGhpcy5hdHRyaWJ1dGVzLnB1c2gociksZS5kZWZpbmUucHVzaChcInZhcnlpbmcge3ByZWNpc2lvbn0ge3R5cGV9IFwiK3QrXCI7XCIpLGUudmVydGV4LmRlZmluZS5wdXNoKFwiYXR0cmlidXRlIHtwcmVjaXNpb259IHt0eXBlfSBcIityLm5hbWUrXCI7XCIpLGUudmVydGV4LmluaXRpYWxpemUucHVzaCh0K1wiID0gXCIrci5uYW1lK1wiIC8gXCIrci5tdWx0aXBsaWVyK1wiLjA7XCIpLHRoaXMuY2FjaGVLZXkrPVwiL2FfXCIrdH0sUHJvZ3JhbUNvbmZpZ3VyYXRpb24ucHJvdG90eXBlLmFkZFpvb21BbmRQcm9wZXJ0eUF0dHJpYnV0ZT1mdW5jdGlvbih0LHIsZSxpKXt2YXIgYT10aGlzLG49dGhpcy5nZXRQcmFnbWFzKHQpO24uZGVmaW5lLnB1c2goXCJ2YXJ5aW5nIHtwcmVjaXNpb259IHt0eXBlfSBcIit0K1wiO1wiKTtmb3IodmFyIG89MCxwPWUuZ2V0UGFpbnRWYWx1ZVN0b3Bab29tTGV2ZWxzKHIucHJvcGVydHkpO288cC5sZW5ndGgmJnBbb108aTspbysrO3ZhciB1PU1hdGgubWF4KDAsTWF0aC5taW4ocC5sZW5ndGgtNCxvLTIpKSxzPVwidV9cIit0K1wiX3RcIjtuLnZlcnRleC5kZWZpbmUucHVzaChcInVuaWZvcm0gbG93cCBmbG9hdCBcIitzK1wiO1wiKSx0aGlzLmludGVycG9sYXRpb25Vbmlmb3Jtcy5wdXNoKHtuYW1lOnMscHJvcGVydHk6ci5wcm9wZXJ0eSxzdG9wT2Zmc2V0OnV9KTtmb3IodmFyIG09W10sZj0wO2Y8NDtmKyspbS5wdXNoKHBbTWF0aC5taW4odStmLHAubGVuZ3RoLTEpXSk7dmFyIGc9W107aWYoMT09PXIuY29tcG9uZW50cyl0aGlzLmF0dHJpYnV0ZXMucHVzaCh1dGlsLmV4dGVuZCh7fSxyLHtjb21wb25lbnRzOjQsem9vbVN0b3BzOm19KSksbi52ZXJ0ZXguZGVmaW5lLnB1c2goXCJhdHRyaWJ1dGUge3ByZWNpc2lvbn0gdmVjNCBcIityLm5hbWUrXCI7XCIpLGcucHVzaChyLm5hbWUpO2Vsc2UgZm9yKHZhciBoPTA7aDw0O2grKyl7dmFyIGw9ci5uYW1lK2g7Zy5wdXNoKGwpLGEuYXR0cmlidXRlcy5wdXNoKHV0aWwuZXh0ZW5kKHt9LHIse25hbWU6bCx6b29tU3RvcHM6W21baF1dfSkpLG4udmVydGV4LmRlZmluZS5wdXNoKFwiYXR0cmlidXRlIHtwcmVjaXNpb259IHt0eXBlfSBcIitsK1wiO1wiKX1uLnZlcnRleC5pbml0aWFsaXplLnB1c2godCtcIiA9IGV2YWx1YXRlX3pvb21fZnVuY3Rpb25fXCIrci5jb21wb25lbnRzK1wiKCAgICAgICAgICAgIFwiK2cuam9pbihcIiwgXCIpK1wiLCBcIitzK1wiKSAvIFwiK3IubXVsdGlwbGllcitcIi4wO1wiKSx0aGlzLmNhY2hlS2V5Kz1cIi96X1wiK3R9LFByb2dyYW1Db25maWd1cmF0aW9uLnByb3RvdHlwZS5nZXRQcmFnbWFzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByYWdtYXNbdF18fCh0aGlzLnByYWdtYXNbdF09e2RlZmluZTpbXSxpbml0aWFsaXplOltdfSx0aGlzLnByYWdtYXNbdF0uZnJhZ21lbnQ9e2RlZmluZTpbXSxpbml0aWFsaXplOltdfSx0aGlzLnByYWdtYXNbdF0udmVydGV4PXtkZWZpbmU6W10saW5pdGlhbGl6ZTpbXX0pLHRoaXMucHJhZ21hc1t0XX0sUHJvZ3JhbUNvbmZpZ3VyYXRpb24ucHJvdG90eXBlLmFwcGx5UHJhZ21hcz1mdW5jdGlvbih0LHIpe3ZhciBlPXRoaXM7cmV0dXJuIHQucmVwbGFjZSgvI3ByYWdtYSBtYXBib3g6IChbXFx3XSspIChbXFx3XSspIChbXFx3XSspIChbXFx3XSspL2csZnVuY3Rpb24odCxpLGEsbixvKXtyZXR1cm4gZS5wcmFnbWFzW29dW2ldLmNvbmNhdChlLnByYWdtYXNbb11bcl1baV0pLmpvaW4oXCJcXG5cIikucmVwbGFjZSgve3R5cGV9L2csbikucmVwbGFjZSgve3ByZWNpc2lvbn0vZyxhKX0pfSxQcm9ncmFtQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuY3JlYXRlUGFpbnRQcm9wZXJ0eVN0YXRpc3RpY3M9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxyPXt9LGU9MCxpPXQuYXR0cmlidXRlcztlPGkubGVuZ3RoO2UrPTEpe3ZhciBhPWlbZV07MT09PWEuZGltZW5zaW9ucyYmKHJbYS5wcm9wZXJ0eV09e21heDotKDEvMCl9KX1yZXR1cm4gcn0sUHJvZ3JhbUNvbmZpZ3VyYXRpb24ucHJvdG90eXBlLnBvcHVsYXRlUGFpbnRBcnJheT1mdW5jdGlvbih0LHIsZSxpLGEsbil7dmFyIG89dGhpcyxwPXIubGVuZ3RoO3IucmVzaXplKGkpO2Zvcih2YXIgdT0wLHM9by5hdHRyaWJ1dGVzO3U8cy5sZW5ndGg7dSs9MSlmb3IodmFyIG09c1t1XSxmPWdldFBhaW50QXR0cmlidXRlVmFsdWUobSx0LGEsbiksZz1wO2c8aTtnKyspe3ZhciBoPXIuZ2V0KGcpO2lmKDQ9PT1tLmNvbXBvbmVudHMpZm9yKHZhciBsPTA7bDw0O2wrKyloW20ubmFtZStsXT1mW2xdKm0ubXVsdGlwbGllcjtlbHNlIGhbbS5uYW1lXT1mKm0ubXVsdGlwbGllcjtpZigxPT09bS5kaW1lbnNpb25zKXt2YXIgYz1lW20ucHJvcGVydHldO2MubWF4PU1hdGgubWF4KGMubWF4LDE9PT1tLmNvbXBvbmVudHM/ZjpNYXRoLm1heC5hcHBseShNYXRoLGYpKX19fSxQcm9ncmFtQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuc2V0VW5pZm9ybXM9ZnVuY3Rpb24odCxyLGUsaSl7Zm9yKHZhciBhPXRoaXMsbj0wLG89YS51bmlmb3JtcztuPG8ubGVuZ3RoO24rPTEpe3ZhciBwPW9bbl0sdT1lLmdldFBhaW50VmFsdWUocC5wcm9wZXJ0eSxpKTs0PT09cC5jb21wb25lbnRzP3QudW5pZm9ybTRmdihyW3AubmFtZV0sdSk6dC51bmlmb3JtMWYocltwLm5hbWVdLHUpfWZvcih2YXIgcz0wLG09YS5pbnRlcnBvbGF0aW9uVW5pZm9ybXM7czxtLmxlbmd0aDtzKz0xKXt2YXIgZj1tW3NdLGc9ZS5nZXRQYWludEludGVycG9sYXRpb25UKGYucHJvcGVydHksaSk7dC51bmlmb3JtMWYocltmLm5hbWVdLE1hdGgubWF4KDAsTWF0aC5taW4oNCxnLWYuc3RvcE9mZnNldCkpKX19LG1vZHVsZS5leHBvcnRzPVByb2dyYW1Db25maWd1cmF0aW9uO1xufSx7XCIuLi91dGlsL3V0aWxcIjoyMTIsXCIuL3ZlcnRleF9hcnJheV90eXBlXCI6NjB9XSw1OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgY3JlYXRlU3RydWN0QXJyYXlUeXBlPXJlcXVpcmUoXCIuLi91dGlsL3N0cnVjdF9hcnJheVwiKSxSYXN0ZXJCb3VuZHNBcnJheT1jcmVhdGVTdHJ1Y3RBcnJheVR5cGUoe21lbWJlcnM6W3tuYW1lOlwiYV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9LHtuYW1lOlwiYV90ZXh0dXJlX3Bvc1wiLHR5cGU6XCJJbnQxNlwiLGNvbXBvbmVudHM6Mn1dfSk7bW9kdWxlLmV4cG9ydHM9UmFzdGVyQm91bmRzQXJyYXk7XG59LHtcIi4uL3V0aWwvc3RydWN0X2FycmF5XCI6MjEwfV0sNjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY3JlYXRlVmVydGV4QXJyYXlUeXBlKHIpe3JldHVybiBjcmVhdGVTdHJ1Y3RBcnJheVR5cGUoe21lbWJlcnM6cixhbGlnbm1lbnQ6NH0pfXZhciBjcmVhdGVTdHJ1Y3RBcnJheVR5cGU9cmVxdWlyZShcIi4uL3V0aWwvc3RydWN0X2FycmF5XCIpO21vZHVsZS5leHBvcnRzPWNyZWF0ZVZlcnRleEFycmF5VHlwZTtcbn0se1wiLi4vdXRpbC9zdHJ1Y3RfYXJyYXlcIjoyMTB9XSw2MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgQ29vcmRpbmF0ZT1mdW5jdGlvbihvLHQsbil7dGhpcy5jb2x1bW49byx0aGlzLnJvdz10LHRoaXMuem9vbT1ufTtDb29yZGluYXRlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgQ29vcmRpbmF0ZSh0aGlzLmNvbHVtbix0aGlzLnJvdyx0aGlzLnpvb20pfSxDb29yZGluYXRlLnByb3RvdHlwZS56b29tVG89ZnVuY3Rpb24obyl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fem9vbVRvKG8pfSxDb29yZGluYXRlLnByb3RvdHlwZS5zdWI9ZnVuY3Rpb24obyl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKG8pfSxDb29yZGluYXRlLnByb3RvdHlwZS5fem9vbVRvPWZ1bmN0aW9uKG8pe3ZhciB0PU1hdGgucG93KDIsby10aGlzLnpvb20pO3JldHVybiB0aGlzLmNvbHVtbio9dCx0aGlzLnJvdyo9dCx0aGlzLnpvb209byx0aGlzfSxDb29yZGluYXRlLnByb3RvdHlwZS5fc3ViPWZ1bmN0aW9uKG8pe3JldHVybiBvPW8uem9vbVRvKHRoaXMuem9vbSksdGhpcy5jb2x1bW4tPW8uY29sdW1uLHRoaXMucm93LT1vLnJvdyx0aGlzfSxtb2R1bGUuZXhwb3J0cz1Db29yZGluYXRlO1xufSx7fV0sNjI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHdyYXA9cmVxdWlyZShcIi4uL3V0aWwvdXRpbFwiKS53cmFwLExuZ0xhdD1mdW5jdGlvbih0LG4pe2lmKGlzTmFOKHQpfHxpc05hTihuKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIExuZ0xhdCBvYmplY3Q6IChcIit0K1wiLCBcIituK1wiKVwiKTtpZih0aGlzLmxuZz0rdCx0aGlzLmxhdD0rbix0aGlzLmxhdD45MHx8dGhpcy5sYXQ8LTkwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgTG5nTGF0IGxhdGl0dWRlIHZhbHVlOiBtdXN0IGJlIGJldHdlZW4gLTkwIGFuZCA5MFwiKX07TG5nTGF0LnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMbmdMYXQod3JhcCh0aGlzLmxuZywtMTgwLDE4MCksdGhpcy5sYXQpfSxMbmdMYXQucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5sbmcsdGhpcy5sYXRdfSxMbmdMYXQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJMbmdMYXQoXCIrdGhpcy5sbmcrXCIsIFwiK3RoaXMubGF0K1wiKVwifSxMbmdMYXQuY29udmVydD1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgTG5nTGF0KXJldHVybiB0O2lmKHQmJnQuaGFzT3duUHJvcGVydHkoXCJsbmdcIikmJnQuaGFzT3duUHJvcGVydHkoXCJsYXRcIikpcmV0dXJuIG5ldyBMbmdMYXQodC5sbmcsdC5sYXQpO2lmKEFycmF5LmlzQXJyYXkodCkmJjI9PT10Lmxlbmd0aClyZXR1cm4gbmV3IExuZ0xhdCh0WzBdLHRbMV0pO3Rocm93IG5ldyBFcnJvcihcImBMbmdMYXRMaWtlYCBhcmd1bWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIExuZ0xhdCBpbnN0YW5jZSwgYW4gb2JqZWN0IHtsbmc6IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgb3IgYW4gYXJyYXkgb2YgWzxsbmc+LCA8bGF0Pl1cIil9LG1vZHVsZS5leHBvcnRzPUxuZ0xhdDtcbn0se1wiLi4vdXRpbC91dGlsXCI6MjEyfV0sNjM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIExuZ0xhdD1yZXF1aXJlKFwiLi9sbmdfbGF0XCIpLExuZ0xhdEJvdW5kcz1mdW5jdGlvbih0LG4pe3QmJihuP3RoaXMuc2V0U291dGhXZXN0KHQpLnNldE5vcnRoRWFzdChuKTo0PT09dC5sZW5ndGg/dGhpcy5zZXRTb3V0aFdlc3QoW3RbMF0sdFsxXV0pLnNldE5vcnRoRWFzdChbdFsyXSx0WzNdXSk6dGhpcy5zZXRTb3V0aFdlc3QodFswXSkuc2V0Tm9ydGhFYXN0KHRbMV0pKX07TG5nTGF0Qm91bmRzLnByb3RvdHlwZS5zZXROb3J0aEVhc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25lPUxuZ0xhdC5jb252ZXJ0KHQpLHRoaXN9LExuZ0xhdEJvdW5kcy5wcm90b3R5cGUuc2V0U291dGhXZXN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdz1MbmdMYXQuY29udmVydCh0KSx0aGlzfSxMbmdMYXRCb3VuZHMucHJvdG90eXBlLmV4dGVuZD1mdW5jdGlvbih0KXt2YXIgbixlLHM9dGhpcy5fc3csbz10aGlzLl9uZTtpZih0IGluc3RhbmNlb2YgTG5nTGF0KW49dCxlPXQ7ZWxzZXtpZighKHQgaW5zdGFuY2VvZiBMbmdMYXRCb3VuZHMpKXJldHVybiBBcnJheS5pc0FycmF5KHQpP3QuZXZlcnkoQXJyYXkuaXNBcnJheSk/dGhpcy5leHRlbmQoTG5nTGF0Qm91bmRzLmNvbnZlcnQodCkpOnRoaXMuZXh0ZW5kKExuZ0xhdC5jb252ZXJ0KHQpKTp0aGlzO2lmKG49dC5fc3csZT10Ll9uZSwhbnx8IWUpcmV0dXJuIHRoaXN9cmV0dXJuIHN8fG8/KHMubG5nPU1hdGgubWluKG4ubG5nLHMubG5nKSxzLmxhdD1NYXRoLm1pbihuLmxhdCxzLmxhdCksby5sbmc9TWF0aC5tYXgoZS5sbmcsby5sbmcpLG8ubGF0PU1hdGgubWF4KGUubGF0LG8ubGF0KSk6KHRoaXMuX3N3PW5ldyBMbmdMYXQobi5sbmcsbi5sYXQpLHRoaXMuX25lPW5ldyBMbmdMYXQoZS5sbmcsZS5sYXQpKSx0aGlzfSxMbmdMYXRCb3VuZHMucHJvdG90eXBlLmdldENlbnRlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgTG5nTGF0KCh0aGlzLl9zdy5sbmcrdGhpcy5fbmUubG5nKS8yLCh0aGlzLl9zdy5sYXQrdGhpcy5fbmUubGF0KS8yKX0sTG5nTGF0Qm91bmRzLnByb3RvdHlwZS5nZXRTb3V0aFdlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3d9LExuZ0xhdEJvdW5kcy5wcm90b3R5cGUuZ2V0Tm9ydGhFYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25lfSxMbmdMYXRCb3VuZHMucHJvdG90eXBlLmdldE5vcnRoV2VzdD1mdW5jdGlvbigpe3JldHVybiBuZXcgTG5nTGF0KHRoaXMuZ2V0V2VzdCgpLHRoaXMuZ2V0Tm9ydGgoKSl9LExuZ0xhdEJvdW5kcy5wcm90b3R5cGUuZ2V0U291dGhFYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMbmdMYXQodGhpcy5nZXRFYXN0KCksdGhpcy5nZXRTb3V0aCgpKX0sTG5nTGF0Qm91bmRzLnByb3RvdHlwZS5nZXRXZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N3LmxuZ30sTG5nTGF0Qm91bmRzLnByb3RvdHlwZS5nZXRTb3V0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdy5sYXR9LExuZ0xhdEJvdW5kcy5wcm90b3R5cGUuZ2V0RWFzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZS5sbmd9LExuZ0xhdEJvdW5kcy5wcm90b3R5cGUuZ2V0Tm9ydGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmUubGF0fSxMbmdMYXRCb3VuZHMucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5fc3cudG9BcnJheSgpLHRoaXMuX25lLnRvQXJyYXkoKV19LExuZ0xhdEJvdW5kcy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkxuZ0xhdEJvdW5kcyhcIit0aGlzLl9zdy50b1N0cmluZygpK1wiLCBcIit0aGlzLl9uZS50b1N0cmluZygpK1wiKVwifSxMbmdMYXRCb3VuZHMuY29udmVydD1mdW5jdGlvbih0KXtyZXR1cm4hdHx8dCBpbnN0YW5jZW9mIExuZ0xhdEJvdW5kcz90Om5ldyBMbmdMYXRCb3VuZHModCl9LG1vZHVsZS5leHBvcnRzPUxuZ0xhdEJvdW5kcztcbn0se1wiLi9sbmdfbGF0XCI6NjJ9XSw2NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgTG5nTGF0PXJlcXVpcmUoXCIuL2xuZ19sYXRcIiksUG9pbnQ9cmVxdWlyZShcInBvaW50LWdlb21ldHJ5XCIpLENvb3JkaW5hdGU9cmVxdWlyZShcIi4vY29vcmRpbmF0ZVwiKSx1dGlsPXJlcXVpcmUoXCIuLi91dGlsL3V0aWxcIiksaW50ZXJwPXJlcXVpcmUoXCIuLi91dGlsL2ludGVycG9sYXRlXCIpLFRpbGVDb29yZD1yZXF1aXJlKFwiLi4vc291cmNlL3RpbGVfY29vcmRcIiksRVhURU5UPXJlcXVpcmUoXCIuLi9kYXRhL2V4dGVudFwiKSxnbG1hdHJpeD1yZXF1aXJlKFwiQG1hcGJveC9nbC1tYXRyaXhcIiksdmVjND1nbG1hdHJpeC52ZWM0LG1hdDQ9Z2xtYXRyaXgubWF0NCxtYXQyPWdsbWF0cml4Lm1hdDIsVHJhbnNmb3JtPWZ1bmN0aW9uKHQsaSxvKXt0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9yZW5kZXJXb3JsZENvcGllcz12b2lkIDA9PT1vfHxvLHRoaXMuX21pblpvb209dHx8MCx0aGlzLl9tYXhab29tPWl8fDIyLHRoaXMubGF0UmFuZ2U9Wy04NS4wNTExMyw4NS4wNTExM10sdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5fY2VudGVyPW5ldyBMbmdMYXQoMCwwKSx0aGlzLnpvb209MCx0aGlzLmFuZ2xlPTAsdGhpcy5fZm92PS42NDM1MDExMDg3OTMyODQ0LHRoaXMuX3BpdGNoPTAsdGhpcy5fdW5tb2RpZmllZD0hMH0scHJvdG90eXBlQWNjZXNzb3JzPXttaW5ab29tOnt9LG1heFpvb206e30sd29ybGRTaXplOnt9LGNlbnRlclBvaW50Ont9LHNpemU6e30sYmVhcmluZzp7fSxwaXRjaDp7fSxmb3Y6e30sem9vbTp7fSxjZW50ZXI6e30sdW5tb2RpZmllZDp7fSx4Ont9LHk6e30scG9pbnQ6e319O3Byb3RvdHlwZUFjY2Vzc29ycy5taW5ab29tLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW5ab29tfSxwcm90b3R5cGVBY2Nlc3NvcnMubWluWm9vbS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fbWluWm9vbSE9PXQmJih0aGlzLl9taW5ab29tPXQsdGhpcy56b29tPU1hdGgubWF4KHRoaXMuem9vbSx0KSl9LHByb3RvdHlwZUFjY2Vzc29ycy5tYXhab29tLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhab29tfSxwcm90b3R5cGVBY2Nlc3NvcnMubWF4Wm9vbS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fbWF4Wm9vbSE9PXQmJih0aGlzLl9tYXhab29tPXQsdGhpcy56b29tPU1hdGgubWluKHRoaXMuem9vbSx0KSl9LHByb3RvdHlwZUFjY2Vzc29ycy53b3JsZFNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlsZVNpemUqdGhpcy5zY2FsZX0scHJvdG90eXBlQWNjZXNzb3JzLmNlbnRlclBvaW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemUuX2RpdigyKX0scHJvdG90eXBlQWNjZXNzb3JzLnNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQb2ludCh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0scHJvdG90eXBlQWNjZXNzb3JzLmJlYXJpbmcuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuLXRoaXMuYW5nbGUvTWF0aC5QSSoxODB9LHByb3RvdHlwZUFjY2Vzc29ycy5iZWFyaW5nLnNldD1mdW5jdGlvbih0KXt2YXIgaT0tdXRpbC53cmFwKHQsLTE4MCwxODApKk1hdGguUEkvMTgwO3RoaXMuYW5nbGUhPT1pJiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLmFuZ2xlPWksdGhpcy5fY2FsY01hdHJpY2VzKCksdGhpcy5yb3RhdGlvbk1hdHJpeD1tYXQyLmNyZWF0ZSgpLG1hdDIucm90YXRlKHRoaXMucm90YXRpb25NYXRyaXgsdGhpcy5yb3RhdGlvbk1hdHJpeCx0aGlzLmFuZ2xlKSl9LHByb3RvdHlwZUFjY2Vzc29ycy5waXRjaC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGl0Y2gvTWF0aC5QSSoxODB9LHByb3RvdHlwZUFjY2Vzc29ycy5waXRjaC5zZXQ9ZnVuY3Rpb24odCl7dmFyIGk9dXRpbC5jbGFtcCh0LDAsNjApLzE4MCpNYXRoLlBJO3RoaXMuX3BpdGNoIT09aSYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fcGl0Y2g9aSx0aGlzLl9jYWxjTWF0cmljZXMoKSl9LHByb3RvdHlwZUFjY2Vzc29ycy5mb3YuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zvdi9NYXRoLlBJKjE4MH0scHJvdG90eXBlQWNjZXNzb3JzLmZvdi5zZXQ9ZnVuY3Rpb24odCl7dD1NYXRoLm1heCguMDEsTWF0aC5taW4oNjAsdCkpLHRoaXMuX2ZvdiE9PXQmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2Zvdj10LzE4MCpNYXRoLlBJLHRoaXMuX2NhbGNNYXRyaWNlcygpKX0scHJvdG90eXBlQWNjZXNzb3JzLnpvb20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pvb219LHByb3RvdHlwZUFjY2Vzc29ycy56b29tLnNldD1mdW5jdGlvbih0KXt2YXIgaT1NYXRoLm1pbihNYXRoLm1heCh0LHRoaXMubWluWm9vbSksdGhpcy5tYXhab29tKTt0aGlzLl96b29tIT09aSYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fem9vbT1pLHRoaXMuc2NhbGU9dGhpcy56b29tU2NhbGUoaSksdGhpcy50aWxlWm9vbT1NYXRoLmZsb29yKGkpLHRoaXMuem9vbUZyYWN0aW9uPWktdGhpcy50aWxlWm9vbSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSl9LHByb3RvdHlwZUFjY2Vzc29ycy5jZW50ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NlbnRlcn0scHJvdG90eXBlQWNjZXNzb3JzLmNlbnRlci5zZXQ9ZnVuY3Rpb24odCl7dC5sYXQ9PT10aGlzLl9jZW50ZXIubGF0JiZ0LmxuZz09PXRoaXMuX2NlbnRlci5sbmd8fCh0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2NlbnRlcj10LHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpKX0sVHJhbnNmb3JtLnByb3RvdHlwZS5jb3ZlcmluZ1pvb21MZXZlbD1mdW5jdGlvbih0KXtyZXR1cm4odC5yb3VuZFpvb20/TWF0aC5yb3VuZDpNYXRoLmZsb29yKSh0aGlzLnpvb20rdGhpcy5zY2FsZVpvb20odGhpcy50aWxlU2l6ZS90LnRpbGVTaXplKSl9LFRyYW5zZm9ybS5wcm90b3R5cGUuY292ZXJpbmdUaWxlcz1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmNvdmVyaW5nWm9vbUxldmVsKHQpLG89aTtpZihpPHQubWluem9vbSlyZXR1cm5bXTtpPnQubWF4em9vbSYmKGk9dC5tYXh6b29tKTt2YXIgZT10aGlzLnBvaW50Q29vcmRpbmF0ZSh0aGlzLmNlbnRlclBvaW50LGkpLHI9bmV3IFBvaW50KGUuY29sdW1uLS41LGUucm93LS41KSxuPVt0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQoMCwwKSxpKSx0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQodGhpcy53aWR0aCwwKSxpKSx0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQodGhpcy53aWR0aCx0aGlzLmhlaWdodCksaSksdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KDAsdGhpcy5oZWlnaHQpLGkpXTtyZXR1cm4gVGlsZUNvb3JkLmNvdmVyKGksbix0LnJlcGFyc2VPdmVyc2NhbGVkP286aSx0aGlzLl9yZW5kZXJXb3JsZENvcGllcykuc29ydChmdW5jdGlvbih0LGkpe3JldHVybiByLmRpc3QodCktci5kaXN0KGkpfSl9LFRyYW5zZm9ybS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsaSl7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWksdGhpcy5waXhlbHNUb0dMVW5pdHM9WzIvdCwtMi9pXSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKX0scHJvdG90eXBlQWNjZXNzb3JzLnVubW9kaWZpZWQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VubW9kaWZpZWR9LFRyYW5zZm9ybS5wcm90b3R5cGUuem9vbVNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdygyLHQpfSxUcmFuc2Zvcm0ucHJvdG90eXBlLnNjYWxlWm9vbT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5sb2codCkvTWF0aC5MTjJ9LFRyYW5zZm9ybS5wcm90b3R5cGUucHJvamVjdD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFBvaW50KHRoaXMubG5nWCh0LmxuZyksdGhpcy5sYXRZKHQubGF0KSl9LFRyYW5zZm9ybS5wcm90b3R5cGUudW5wcm9qZWN0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTG5nTGF0KHRoaXMueExuZyh0LngpLHRoaXMueUxhdCh0LnkpKX0scHJvdG90eXBlQWNjZXNzb3JzLnguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG5nWCh0aGlzLmNlbnRlci5sbmcpfSxwcm90b3R5cGVBY2Nlc3NvcnMueS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXRZKHRoaXMuY2VudGVyLmxhdCl9LHByb3RvdHlwZUFjY2Vzc29ycy5wb2ludC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFBvaW50KHRoaXMueCx0aGlzLnkpfSxUcmFuc2Zvcm0ucHJvdG90eXBlLmxuZ1g9ZnVuY3Rpb24odCl7cmV0dXJuKDE4MCt0KSp0aGlzLndvcmxkU2l6ZS8zNjB9LFRyYW5zZm9ybS5wcm90b3R5cGUubGF0WT1mdW5jdGlvbih0KXt2YXIgaT0xODAvTWF0aC5QSSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrdCpNYXRoLlBJLzM2MCkpO3JldHVybigxODAtaSkqdGhpcy53b3JsZFNpemUvMzYwfSxUcmFuc2Zvcm0ucHJvdG90eXBlLnhMbmc9ZnVuY3Rpb24odCl7cmV0dXJuIDM2MCp0L3RoaXMud29ybGRTaXplLTE4MH0sVHJhbnNmb3JtLnByb3RvdHlwZS55TGF0PWZ1bmN0aW9uKHQpe3ZhciBpPTE4MC0zNjAqdC90aGlzLndvcmxkU2l6ZTtyZXR1cm4gMzYwL01hdGguUEkqTWF0aC5hdGFuKE1hdGguZXhwKGkqTWF0aC5QSS8xODApKS05MH0sVHJhbnNmb3JtLnByb3RvdHlwZS5zZXRMb2NhdGlvbkF0UG9pbnQ9ZnVuY3Rpb24odCxpKXt2YXIgbz10aGlzLnBvaW50Q29vcmRpbmF0ZShpKS5fc3ViKHRoaXMucG9pbnRDb29yZGluYXRlKHRoaXMuY2VudGVyUG9pbnQpKTt0aGlzLmNlbnRlcj10aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KS5fc3ViKG8pKX0sVHJhbnNmb3JtLnByb3RvdHlwZS5sb2NhdGlvblBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVQb2ludCh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KSl9LFRyYW5zZm9ybS5wcm90b3R5cGUucG9pbnRMb2NhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUodCkpfSxUcmFuc2Zvcm0ucHJvdG90eXBlLmxvY2F0aW9uQ29vcmRpbmF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IENvb3JkaW5hdGUodGhpcy5sbmdYKHQubG5nKS90aGlzLnRpbGVTaXplLHRoaXMubGF0WSh0LmxhdCkvdGhpcy50aWxlU2l6ZSx0aGlzLnpvb20pLnpvb21Ubyh0aGlzLnRpbGVab29tKX0sVHJhbnNmb3JtLnByb3RvdHlwZS5jb29yZGluYXRlTG9jYXRpb249ZnVuY3Rpb24odCl7dmFyIGk9dC56b29tVG8odGhpcy56b29tKTtyZXR1cm4gbmV3IExuZ0xhdCh0aGlzLnhMbmcoaS5jb2x1bW4qdGhpcy50aWxlU2l6ZSksdGhpcy55TGF0KGkucm93KnRoaXMudGlsZVNpemUpKX0sVHJhbnNmb3JtLnByb3RvdHlwZS5wb2ludENvb3JkaW5hdGU9ZnVuY3Rpb24odCxpKXt2b2lkIDA9PT1pJiYoaT10aGlzLnRpbGVab29tKTt2YXIgbz0wLGU9W3QueCx0LnksMCwxXSxyPVt0LngsdC55LDEsMV07dmVjNC50cmFuc2Zvcm1NYXQ0KGUsZSx0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSksdmVjNC50cmFuc2Zvcm1NYXQ0KHIscix0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSk7dmFyIG49ZVszXSxzPXJbM10sYT1lWzBdL24saD1yWzBdL3MsYz1lWzFdL24sbT1yWzFdL3MscD1lWzJdL24sbD1yWzJdL3MsdT1wPT09bD8wOihvLXApLyhsLXApO3JldHVybiBuZXcgQ29vcmRpbmF0ZShpbnRlcnAoYSxoLHUpL3RoaXMudGlsZVNpemUsaW50ZXJwKGMsbSx1KS90aGlzLnRpbGVTaXplLHRoaXMuem9vbSkuX3pvb21UbyhpKX0sVHJhbnNmb3JtLnByb3RvdHlwZS5jb29yZGluYXRlUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGk9dC56b29tVG8odGhpcy56b29tKSxvPVtpLmNvbHVtbip0aGlzLnRpbGVTaXplLGkucm93KnRoaXMudGlsZVNpemUsMCwxXTtyZXR1cm4gdmVjNC50cmFuc2Zvcm1NYXQ0KG8sbyx0aGlzLnBpeGVsTWF0cml4KSxuZXcgUG9pbnQob1swXS9vWzNdLG9bMV0vb1szXSl9LFRyYW5zZm9ybS5wcm90b3R5cGUuY2FsY3VsYXRlUG9zTWF0cml4PWZ1bmN0aW9uKHQsaSl7dmFyIG89dC50b0Nvb3JkaW5hdGUoaSksZT10aGlzLndvcmxkU2l6ZS90aGlzLnpvb21TY2FsZShvLnpvb20pLHI9bWF0NC5pZGVudGl0eShuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIG1hdDQudHJhbnNsYXRlKHIscixbby5jb2x1bW4qZSxvLnJvdyplLDBdKSxtYXQ0LnNjYWxlKHIscixbZS9FWFRFTlQsZS9FWFRFTlQsMV0pLG1hdDQubXVsdGlwbHkocix0aGlzLnByb2pNYXRyaXgsciksbmV3IEZsb2F0MzJBcnJheShyKX0sVHJhbnNmb3JtLnByb3RvdHlwZS5fY29uc3RyYWluPWZ1bmN0aW9uKCl7aWYodGhpcy5jZW50ZXImJnRoaXMud2lkdGgmJnRoaXMuaGVpZ2h0JiYhdGhpcy5fY29uc3RyYWluaW5nKXt0aGlzLl9jb25zdHJhaW5pbmc9ITA7dmFyIHQsaSxvLGUscixuLHMsYSxoPXRoaXMuc2l6ZSxjPXRoaXMuX3VubW9kaWZpZWQ7dGhpcy5sYXRSYW5nZSYmKHQ9dGhpcy5sYXRZKHRoaXMubGF0UmFuZ2VbMV0pLGk9dGhpcy5sYXRZKHRoaXMubGF0UmFuZ2VbMF0pLHI9aS10PGgueT9oLnkvKGktdCk6MCksdGhpcy5sbmdSYW5nZSYmKG89dGhpcy5sbmdYKHRoaXMubG5nUmFuZ2VbMF0pLGU9dGhpcy5sbmdYKHRoaXMubG5nUmFuZ2VbMV0pLG49ZS1vPGgueD9oLngvKGUtbyk6MCk7dmFyIG09TWF0aC5tYXgobnx8MCxyfHwwKTtpZihtKXJldHVybiB0aGlzLmNlbnRlcj10aGlzLnVucHJvamVjdChuZXcgUG9pbnQobj8oZStvKS8yOnRoaXMueCxyPyhpK3QpLzI6dGhpcy55KSksdGhpcy56b29tKz10aGlzLnNjYWxlWm9vbShtKSx0aGlzLl91bm1vZGlmaWVkPWMsdm9pZCh0aGlzLl9jb25zdHJhaW5pbmc9ITEpO2lmKHRoaXMubGF0UmFuZ2Upe3ZhciBwPXRoaXMueSxsPWgueS8yO3AtbDx0JiYoYT10K2wpLHArbD5pJiYoYT1pLWwpfWlmKHRoaXMubG5nUmFuZ2Upe3ZhciB1PXRoaXMueCxmPWgueC8yO3UtZjxvJiYocz1vK2YpLHUrZj5lJiYocz1lLWYpfXZvaWQgMD09PXMmJnZvaWQgMD09PWF8fCh0aGlzLmNlbnRlcj10aGlzLnVucHJvamVjdChuZXcgUG9pbnQodm9pZCAwIT09cz9zOnRoaXMueCx2b2lkIDAhPT1hP2E6dGhpcy55KSkpLHRoaXMuX3VubW9kaWZpZWQ9Yyx0aGlzLl9jb25zdHJhaW5pbmc9ITF9fSxUcmFuc2Zvcm0ucHJvdG90eXBlLl9jYWxjTWF0cmljZXM9ZnVuY3Rpb24oKXtpZih0aGlzLmhlaWdodCl7dGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlPS41L01hdGgudGFuKHRoaXMuX2Zvdi8yKSp0aGlzLmhlaWdodDt2YXIgdD10aGlzLl9mb3YvMixpPU1hdGguUEkvMit0aGlzLl9waXRjaCxvPU1hdGguc2luKHQpKnRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS9NYXRoLnNpbihNYXRoLlBJLWktdCksZT1NYXRoLmNvcyhNYXRoLlBJLzItdGhpcy5fcGl0Y2gpKm8rdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHI9MS4wMSplLG49bmV3IEZsb2F0NjRBcnJheSgxNik7bWF0NC5wZXJzcGVjdGl2ZShuLHRoaXMuX2Zvdix0aGlzLndpZHRoL3RoaXMuaGVpZ2h0LDEsciksbWF0NC5zY2FsZShuLG4sWzEsLTEsMV0pLG1hdDQudHJhbnNsYXRlKG4sbixbMCwwLC10aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2VdKSxtYXQ0LnJvdGF0ZVgobixuLHRoaXMuX3BpdGNoKSxtYXQ0LnJvdGF0ZVoobixuLHRoaXMuYW5nbGUpLG1hdDQudHJhbnNsYXRlKG4sbixbLXRoaXMueCwtdGhpcy55LDBdKTt2YXIgcz10aGlzLndvcmxkU2l6ZS8oMipNYXRoLlBJKjYzNzgxMzcqTWF0aC5hYnMoTWF0aC5jb3ModGhpcy5jZW50ZXIubGF0KihNYXRoLlBJLzE4MCkpKSk7aWYobWF0NC5zY2FsZShuLG4sWzEsMSxzLDFdKSx0aGlzLnByb2pNYXRyaXg9bixuPW1hdDQuY3JlYXRlKCksbWF0NC5zY2FsZShuLG4sW3RoaXMud2lkdGgvMiwtdGhpcy5oZWlnaHQvMiwxXSksbWF0NC50cmFuc2xhdGUobixuLFsxLC0xLDBdKSx0aGlzLnBpeGVsTWF0cml4PW1hdDQubXVsdGlwbHkobmV3IEZsb2F0NjRBcnJheSgxNiksbix0aGlzLnByb2pNYXRyaXgpLG49bWF0NC5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksdGhpcy5waXhlbE1hdHJpeCksIW4pdGhyb3cgbmV3IEVycm9yKFwiZmFpbGVkIHRvIGludmVydCBtYXRyaXhcIik7dGhpcy5waXhlbE1hdHJpeEludmVyc2U9bn19LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFRyYW5zZm9ybS5wcm90b3R5cGUscHJvdG90eXBlQWNjZXNzb3JzKSxtb2R1bGUuZXhwb3J0cz1UcmFuc2Zvcm07XG59LHtcIi4uL2RhdGEvZXh0ZW50XCI6NTQsXCIuLi9zb3VyY2UvdGlsZV9jb29yZFwiOjk0LFwiLi4vdXRpbC9pbnRlcnBvbGF0ZVwiOjIwNCxcIi4uL3V0aWwvdXRpbFwiOjIxMixcIi4vY29vcmRpbmF0ZVwiOjYxLFwiLi9sbmdfbGF0XCI6NjIsXCJAbWFwYm94L2dsLW1hdHJpeFwiOjEsXCJwb2ludC1nZW9tZXRyeVwiOjI2fV0sNjU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIGJyb3dzZXI9cmVxdWlyZShcIi4vdXRpbC9icm93c2VyXCIpLG1hcGJveGdsPW1vZHVsZS5leHBvcnRzPXt9O21hcGJveGdsLnZlcnNpb249cmVxdWlyZShcIi4uL3BhY2thZ2UuanNvblwiKS52ZXJzaW9uLG1hcGJveGdsLndvcmtlckNvdW50PU1hdGgubWF4KE1hdGguZmxvb3IoYnJvd3Nlci5oYXJkd2FyZUNvbmN1cnJlbmN5LzIpLDEpLG1hcGJveGdsLk1hcD1yZXF1aXJlKFwiLi91aS9tYXBcIiksbWFwYm94Z2wuTmF2aWdhdGlvbkNvbnRyb2w9cmVxdWlyZShcIi4vdWkvY29udHJvbC9uYXZpZ2F0aW9uX2NvbnRyb2xcIiksbWFwYm94Z2wuR2VvbG9jYXRlQ29udHJvbD1yZXF1aXJlKFwiLi91aS9jb250cm9sL2dlb2xvY2F0ZV9jb250cm9sXCIpLG1hcGJveGdsLkF0dHJpYnV0aW9uQ29udHJvbD1yZXF1aXJlKFwiLi91aS9jb250cm9sL2F0dHJpYnV0aW9uX2NvbnRyb2xcIiksbWFwYm94Z2wuU2NhbGVDb250cm9sPXJlcXVpcmUoXCIuL3VpL2NvbnRyb2wvc2NhbGVfY29udHJvbFwiKSxtYXBib3hnbC5GdWxsc2NyZWVuQ29udHJvbD1yZXF1aXJlKFwiLi91aS9jb250cm9sL2Z1bGxzY3JlZW5fY29udHJvbFwiKSxtYXBib3hnbC5Qb3B1cD1yZXF1aXJlKFwiLi91aS9wb3B1cFwiKSxtYXBib3hnbC5NYXJrZXI9cmVxdWlyZShcIi4vdWkvbWFya2VyXCIpLG1hcGJveGdsLlN0eWxlPXJlcXVpcmUoXCIuL3N0eWxlL3N0eWxlXCIpLG1hcGJveGdsLkxuZ0xhdD1yZXF1aXJlKFwiLi9nZW8vbG5nX2xhdFwiKSxtYXBib3hnbC5MbmdMYXRCb3VuZHM9cmVxdWlyZShcIi4vZ2VvL2xuZ19sYXRfYm91bmRzXCIpLG1hcGJveGdsLlBvaW50PXJlcXVpcmUoXCJwb2ludC1nZW9tZXRyeVwiKSxtYXBib3hnbC5FdmVudGVkPXJlcXVpcmUoXCIuL3V0aWwvZXZlbnRlZFwiKSxtYXBib3hnbC5zdXBwb3J0ZWQ9cmVxdWlyZShcIi4vdXRpbC9icm93c2VyXCIpLnN1cHBvcnRlZDt2YXIgY29uZmlnPXJlcXVpcmUoXCIuL3V0aWwvY29uZmlnXCIpO21hcGJveGdsLmNvbmZpZz1jb25maWc7dmFyIHJ0bFRleHRQbHVnaW49cmVxdWlyZShcIi4vc291cmNlL3J0bF90ZXh0X3BsdWdpblwiKTttYXBib3hnbC5zZXRSVExUZXh0UGx1Z2luPXJ0bFRleHRQbHVnaW4uc2V0UlRMVGV4dFBsdWdpbixPYmplY3QuZGVmaW5lUHJvcGVydHkobWFwYm94Z2wsXCJhY2Nlc3NUb2tlblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uZmlnLkFDQ0VTU19UT0tFTn0sc2V0OmZ1bmN0aW9uKG8pe2NvbmZpZy5BQ0NFU1NfVE9LRU49b319KTtcbn0se1wiLi4vcGFja2FnZS5qc29uXCI6NDMsXCIuL2dlby9sbmdfbGF0XCI6NjIsXCIuL2dlby9sbmdfbGF0X2JvdW5kc1wiOjYzLFwiLi9zb3VyY2UvcnRsX3RleHRfcGx1Z2luXCI6OTAsXCIuL3N0eWxlL3N0eWxlXCI6MTQ2LFwiLi91aS9jb250cm9sL2F0dHJpYnV0aW9uX2NvbnRyb2xcIjoxNzMsXCIuL3VpL2NvbnRyb2wvZnVsbHNjcmVlbl9jb250cm9sXCI6MTc0LFwiLi91aS9jb250cm9sL2dlb2xvY2F0ZV9jb250cm9sXCI6MTc1LFwiLi91aS9jb250cm9sL25hdmlnYXRpb25fY29udHJvbFwiOjE3NyxcIi4vdWkvY29udHJvbC9zY2FsZV9jb250cm9sXCI6MTc4LFwiLi91aS9tYXBcIjoxODcsXCIuL3VpL21hcmtlclwiOjE4OCxcIi4vdWkvcG9wdXBcIjoxODksXCIuL3V0aWwvYnJvd3NlclwiOjE5MixcIi4vdXRpbC9jb25maWdcIjoxOTYsXCIuL3V0aWwvZXZlbnRlZFwiOjIwMCxcInBvaW50LWdlb21ldHJ5XCI6MjZ9XSw2NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBkcmF3QmFja2dyb3VuZChyLHQsZSl7dmFyIGE9ci5nbCxpPXIudHJhbnNmb3JtLG49aS50aWxlU2l6ZSxvPWUucGFpbnRbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdLGw9ZS5wYWludFtcImJhY2tncm91bmQtcGF0dGVyblwiXSx1PWUucGFpbnRbXCJiYWNrZ3JvdW5kLW9wYWNpdHlcIl0sZj0hbCYmMT09PW9bM10mJjE9PT11O2lmKHIuaXNPcGFxdWVQYXNzPT09Zil7YS5kaXNhYmxlKGEuU1RFTkNJTF9URVNUKSxyLnNldERlcHRoU3VibGF5ZXIoMCk7dmFyIHM7bD8ocz1yLnVzZVByb2dyYW0oXCJmaWxsUGF0dGVyblwiLHIuYmFzaWNGaWxsUHJvZ3JhbUNvbmZpZ3VyYXRpb24pLHBhdHRlcm4ucHJlcGFyZShsLHIscyksci50aWxlRXh0ZW50UGF0dGVyblZBTy5iaW5kKGEscyxyLnRpbGVFeHRlbnRCdWZmZXIpKToocz1yLnVzZVByb2dyYW0oXCJmaWxsXCIsci5iYXNpY0ZpbGxQcm9ncmFtQ29uZmlndXJhdGlvbiksYS51bmlmb3JtNGZ2KHMudV9jb2xvcixvKSxyLnRpbGVFeHRlbnRWQU8uYmluZChhLHMsci50aWxlRXh0ZW50QnVmZmVyKSksYS51bmlmb3JtMWYocy51X29wYWNpdHksdSk7Zm9yKHZhciBjPWkuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6bn0pLGc9MCxwPWM7ZzxwLmxlbmd0aDtnKz0xKXt2YXIgZD1wW2ddO2wmJnBhdHRlcm4uc2V0VGlsZSh7Y29vcmQ6ZCx0aWxlU2l6ZTpufSxyLHMpLGEudW5pZm9ybU1hdHJpeDRmdihzLnVfbWF0cml4LCExLHIudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeChkKSksYS5kcmF3QXJyYXlzKGEuVFJJQU5HTEVfU1RSSVAsMCxyLnRpbGVFeHRlbnRCdWZmZXIubGVuZ3RoKX19fXZhciBwYXR0ZXJuPXJlcXVpcmUoXCIuL3BhdHRlcm5cIik7bW9kdWxlLmV4cG9ydHM9ZHJhd0JhY2tncm91bmQ7XG59LHtcIi4vcGF0dGVyblwiOjc4fV0sNjc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZHJhd0NpcmNsZXMoZSxyLHQsYSl7aWYoIWUuaXNPcGFxdWVQYXNzKXt2YXIgaT1lLmdsO2Uuc2V0RGVwdGhTdWJsYXllcigwKSxlLmRlcHRoTWFzayghMSksaS5kaXNhYmxlKGkuU1RFTkNJTF9URVNUKTtmb3IodmFyIHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIG89YVtzXSxuPXIuZ2V0VGlsZShvKSxmPW4uZ2V0QnVja2V0KHQpO2lmKGYpe3ZhciBsPWYuYnVmZmVycyxtPWwubGF5ZXJEYXRhW3QuaWRdLHU9bS5wcm9ncmFtQ29uZmlndXJhdGlvbixjPWUudXNlUHJvZ3JhbShcImNpcmNsZVwiLHUpO3Uuc2V0VW5pZm9ybXMoaSxjLHQse3pvb206ZS50cmFuc2Zvcm0uem9vbX0pLFwibWFwXCI9PT10LnBhaW50W1wiY2lyY2xlLXBpdGNoLXNjYWxlXCJdPyhpLnVuaWZvcm0xaShjLnVfc2NhbGVfd2l0aF9tYXAsITApLGkudW5pZm9ybTJmKGMudV9leHRydWRlX3NjYWxlLGUudHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1swXSplLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLGUudHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1sxXSplLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKSk6KGkudW5pZm9ybTFpKGMudV9zY2FsZV93aXRoX21hcCwhMSksaS51bmlmb3JtMmZ2KGMudV9leHRydWRlX3NjYWxlLGUudHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0cykpLGkudW5pZm9ybTFmKGMudV9kZXZpY2VwaXhlbHJhdGlvLGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyksaS51bmlmb3JtTWF0cml4NGZ2KGMudV9tYXRyaXgsITEsZS50cmFuc2xhdGVQb3NNYXRyaXgoby5wb3NNYXRyaXgsbix0LnBhaW50W1wiY2lyY2xlLXRyYW5zbGF0ZVwiXSx0LnBhaW50W1wiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIl0pKTtmb3IodmFyIHA9MCx2PWwuc2VnbWVudHM7cDx2Lmxlbmd0aDtwKz0xKXt2YXIgeD12W3BdO3gudmFvc1t0LmlkXS5iaW5kKGksYyxsLmxheW91dFZlcnRleEJ1ZmZlcixsLmVsZW1lbnRCdWZmZXIsbS5wYWludFZlcnRleEJ1ZmZlcix4LnZlcnRleE9mZnNldCksaS5kcmF3RWxlbWVudHMoaS5UUklBTkdMRVMsMyp4LnByaW1pdGl2ZUxlbmd0aCxpLlVOU0lHTkVEX1NIT1JULDMqeC5wcmltaXRpdmVPZmZzZXQqMil9fX19fXZhciBicm93c2VyPXJlcXVpcmUoXCIuLi91dGlsL2Jyb3dzZXJcIik7bW9kdWxlLmV4cG9ydHM9ZHJhd0NpcmNsZXM7XG59LHtcIi4uL3V0aWwvYnJvd3NlclwiOjE5Mn1dLDY4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGRyYXdDb2xsaXNpb25EZWJ1ZyhlLG8scixpKXt2YXIgdD1lLmdsO3QuZW5hYmxlKHQuU1RFTkNJTF9URVNUKTtmb3IodmFyIGY9ZS51c2VQcm9ncmFtKFwiY29sbGlzaW9uQm94XCIpLGw9MDtsPGkubGVuZ3RoO2wrKyl7dmFyIG49aVtsXSxhPW8uZ2V0VGlsZShuKSxzPWEuZ2V0QnVja2V0KHIpO2lmKHMpe3ZhciB1PXMuYnVmZmVycy5jb2xsaXNpb25Cb3g7aWYodSl7dC51bmlmb3JtTWF0cml4NGZ2KGYudV9tYXRyaXgsITEsbi5wb3NNYXRyaXgpLGUuZW5hYmxlVGlsZUNsaXBwaW5nTWFzayhuKSxlLmxpbmVXaWR0aCgxKSx0LnVuaWZvcm0xZihmLnVfc2NhbGUsTWF0aC5wb3coMixlLnRyYW5zZm9ybS56b29tLWEuY29vcmQueikpLHQudW5pZm9ybTFmKGYudV96b29tLDEwKmUudHJhbnNmb3JtLnpvb20pLHQudW5pZm9ybTFmKGYudV9tYXh6b29tLDEwKihhLmNvb3JkLnorMSkpO2Zvcih2YXIgbT0wLGc9dS5zZWdtZW50czttPGcubGVuZ3RoO20rPTEpe3ZhciB2PWdbbV07di52YW9zW3IuaWRdLmJpbmQodCxmLHUubGF5b3V0VmVydGV4QnVmZmVyLHUuZWxlbWVudEJ1ZmZlcixudWxsLHYudmVydGV4T2Zmc2V0KSx0LmRyYXdFbGVtZW50cyh0LkxJTkVTLDIqdi5wcmltaXRpdmVMZW5ndGgsdC5VTlNJR05FRF9TSE9SVCwyKnYucHJpbWl0aXZlT2Zmc2V0KjIpfX19fX1tb2R1bGUuZXhwb3J0cz1kcmF3Q29sbGlzaW9uRGVidWc7XG59LHt9XSw2OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBkcmF3RGVidWcocixlLGEpe2Zvcih2YXIgdD0wO3Q8YS5sZW5ndGg7dCsrKWRyYXdEZWJ1Z1RpbGUocixlLGFbdF0pfWZ1bmN0aW9uIGRyYXdEZWJ1Z1RpbGUocixlLGEpe3ZhciB0PXIuZ2w7dC5kaXNhYmxlKHQuU1RFTkNJTF9URVNUKSxyLmxpbmVXaWR0aCgxKmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyk7dmFyIGk9YS5wb3NNYXRyaXgsdT1yLnVzZVByb2dyYW0oXCJkZWJ1Z1wiKTt0LnVuaWZvcm1NYXRyaXg0ZnYodS51X21hdHJpeCwhMSxpKSx0LnVuaWZvcm00Zih1LnVfY29sb3IsMSwwLDAsMSksci5kZWJ1Z1ZBTy5iaW5kKHQsdSxyLmRlYnVnQnVmZmVyKSx0LmRyYXdBcnJheXModC5MSU5FX1NUUklQLDAsci5kZWJ1Z0J1ZmZlci5sZW5ndGgpO2Zvcih2YXIgbz1jcmVhdGVUZXh0VmVydGljaWVzKGEudG9TdHJpbmcoKSw1MCwyMDAsNSksZj1uZXcgUG9zQXJyYXksbj0wO248by5sZW5ndGg7bis9MilmLmVtcGxhY2VCYWNrKG9bbl0sb1tuKzFdKTt2YXIgbD1CdWZmZXIuZnJvbVN0cnVjdEFycmF5KGYsQnVmZmVyLkJ1ZmZlclR5cGUuVkVSVEVYKSxtPW5ldyBWZXJ0ZXhBcnJheU9iamVjdDttLmJpbmQodCx1LGwpLHQudW5pZm9ybTRmKHUudV9jb2xvciwxLDEsMSwxKTtmb3IodmFyIHM9ZS5nZXRUaWxlKGEpLnRpbGVTaXplLGc9RVhURU5ULyhNYXRoLnBvdygyLHIudHJhbnNmb3JtLnpvb20tYS56KSpzKSx4PVtbLTEsLTFdLFstMSwxXSxbMSwtMV0sWzEsMV1dLGQ9MDtkPHgubGVuZ3RoO2QrKyl7dmFyIGI9eFtkXTt0LnVuaWZvcm1NYXRyaXg0ZnYodS51X21hdHJpeCwhMSxtYXQ0LnRyYW5zbGF0ZShbXSxpLFtnKmJbMF0sZypiWzFdLDBdKSksdC5kcmF3QXJyYXlzKHQuTElORVMsMCxsLmxlbmd0aCl9dC51bmlmb3JtNGYodS51X2NvbG9yLDAsMCwwLDEpLHQudW5pZm9ybU1hdHJpeDRmdih1LnVfbWF0cml4LCExLGkpLHQuZHJhd0FycmF5cyh0LkxJTkVTLDAsbC5sZW5ndGgpfWZ1bmN0aW9uIGNyZWF0ZVRleHRWZXJ0aWNpZXMocixlLGEsdCl7dD10fHwxO3ZhciBpLHUsbyxmLG4sbCxtLHMsZz1bXTtmb3IoaT0wLHU9ci5sZW5ndGg7aTx1O2krKylpZihuPXNpbXBsZXhGb250W3JbaV1dKXtmb3Iocz1udWxsLG89MCxmPW5bMV0ubGVuZ3RoO288ZjtvKz0yKW5bMV1bb109PT0tMSYmblsxXVtvKzFdPT09LTE/cz1udWxsOihsPWUrblsxXVtvXSp0LG09YS1uWzFdW28rMV0qdCxzJiZnLnB1c2gocy54LHMueSxsLG0pLHM9e3g6bCx5Om19KTtlKz1uWzBdKnR9cmV0dXJuIGd9dmFyIGJyb3dzZXI9cmVxdWlyZShcIi4uL3V0aWwvYnJvd3NlclwiKSxtYXQ0PXJlcXVpcmUoXCJAbWFwYm94L2dsLW1hdHJpeFwiKS5tYXQ0LEVYVEVOVD1yZXF1aXJlKFwiLi4vZGF0YS9leHRlbnRcIiksQnVmZmVyPXJlcXVpcmUoXCIuLi9kYXRhL2J1ZmZlclwiKSxWZXJ0ZXhBcnJheU9iamVjdD1yZXF1aXJlKFwiLi92ZXJ0ZXhfYXJyYXlfb2JqZWN0XCIpLFBvc0FycmF5PXJlcXVpcmUoXCIuLi9kYXRhL3Bvc19hcnJheVwiKTttb2R1bGUuZXhwb3J0cz1kcmF3RGVidWc7dmFyIHNpbXBsZXhGb250PXtcIiBcIjpbMTYsW11dLFwiIVwiOlsxMCxbNSwyMSw1LDcsLTEsLTEsNSwyLDQsMSw1LDAsNiwxLDUsMl1dLCdcIic6WzE2LFs0LDIxLDQsMTQsLTEsLTEsMTIsMjEsMTIsMTRdXSxcIiNcIjpbMjEsWzExLDI1LDQsLTcsLTEsLTEsMTcsMjUsMTAsLTcsLTEsLTEsNCwxMiwxOCwxMiwtMSwtMSwzLDYsMTcsNl1dLCQ6WzIwLFs4LDI1LDgsLTQsLTEsLTEsMTIsMjUsMTIsLTQsLTEsLTEsMTcsMTgsMTUsMjAsMTIsMjEsOCwyMSw1LDIwLDMsMTgsMywxNiw0LDE0LDUsMTMsNywxMiwxMywxMCwxNSw5LDE2LDgsMTcsNiwxNywzLDE1LDEsMTIsMCw4LDAsNSwxLDMsM11dLFwiJVwiOlsyNCxbMjEsMjEsMywwLC0xLC0xLDgsMjEsMTAsMTksMTAsMTcsOSwxNSw3LDE0LDUsMTQsMywxNiwzLDE4LDQsMjAsNiwyMSw4LDIxLDEwLDIwLDEzLDE5LDE2LDE5LDE5LDIwLDIxLDIxLC0xLC0xLDE3LDcsMTUsNiwxNCw0LDE0LDIsMTYsMCwxOCwwLDIwLDEsMjEsMywyMSw1LDE5LDcsMTcsN11dLFwiJlwiOlsyNixbMjMsMTIsMjMsMTMsMjIsMTQsMjEsMTQsMjAsMTMsMTksMTEsMTcsNiwxNSwzLDEzLDEsMTEsMCw3LDAsNSwxLDQsMiwzLDQsMyw2LDQsOCw1LDksMTIsMTMsMTMsMTQsMTQsMTYsMTQsMTgsMTMsMjAsMTEsMjEsOSwyMCw4LDE4LDgsMTYsOSwxMywxMSwxMCwxNiwzLDE4LDEsMjAsMCwyMiwwLDIzLDEsMjMsMl1dLFwiJ1wiOlsxMCxbNSwxOSw0LDIwLDUsMjEsNiwyMCw2LDE4LDUsMTYsNCwxNV1dLFwiKFwiOlsxNCxbMTEsMjUsOSwyMyw3LDIwLDUsMTYsNCwxMSw0LDcsNSwyLDcsLTIsOSwtNSwxMSwtN11dLFwiKVwiOlsxNCxbMywyNSw1LDIzLDcsMjAsOSwxNiwxMCwxMSwxMCw3LDksMiw3LC0yLDUsLTUsMywtN11dLFwiKlwiOlsxNixbOCwyMSw4LDksLTEsLTEsMywxOCwxMywxMiwtMSwtMSwxMywxOCwzLDEyXV0sXCIrXCI6WzI2LFsxMywxOCwxMywwLC0xLC0xLDQsOSwyMiw5XV0sXCIsXCI6WzEwLFs2LDEsNSwwLDQsMSw1LDIsNiwxLDYsLTEsNSwtMyw0LC00XV0sXCItXCI6WzI2LFs0LDksMjIsOV1dLFwiLlwiOlsxMCxbNSwyLDQsMSw1LDAsNiwxLDUsMl1dLFwiL1wiOlsyMixbMjAsMjUsMiwtN11dLDA6WzIwLFs5LDIxLDYsMjAsNCwxNywzLDEyLDMsOSw0LDQsNiwxLDksMCwxMSwwLDE0LDEsMTYsNCwxNyw5LDE3LDEyLDE2LDE3LDE0LDIwLDExLDIxLDksMjFdXSwxOlsyMCxbNiwxNyw4LDE4LDExLDIxLDExLDBdXSwyOlsyMCxbNCwxNiw0LDE3LDUsMTksNiwyMCw4LDIxLDEyLDIxLDE0LDIwLDE1LDE5LDE2LDE3LDE2LDE1LDE1LDEzLDEzLDEwLDMsMCwxNywwXV0sMzpbMjAsWzUsMjEsMTYsMjEsMTAsMTMsMTMsMTMsMTUsMTIsMTYsMTEsMTcsOCwxNyw2LDE2LDMsMTQsMSwxMSwwLDgsMCw1LDEsNCwyLDMsNF1dLDQ6WzIwLFsxMywyMSwzLDcsMTgsNywtMSwtMSwxMywyMSwxMywwXV0sNTpbMjAsWzE1LDIxLDUsMjEsNCwxMiw1LDEzLDgsMTQsMTEsMTQsMTQsMTMsMTYsMTEsMTcsOCwxNyw2LDE2LDMsMTQsMSwxMSwwLDgsMCw1LDEsNCwyLDMsNF1dLDY6WzIwLFsxNiwxOCwxNSwyMCwxMiwyMSwxMCwyMSw3LDIwLDUsMTcsNCwxMiw0LDcsNSwzLDcsMSwxMCwwLDExLDAsMTQsMSwxNiwzLDE3LDYsMTcsNywxNiwxMCwxNCwxMiwxMSwxMywxMCwxMyw3LDEyLDUsMTAsNCw3XV0sNzpbMjAsWzE3LDIxLDcsMCwtMSwtMSwzLDIxLDE3LDIxXV0sODpbMjAsWzgsMjEsNSwyMCw0LDE4LDQsMTYsNSwxNCw3LDEzLDExLDEyLDE0LDExLDE2LDksMTcsNywxNyw0LDE2LDIsMTUsMSwxMiwwLDgsMCw1LDEsNCwyLDMsNCwzLDcsNCw5LDYsMTEsOSwxMiwxMywxMywxNSwxNCwxNiwxNiwxNiwxOCwxNSwyMCwxMiwyMSw4LDIxXV0sOTpbMjAsWzE2LDE0LDE1LDExLDEzLDksMTAsOCw5LDgsNiw5LDQsMTEsMywxNCwzLDE1LDQsMTgsNiwyMCw5LDIxLDEwLDIxLDEzLDIwLDE1LDE4LDE2LDE0LDE2LDksMTUsNCwxMywxLDEwLDAsOCwwLDUsMSw0LDNdXSxcIjpcIjpbMTAsWzUsMTQsNCwxMyw1LDEyLDYsMTMsNSwxNCwtMSwtMSw1LDIsNCwxLDUsMCw2LDEsNSwyXV0sXCI7XCI6WzEwLFs1LDE0LDQsMTMsNSwxMiw2LDEzLDUsMTQsLTEsLTEsNiwxLDUsMCw0LDEsNSwyLDYsMSw2LC0xLDUsLTMsNCwtNF1dLFwiPFwiOlsyNCxbMjAsMTgsNCw5LDIwLDBdXSxcIj1cIjpbMjYsWzQsMTIsMjIsMTIsLTEsLTEsNCw2LDIyLDZdXSxcIj5cIjpbMjQsWzQsMTgsMjAsOSw0LDBdXSxcIj9cIjpbMTgsWzMsMTYsMywxNyw0LDE5LDUsMjAsNywyMSwxMSwyMSwxMywyMCwxNCwxOSwxNSwxNywxNSwxNSwxNCwxMywxMywxMiw5LDEwLDksNywtMSwtMSw5LDIsOCwxLDksMCwxMCwxLDksMl1dLFwiQFwiOlsyNyxbMTgsMTMsMTcsMTUsMTUsMTYsMTIsMTYsMTAsMTUsOSwxNCw4LDExLDgsOCw5LDYsMTEsNSwxNCw1LDE2LDYsMTcsOCwtMSwtMSwxMiwxNiwxMCwxNCw5LDExLDksOCwxMCw2LDExLDUsLTEsLTEsMTgsMTYsMTcsOCwxNyw2LDE5LDUsMjEsNSwyMyw3LDI0LDEwLDI0LDEyLDIzLDE1LDIyLDE3LDIwLDE5LDE4LDIwLDE1LDIxLDEyLDIxLDksMjAsNywxOSw1LDE3LDQsMTUsMywxMiwzLDksNCw2LDUsNCw3LDIsOSwxLDEyLDAsMTUsMCwxOCwxLDIwLDIsMjEsMywtMSwtMSwxOSwxNiwxOCw4LDE4LDYsMTksNV1dLEE6WzE4LFs5LDIxLDEsMCwtMSwtMSw5LDIxLDE3LDAsLTEsLTEsNCw3LDE0LDddXSxCOlsyMSxbNCwyMSw0LDAsLTEsLTEsNCwyMSwxMywyMSwxNiwyMCwxNywxOSwxOCwxNywxOCwxNSwxNywxMywxNiwxMiwxMywxMSwtMSwtMSw0LDExLDEzLDExLDE2LDEwLDE3LDksMTgsNywxOCw0LDE3LDIsMTYsMSwxMywwLDQsMF1dLEM6WzIxLFsxOCwxNiwxNywxOCwxNSwyMCwxMywyMSw5LDIxLDcsMjAsNSwxOCw0LDE2LDMsMTMsMyw4LDQsNSw1LDMsNywxLDksMCwxMywwLDE1LDEsMTcsMywxOCw1XV0sRDpbMjEsWzQsMjEsNCwwLC0xLC0xLDQsMjEsMTEsMjEsMTQsMjAsMTYsMTgsMTcsMTYsMTgsMTMsMTgsOCwxNyw1LDE2LDMsMTQsMSwxMSwwLDQsMF1dLEU6WzE5LFs0LDIxLDQsMCwtMSwtMSw0LDIxLDE3LDIxLC0xLC0xLDQsMTEsMTIsMTEsLTEsLTEsNCwwLDE3LDBdXSxGOlsxOCxbNCwyMSw0LDAsLTEsLTEsNCwyMSwxNywyMSwtMSwtMSw0LDExLDEyLDExXV0sRzpbMjEsWzE4LDE2LDE3LDE4LDE1LDIwLDEzLDIxLDksMjEsNywyMCw1LDE4LDQsMTYsMywxMywzLDgsNCw1LDUsMyw3LDEsOSwwLDEzLDAsMTUsMSwxNywzLDE4LDUsMTgsOCwtMSwtMSwxMyw4LDE4LDhdXSxIOlsyMixbNCwyMSw0LDAsLTEsLTEsMTgsMjEsMTgsMCwtMSwtMSw0LDExLDE4LDExXV0sSTpbOCxbNCwyMSw0LDBdXSxKOlsxNixbMTIsMjEsMTIsNSwxMSwyLDEwLDEsOCwwLDYsMCw0LDEsMywyLDIsNSwyLDddXSxLOlsyMSxbNCwyMSw0LDAsLTEsLTEsMTgsMjEsNCw3LC0xLC0xLDksMTIsMTgsMF1dLEw6WzE3LFs0LDIxLDQsMCwtMSwtMSw0LDAsMTYsMF1dLE06WzI0LFs0LDIxLDQsMCwtMSwtMSw0LDIxLDEyLDAsLTEsLTEsMjAsMjEsMTIsMCwtMSwtMSwyMCwyMSwyMCwwXV0sTjpbMjIsWzQsMjEsNCwwLC0xLC0xLDQsMjEsMTgsMCwtMSwtMSwxOCwyMSwxOCwwXV0sTzpbMjIsWzksMjEsNywyMCw1LDE4LDQsMTYsMywxMywzLDgsNCw1LDUsMyw3LDEsOSwwLDEzLDAsMTUsMSwxNywzLDE4LDUsMTksOCwxOSwxMywxOCwxNiwxNywxOCwxNSwyMCwxMywyMSw5LDIxXV0sUDpbMjEsWzQsMjEsNCwwLC0xLC0xLDQsMjEsMTMsMjEsMTYsMjAsMTcsMTksMTgsMTcsMTgsMTQsMTcsMTIsMTYsMTEsMTMsMTAsNCwxMF1dLFE6WzIyLFs5LDIxLDcsMjAsNSwxOCw0LDE2LDMsMTMsMyw4LDQsNSw1LDMsNywxLDksMCwxMywwLDE1LDEsMTcsMywxOCw1LDE5LDgsMTksMTMsMTgsMTYsMTcsMTgsMTUsMjAsMTMsMjEsOSwyMSwtMSwtMSwxMiw0LDE4LC0yXV0sUjpbMjEsWzQsMjEsNCwwLC0xLC0xLDQsMjEsMTMsMjEsMTYsMjAsMTcsMTksMTgsMTcsMTgsMTUsMTcsMTMsMTYsMTIsMTMsMTEsNCwxMSwtMSwtMSwxMSwxMSwxOCwwXV0sUzpbMjAsWzE3LDE4LDE1LDIwLDEyLDIxLDgsMjEsNSwyMCwzLDE4LDMsMTYsNCwxNCw1LDEzLDcsMTIsMTMsMTAsMTUsOSwxNiw4LDE3LDYsMTcsMywxNSwxLDEyLDAsOCwwLDUsMSwzLDNdXSxUOlsxNixbOCwyMSw4LDAsLTEsLTEsMSwyMSwxNSwyMV1dLFU6WzIyLFs0LDIxLDQsNiw1LDMsNywxLDEwLDAsMTIsMCwxNSwxLDE3LDMsMTgsNiwxOCwyMV1dLFY6WzE4LFsxLDIxLDksMCwtMSwtMSwxNywyMSw5LDBdXSxXOlsyNCxbMiwyMSw3LDAsLTEsLTEsMTIsMjEsNywwLC0xLC0xLDEyLDIxLDE3LDAsLTEsLTEsMjIsMjEsMTcsMF1dLFg6WzIwLFszLDIxLDE3LDAsLTEsLTEsMTcsMjEsMywwXV0sWTpbMTgsWzEsMjEsOSwxMSw5LDAsLTEsLTEsMTcsMjEsOSwxMV1dLFo6WzIwLFsxNywyMSwzLDAsLTEsLTEsMywyMSwxNywyMSwtMSwtMSwzLDAsMTcsMF1dLFwiW1wiOlsxNCxbNCwyNSw0LC03LC0xLC0xLDUsMjUsNSwtNywtMSwtMSw0LDI1LDExLDI1LC0xLC0xLDQsLTcsMTEsLTddXSxcIlxcXFxcIjpbMTQsWzAsMjEsMTQsLTNdXSxcIl1cIjpbMTQsWzksMjUsOSwtNywtMSwtMSwxMCwyNSwxMCwtNywtMSwtMSwzLDI1LDEwLDI1LC0xLC0xLDMsLTcsMTAsLTddXSxcIl5cIjpbMTYsWzYsMTUsOCwxOCwxMCwxNSwtMSwtMSwzLDEyLDgsMTcsMTMsMTIsLTEsLTEsOCwxNyw4LDBdXSxfOlsxNixbMCwtMiwxNiwtMl1dLFwiYFwiOlsxMCxbNiwyMSw1LDIwLDQsMTgsNCwxNiw1LDE1LDYsMTYsNSwxN11dLGE6WzE5LFsxNSwxNCwxNSwwLC0xLC0xLDE1LDExLDEzLDEzLDExLDE0LDgsMTQsNiwxMyw0LDExLDMsOCwzLDYsNCwzLDYsMSw4LDAsMTEsMCwxMywxLDE1LDNdXSxiOlsxOSxbNCwyMSw0LDAsLTEsLTEsNCwxMSw2LDEzLDgsMTQsMTEsMTQsMTMsMTMsMTUsMTEsMTYsOCwxNiw2LDE1LDMsMTMsMSwxMSwwLDgsMCw2LDEsNCwzXV0sYzpbMTgsWzE1LDExLDEzLDEzLDExLDE0LDgsMTQsNiwxMyw0LDExLDMsOCwzLDYsNCwzLDYsMSw4LDAsMTEsMCwxMywxLDE1LDNdXSxkOlsxOSxbMTUsMjEsMTUsMCwtMSwtMSwxNSwxMSwxMywxMywxMSwxNCw4LDE0LDYsMTMsNCwxMSwzLDgsMyw2LDQsMyw2LDEsOCwwLDExLDAsMTMsMSwxNSwzXV0sZTpbMTgsWzMsOCwxNSw4LDE1LDEwLDE0LDEyLDEzLDEzLDExLDE0LDgsMTQsNiwxMyw0LDExLDMsOCwzLDYsNCwzLDYsMSw4LDAsMTEsMCwxMywxLDE1LDNdXSxmOlsxMixbMTAsMjEsOCwyMSw2LDIwLDUsMTcsNSwwLC0xLC0xLDIsMTQsOSwxNF1dLGc6WzE5LFsxNSwxNCwxNSwtMiwxNCwtNSwxMywtNiwxMSwtNyw4LC03LDYsLTYsLTEsLTEsMTUsMTEsMTMsMTMsMTEsMTQsOCwxNCw2LDEzLDQsMTEsMyw4LDMsNiw0LDMsNiwxLDgsMCwxMSwwLDEzLDEsMTUsM11dLGg6WzE5LFs0LDIxLDQsMCwtMSwtMSw0LDEwLDcsMTMsOSwxNCwxMiwxNCwxNCwxMywxNSwxMCwxNSwwXV0saTpbOCxbMywyMSw0LDIwLDUsMjEsNCwyMiwzLDIxLC0xLC0xLDQsMTQsNCwwXV0sajpbMTAsWzUsMjEsNiwyMCw3LDIxLDYsMjIsNSwyMSwtMSwtMSw2LDE0LDYsLTMsNSwtNiwzLC03LDEsLTddXSxrOlsxNyxbNCwyMSw0LDAsLTEsLTEsMTQsMTQsNCw0LC0xLC0xLDgsOCwxNSwwXV0sbDpbOCxbNCwyMSw0LDBdXSxtOlszMCxbNCwxNCw0LDAsLTEsLTEsNCwxMCw3LDEzLDksMTQsMTIsMTQsMTQsMTMsMTUsMTAsMTUsMCwtMSwtMSwxNSwxMCwxOCwxMywyMCwxNCwyMywxNCwyNSwxMywyNiwxMCwyNiwwXV0sbjpbMTksWzQsMTQsNCwwLC0xLC0xLDQsMTAsNywxMyw5LDE0LDEyLDE0LDE0LDEzLDE1LDEwLDE1LDBdXSxvOlsxOSxbOCwxNCw2LDEzLDQsMTEsMyw4LDMsNiw0LDMsNiwxLDgsMCwxMSwwLDEzLDEsMTUsMywxNiw2LDE2LDgsMTUsMTEsMTMsMTMsMTEsMTQsOCwxNF1dLHA6WzE5LFs0LDE0LDQsLTcsLTEsLTEsNCwxMSw2LDEzLDgsMTQsMTEsMTQsMTMsMTMsMTUsMTEsMTYsOCwxNiw2LDE1LDMsMTMsMSwxMSwwLDgsMCw2LDEsNCwzXV0scTpbMTksWzE1LDE0LDE1LC03LC0xLC0xLDE1LDExLDEzLDEzLDExLDE0LDgsMTQsNiwxMyw0LDExLDMsOCwzLDYsNCwzLDYsMSw4LDAsMTEsMCwxMywxLDE1LDNdXSxyOlsxMyxbNCwxNCw0LDAsLTEsLTEsNCw4LDUsMTEsNywxMyw5LDE0LDEyLDE0XV0sczpbMTcsWzE0LDExLDEzLDEzLDEwLDE0LDcsMTQsNCwxMywzLDExLDQsOSw2LDgsMTEsNywxMyw2LDE0LDQsMTQsMywxMywxLDEwLDAsNywwLDQsMSwzLDNdXSx0OlsxMixbNSwyMSw1LDQsNiwxLDgsMCwxMCwwLC0xLC0xLDIsMTQsOSwxNF1dLHU6WzE5LFs0LDE0LDQsNCw1LDEsNywwLDEwLDAsMTIsMSwxNSw0LC0xLC0xLDE1LDE0LDE1LDBdXSx2OlsxNixbMiwxNCw4LDAsLTEsLTEsMTQsMTQsOCwwXV0sdzpbMjIsWzMsMTQsNywwLC0xLC0xLDExLDE0LDcsMCwtMSwtMSwxMSwxNCwxNSwwLC0xLC0xLDE5LDE0LDE1LDBdXSx4OlsxNyxbMywxNCwxNCwwLC0xLC0xLDE0LDE0LDMsMF1dLHk6WzE2LFsyLDE0LDgsMCwtMSwtMSwxNCwxNCw4LDAsNiwtNCw0LC02LDIsLTcsMSwtN11dLHo6WzE3LFsxNCwxNCwzLDAsLTEsLTEsMywxNCwxNCwxNCwtMSwtMSwzLDAsMTQsMF1dLFwie1wiOlsxNCxbOSwyNSw3LDI0LDYsMjMsNSwyMSw1LDE5LDYsMTcsNywxNiw4LDE0LDgsMTIsNiwxMCwtMSwtMSw3LDI0LDYsMjIsNiwyMCw3LDE4LDgsMTcsOSwxNSw5LDEzLDgsMTEsNCw5LDgsNyw5LDUsOSwzLDgsMSw3LDAsNiwtMiw2LC00LDcsLTYsLTEsLTEsNiw4LDgsNiw4LDQsNywyLDYsMSw1LC0xLDUsLTMsNiwtNSw3LC02LDksLTddXSxcInxcIjpbOCxbNCwyNSw0LC03XV0sXCJ9XCI6WzE0LFs1LDI1LDcsMjQsOCwyMyw5LDIxLDksMTksOCwxNyw3LDE2LDYsMTQsNiwxMiw4LDEwLC0xLC0xLDcsMjQsOCwyMiw4LDIwLDcsMTgsNiwxNyw1LDE1LDUsMTMsNiwxMSwxMCw5LDYsNyw1LDUsNSwzLDYsMSw3LDAsOCwtMiw4LC00LDcsLTYsLTEsLTEsOCw4LDYsNiw2LDQsNywyLDgsMSw5LC0xLDksLTMsOCwtNSw3LC02LDUsLTddXSxcIn5cIjpbMjQsWzMsNiwzLDgsNCwxMSw2LDEyLDgsMTIsMTAsMTEsMTQsOCwxNiw3LDE4LDcsMjAsOCwyMSwxMCwtMSwtMSwzLDgsNCwxMCw2LDExLDgsMTEsMTAsMTAsMTQsNywxNiw2LDE4LDYsMjAsNywyMSwxMCwyMSwxMl1dfTtcbn0se1wiLi4vZGF0YS9idWZmZXJcIjo1MSxcIi4uL2RhdGEvZXh0ZW50XCI6NTQsXCIuLi9kYXRhL3Bvc19hcnJheVwiOjU3LFwiLi4vdXRpbC9icm93c2VyXCI6MTkyLFwiLi92ZXJ0ZXhfYXJyYXlfb2JqZWN0XCI6ODAsXCJAbWFwYm94L2dsLW1hdHJpeFwiOjF9XSw3MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBkcmF3RmlsbCh0LGUscixpKXt2YXIgYT10LmdsO2EuZW5hYmxlKGEuU1RFTkNJTF9URVNUKTt2YXIgbD0hci5wYWludFtcImZpbGwtcGF0dGVyblwiXSYmci5pc1BhaW50VmFsdWVGZWF0dXJlQ29uc3RhbnQoXCJmaWxsLWNvbG9yXCIpJiZyLmlzUGFpbnRWYWx1ZUZlYXR1cmVDb25zdGFudChcImZpbGwtb3BhY2l0eVwiKSYmMT09PXIucGFpbnRbXCJmaWxsLWNvbG9yXCJdWzNdJiYxPT09ci5wYWludFtcImZpbGwtb3BhY2l0eVwiXTt0LmlzT3BhcXVlUGFzcz09PWwmJih0LnNldERlcHRoU3VibGF5ZXIoMSksZHJhd0ZpbGxUaWxlcyh0LGUscixpLGRyYXdGaWxsVGlsZSkpLCF0LmlzT3BhcXVlUGFzcyYmci5wYWludFtcImZpbGwtYW50aWFsaWFzXCJdJiYodC5saW5lV2lkdGgoMiksdC5kZXB0aE1hc2soITEpLHQuc2V0RGVwdGhTdWJsYXllcihyLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/MjowKSxkcmF3RmlsbFRpbGVzKHQsZSxyLGksZHJhd1N0cm9rZVRpbGUpKX1mdW5jdGlvbiBkcmF3RmlsbFRpbGVzKHQsZSxyLGksYSl7Zm9yKHZhciBsPSEwLG49MCxvPWk7bjxvLmxlbmd0aDtuKz0xKXt2YXIgZj1vW25dLHM9ZS5nZXRUaWxlKGYpLHU9cy5nZXRCdWNrZXQocik7dSYmKHQuZW5hYmxlVGlsZUNsaXBwaW5nTWFzayhmKSxhKHQsZSxyLHMsZix1LmJ1ZmZlcnMsbCksbD0hMSl9fWZ1bmN0aW9uIGRyYXdGaWxsVGlsZSh0LGUscixpLGEsbCxuKXtmb3IodmFyIG89dC5nbCxmPWwubGF5ZXJEYXRhW3IuaWRdLHM9c2V0RmlsbFByb2dyYW0oXCJmaWxsXCIsci5wYWludFtcImZpbGwtcGF0dGVyblwiXSx0LGYscixpLGEsbiksdT0wLHA9bC5zZWdtZW50czt1PHAubGVuZ3RoO3UrPTEpe3ZhciBnPXBbdV07Zy52YW9zW3IuaWRdLmJpbmQobyxzLGwubGF5b3V0VmVydGV4QnVmZmVyLGwuZWxlbWVudEJ1ZmZlcixmLnBhaW50VmVydGV4QnVmZmVyLGcudmVydGV4T2Zmc2V0KSxvLmRyYXdFbGVtZW50cyhvLlRSSUFOR0xFUywzKmcucHJpbWl0aXZlTGVuZ3RoLG8uVU5TSUdORURfU0hPUlQsMypnLnByaW1pdGl2ZU9mZnNldCoyKX19ZnVuY3Rpb24gZHJhd1N0cm9rZVRpbGUodCxlLHIsaSxhLGwsbil7dmFyIG89dC5nbCxmPWwubGF5ZXJEYXRhW3IuaWRdLHM9ci5wYWludFtcImZpbGwtcGF0dGVyblwiXSYmIXIuZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtb3V0bGluZS1jb2xvclwiKSx1PXNldEZpbGxQcm9ncmFtKFwiZmlsbE91dGxpbmVcIixzLHQsZixyLGksYSxuKTtvLnVuaWZvcm0yZih1LnVfd29ybGQsby5kcmF3aW5nQnVmZmVyV2lkdGgsby5kcmF3aW5nQnVmZmVySGVpZ2h0KTtmb3IodmFyIHA9MCxnPWwuc2VnbWVudHMyO3A8Zy5sZW5ndGg7cCs9MSl7dmFyIG09Z1twXTttLnZhb3Nbci5pZF0uYmluZChvLHUsbC5sYXlvdXRWZXJ0ZXhCdWZmZXIsbC5lbGVtZW50QnVmZmVyMixmLnBhaW50VmVydGV4QnVmZmVyLG0udmVydGV4T2Zmc2V0KSxvLmRyYXdFbGVtZW50cyhvLkxJTkVTLDIqbS5wcmltaXRpdmVMZW5ndGgsby5VTlNJR05FRF9TSE9SVCwyKm0ucHJpbWl0aXZlT2Zmc2V0KjIpfX1mdW5jdGlvbiBzZXRGaWxsUHJvZ3JhbSh0LGUscixpLGEsbCxuLG8pe3ZhciBmLHM9ci5jdXJyZW50UHJvZ3JhbTtyZXR1cm4gZT8oZj1yLnVzZVByb2dyYW0odCtcIlBhdHRlcm5cIixpLnByb2dyYW1Db25maWd1cmF0aW9uKSwob3x8ZiE9PXMpJiYoaS5wcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRVbmlmb3JtcyhyLmdsLGYsYSx7em9vbTpyLnRyYW5zZm9ybS56b29tfSkscGF0dGVybi5wcmVwYXJlKGEucGFpbnRbXCJmaWxsLXBhdHRlcm5cIl0scixmKSkscGF0dGVybi5zZXRUaWxlKGwscixmKSk6KGY9ci51c2VQcm9ncmFtKHQsaS5wcm9ncmFtQ29uZmlndXJhdGlvbiksKG98fGYhPT1zKSYmaS5wcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRVbmlmb3JtcyhyLmdsLGYsYSx7em9vbTpyLnRyYW5zZm9ybS56b29tfSkpLHIuZ2wudW5pZm9ybU1hdHJpeDRmdihmLnVfbWF0cml4LCExLHIudHJhbnNsYXRlUG9zTWF0cml4KG4ucG9zTWF0cml4LGwsYS5wYWludFtcImZpbGwtdHJhbnNsYXRlXCJdLGEucGFpbnRbXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIl0pKSxmfXZhciBwYXR0ZXJuPXJlcXVpcmUoXCIuL3BhdHRlcm5cIik7bW9kdWxlLmV4cG9ydHM9ZHJhd0ZpbGw7XG59LHtcIi4vcGF0dGVyblwiOjc4fV0sNzE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZHJhdyh0LGUscixpKXtpZigwIT09ci5wYWludFtcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIl0pe3ZhciBhPXQuZ2w7YS5kaXNhYmxlKGEuU1RFTkNJTF9URVNUKSxhLmVuYWJsZShhLkRFUFRIX1RFU1QpLHQuZGVwdGhNYXNrKCEwKTt2YXIgcz1uZXcgRXh0cnVzaW9uVGV4dHVyZShhLHQscik7cy5iaW5kRnJhbWVidWZmZXIoKSxhLmNsZWFyQ29sb3IoMCwwLDAsMCksYS5jbGVhcihhLkNPTE9SX0JVRkZFUl9CSVR8YS5ERVBUSF9CVUZGRVJfQklUKTtmb3IodmFyIHU9MDt1PGkubGVuZ3RoO3UrKylkcmF3RXh0cnVzaW9uKHQsZSxyLGlbdV0pO3MudW5iaW5kRnJhbWVidWZmZXIoKSxzLnJlbmRlclRvTWFwKCl9fWZ1bmN0aW9uIEV4dHJ1c2lvblRleHR1cmUodCxlLHIpe3RoaXMuZ2w9dCx0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5wYWludGVyPWUsdGhpcy5sYXllcj1yLHRoaXMudGV4dHVyZT1udWxsLHRoaXMuZmJvPW51bGwsdGhpcy5mYm9zPXRoaXMucGFpbnRlci5wcmVGYm9zW3RoaXMud2lkdGhdJiZ0aGlzLnBhaW50ZXIucHJlRmJvc1t0aGlzLndpZHRoXVt0aGlzLmhlaWdodF19ZnVuY3Rpb24gZHJhd0V4dHJ1c2lvbih0LGUscixpKXtpZighdC5pc09wYXF1ZVBhc3Mpe3ZhciBhPWUuZ2V0VGlsZShpKSxzPWEuZ2V0QnVja2V0KHIpO2lmKHMpe3ZhciB1PXMuYnVmZmVycyxmPXQuZ2wsaD1yLnBhaW50W1wiZmlsbC1leHRydXNpb24tcGF0dGVyblwiXSxuPXUubGF5ZXJEYXRhW3IuaWRdLG89bi5wcm9ncmFtQ29uZmlndXJhdGlvbixFPXQudXNlUHJvZ3JhbShoP1wiZmlsbEV4dHJ1c2lvblBhdHRlcm5cIjpcImZpbGxFeHRydXNpb25cIixvKTtvLnNldFVuaWZvcm1zKGYsRSxyLHt6b29tOnQudHJhbnNmb3JtLnpvb219KSxoJiYocGF0dGVybi5wcmVwYXJlKGgsdCxFKSxwYXR0ZXJuLnNldFRpbGUoYSx0LEUpLGYudW5pZm9ybTFmKEUudV9oZWlnaHRfZmFjdG9yLC1NYXRoLnBvdygyLGkueikvYS50aWxlU2l6ZS84KSksdC5nbC51bmlmb3JtTWF0cml4NGZ2KEUudV9tYXRyaXgsITEsdC50cmFuc2xhdGVQb3NNYXRyaXgoaS5wb3NNYXRyaXgsYSxyLnBhaW50W1wiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCJdLHIucGFpbnRbXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCJdKSksc2V0TGlnaHQoRSx0KTtmb3IodmFyIFQ9MCxsPXUuc2VnbWVudHM7VDxsLmxlbmd0aDtUKz0xKXt2YXIgUj1sW1RdO1IudmFvc1tyLmlkXS5iaW5kKGYsRSx1LmxheW91dFZlcnRleEJ1ZmZlcix1LmVsZW1lbnRCdWZmZXIsbi5wYWludFZlcnRleEJ1ZmZlcixSLnZlcnRleE9mZnNldCksZi5kcmF3RWxlbWVudHMoZi5UUklBTkdMRVMsMypSLnByaW1pdGl2ZUxlbmd0aCxmLlVOU0lHTkVEX1NIT1JULDMqUi5wcmltaXRpdmVPZmZzZXQqMil9fX19ZnVuY3Rpb24gc2V0TGlnaHQodCxlKXt2YXIgcj1lLmdsLGk9ZS5zdHlsZS5saWdodCxhPWkuY2FsY3VsYXRlZC5wb3NpdGlvbixzPVthLngsYS55LGEuel0sdT1tYXQzLmNyZWF0ZSgpO1widmlld3BvcnRcIj09PWkuY2FsY3VsYXRlZC5hbmNob3ImJm1hdDMuZnJvbVJvdGF0aW9uKHUsLWUudHJhbnNmb3JtLmFuZ2xlKSx2ZWMzLnRyYW5zZm9ybU1hdDMocyxzLHUpLHIudW5pZm9ybTNmdih0LnVfbGlnaHRwb3Mscyksci51bmlmb3JtMWYodC51X2xpZ2h0aW50ZW5zaXR5LGkuY2FsY3VsYXRlZC5pbnRlbnNpdHkpLHIudW5pZm9ybTNmdih0LnVfbGlnaHRjb2xvcixpLmNhbGN1bGF0ZWQuY29sb3Iuc2xpY2UoMCwzKSl9dmFyIGdsTWF0cml4PXJlcXVpcmUoXCJAbWFwYm94L2dsLW1hdHJpeFwiKSxCdWZmZXI9cmVxdWlyZShcIi4uL2RhdGEvYnVmZmVyXCIpLFZlcnRleEFycmF5T2JqZWN0PXJlcXVpcmUoXCIuL3ZlcnRleF9hcnJheV9vYmplY3RcIiksUG9zQXJyYXk9cmVxdWlyZShcIi4uL2RhdGEvcG9zX2FycmF5XCIpLHBhdHRlcm49cmVxdWlyZShcIi4vcGF0dGVyblwiKSxtYXQzPWdsTWF0cml4Lm1hdDMsbWF0ND1nbE1hdHJpeC5tYXQ0LHZlYzM9Z2xNYXRyaXgudmVjMzttb2R1bGUuZXhwb3J0cz1kcmF3LEV4dHJ1c2lvblRleHR1cmUucHJvdG90eXBlLmJpbmRGcmFtZWJ1ZmZlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7aWYodGhpcy50ZXh0dXJlPXRoaXMucGFpbnRlci5nZXRWaWV3cG9ydFRleHR1cmUodGhpcy53aWR0aCx0aGlzLmhlaWdodCksdC5hY3RpdmVUZXh0dXJlKHQuVEVYVFVSRTEpLHRoaXMudGV4dHVyZT90LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpOih0aGlzLnRleHR1cmU9dC5jcmVhdGVUZXh0dXJlKCksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsdC5DTEFNUF9UT19FREdFKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsdC5DTEFNUF9UT19FREdFKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLHQuTElORUFSKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NQUdfRklMVEVSLHQuTElORUFSKSx0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsdC5SR0JBLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMCx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLG51bGwpLHRoaXMudGV4dHVyZS53aWR0aD10aGlzLndpZHRoLHRoaXMudGV4dHVyZS5oZWlnaHQ9dGhpcy5oZWlnaHQpLHRoaXMuZmJvcyl0aGlzLmZibz10aGlzLmZib3MucG9wKCksdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUix0aGlzLmZibyksdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELHRoaXMudGV4dHVyZSwwKTtlbHNle3RoaXMuZmJvPXQuY3JlYXRlRnJhbWVidWZmZXIoKTt2YXIgZT10LmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLHI9dC5jcmVhdGVSZW5kZXJidWZmZXIoKTt0LmJpbmRSZW5kZXJidWZmZXIodC5SRU5ERVJCVUZGRVIsZSksdC5iaW5kUmVuZGVyYnVmZmVyKHQuUkVOREVSQlVGRkVSLHIpLHQucmVuZGVyYnVmZmVyU3RvcmFnZSh0LlJFTkRFUkJVRkZFUix0LlJHQkE0LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHQucmVuZGVyYnVmZmVyU3RvcmFnZSh0LlJFTkRFUkJVRkZFUix0LkRFUFRIX0NPTVBPTkVOVDE2LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHQuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsdGhpcy5mYm8pLHQuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuUkVOREVSQlVGRkVSLGUpLHQuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodC5GUkFNRUJVRkZFUix0LkRFUFRIX0FUVEFDSE1FTlQsdC5SRU5ERVJCVUZGRVIsciksdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELHRoaXMudGV4dHVyZSwwKX19LEV4dHJ1c2lvblRleHR1cmUucHJvdG90eXBlLnVuYmluZEZyYW1lYnVmZmVyPWZ1bmN0aW9uKCl7dGhpcy5wYWludGVyLmJpbmREZWZhdWx0RnJhbWVidWZmZXIoKSx0aGlzLmZib3M/dGhpcy5mYm9zLnB1c2godGhpcy5mYm8pOih0aGlzLnBhaW50ZXIucHJlRmJvc1t0aGlzLndpZHRoXXx8KHRoaXMucGFpbnRlci5wcmVGYm9zW3RoaXMud2lkdGhdPXt9KSx0aGlzLnBhaW50ZXIucHJlRmJvc1t0aGlzLndpZHRoXVt0aGlzLmhlaWdodF09W3RoaXMuZmJvXSksdGhpcy5wYWludGVyLnNhdmVWaWV3cG9ydFRleHR1cmUodGhpcy50ZXh0dXJlKX0sRXh0cnVzaW9uVGV4dHVyZS5wcm90b3R5cGUucmVuZGVyVG9NYXA9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsLGU9dGhpcy5wYWludGVyLHI9ZS51c2VQcm9ncmFtKFwiZXh0cnVzaW9uVGV4dHVyZVwiKTt0LmFjdGl2ZVRleHR1cmUodC5URVhUVVJFMCksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSx0LnVuaWZvcm0xZihyLnVfb3BhY2l0eSx0aGlzLmxheWVyLnBhaW50W1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiXSksdC51bmlmb3JtMWkoci51X3RleHR1cmUsMSksdC51bmlmb3JtTWF0cml4NGZ2KHIudV9tYXRyaXgsITEsbWF0NC5vcnRobyhtYXQ0LmNyZWF0ZSgpLDAsZS53aWR0aCxlLmhlaWdodCwwLDAsMSkpLHQuZGlzYWJsZSh0LkRFUFRIX1RFU1QpLHQudW5pZm9ybTFpKHIudV94ZGltLGUud2lkdGgpLHQudW5pZm9ybTFpKHIudV95ZGltLGUuaGVpZ2h0KTt2YXIgaT1uZXcgUG9zQXJyYXk7aS5lbXBsYWNlQmFjaygwLDApLGkuZW1wbGFjZUJhY2soZS53aWR0aCwwKSxpLmVtcGxhY2VCYWNrKDAsZS5oZWlnaHQpLGkuZW1wbGFjZUJhY2soZS53aWR0aCxlLmhlaWdodCk7dmFyIGE9QnVmZmVyLmZyb21TdHJ1Y3RBcnJheShpLEJ1ZmZlci5CdWZmZXJUeXBlLlZFUlRFWCkscz1uZXcgVmVydGV4QXJyYXlPYmplY3Q7cy5iaW5kKHQscixhKSx0LmRyYXdBcnJheXModC5UUklBTkdMRV9TVFJJUCwwLDQpLHQuZW5hYmxlKHQuREVQVEhfVEVTVCl9O1xufSx7XCIuLi9kYXRhL2J1ZmZlclwiOjUxLFwiLi4vZGF0YS9wb3NfYXJyYXlcIjo1NyxcIi4vcGF0dGVyblwiOjc4LFwiLi92ZXJ0ZXhfYXJyYXlfb2JqZWN0XCI6ODAsXCJAbWFwYm94L2dsLW1hdHJpeFwiOjF9XSw3MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBkcmF3TGluZVRpbGUoZSxpLHQscixhLG4sbyxmLHMpe3ZhciBsLHUsbSxfLHA9aS5nbCxnPWEucGFpbnRbXCJsaW5lLWRhc2hhcnJheVwiXSxkPWEucGFpbnRbXCJsaW5lLXBhdHRlcm5cIl07aWYoZnx8cyl7dmFyIHY9MS9waXhlbHNUb1RpbGVVbml0cyh0LDEsaS50cmFuc2Zvcm0udGlsZVpvb20pO2lmKGcpe2w9aS5saW5lQXRsYXMuZ2V0RGFzaChnLmZyb20sXCJyb3VuZFwiPT09YS5sYXlvdXRbXCJsaW5lLWNhcFwiXSksdT1pLmxpbmVBdGxhcy5nZXREYXNoKGcudG8sXCJyb3VuZFwiPT09YS5sYXlvdXRbXCJsaW5lLWNhcFwiXSk7dmFyIFQ9bC53aWR0aCpnLmZyb21TY2FsZSxoPXUud2lkdGgqZy50b1NjYWxlO3AudW5pZm9ybTJmKGUudV9wYXR0ZXJuc2NhbGVfYSx2L1QsLWwuaGVpZ2h0LzIpLHAudW5pZm9ybTJmKGUudV9wYXR0ZXJuc2NhbGVfYix2L2gsLXUuaGVpZ2h0LzIpLHAudW5pZm9ybTFmKGUudV9zZGZnYW1tYSxpLmxpbmVBdGxhcy53aWR0aC8oMjU2Kk1hdGgubWluKFQsaCkqYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvKS8yKX1lbHNlIGlmKGQpe2lmKG09aS5zcHJpdGVBdGxhcy5nZXRQb3NpdGlvbihkLmZyb20sITApLF89aS5zcHJpdGVBdGxhcy5nZXRQb3NpdGlvbihkLnRvLCEwKSwhbXx8IV8pcmV0dXJuO3AudW5pZm9ybTJmKGUudV9wYXR0ZXJuX3NpemVfYSxtLnNpemVbMF0qZC5mcm9tU2NhbGUvdixfLnNpemVbMV0pLHAudW5pZm9ybTJmKGUudV9wYXR0ZXJuX3NpemVfYixfLnNpemVbMF0qZC50b1NjYWxlL3YsXy5zaXplWzFdKX1wLnVuaWZvcm0yZihlLnVfZ2xfdW5pdHNfdG9fcGl4ZWxzLDEvaS50cmFuc2Zvcm0ucGl4ZWxzVG9HTFVuaXRzWzBdLDEvaS50cmFuc2Zvcm0ucGl4ZWxzVG9HTFVuaXRzWzFdKX1mJiYoZz8ocC51bmlmb3JtMWkoZS51X2ltYWdlLDApLHAuYWN0aXZlVGV4dHVyZShwLlRFWFRVUkUwKSxpLmxpbmVBdGxhcy5iaW5kKHApLHAudW5pZm9ybTFmKGUudV90ZXhfeV9hLGwueSkscC51bmlmb3JtMWYoZS51X3RleF95X2IsdS55KSxwLnVuaWZvcm0xZihlLnVfbWl4LGcudCkpOmQmJihwLnVuaWZvcm0xaShlLnVfaW1hZ2UsMCkscC5hY3RpdmVUZXh0dXJlKHAuVEVYVFVSRTApLGkuc3ByaXRlQXRsYXMuYmluZChwLCEwKSxwLnVuaWZvcm0yZnYoZS51X3BhdHRlcm5fdGxfYSxtLnRsKSxwLnVuaWZvcm0yZnYoZS51X3BhdHRlcm5fYnJfYSxtLmJyKSxwLnVuaWZvcm0yZnYoZS51X3BhdHRlcm5fdGxfYixfLnRsKSxwLnVuaWZvcm0yZnYoZS51X3BhdHRlcm5fYnJfYixfLmJyKSxwLnVuaWZvcm0xZihlLnVfZmFkZSxkLnQpKSxwLnVuaWZvcm0xZihlLnVfd2lkdGgsYS5wYWludFtcImxpbmUtd2lkdGhcIl0pKSxpLmVuYWJsZVRpbGVDbGlwcGluZ01hc2sobik7dmFyIHg9aS50cmFuc2xhdGVQb3NNYXRyaXgobi5wb3NNYXRyaXgsdCxhLnBhaW50W1wibGluZS10cmFuc2xhdGVcIl0sYS5wYWludFtcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiXSk7cC51bmlmb3JtTWF0cml4NGZ2KGUudV9tYXRyaXgsITEseCkscC51bmlmb3JtMWYoZS51X3JhdGlvLDEvcGl4ZWxzVG9UaWxlVW5pdHModCwxLGkudHJhbnNmb3JtLnpvb20pKTtmb3IodmFyIGI9MCxjPXIuc2VnbWVudHM7YjxjLmxlbmd0aDtiKz0xKXt2YXIgdz1jW2JdO3cudmFvc1thLmlkXS5iaW5kKHAsZSxyLmxheW91dFZlcnRleEJ1ZmZlcixyLmVsZW1lbnRCdWZmZXIsby5wYWludFZlcnRleEJ1ZmZlcix3LnZlcnRleE9mZnNldCkscC5kcmF3RWxlbWVudHMocC5UUklBTkdMRVMsMyp3LnByaW1pdGl2ZUxlbmd0aCxwLlVOU0lHTkVEX1NIT1JULDMqdy5wcmltaXRpdmVPZmZzZXQqMil9fXZhciBicm93c2VyPXJlcXVpcmUoXCIuLi91dGlsL2Jyb3dzZXJcIikscGl4ZWxzVG9UaWxlVW5pdHM9cmVxdWlyZShcIi4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0c1wiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlLGksdCxyKXtpZighZS5pc09wYXF1ZVBhc3Mpe2Uuc2V0RGVwdGhTdWJsYXllcigwKSxlLmRlcHRoTWFzayghMSk7dmFyIGE9ZS5nbDtpZihhLmVuYWJsZShhLlNURU5DSUxfVEVTVCksISh0LnBhaW50W1wibGluZS13aWR0aFwiXTw9MCkpZm9yKHZhciBuLG89dC5wYWludFtcImxpbmUtZGFzaGFycmF5XCJdP1wibGluZVNERlwiOnQucGFpbnRbXCJsaW5lLXBhdHRlcm5cIl0/XCJsaW5lUGF0dGVyblwiOlwibGluZVwiLGY9ITAscz0wLGw9cjtzPGwubGVuZ3RoO3MrPTEpe3ZhciB1PWxbc10sbT1pLmdldFRpbGUodSksXz1tLmdldEJ1Y2tldCh0KTtpZihfKXt2YXIgcD1fLmJ1ZmZlcnMubGF5ZXJEYXRhW3QuaWRdLGc9ZS5jdXJyZW50UHJvZ3JhbSxkPWUudXNlUHJvZ3JhbShvLHAucHJvZ3JhbUNvbmZpZ3VyYXRpb24pLHY9Znx8ZCE9PWcsVD1uIT09bS5jb29yZC56O3YmJnAucHJvZ3JhbUNvbmZpZ3VyYXRpb24uc2V0VW5pZm9ybXMoZS5nbCxkLHQse3pvb206ZS50cmFuc2Zvcm0uem9vbX0pLGRyYXdMaW5lVGlsZShkLGUsbSxfLmJ1ZmZlcnMsdCx1LHAsdixUKSxuPW0uY29vcmQueixmPSExfX19fTtcbn0se1wiLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzXCI6ODcsXCIuLi91dGlsL2Jyb3dzZXJcIjoxOTJ9XSw3MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBkcmF3UmFzdGVyKHIsdCxlLGEpe2lmKCFyLmlzT3BhcXVlUGFzcyl7dmFyIGk9ci5nbDtpLmVuYWJsZShpLkRFUFRIX1RFU1QpLHIuZGVwdGhNYXNrKCEwKSxpLmRlcHRoRnVuYyhpLkxFU1MpO2Zvcih2YXIgbz1hLmxlbmd0aCYmYVswXS56LG49MDtuPGEubGVuZ3RoO24rKyl7dmFyIHU9YVtuXTtyLnNldERlcHRoU3VibGF5ZXIodS56LW8pLGRyYXdSYXN0ZXJUaWxlKHIsdCxlLHUpfWkuZGVwdGhGdW5jKGkuTEVRVUFMKX19ZnVuY3Rpb24gZHJhd1Jhc3RlclRpbGUocix0LGUsYSl7dmFyIGk9ci5nbDtpLmRpc2FibGUoaS5TVEVOQ0lMX1RFU1QpO3ZhciBvPXQuZ2V0VGlsZShhKSxuPXIudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeChhLHQuZ2V0U291cmNlKCkubWF4em9vbSk7by5yZWdpc3RlckZhZGVEdXJhdGlvbihyLnN0eWxlLmFuaW1hdGlvbkxvb3AsZS5wYWludFtcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCJdKTt2YXIgdT1yLnVzZVByb2dyYW0oXCJyYXN0ZXJcIik7aS51bmlmb3JtTWF0cml4NGZ2KHUudV9tYXRyaXgsITEsbiksaS51bmlmb3JtMWYodS51X2JyaWdodG5lc3NfbG93LGUucGFpbnRbXCJyYXN0ZXItYnJpZ2h0bmVzcy1taW5cIl0pLGkudW5pZm9ybTFmKHUudV9icmlnaHRuZXNzX2hpZ2gsZS5wYWludFtcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiXSksaS51bmlmb3JtMWYodS51X3NhdHVyYXRpb25fZmFjdG9yLHNhdHVyYXRpb25GYWN0b3IoZS5wYWludFtcInJhc3Rlci1zYXR1cmF0aW9uXCJdKSksaS51bmlmb3JtMWYodS51X2NvbnRyYXN0X2ZhY3Rvcixjb250cmFzdEZhY3RvcihlLnBhaW50W1wicmFzdGVyLWNvbnRyYXN0XCJdKSksaS51bmlmb3JtM2Z2KHUudV9zcGluX3dlaWdodHMsc3BpbldlaWdodHMoZS5wYWludFtcInJhc3Rlci1odWUtcm90YXRlXCJdKSk7dmFyIHMsYyxmPW8uc291cmNlQ2FjaGUmJm8uc291cmNlQ2FjaGUuZmluZExvYWRlZFBhcmVudChhLDAse30pLGQ9Z2V0RmFkZVZhbHVlcyhvLGYsZSxyLnRyYW5zZm9ybSk7aS5hY3RpdmVUZXh0dXJlKGkuVEVYVFVSRTApLGkuYmluZFRleHR1cmUoaS5URVhUVVJFXzJELG8udGV4dHVyZSksaS5hY3RpdmVUZXh0dXJlKGkuVEVYVFVSRTEpLGY/KGkuYmluZFRleHR1cmUoaS5URVhUVVJFXzJELGYudGV4dHVyZSkscz1NYXRoLnBvdygyLGYuY29vcmQuei1vLmNvb3JkLnopLGM9W28uY29vcmQueCpzJTEsby5jb29yZC55KnMlMV0pOmkuYmluZFRleHR1cmUoaS5URVhUVVJFXzJELG8udGV4dHVyZSksaS51bmlmb3JtMmZ2KHUudV90bF9wYXJlbnQsY3x8WzAsMF0pLGkudW5pZm9ybTFmKHUudV9zY2FsZV9wYXJlbnQsc3x8MSksaS51bmlmb3JtMWYodS51X2J1ZmZlcl9zY2FsZSwxKSxpLnVuaWZvcm0xZih1LnVfZmFkZV90LGQubWl4KSxpLnVuaWZvcm0xZih1LnVfb3BhY2l0eSxkLm9wYWNpdHkqZS5wYWludFtcInJhc3Rlci1vcGFjaXR5XCJdKSxpLnVuaWZvcm0xaSh1LnVfaW1hZ2UwLDApLGkudW5pZm9ybTFpKHUudV9pbWFnZTEsMSk7dmFyIG09by5ib3VuZHNCdWZmZXJ8fHIucmFzdGVyQm91bmRzQnVmZmVyLHA9by5ib3VuZHNWQU98fHIucmFzdGVyQm91bmRzVkFPO3AuYmluZChpLHUsbSksaS5kcmF3QXJyYXlzKGkuVFJJQU5HTEVfU1RSSVAsMCxtLmxlbmd0aCl9ZnVuY3Rpb24gc3BpbldlaWdodHMocil7cio9TWF0aC5QSS8xODA7dmFyIHQ9TWF0aC5zaW4ociksZT1NYXRoLmNvcyhyKTtyZXR1cm5bKDIqZSsxKS8zLCgtTWF0aC5zcXJ0KDMpKnQtZSsxKS8zLChNYXRoLnNxcnQoMykqdC1lKzEpLzNdfWZ1bmN0aW9uIGNvbnRyYXN0RmFjdG9yKHIpe3JldHVybiByPjA/MS8oMS1yKToxK3J9ZnVuY3Rpb24gc2F0dXJhdGlvbkZhY3RvcihyKXtyZXR1cm4gcj4wPzEtMS8oMS4wMDEtcik6LXJ9ZnVuY3Rpb24gZ2V0RmFkZVZhbHVlcyhyLHQsZSxhKXt2YXIgaT1lLnBhaW50W1wicmFzdGVyLWZhZGUtZHVyYXRpb25cIl07aWYoci5zb3VyY2VDYWNoZSYmaT4wKXt2YXIgbz1EYXRlLm5vdygpLG49KG8tci50aW1lQWRkZWQpL2ksdT10PyhvLXQudGltZUFkZGVkKS9pOi0xLHM9ci5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKSxjPWEuY292ZXJpbmdab29tTGV2ZWwoe3RpbGVTaXplOnMudGlsZVNpemUscm91bmRab29tOnMucm91bmRab29tfSksZj0hdHx8TWF0aC5hYnModC5jb29yZC56LWMpPk1hdGguYWJzKHIuY29vcmQuei1jKSxkPWYmJnIucmVmcmVzaGVkVXBvbkV4cGlyYXRpb24/MTp1dGlsLmNsYW1wKGY/bjoxLXUsMCwxKTtyZXR1cm4gci5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiYmbj49MSYmKHIucmVmcmVzaGVkVXBvbkV4cGlyYXRpb249ITEpLHQ/e29wYWNpdHk6MSxtaXg6MS1kfTp7b3BhY2l0eTpkLG1peDowfX1yZXR1cm57b3BhY2l0eToxLG1peDowfX12YXIgdXRpbD1yZXF1aXJlKFwiLi4vdXRpbC91dGlsXCIpO21vZHVsZS5leHBvcnRzPWRyYXdSYXN0ZXI7XG59LHtcIi4uL3V0aWwvdXRpbFwiOjIxMn1dLDc0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGRyYXdTeW1ib2xzKGUsdCxhLGkpe2lmKCFlLmlzT3BhcXVlUGFzcyl7dmFyIG89IShhLmxheW91dFtcInRleHQtYWxsb3ctb3ZlcmxhcFwiXXx8YS5sYXlvdXRbXCJpY29uLWFsbG93LW92ZXJsYXBcIl18fGEubGF5b3V0W1widGV4dC1pZ25vcmUtcGxhY2VtZW50XCJdfHxhLmxheW91dFtcImljb24taWdub3JlLXBsYWNlbWVudFwiXSkscj1lLmdsO28/ci5kaXNhYmxlKHIuU1RFTkNJTF9URVNUKTpyLmVuYWJsZShyLlNURU5DSUxfVEVTVCksZS5zZXREZXB0aFN1YmxheWVyKDApLGUuZGVwdGhNYXNrKCExKSxkcmF3TGF5ZXJTeW1ib2xzKGUsdCxhLGksITEsYS5wYWludFtcImljb24tdHJhbnNsYXRlXCJdLGEucGFpbnRbXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIl0sYS5sYXlvdXRbXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiXSxhLmxheW91dFtcImljb24tcm90YXRpb24tYWxpZ25tZW50XCJdLGEubGF5b3V0W1wiaWNvbi1zaXplXCJdKSxkcmF3TGF5ZXJTeW1ib2xzKGUsdCxhLGksITAsYS5wYWludFtcInRleHQtdHJhbnNsYXRlXCJdLGEucGFpbnRbXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIl0sYS5sYXlvdXRbXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiXSxhLmxheW91dFtcInRleHQtcGl0Y2gtYWxpZ25tZW50XCJdLGEubGF5b3V0W1widGV4dC1zaXplXCJdKSx0Lm1hcC5zaG93Q29sbGlzaW9uQm94ZXMmJmRyYXdDb2xsaXNpb25EZWJ1ZyhlLHQsYSxpKX19ZnVuY3Rpb24gZHJhd0xheWVyU3ltYm9scyhlLHQsYSxpLG8scixuLGwscyx1KXtpZihvfHwhZS5zdHlsZS5zcHJpdGV8fGUuc3R5bGUuc3ByaXRlLmxvYWRlZCgpKXt2YXIgZj1lLmdsLG09XCJtYXBcIj09PWwscD1cIm1hcFwiPT09cyxjPXA7Yz9mLmVuYWJsZShmLkRFUFRIX1RFU1QpOmYuZGlzYWJsZShmLkRFUFRIX1RFU1QpO2Zvcih2YXIgZCxfLGg9MCxnPWk7aDxnLmxlbmd0aDtoKz0xKXt2YXIgeT1nW2hdLFQ9dC5nZXRUaWxlKHkpLGI9VC5nZXRCdWNrZXQoYSk7aWYoYil7dmFyIHg9bz9iLmJ1ZmZlcnMuZ2x5cGg6Yi5idWZmZXJzLmljb247aWYoeCYmeC5zZWdtZW50cy5sZW5ndGgpe3ZhciBTPXgubGF5ZXJEYXRhW2EuaWRdLHc9Uy5wcm9ncmFtQ29uZmlndXJhdGlvbix2PW98fGIuc2RmSWNvbnM7ZCYmYi5mb250c3RhY2s9PT1ffHwoZD1lLnVzZVByb2dyYW0odj9cInN5bWJvbFNERlwiOlwic3ltYm9sSWNvblwiLHcpLHcuc2V0VW5pZm9ybXMoZixkLGEse3pvb206ZS50cmFuc2Zvcm0uem9vbX0pLHNldFN5bWJvbERyYXdTdGF0ZShkLGUsbyx2LG0scCxiLmZvbnRzdGFjayx1LGIuaWNvbnNOZWVkTGluZWFyLG8/Yi5hZGp1c3RlZFRleHRTaXplOmIuYWRqdXN0ZWRJY29uU2l6ZSkpLGUuZW5hYmxlVGlsZUNsaXBwaW5nTWFzayh5KSxmLnVuaWZvcm1NYXRyaXg0ZnYoZC51X21hdHJpeCwhMSxlLnRyYW5zbGF0ZVBvc01hdHJpeCh5LnBvc01hdHJpeCxULHIsbikpLGRyYXdUaWxlU3ltYm9scyhkLGUsYSxULHgsbyx2LHAsdSksXz1iLmZvbnRzdGFja319fWN8fGYuZW5hYmxlKGYuREVQVEhfVEVTVCl9fWZ1bmN0aW9uIHNldFN5bWJvbERyYXdTdGF0ZShlLHQsYSxpLG8scixuLGwscyx1KXt2YXIgZj10LmdsLG09dC50cmFuc2Zvcm07aWYoZi51bmlmb3JtMWkoZS51X3JvdGF0ZV93aXRoX21hcCxvKSxmLnVuaWZvcm0xaShlLnVfcGl0Y2hfd2l0aF9tYXAsciksZi5hY3RpdmVUZXh0dXJlKGYuVEVYVFVSRTApLGYudW5pZm9ybTFpKGUudV90ZXh0dXJlLDApLGEpe3ZhciBwPW4mJnQuZ2x5cGhTb3VyY2UuZ2V0R2x5cGhBdGxhcyhuKTtpZighcClyZXR1cm47cC51cGRhdGVUZXh0dXJlKGYpLGYudW5pZm9ybTJmKGUudV90ZXhzaXplLHAud2lkdGgvNCxwLmhlaWdodC80KX1lbHNle3ZhciBjPXQub3B0aW9ucy5yb3RhdGluZ3x8dC5vcHRpb25zLnpvb21pbmcsZD0xIT09bHx8YnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvIT09dC5zcHJpdGVBdGxhcy5waXhlbFJhdGlvfHxzLF89cnx8bS5waXRjaDt0LnNwcml0ZUF0bGFzLmJpbmQoZixpfHxjfHxkfHxfKSxmLnVuaWZvcm0yZihlLnVfdGV4c2l6ZSx0LnNwcml0ZUF0bGFzLndpZHRoLzQsdC5zcHJpdGVBdGxhcy5oZWlnaHQvNCl9Zi5hY3RpdmVUZXh0dXJlKGYuVEVYVFVSRTEpLHQuZnJhbWVIaXN0b3J5LmJpbmQoZiksZi51bmlmb3JtMWkoZS51X2ZhZGV0ZXh0dXJlLDEpO3ZhciBoPU1hdGgubG9nKGwvdSkvTWF0aC5MTjJ8fDA7Zi51bmlmb3JtMWYoZS51X3pvb20sMTAqKG0uem9vbS1oKSksZi51bmlmb3JtMWYoZS51X3BpdGNoLG0ucGl0Y2gvMzYwKjIqTWF0aC5QSSksZi51bmlmb3JtMWYoZS51X2JlYXJpbmcsbS5iZWFyaW5nLzM2MCoyKk1hdGguUEkpLGYudW5pZm9ybTFmKGUudV9hc3BlY3RfcmF0aW8sbS53aWR0aC9tLmhlaWdodCl9ZnVuY3Rpb24gZHJhd1RpbGVTeW1ib2xzKGUsdCxhLGksbyxyLG4sbCxzKXt2YXIgdT10LmdsLGY9dC50cmFuc2Zvcm0sbT1zLyhyPzI0OjEpO2lmKGwpe3ZhciBwPXBpeGVsc1RvVGlsZVVuaXRzKGksbSxmLnpvb20pO3UudW5pZm9ybTJmKGUudV9leHRydWRlX3NjYWxlLHAscCl9ZWxzZXt2YXIgYz1mLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UqbTt1LnVuaWZvcm0yZihlLnVfZXh0cnVkZV9zY2FsZSxmLnBpeGVsc1RvR0xVbml0c1swXSpjLGYucGl4ZWxzVG9HTFVuaXRzWzFdKmMpfWlmKG4pe3ZhciBkPShyP1widGV4dFwiOlwiaWNvblwiKStcIi1oYWxvLXdpZHRoXCIsXz0hYS5pc1BhaW50VmFsdWVGZWF0dXJlQ29uc3RhbnQoZCl8fGEucGFpbnRbZF0saD1tKihsP01hdGguY29zKGYuX3BpdGNoKToxKSpmLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U7dS51bmlmb3JtMWYoZS51X2ZvbnRfc2NhbGUsbSksdS51bmlmb3JtMWYoZS51X2dhbW1hX3NjYWxlLGgpLF8mJih1LnVuaWZvcm0xZihlLnVfaXNfaGFsbywxKSxkcmF3U3ltYm9sRWxlbWVudHMobyxhLHUsZSkpLHUudW5pZm9ybTFmKGUudV9pc19oYWxvLDApfWRyYXdTeW1ib2xFbGVtZW50cyhvLGEsdSxlKX1mdW5jdGlvbiBkcmF3U3ltYm9sRWxlbWVudHMoZSx0LGEsaSl7Zm9yKHZhciBvPWUubGF5ZXJEYXRhW3QuaWRdLHI9byYmby5wYWludFZlcnRleEJ1ZmZlcixuPTAsbD1lLnNlZ21lbnRzO248bC5sZW5ndGg7bis9MSl7dmFyIHM9bFtuXTtzLnZhb3NbdC5pZF0uYmluZChhLGksZS5sYXlvdXRWZXJ0ZXhCdWZmZXIsZS5lbGVtZW50QnVmZmVyLHIscy52ZXJ0ZXhPZmZzZXQpLGEuZHJhd0VsZW1lbnRzKGEuVFJJQU5HTEVTLDMqcy5wcmltaXRpdmVMZW5ndGgsYS5VTlNJR05FRF9TSE9SVCwzKnMucHJpbWl0aXZlT2Zmc2V0KjIpfX12YXIgYnJvd3Nlcj1yZXF1aXJlKFwiLi4vdXRpbC9icm93c2VyXCIpLGRyYXdDb2xsaXNpb25EZWJ1Zz1yZXF1aXJlKFwiLi9kcmF3X2NvbGxpc2lvbl9kZWJ1Z1wiKSxwaXhlbHNUb1RpbGVVbml0cz1yZXF1aXJlKFwiLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzXCIpO21vZHVsZS5leHBvcnRzPWRyYXdTeW1ib2xzO1xufSx7XCIuLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHNcIjo4NyxcIi4uL3V0aWwvYnJvd3NlclwiOjE5MixcIi4vZHJhd19jb2xsaXNpb25fZGVidWdcIjo2OH1dLDc1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBGcmFtZUhpc3Rvcnk9ZnVuY3Rpb24oKXt0aGlzLmNoYW5nZVRpbWVzPW5ldyBGbG9hdDY0QXJyYXkoMjU2KSx0aGlzLmNoYW5nZU9wYWNpdGllcz1uZXcgVWludDhBcnJheSgyNTYpLHRoaXMub3BhY2l0aWVzPW5ldyBVaW50OENsYW1wZWRBcnJheSgyNTYpLHRoaXMuYXJyYXk9bmV3IFVpbnQ4QXJyYXkodGhpcy5vcGFjaXRpZXMuYnVmZmVyKSx0aGlzLnByZXZpb3VzWm9vbT0wLHRoaXMuZmlyc3RGcmFtZT0hMH07RnJhbWVIaXN0b3J5LnByb3RvdHlwZS5yZWNvcmQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRoaXM7dGhpcy5maXJzdEZyYW1lJiYoZT0wLHRoaXMuZmlyc3RGcmFtZT0hMSksdD1NYXRoLmZsb29yKDEwKnQpO3ZhciBhO2lmKHQ8dGhpcy5wcmV2aW91c1pvb20pZm9yKGE9dCsxO2E8PXRoaXMucHJldmlvdXNab29tO2ErKylyLmNoYW5nZVRpbWVzW2FdPWUsci5jaGFuZ2VPcGFjaXRpZXNbYV09ci5vcGFjaXRpZXNbYV07ZWxzZSBmb3IoYT10O2E+dGhpcy5wcmV2aW91c1pvb207YS0tKXIuY2hhbmdlVGltZXNbYV09ZSxyLmNoYW5nZU9wYWNpdGllc1thXT1yLm9wYWNpdGllc1thXTtmb3IoYT0wO2E8MjU2O2ErKyl7dmFyIHM9ZS1yLmNoYW5nZVRpbWVzW2FdLG89MjU1KihpP3MvaToxKTthPD10P3Iub3BhY2l0aWVzW2FdPXIuY2hhbmdlT3BhY2l0aWVzW2FdK286ci5vcGFjaXRpZXNbYV09ci5jaGFuZ2VPcGFjaXRpZXNbYV0tb310aGlzLmNoYW5nZWQ9ITAsdGhpcy5wcmV2aW91c1pvb209dH0sRnJhbWVIaXN0b3J5LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUpe3RoaXMudGV4dHVyZT8oZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSx0aGlzLmNoYW5nZWQmJihlLnRleFN1YkltYWdlMkQoZS5URVhUVVJFXzJELDAsMCwwLDI1NiwxLGUuQUxQSEEsZS5VTlNJR05FRF9CWVRFLHRoaXMuYXJyYXkpLHRoaXMuY2hhbmdlZD0hMSkpOih0aGlzLnRleHR1cmU9ZS5jcmVhdGVUZXh0dXJlKCksZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSxlLnRleFBhcmFtZXRlcmkoZS5URVhUVVJFXzJELGUuVEVYVFVSRV9XUkFQX1MsZS5DTEFNUF9UT19FREdFKSxlLnRleFBhcmFtZXRlcmkoZS5URVhUVVJFXzJELGUuVEVYVFVSRV9XUkFQX1QsZS5DTEFNUF9UT19FREdFKSxlLnRleFBhcmFtZXRlcmkoZS5URVhUVVJFXzJELGUuVEVYVFVSRV9NSU5fRklMVEVSLGUuTkVBUkVTVCksZS50ZXhQYXJhbWV0ZXJpKGUuVEVYVFVSRV8yRCxlLlRFWFRVUkVfTUFHX0ZJTFRFUixlLk5FQVJFU1QpLGUudGV4SW1hZ2UyRChlLlRFWFRVUkVfMkQsMCxlLkFMUEhBLDI1NiwxLDAsZS5BTFBIQSxlLlVOU0lHTkVEX0JZVEUsdGhpcy5hcnJheSkpfSxtb2R1bGUuZXhwb3J0cz1GcmFtZUhpc3Rvcnk7XG59LHt9XSw3NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgdXRpbD1yZXF1aXJlKFwiLi4vdXRpbC91dGlsXCIpLExpbmVBdGxhcz1mdW5jdGlvbih0LGkpe3RoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1pLHRoaXMubmV4dFJvdz0wLHRoaXMuYnl0ZXM9NCx0aGlzLmRhdGE9bmV3IFVpbnQ4QXJyYXkodGhpcy53aWR0aCp0aGlzLmhlaWdodCp0aGlzLmJ5dGVzKSx0aGlzLnBvc2l0aW9ucz17fX07TGluZUF0bGFzLnByb3RvdHlwZS5zZXRTcHJpdGU9ZnVuY3Rpb24odCl7dGhpcy5zcHJpdGU9dH0sTGluZUF0bGFzLnByb3RvdHlwZS5nZXREYXNoPWZ1bmN0aW9uKHQsaSl7dmFyIGU9dC5qb2luKFwiLFwiKStpO3JldHVybiB0aGlzLnBvc2l0aW9uc1tlXXx8KHRoaXMucG9zaXRpb25zW2VdPXRoaXMuYWRkRGFzaCh0LGkpKSx0aGlzLnBvc2l0aW9uc1tlXX0sTGluZUF0bGFzLnByb3RvdHlwZS5hZGREYXNoPWZ1bmN0aW9uKHQsaSl7dmFyIGU9dGhpcyxoPWk/NzowLHM9MipoKzEsYT0xMjg7aWYodGhpcy5uZXh0Um93K3M+dGhpcy5oZWlnaHQpcmV0dXJuIHV0aWwud2Fybk9uY2UoXCJMaW5lQXRsYXMgb3V0IG9mIHNwYWNlXCIpLG51bGw7Zm9yKHZhciByPTAsbj0wO248dC5sZW5ndGg7bisrKXIrPXRbbl07Zm9yKHZhciBvPXRoaXMud2lkdGgvcixFPW8vMixUPXQubGVuZ3RoJTI9PT0xLFI9LWg7Ujw9aDtSKyspZm9yKHZhciB1PWUubmV4dFJvdytoK1IsZD1lLndpZHRoKnUsbD1UPy10W3QubGVuZ3RoLTFdOjAseD10WzBdLEE9MSxfPTA7Xzx0aGlzLndpZHRoO18rKyl7Zm9yKDt4PF8vbzspbD14LHgrPXRbQV0sVCYmQT09PXQubGVuZ3RoLTEmJih4Kz10WzBdKSxBKys7dmFyIHA9TWF0aC5hYnMoXy1sKm8pLGc9TWF0aC5hYnMoXy14Km8pLHc9TWF0aC5taW4ocCxnKSxEPUElMj09PTEsVT12b2lkIDA7aWYoaSl7dmFyIGY9aD9SL2gqKEUrMSk6MDtpZihEKXt2YXIgWD1FLU1hdGguYWJzKGYpO1U9TWF0aC5zcXJ0KHcqdytYKlgpfWVsc2UgVT1FLU1hdGguc3FydCh3KncrZipmKX1lbHNlIFU9KEQ/MTotMSkqdztlLmRhdGFbMys0KihkK18pXT1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxVK2EpKX12YXIgdj17eToodGhpcy5uZXh0Um93K2grLjUpL3RoaXMuaGVpZ2h0LGhlaWdodDoyKmgvdGhpcy5oZWlnaHQsd2lkdGg6cn07cmV0dXJuIHRoaXMubmV4dFJvdys9cyx0aGlzLmRpcnR5PSEwLHZ9LExpbmVBdGxhcy5wcm90b3R5cGUuYmluZD1mdW5jdGlvbih0KXt0aGlzLnRleHR1cmU/KHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksdGhpcy5kaXJ0eSYmKHRoaXMuZGlydHk9ITEsdC50ZXhTdWJJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsdGhpcy5kYXRhKSkpOih0aGlzLnRleHR1cmU9dC5jcmVhdGVUZXh0dXJlKCksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsdC5SRVBFQVQpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfVCx0LlJFUEVBVCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUlOX0ZJTFRFUix0LkxJTkVBUiksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUFHX0ZJTFRFUix0LkxJTkVBUiksdC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDAsdC5SR0JBLHQuVU5TSUdORURfQllURSx0aGlzLmRhdGEpKX0sbW9kdWxlLmV4cG9ydHM9TGluZUF0bGFzO1xufSx7XCIuLi91dGlsL3V0aWxcIjoyMTJ9XSw3NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgYnJvd3Nlcj1yZXF1aXJlKFwiLi4vdXRpbC9icm93c2VyXCIpLG1hdDQ9cmVxdWlyZShcIkBtYXBib3gvZ2wtbWF0cml4XCIpLm1hdDQsRnJhbWVIaXN0b3J5PXJlcXVpcmUoXCIuL2ZyYW1lX2hpc3RvcnlcIiksU291cmNlQ2FjaGU9cmVxdWlyZShcIi4uL3NvdXJjZS9zb3VyY2VfY2FjaGVcIiksRVhURU5UPXJlcXVpcmUoXCIuLi9kYXRhL2V4dGVudFwiKSxwaXhlbHNUb1RpbGVVbml0cz1yZXF1aXJlKFwiLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzXCIpLHV0aWw9cmVxdWlyZShcIi4uL3V0aWwvdXRpbFwiKSxCdWZmZXI9cmVxdWlyZShcIi4uL2RhdGEvYnVmZmVyXCIpLFZlcnRleEFycmF5T2JqZWN0PXJlcXVpcmUoXCIuL3ZlcnRleF9hcnJheV9vYmplY3RcIiksUmFzdGVyQm91bmRzQXJyYXk9cmVxdWlyZShcIi4uL2RhdGEvcmFzdGVyX2JvdW5kc19hcnJheVwiKSxQb3NBcnJheT1yZXF1aXJlKFwiLi4vZGF0YS9wb3NfYXJyYXlcIiksUHJvZ3JhbUNvbmZpZ3VyYXRpb249cmVxdWlyZShcIi4uL2RhdGEvcHJvZ3JhbV9jb25maWd1cmF0aW9uXCIpLHNoYWRlcnM9cmVxdWlyZShcIi4vc2hhZGVyc1wiKSxkcmF3PXtzeW1ib2w6cmVxdWlyZShcIi4vZHJhd19zeW1ib2xcIiksY2lyY2xlOnJlcXVpcmUoXCIuL2RyYXdfY2lyY2xlXCIpLGxpbmU6cmVxdWlyZShcIi4vZHJhd19saW5lXCIpLGZpbGw6cmVxdWlyZShcIi4vZHJhd19maWxsXCIpLFwiZmlsbC1leHRydXNpb25cIjpyZXF1aXJlKFwiLi9kcmF3X2ZpbGxfZXh0cnVzaW9uXCIpLHJhc3RlcjpyZXF1aXJlKFwiLi9kcmF3X3Jhc3RlclwiKSxiYWNrZ3JvdW5kOnJlcXVpcmUoXCIuL2RyYXdfYmFja2dyb3VuZFwiKSxkZWJ1ZzpyZXF1aXJlKFwiLi9kcmF3X2RlYnVnXCIpfSxQYWludGVyPWZ1bmN0aW9uKGUscil7dGhpcy5nbD1lLHRoaXMudHJhbnNmb3JtPXIsdGhpcy5yZXVzYWJsZVRleHR1cmVzPXt0aWxlczp7fSx2aWV3cG9ydDpudWxsfSx0aGlzLnByZUZib3M9e30sdGhpcy5mcmFtZUhpc3Rvcnk9bmV3IEZyYW1lSGlzdG9yeSx0aGlzLnNldHVwKCksdGhpcy5udW1TdWJsYXllcnM9U291cmNlQ2FjaGUubWF4VW5kZXJ6b29taW5nK1NvdXJjZUNhY2hlLm1heE92ZXJ6b29taW5nKzEsdGhpcy5kZXB0aEVwc2lsb249MS9NYXRoLnBvdygyLDE2KSx0aGlzLmxpbmVXaWR0aFJhbmdlPWUuZ2V0UGFyYW1ldGVyKGUuQUxJQVNFRF9MSU5FX1dJRFRIX1JBTkdFKSx0aGlzLmJhc2ljRmlsbFByb2dyYW1Db25maWd1cmF0aW9uPVByb2dyYW1Db25maWd1cmF0aW9uLmNyZWF0ZVN0YXRpYyhbXCJjb2xvclwiLFwib3BhY2l0eVwiXSksdGhpcy5lbXB0eVByb2dyYW1Db25maWd1cmF0aW9uPW5ldyBQcm9ncmFtQ29uZmlndXJhdGlvbn07UGFpbnRlci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUscil7dmFyIHQ9dGhpcy5nbDt0aGlzLndpZHRoPWUqYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLHRoaXMuaGVpZ2h0PXIqYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLHQudmlld3BvcnQoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSxQYWludGVyLnByb3RvdHlwZS5zZXR1cD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2w7ZS52ZXJib3NlPSEwLGUuZW5hYmxlKGUuQkxFTkQpLGUuYmxlbmRGdW5jKGUuT05FLGUuT05FX01JTlVTX1NSQ19BTFBIQSksZS5lbmFibGUoZS5TVEVOQ0lMX1RFU1QpLGUuZW5hYmxlKGUuREVQVEhfVEVTVCksZS5kZXB0aEZ1bmMoZS5MRVFVQUwpLHRoaXMuX2RlcHRoTWFzaz0hMSxlLmRlcHRoTWFzayghMSk7dmFyIHI9bmV3IFBvc0FycmF5O3IuZW1wbGFjZUJhY2soMCwwKSxyLmVtcGxhY2VCYWNrKEVYVEVOVCwwKSxyLmVtcGxhY2VCYWNrKDAsRVhURU5UKSxyLmVtcGxhY2VCYWNrKEVYVEVOVCxFWFRFTlQpLHRoaXMudGlsZUV4dGVudEJ1ZmZlcj1CdWZmZXIuZnJvbVN0cnVjdEFycmF5KHIsQnVmZmVyLkJ1ZmZlclR5cGUuVkVSVEVYKSx0aGlzLnRpbGVFeHRlbnRWQU89bmV3IFZlcnRleEFycmF5T2JqZWN0LHRoaXMudGlsZUV4dGVudFBhdHRlcm5WQU89bmV3IFZlcnRleEFycmF5T2JqZWN0O3ZhciB0PW5ldyBQb3NBcnJheTt0LmVtcGxhY2VCYWNrKDAsMCksdC5lbXBsYWNlQmFjayhFWFRFTlQsMCksdC5lbXBsYWNlQmFjayhFWFRFTlQsRVhURU5UKSx0LmVtcGxhY2VCYWNrKDAsRVhURU5UKSx0LmVtcGxhY2VCYWNrKDAsMCksdGhpcy5kZWJ1Z0J1ZmZlcj1CdWZmZXIuZnJvbVN0cnVjdEFycmF5KHQsQnVmZmVyLkJ1ZmZlclR5cGUuVkVSVEVYKSx0aGlzLmRlYnVnVkFPPW5ldyBWZXJ0ZXhBcnJheU9iamVjdDt2YXIgaT1uZXcgUmFzdGVyQm91bmRzQXJyYXk7aS5lbXBsYWNlQmFjaygwLDAsMCwwKSxpLmVtcGxhY2VCYWNrKEVYVEVOVCwwLDMyNzY3LDApLGkuZW1wbGFjZUJhY2soMCxFWFRFTlQsMCwzMjc2NyksaS5lbXBsYWNlQmFjayhFWFRFTlQsRVhURU5ULDMyNzY3LDMyNzY3KSx0aGlzLnJhc3RlckJvdW5kc0J1ZmZlcj1CdWZmZXIuZnJvbVN0cnVjdEFycmF5KGksQnVmZmVyLkJ1ZmZlclR5cGUuVkVSVEVYKSx0aGlzLnJhc3RlckJvdW5kc1ZBTz1uZXcgVmVydGV4QXJyYXlPYmplY3R9LFBhaW50ZXIucHJvdG90eXBlLmNsZWFyQ29sb3I9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsO2UuY2xlYXJDb2xvcigwLDAsMCwwKSxlLmNsZWFyKGUuQ09MT1JfQlVGRkVSX0JJVCl9LFBhaW50ZXIucHJvdG90eXBlLmNsZWFyU3RlbmNpbD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2w7ZS5jbGVhclN0ZW5jaWwoMCksZS5zdGVuY2lsTWFzaygyNTUpLGUuY2xlYXIoZS5TVEVOQ0lMX0JVRkZFUl9CSVQpfSxQYWludGVyLnByb3RvdHlwZS5jbGVhckRlcHRoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nbDtlLmNsZWFyRGVwdGgoMSksdGhpcy5kZXB0aE1hc2soITApLGUuY2xlYXIoZS5ERVBUSF9CVUZGRVJfQklUKX0sUGFpbnRlci5wcm90b3R5cGUuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXMsdD10aGlzLmdsO3QuY29sb3JNYXNrKCExLCExLCExLCExKSx0aGlzLmRlcHRoTWFzayghMSksdC5kaXNhYmxlKHQuREVQVEhfVEVTVCksdC5lbmFibGUodC5TVEVOQ0lMX1RFU1QpLHQuc3RlbmNpbE1hc2soMjQ4KSx0LnN0ZW5jaWxPcCh0LktFRVAsdC5LRUVQLHQuUkVQTEFDRSk7dmFyIGk9MTt0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9O2Zvcih2YXIgYT0wLHM9ZTthPHMubGVuZ3RoO2ErPTEpe3ZhciBvPXNbYV0sbj1yLl90aWxlQ2xpcHBpbmdNYXNrSURzW28uaWRdPWkrKzw8Mzt0LnN0ZW5jaWxGdW5jKHQuQUxXQVlTLG4sMjQ4KTt2YXIgbD1yLnVzZVByb2dyYW0oXCJmaWxsXCIsci5iYXNpY0ZpbGxQcm9ncmFtQ29uZmlndXJhdGlvbik7dC51bmlmb3JtTWF0cml4NGZ2KGwudV9tYXRyaXgsITEsby5wb3NNYXRyaXgpLHIudGlsZUV4dGVudFZBTy5iaW5kKHQsbCxyLnRpbGVFeHRlbnRCdWZmZXIpLHQuZHJhd0FycmF5cyh0LlRSSUFOR0xFX1NUUklQLDAsci50aWxlRXh0ZW50QnVmZmVyLmxlbmd0aCl9dC5zdGVuY2lsTWFzaygwKSx0LmNvbG9yTWFzayghMCwhMCwhMCwhMCksdGhpcy5kZXB0aE1hc2soITApLHQuZW5hYmxlKHQuREVQVEhfVEVTVCl9LFBhaW50ZXIucHJvdG90eXBlLmVuYWJsZVRpbGVDbGlwcGluZ01hc2s9ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcy5nbDtyLnN0ZW5jaWxGdW5jKHIuRVFVQUwsdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1tlLmlkXSwyNDgpfSxQYWludGVyLnByb3RvdHlwZS5wcmVwYXJlQnVmZmVycz1mdW5jdGlvbigpe30sUGFpbnRlci5wcm90b3R5cGUuYmluZERlZmF1bHRGcmFtZWJ1ZmZlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2w7ZS5iaW5kRnJhbWVidWZmZXIoZS5GUkFNRUJVRkZFUixudWxsKX0sUGFpbnRlci5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUscil7aWYodGhpcy5zdHlsZT1lLHRoaXMub3B0aW9ucz1yLHRoaXMubGluZUF0bGFzPWUubGluZUF0bGFzLHRoaXMuc3ByaXRlQXRsYXM9ZS5zcHJpdGVBdGxhcyx0aGlzLnNwcml0ZUF0bGFzLnNldFNwcml0ZShlLnNwcml0ZSksdGhpcy5nbHlwaFNvdXJjZT1lLmdseXBoU291cmNlLHRoaXMuZnJhbWVIaXN0b3J5LnJlY29yZChEYXRlLm5vdygpLHRoaXMudHJhbnNmb3JtLnpvb20sZS5nZXRUcmFuc2l0aW9uKCkuZHVyYXRpb24pLHRoaXMucHJlcGFyZUJ1ZmZlcnMoKSx0aGlzLmNsZWFyQ29sb3IoKSx0aGlzLmNsZWFyRGVwdGgoKSx0aGlzLnNob3dPdmVyZHJhd0luc3BlY3RvcihyLnNob3dPdmVyZHJhd0luc3BlY3RvciksdGhpcy5kZXB0aFJhbmdlPShlLl9vcmRlci5sZW5ndGgrMikqdGhpcy5udW1TdWJsYXllcnMqdGhpcy5kZXB0aEVwc2lsb24sdGhpcy5pc09wYXF1ZVBhc3M9ITAsdGhpcy5yZW5kZXJQYXNzKCksdGhpcy5pc09wYXF1ZVBhc3M9ITEsdGhpcy5yZW5kZXJQYXNzKCksdGhpcy5vcHRpb25zLnNob3dUaWxlQm91bmRhcmllcyl7dmFyIHQ9dGhpcy5zdHlsZS5zb3VyY2VDYWNoZXNbT2JqZWN0LmtleXModGhpcy5zdHlsZS5zb3VyY2VDYWNoZXMpWzBdXTt0JiZkcmF3LmRlYnVnKHRoaXMsdCx0LmdldFZpc2libGVDb29yZGluYXRlcygpKX19LFBhaW50ZXIucHJvdG90eXBlLnJlbmRlclBhc3M9ZnVuY3Rpb24oKXt2YXIgZSxyLHQ9dGhpcyxpPXRoaXMuc3R5bGUuX29yZGVyO3RoaXMuY3VycmVudExheWVyPXRoaXMuaXNPcGFxdWVQYXNzP2kubGVuZ3RoLTE6MCx0aGlzLmlzT3BhcXVlUGFzcz90aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3J8fHRoaXMuZ2wuZGlzYWJsZSh0aGlzLmdsLkJMRU5EKTp0aGlzLmdsLmVuYWJsZSh0aGlzLmdsLkJMRU5EKTtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHM9dC5zdHlsZS5fbGF5ZXJzW2lbdC5jdXJyZW50TGF5ZXJdXTtzLnNvdXJjZSE9PShlJiZlLmlkKSYmKGU9dC5zdHlsZS5zb3VyY2VDYWNoZXNbcy5zb3VyY2VdLHI9W10sZSYmKGUucHJlcGFyZSYmZS5wcmVwYXJlKCksdC5jbGVhclN0ZW5jaWwoKSxyPWUuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCksZS5nZXRTb3VyY2UoKS5pc1RpbGVDbGlwcGVkJiZ0Ll9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyhyKSksdC5pc09wYXF1ZVBhc3N8fHIucmV2ZXJzZSgpKSx0LnJlbmRlckxheWVyKHQsZSxzLHIpLHQuY3VycmVudExheWVyKz10LmlzT3BhcXVlUGFzcz8tMToxfX0sUGFpbnRlci5wcm90b3R5cGUuZGVwdGhNYXNrPWZ1bmN0aW9uKGUpe2UhPT10aGlzLl9kZXB0aE1hc2smJih0aGlzLl9kZXB0aE1hc2s9ZSx0aGlzLmdsLmRlcHRoTWFzayhlKSl9LFBhaW50ZXIucHJvdG90eXBlLnJlbmRlckxheWVyPWZ1bmN0aW9uKGUscix0LGkpe3QuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSl8fChcImJhY2tncm91bmRcIj09PXQudHlwZXx8aS5sZW5ndGgpJiYodGhpcy5pZD10LmlkLGRyYXdbdC50eXBlXShlLHIsdCxpKSl9LFBhaW50ZXIucHJvdG90eXBlLnNldERlcHRoU3VibGF5ZXI9ZnVuY3Rpb24oZSl7dmFyIHI9MS0oKDErdGhpcy5jdXJyZW50TGF5ZXIpKnRoaXMubnVtU3VibGF5ZXJzK2UpKnRoaXMuZGVwdGhFcHNpbG9uLHQ9ci0xK3RoaXMuZGVwdGhSYW5nZTt0aGlzLmdsLmRlcHRoUmFuZ2UodCxyKX0sUGFpbnRlci5wcm90b3R5cGUudHJhbnNsYXRlUG9zTWF0cml4PWZ1bmN0aW9uKGUscix0LGkpe2lmKCF0WzBdJiYhdFsxXSlyZXR1cm4gZTtpZihcInZpZXdwb3J0XCI9PT1pKXt2YXIgYT1NYXRoLnNpbigtdGhpcy50cmFuc2Zvcm0uYW5nbGUpLHM9TWF0aC5jb3MoLXRoaXMudHJhbnNmb3JtLmFuZ2xlKTt0PVt0WzBdKnMtdFsxXSphLHRbMF0qYSt0WzFdKnNdfXZhciBvPVtwaXhlbHNUb1RpbGVVbml0cyhyLHRbMF0sdGhpcy50cmFuc2Zvcm0uem9vbSkscGl4ZWxzVG9UaWxlVW5pdHMocix0WzFdLHRoaXMudHJhbnNmb3JtLnpvb20pLDBdLG49bmV3IEZsb2F0MzJBcnJheSgxNik7cmV0dXJuIG1hdDQudHJhbnNsYXRlKG4sZSxvKSxufSxQYWludGVyLnByb3RvdHlwZS5zYXZlVGlsZVRleHR1cmU9ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcy5yZXVzYWJsZVRleHR1cmVzLnRpbGVzW2Uuc2l6ZV07cj9yLnB1c2goZSk6dGhpcy5yZXVzYWJsZVRleHR1cmVzLnRpbGVzW2Uuc2l6ZV09W2VdfSxQYWludGVyLnByb3RvdHlwZS5zYXZlVmlld3BvcnRUZXh0dXJlPWZ1bmN0aW9uKGUpe3RoaXMucmV1c2FibGVUZXh0dXJlcy52aWV3cG9ydD1lfSxQYWludGVyLnByb3RvdHlwZS5nZXRUaWxlVGV4dHVyZT1mdW5jdGlvbihlKXt2YXIgcj10aGlzLnJldXNhYmxlVGV4dHVyZXMudGlsZXNbZV07cmV0dXJuIHImJnIubGVuZ3RoPjA/ci5wb3AoKTpudWxsfSxQYWludGVyLnByb3RvdHlwZS5nZXRWaWV3cG9ydFRleHR1cmU9ZnVuY3Rpb24oZSxyKXt2YXIgdD10aGlzLnJldXNhYmxlVGV4dHVyZXMudmlld3BvcnQ7aWYodClyZXR1cm4gdC53aWR0aD09PWUmJnQuaGVpZ2h0PT09cj90Oih0aGlzLmdsLmRlbGV0ZVRleHR1cmUodCksdm9pZCh0aGlzLnJldXNhYmxlVGV4dHVyZXMudmlld3BvcnQ9bnVsbCkpfSxQYWludGVyLnByb3RvdHlwZS5saW5lV2lkdGg9ZnVuY3Rpb24oZSl7dGhpcy5nbC5saW5lV2lkdGgodXRpbC5jbGFtcChlLHRoaXMubGluZVdpZHRoUmFuZ2VbMF0sdGhpcy5saW5lV2lkdGhSYW5nZVsxXSkpfSxQYWludGVyLnByb3RvdHlwZS5zaG93T3ZlcmRyYXdJbnNwZWN0b3I9ZnVuY3Rpb24oZSl7aWYoZXx8dGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yKXt0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I9ZTt2YXIgcj10aGlzLmdsO2lmKGUpe3IuYmxlbmRGdW5jKHIuQ09OU1RBTlRfQ09MT1Isci5PTkUpO3ZhciB0PTgsaT0xL3Q7ci5ibGVuZENvbG9yKGksaSxpLDApLHIuY2xlYXJDb2xvcigwLDAsMCwxKSxyLmNsZWFyKHIuQ09MT1JfQlVGRkVSX0JJVCl9ZWxzZSByLmJsZW5kRnVuYyhyLk9ORSxyLk9ORV9NSU5VU19TUkNfQUxQSEEpfX0sUGFpbnRlci5wcm90b3R5cGUuY3JlYXRlUHJvZ3JhbT1mdW5jdGlvbihlLHIpe3ZhciB0PXRoaXMuZ2wsaT10LmNyZWF0ZVByb2dyYW0oKSxhPXNoYWRlcnNbZV0scz1cIiNkZWZpbmUgTUFQQk9YX0dMX0pTXFxuI2RlZmluZSBERVZJQ0VfUElYRUxfUkFUSU8gXCIrYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLnRvRml4ZWQoMSkrXCJcXG5cIjt0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3ImJihzKz1cIiNkZWZpbmUgT1ZFUkRSQVdfSU5TUEVDVE9SO1xcblwiKTt2YXIgbz1yLmFwcGx5UHJhZ21hcyhzK3NoYWRlcnMucHJlbHVkZS5mcmFnbWVudFNvdXJjZSthLmZyYWdtZW50U291cmNlLFwiZnJhZ21lbnRcIiksbj1yLmFwcGx5UHJhZ21hcyhzK3NoYWRlcnMucHJlbHVkZS52ZXJ0ZXhTb3VyY2UrYS52ZXJ0ZXhTb3VyY2UsXCJ2ZXJ0ZXhcIiksbD10LmNyZWF0ZVNoYWRlcih0LkZSQUdNRU5UX1NIQURFUik7dC5zaGFkZXJTb3VyY2UobCxvKSx0LmNvbXBpbGVTaGFkZXIobCksdC5hdHRhY2hTaGFkZXIoaSxsKTt2YXIgaD10LmNyZWF0ZVNoYWRlcih0LlZFUlRFWF9TSEFERVIpO3Quc2hhZGVyU291cmNlKGgsbiksdC5jb21waWxlU2hhZGVyKGgpLHQuYXR0YWNoU2hhZGVyKGksaCksdC5saW5rUHJvZ3JhbShpKTtmb3IodmFyIHU9dC5nZXRQcm9ncmFtUGFyYW1ldGVyKGksdC5BQ1RJVkVfQVRUUklCVVRFUyksYz17cHJvZ3JhbTppLG51bUF0dHJpYnV0ZXM6dX0scD0wO3A8dTtwKyspe3ZhciBkPXQuZ2V0QWN0aXZlQXR0cmliKGkscCk7Y1tkLm5hbWVdPXQuZ2V0QXR0cmliTG9jYXRpb24oaSxkLm5hbWUpfWZvcih2YXIgZj10LmdldFByb2dyYW1QYXJhbWV0ZXIoaSx0LkFDVElWRV9VTklGT1JNUyksZz0wO2c8ZjtnKyspe3ZhciBtPXQuZ2V0QWN0aXZlVW5pZm9ybShpLGcpO2NbbS5uYW1lXT10LmdldFVuaWZvcm1Mb2NhdGlvbihpLG0ubmFtZSl9cmV0dXJuIGN9LFBhaW50ZXIucHJvdG90eXBlLl9jcmVhdGVQcm9ncmFtQ2FjaGVkPWZ1bmN0aW9uKGUscil7dGhpcy5jYWNoZT10aGlzLmNhY2hlfHx7fTt2YXIgdD1cIlwiK2UrKHIuY2FjaGVLZXl8fFwiXCIpKyh0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I/XCIvb3ZlcmRyYXdcIjpcIlwiKTtyZXR1cm4gdGhpcy5jYWNoZVt0XXx8KHRoaXMuY2FjaGVbdF09dGhpcy5jcmVhdGVQcm9ncmFtKGUscikpLHRoaXMuY2FjaGVbdF19LFBhaW50ZXIucHJvdG90eXBlLnVzZVByb2dyYW09ZnVuY3Rpb24oZSxyKXt2YXIgdD10aGlzLmdsLGk9dGhpcy5fY3JlYXRlUHJvZ3JhbUNhY2hlZChlLHJ8fHRoaXMuZW1wdHlQcm9ncmFtQ29uZmlndXJhdGlvbik7cmV0dXJuIHRoaXMuY3VycmVudFByb2dyYW0hPT1pJiYodC51c2VQcm9ncmFtKGkucHJvZ3JhbSksdGhpcy5jdXJyZW50UHJvZ3JhbT1pKSxpfSxtb2R1bGUuZXhwb3J0cz1QYWludGVyO1xufSx7XCIuLi9kYXRhL2J1ZmZlclwiOjUxLFwiLi4vZGF0YS9leHRlbnRcIjo1NCxcIi4uL2RhdGEvcG9zX2FycmF5XCI6NTcsXCIuLi9kYXRhL3Byb2dyYW1fY29uZmlndXJhdGlvblwiOjU4LFwiLi4vZGF0YS9yYXN0ZXJfYm91bmRzX2FycmF5XCI6NTksXCIuLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHNcIjo4NyxcIi4uL3NvdXJjZS9zb3VyY2VfY2FjaGVcIjo5MixcIi4uL3V0aWwvYnJvd3NlclwiOjE5MixcIi4uL3V0aWwvdXRpbFwiOjIxMixcIi4vZHJhd19iYWNrZ3JvdW5kXCI6NjYsXCIuL2RyYXdfY2lyY2xlXCI6NjcsXCIuL2RyYXdfZGVidWdcIjo2OSxcIi4vZHJhd19maWxsXCI6NzAsXCIuL2RyYXdfZmlsbF9leHRydXNpb25cIjo3MSxcIi4vZHJhd19saW5lXCI6NzIsXCIuL2RyYXdfcmFzdGVyXCI6NzMsXCIuL2RyYXdfc3ltYm9sXCI6NzQsXCIuL2ZyYW1lX2hpc3RvcnlcIjo3NSxcIi4vc2hhZGVyc1wiOjc5LFwiLi92ZXJ0ZXhfYXJyYXlfb2JqZWN0XCI6ODAsXCJAbWFwYm94L2dsLW1hdHJpeFwiOjF9XSw3ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgcGl4ZWxzVG9UaWxlVW5pdHM9cmVxdWlyZShcIi4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0c1wiKTtleHBvcnRzLnByZXBhcmU9ZnVuY3Rpb24ocix0LGkpe3ZhciBvPXQuZ2wsZT10LnNwcml0ZUF0bGFzLmdldFBvc2l0aW9uKHIuZnJvbSwhMCksXz10LnNwcml0ZUF0bGFzLmdldFBvc2l0aW9uKHIudG8sITApO2UmJl8mJihvLnVuaWZvcm0xaShpLnVfaW1hZ2UsMCksby51bmlmb3JtMmZ2KGkudV9wYXR0ZXJuX3RsX2EsZS50bCksby51bmlmb3JtMmZ2KGkudV9wYXR0ZXJuX2JyX2EsZS5iciksby51bmlmb3JtMmZ2KGkudV9wYXR0ZXJuX3RsX2IsXy50bCksby51bmlmb3JtMmZ2KGkudV9wYXR0ZXJuX2JyX2IsXy5iciksby51bmlmb3JtMWYoaS51X21peCxyLnQpLG8udW5pZm9ybTJmdihpLnVfcGF0dGVybl9zaXplX2EsZS5zaXplKSxvLnVuaWZvcm0yZnYoaS51X3BhdHRlcm5fc2l6ZV9iLF8uc2l6ZSksby51bmlmb3JtMWYoaS51X3NjYWxlX2Esci5mcm9tU2NhbGUpLG8udW5pZm9ybTFmKGkudV9zY2FsZV9iLHIudG9TY2FsZSksby5hY3RpdmVUZXh0dXJlKG8uVEVYVFVSRTApLHQuc3ByaXRlQXRsYXMuYmluZChvLCEwKSl9LGV4cG9ydHMuc2V0VGlsZT1mdW5jdGlvbihyLHQsaSl7dmFyIG89dC5nbDtvLnVuaWZvcm0xZihpLnVfdGlsZV91bml0c190b19waXhlbHMsMS9waXhlbHNUb1RpbGVVbml0cyhyLDEsdC50cmFuc2Zvcm0udGlsZVpvb20pKTt2YXIgZT1NYXRoLnBvdygyLHIuY29vcmQueiksXz1yLnRpbGVTaXplKk1hdGgucG93KDIsdC50cmFuc2Zvcm0udGlsZVpvb20pL2UsdT1fKihyLmNvb3JkLngrci5jb29yZC53KmUpLG49XypyLmNvb3JkLnk7by51bmlmb3JtMmYoaS51X3BpeGVsX2Nvb3JkX3VwcGVyLHU+PjE2LG4+PjE2KSxvLnVuaWZvcm0yZihpLnVfcGl4ZWxfY29vcmRfbG93ZXIsNjU1MzUmdSw2NTUzNSZuKX07XG59LHtcIi4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0c1wiOjg3fV0sNzk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHBhdGg9cmVxdWlyZShcInBhdGhcIik7bW9kdWxlLmV4cG9ydHM9e3ByZWx1ZGU6e2ZyYWdtZW50U291cmNlOlwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2Vsc2VcXG5cXG4jaWYgIWRlZmluZWQobG93cClcXG4jZGVmaW5lIGxvd3BcXG4jZW5kaWZcXG5cXG4jaWYgIWRlZmluZWQobWVkaXVtcClcXG4jZGVmaW5lIG1lZGl1bXBcXG4jZW5kaWZcXG5cXG4jaWYgIWRlZmluZWQoaGlnaHApXFxuI2RlZmluZSBoaWdocFxcbiNlbmRpZlxcblxcbiNlbmRpZlxcblwiLHZlcnRleFNvdXJjZTpcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZWxzZVxcblxcbiNpZiAhZGVmaW5lZChsb3dwKVxcbiNkZWZpbmUgbG93cFxcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChtZWRpdW1wKVxcbiNkZWZpbmUgbWVkaXVtcFxcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChoaWdocClcXG4jZGVmaW5lIGhpZ2hwXFxuI2VuZGlmXFxuXFxuI2VuZGlmXFxuXFxuZmxvYXQgZXZhbHVhdGVfem9vbV9mdW5jdGlvbl8xKGNvbnN0IHZlYzQgdmFsdWVzLCBjb25zdCBmbG9hdCB0KSB7XFxuICAgIGlmICh0IDwgMS4wKSB7XFxuICAgICAgICByZXR1cm4gbWl4KHZhbHVlc1swXSwgdmFsdWVzWzFdLCB0KTtcXG4gICAgfSBlbHNlIGlmICh0IDwgMi4wKSB7XFxuICAgICAgICByZXR1cm4gbWl4KHZhbHVlc1sxXSwgdmFsdWVzWzJdLCB0IC0gMS4wKTtcXG4gICAgfSBlbHNlIHtcXG4gICAgICAgIHJldHVybiBtaXgodmFsdWVzWzJdLCB2YWx1ZXNbM10sIHQgLSAyLjApO1xcbiAgICB9XFxufVxcbnZlYzQgZXZhbHVhdGVfem9vbV9mdW5jdGlvbl80KGNvbnN0IHZlYzQgdmFsdWUwLCBjb25zdCB2ZWM0IHZhbHVlMSwgY29uc3QgdmVjNCB2YWx1ZTIsIGNvbnN0IHZlYzQgdmFsdWUzLCBjb25zdCBmbG9hdCB0KSB7XFxuICAgIGlmICh0IDwgMS4wKSB7XFxuICAgICAgICByZXR1cm4gbWl4KHZhbHVlMCwgdmFsdWUxLCB0KTtcXG4gICAgfSBlbHNlIGlmICh0IDwgMi4wKSB7XFxuICAgICAgICByZXR1cm4gbWl4KHZhbHVlMSwgdmFsdWUyLCB0IC0gMS4wKTtcXG4gICAgfSBlbHNlIHtcXG4gICAgICAgIHJldHVybiBtaXgodmFsdWUyLCB2YWx1ZTMsIHQgLSAyLjApO1xcbiAgICB9XFxufVxcblxcblxcbi8vIFRvIG1pbmltaXplIHRoZSBudW1iZXIgb2YgYXR0cmlidXRlcyBuZWVkZWQgaW4gdGhlIG1hcGJveC1nbC1uYXRpdmUgc2hhZGVycyxcXG4vLyB3ZSBlbmNvZGUgYSA0LWNvbXBvbmVudCBjb2xvciBpbnRvIGEgcGFpciBvZiBmbG9hdHMgKGkuZS4gYSB2ZWMyKSBhcyBmb2xsb3dzOlxcbi8vIFsgZmxvb3IoY29sb3IuciAqIDI1NSkgKiAyNTYgKyBjb2xvci5nICogMjU1LFxcbi8vICAgZmxvb3IoY29sb3IuYiAqIDI1NSkgKiAyNTYgKyBjb2xvci5nICogMjU1IF1cXG52ZWM0IGRlY29kZV9jb2xvcihjb25zdCB2ZWMyIGVuY29kZWRDb2xvcikge1xcbiAgICBmbG9hdCByID0gZmxvb3IoZW5jb2RlZENvbG9yWzBdLzI1Ni4wKS8yNTUuMDtcXG4gICAgZmxvYXQgZyA9IChlbmNvZGVkQ29sb3JbMF0gLSByKjI1Ni4wKjI1NS4wKS8yNTUuMDtcXG4gICAgZmxvYXQgYiA9IGZsb29yKGVuY29kZWRDb2xvclsxXS8yNTYuMCkvMjU1LjA7XFxuICAgIGZsb2F0IGEgPSAoZW5jb2RlZENvbG9yWzFdIC0gYioyNTYuMCoyNTUuMCkvMjU1LjA7XFxuICAgIHJldHVybiB2ZWM0KHIsIGcsIGIsIGEpO1xcbn1cXG5cXG4vLyBVbnBhY2sgYSBwYWlyIG9mIHBhaW50IHZhbHVlcyBhbmQgaW50ZXJwb2xhdGUgYmV0d2VlbiB0aGVtLlxcbmZsb2F0IHVucGFja19taXhfdmVjMihjb25zdCB2ZWMyIHBhY2tlZFZhbHVlLCBjb25zdCBmbG9hdCB0KSB7XFxuICAgIHJldHVybiBtaXgocGFja2VkVmFsdWVbMF0sIHBhY2tlZFZhbHVlWzFdLCB0KTtcXG59XFxuXFxuLy8gVW5wYWNrIGEgcGFpciBvZiBwYWludCB2YWx1ZXMgYW5kIGludGVycG9sYXRlIGJldHdlZW4gdGhlbS5cXG52ZWM0IHVucGFja19taXhfdmVjNChjb25zdCB2ZWM0IHBhY2tlZENvbG9ycywgY29uc3QgZmxvYXQgdCkge1xcbiAgICB2ZWM0IG1pbkNvbG9yID0gZGVjb2RlX2NvbG9yKHZlYzIocGFja2VkQ29sb3JzWzBdLCBwYWNrZWRDb2xvcnNbMV0pKTtcXG4gICAgdmVjNCBtYXhDb2xvciA9IGRlY29kZV9jb2xvcih2ZWMyKHBhY2tlZENvbG9yc1syXSwgcGFja2VkQ29sb3JzWzNdKSk7XFxuICAgIHJldHVybiBtaXgobWluQ29sb3IsIG1heENvbG9yLCB0KTtcXG59XFxuXFxuLy8gVGhlIG9mZnNldCBkZXBlbmRzIG9uIGhvdyBtYW55IHBpeGVscyBhcmUgYmV0d2VlbiB0aGUgd29ybGQgb3JpZ2luIGFuZCB0aGUgZWRnZSBvZiB0aGUgdGlsZTpcXG4vLyB2ZWMyIG9mZnNldCA9IG1vZChwaXhlbF9jb29yZCwgc2l6ZSlcXG4vL1xcbi8vIEF0IGhpZ2ggem9vbSBsZXZlbHMgdGhlcmUgYXJlIGEgdG9uIG9mIHBpeGVscyBiZXR3ZWVuIHRoZSB3b3JsZCBvcmlnaW4gYW5kIHRoZSBlZGdlIG9mIHRoZSB0aWxlLlxcbi8vIFRoZSBnbHNsIHNwZWMgb25seSBndWFyYW50ZWVzIDE2IGJpdHMgb2YgcHJlY2lzaW9uIGZvciBoaWdocCBmbG9hdHMuIFdlIG5lZWQgbW9yZSB0aGFuIHRoYXQuXFxuLy9cXG4vLyBUaGUgcGl4ZWxfY29vcmQgaXMgcGFzc2VkIGluIGFzIHR3byAxNiBiaXQgdmFsdWVzOlxcbi8vIHBpeGVsX2Nvb3JkX3VwcGVyID0gZmxvb3IocGl4ZWxfY29vcmQgLyAyXjE2KVxcbi8vIHBpeGVsX2Nvb3JkX2xvd2VyID0gbW9kKHBpeGVsX2Nvb3JkLCAyXjE2KVxcbi8vXFxuLy8gVGhlIG9mZnNldCBpcyBjYWxjdWxhdGVkIGluIGEgc2VyaWVzIG9mIHN0ZXBzIHRoYXQgc2hvdWxkIHByZXNlcnZlIHRoaXMgcHJlY2lzaW9uOlxcbnZlYzIgZ2V0X3BhdHRlcm5fcG9zKGNvbnN0IHZlYzIgcGl4ZWxfY29vcmRfdXBwZXIsIGNvbnN0IHZlYzIgcGl4ZWxfY29vcmRfbG93ZXIsXFxuICAgIGNvbnN0IHZlYzIgcGF0dGVybl9zaXplLCBjb25zdCBmbG9hdCB0aWxlX3VuaXRzX3RvX3BpeGVscywgY29uc3QgdmVjMiBwb3MpIHtcXG5cXG4gICAgdmVjMiBvZmZzZXQgPSBtb2QobW9kKG1vZChwaXhlbF9jb29yZF91cHBlciwgcGF0dGVybl9zaXplKSAqIDI1Ni4wLCBwYXR0ZXJuX3NpemUpICogMjU2LjAgKyBwaXhlbF9jb29yZF9sb3dlciwgcGF0dGVybl9zaXplKTtcXG4gICAgcmV0dXJuICh0aWxlX3VuaXRzX3RvX3BpeGVscyAqIHBvcyArIG9mZnNldCkgLyBwYXR0ZXJuX3NpemU7XFxufVxcblwifSxjaXJjbGU6e2ZyYWdtZW50U291cmNlOlwiI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG5cXG52YXJ5aW5nIHZlYzIgdl9leHRydWRlO1xcbnZhcnlpbmcgbG93cCBmbG9hdCB2X2FudGlhbGlhc2JsdXI7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgY29sb3JcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG5cXG4gICAgZmxvYXQgZXh0cnVkZV9sZW5ndGggPSBsZW5ndGgodl9leHRydWRlKTtcXG4gICAgZmxvYXQgYW50aWFsaWFzZWRfYmx1ciA9IC1tYXgoYmx1ciwgdl9hbnRpYWxpYXNibHVyKTtcXG5cXG4gICAgZmxvYXQgb3BhY2l0eV90ID0gc21vb3Roc3RlcCgwLjAsIGFudGlhbGlhc2VkX2JsdXIsIGV4dHJ1ZGVfbGVuZ3RoIC0gMS4wKTtcXG5cXG4gICAgZmxvYXQgY29sb3JfdCA9IHN0cm9rZV93aWR0aCA8IDAuMDEgPyAwLjAgOiBzbW9vdGhzdGVwKFxcbiAgICAgICAgYW50aWFsaWFzZWRfYmx1cixcXG4gICAgICAgIDAuMCxcXG4gICAgICAgIGV4dHJ1ZGVfbGVuZ3RoIC0gcmFkaXVzIC8gKHJhZGl1cyArIHN0cm9rZV93aWR0aClcXG4gICAgKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gb3BhY2l0eV90ICogbWl4KGNvbG9yICogb3BhY2l0eSwgc3Ryb2tlX2NvbG9yICogc3Ryb2tlX29wYWNpdHksIGNvbG9yX3QpO1xcblxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cXG5cIix2ZXJ0ZXhTb3VyY2U6XCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxudW5pZm9ybSBib29sIHVfc2NhbGVfd2l0aF9tYXA7XFxudW5pZm9ybSB2ZWMyIHVfZXh0cnVkZV9zY2FsZTtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHN0cm9rZV93aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBzdHJva2Vfb3BhY2l0eVxcblxcbnZhcnlpbmcgdmVjMiB2X2V4dHJ1ZGU7XFxudmFyeWluZyBsb3dwIGZsb2F0IHZfYW50aWFsaWFzYmx1cjtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgY29sb3JcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG5cXG4gICAgLy8gdW5lbmNvZGUgdGhlIGV4dHJ1c2lvbiB2ZWN0b3IgdGhhdCB3ZSBzbnVjayBpbnRvIHRoZSBhX3BvcyB2ZWN0b3JcXG4gICAgdl9leHRydWRlID0gdmVjMihtb2QoYV9wb3MsIDIuMCkgKiAyLjAgLSAxLjApO1xcblxcbiAgICB2ZWMyIGV4dHJ1ZGUgPSB2X2V4dHJ1ZGUgKiAocmFkaXVzICsgc3Ryb2tlX3dpZHRoKSAqIHVfZXh0cnVkZV9zY2FsZTtcXG4gICAgLy8gbXVsdGlwbHkgYV9wb3MgYnkgMC41LCBzaW5jZSB3ZSBoYWQgaXQgKiAyIGluIG9yZGVyIHRvIHNuZWFrXFxuICAgIC8vIGluIGV4dHJ1c2lvbiBkYXRhXFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGZsb29yKGFfcG9zICogMC41KSwgMCwgMSk7XFxuXFxuICAgIGlmICh1X3NjYWxlX3dpdGhfbWFwKSB7XFxuICAgICAgICBnbF9Qb3NpdGlvbi54eSArPSBleHRydWRlO1xcbiAgICB9IGVsc2Uge1xcbiAgICAgICAgZ2xfUG9zaXRpb24ueHkgKz0gZXh0cnVkZSAqIGdsX1Bvc2l0aW9uLnc7XFxuICAgIH1cXG5cXG4gICAgLy8gVGhpcyBpcyBhIG1pbmltdW0gYmx1ciBkaXN0YW5jZSB0aGF0IHNlcnZlcyBhcyBhIGZhdXgtYW50aWFsaWFzaW5nIGZvclxcbiAgICAvLyB0aGUgY2lyY2xlLiBzaW5jZSBibHVyIGlzIGEgcmF0aW8gb2YgdGhlIGNpcmNsZSdzIHNpemUgYW5kIHRoZSBpbnRlbnQgaXNcXG4gICAgLy8gdG8ga2VlcCB0aGUgYmx1ciBhdCByb3VnaGx5IDFweCwgdGhlIHR3byBhcmUgaW52ZXJzZWx5IHJlbGF0ZWQuXFxuICAgIHZfYW50aWFsaWFzYmx1ciA9IDEuMCAvIERFVklDRV9QSVhFTF9SQVRJTyAvIChyYWRpdXMgKyBzdHJva2Vfd2lkdGgpO1xcbn1cXG5cIn0sY29sbGlzaW9uQm94OntmcmFnbWVudFNvdXJjZTpcInVuaWZvcm0gZmxvYXQgdV96b29tO1xcbnVuaWZvcm0gZmxvYXQgdV9tYXh6b29tO1xcblxcbnZhcnlpbmcgZmxvYXQgdl9tYXhfem9vbTtcXG52YXJ5aW5nIGZsb2F0IHZfcGxhY2VtZW50X3pvb207XFxuXFxudm9pZCBtYWluKCkge1xcblxcbiAgICBmbG9hdCBhbHBoYSA9IDAuNTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjAsIDEuMCwgMC4wLCAxLjApICogYWxwaGE7XFxuXFxuICAgIGlmICh2X3BsYWNlbWVudF96b29tID4gdV96b29tKSB7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCkgKiBhbHBoYTtcXG4gICAgfVxcblxcbiAgICBpZiAodV96b29tID49IHZfbWF4X3pvb20pIHtcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMS4wKSAqIGFscGhhICogMC4yNTtcXG4gICAgfVxcblxcbiAgICBpZiAodl9wbGFjZW1lbnRfem9vbSA+PSB1X21heHpvb20pIHtcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wLCAwLjAsIDEuMCwgMS4wKSAqIGFscGhhICogMC4yO1xcbiAgICB9XFxufVxcblwiLHZlcnRleFNvdXJjZTpcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbmF0dHJpYnV0ZSB2ZWMyIGFfZXh0cnVkZTtcXG5hdHRyaWJ1dGUgdmVjMiBhX2RhdGE7XFxuXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbnVuaWZvcm0gZmxvYXQgdV9zY2FsZTtcXG5cXG52YXJ5aW5nIGZsb2F0IHZfbWF4X3pvb207XFxudmFyeWluZyBmbG9hdCB2X3BsYWNlbWVudF96b29tO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHZlYzQoYV9wb3MgKyBhX2V4dHJ1ZGUgLyB1X3NjYWxlLCAwLjAsIDEuMCk7XFxuXFxuICAgIHZfbWF4X3pvb20gPSBhX2RhdGEueDtcXG4gICAgdl9wbGFjZW1lbnRfem9vbSA9IGFfZGF0YS55O1xcbn1cXG5cIn0sZGVidWc6e2ZyYWdtZW50U291cmNlOlwidW5pZm9ybSBsb3dwIHZlYzQgdV9jb2xvcjtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHVfY29sb3I7XFxufVxcblwiLHZlcnRleFNvdXJjZTpcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcblxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zLCBzdGVwKDMyNzY3LjAsIGFfcG9zLngpLCAxKTtcXG59XFxuXCJ9LGZpbGw6e2ZyYWdtZW50U291cmNlOlwiI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGNvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIG9wYWNpdHk7XFxuXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVxcblwiLHZlcnRleFNvdXJjZTpcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcblxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgY29sb3JcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuXFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zLCAwLCAxKTtcXG59XFxuXCJ9LGZpbGxPdXRsaW5lOntmcmFnbWVudFNvdXJjZTpcIiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbnZhcnlpbmcgdmVjMiB2X3BvcztcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBvdXRsaW5lX2NvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbiAgICBmbG9hdCBkaXN0ID0gbGVuZ3RoKHZfcG9zIC0gZ2xfRnJhZ0Nvb3JkLnh5KTtcXG4gICAgZmxvYXQgYWxwaGEgPSBzbW9vdGhzdGVwKDEuMCwgMC4wLCBkaXN0KTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gb3V0bGluZV9jb2xvciAqIChhbHBoYSAqIG9wYWNpdHkpO1xcblxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cXG5cIix2ZXJ0ZXhTb3VyY2U6XCJhdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG5cXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxudW5pZm9ybSB2ZWMyIHVfd29ybGQ7XFxuXFxudmFyeWluZyB2ZWMyIHZfcG9zO1xcblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IG91dGxpbmVfY29sb3JcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuXFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zLCAwLCAxKTtcXG4gICAgdl9wb3MgPSAoZ2xfUG9zaXRpb24ueHkgLyBnbF9Qb3NpdGlvbi53ICsgMS4wKSAvIDIuMCAqIHVfd29ybGQ7XFxufVxcblwifSxmaWxsT3V0bGluZVBhdHRlcm46e2ZyYWdtZW50U291cmNlOlwidW5pZm9ybSB2ZWMyIHVfcGF0dGVybl90bF9hO1xcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnJfYTtcXG51bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3RsX2I7XFxudW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9icl9iO1xcbnVuaWZvcm0gZmxvYXQgdV9taXg7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTtcXG5cXG52YXJ5aW5nIHZlYzIgdl9wb3NfYTtcXG52YXJ5aW5nIHZlYzIgdl9wb3NfYjtcXG52YXJ5aW5nIHZlYzIgdl9wb3M7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbiAgICB2ZWMyIGltYWdlY29vcmQgPSBtb2Qodl9wb3NfYSwgMS4wKTtcXG4gICAgdmVjMiBwb3MgPSBtaXgodV9wYXR0ZXJuX3RsX2EsIHVfcGF0dGVybl9icl9hLCBpbWFnZWNvb3JkKTtcXG4gICAgdmVjNCBjb2xvcjEgPSB0ZXh0dXJlMkQodV9pbWFnZSwgcG9zKTtcXG5cXG4gICAgdmVjMiBpbWFnZWNvb3JkX2IgPSBtb2Qodl9wb3NfYiwgMS4wKTtcXG4gICAgdmVjMiBwb3MyID0gbWl4KHVfcGF0dGVybl90bF9iLCB1X3BhdHRlcm5fYnJfYiwgaW1hZ2Vjb29yZF9iKTtcXG4gICAgdmVjNCBjb2xvcjIgPSB0ZXh0dXJlMkQodV9pbWFnZSwgcG9zMik7XFxuXFxuICAgIC8vIGZpbmQgZGlzdGFuY2UgdG8gb3V0bGluZSBmb3IgYWxwaGEgaW50ZXJwb2xhdGlvblxcblxcbiAgICBmbG9hdCBkaXN0ID0gbGVuZ3RoKHZfcG9zIC0gZ2xfRnJhZ0Nvb3JkLnh5KTtcXG4gICAgZmxvYXQgYWxwaGEgPSBzbW9vdGhzdGVwKDEuMCwgMC4wLCBkaXN0KTtcXG5cXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gbWl4KGNvbG9yMSwgY29sb3IyLCB1X21peCkgKiBhbHBoYSAqIG9wYWNpdHk7XFxuXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVxcblwiLHZlcnRleFNvdXJjZTpcInVuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG51bmlmb3JtIHZlYzIgdV93b3JsZDtcXG51bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3NpemVfYTtcXG51bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3NpemVfYjtcXG51bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjtcXG51bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjtcXG51bmlmb3JtIGZsb2F0IHVfc2NhbGVfYTtcXG51bmlmb3JtIGZsb2F0IHVfc2NhbGVfYjtcXG51bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7XFxuXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuXFxudmFyeWluZyB2ZWMyIHZfcG9zX2E7XFxudmFyeWluZyB2ZWMyIHZfcG9zX2I7XFxudmFyeWluZyB2ZWMyIHZfcG9zO1xcblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHZlYzQoYV9wb3MsIDAsIDEpO1xcblxcbiAgICB2X3Bvc19hID0gZ2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsIHVfcGl4ZWxfY29vcmRfbG93ZXIsIHVfc2NhbGVfYSAqIHVfcGF0dGVybl9zaXplX2EsIHVfdGlsZV91bml0c190b19waXhlbHMsIGFfcG9zKTtcXG4gICAgdl9wb3NfYiA9IGdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLCB1X3BpeGVsX2Nvb3JkX2xvd2VyLCB1X3NjYWxlX2IgKiB1X3BhdHRlcm5fc2l6ZV9iLCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLCBhX3Bvcyk7XFxuXFxuICAgIHZfcG9zID0gKGdsX1Bvc2l0aW9uLnh5IC8gZ2xfUG9zaXRpb24udyArIDEuMCkgLyAyLjAgKiB1X3dvcmxkO1xcbn1cXG5cIn0sZmlsbFBhdHRlcm46e2ZyYWdtZW50U291cmNlOlwidW5pZm9ybSB2ZWMyIHVfcGF0dGVybl90bF9hO1xcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnJfYTtcXG51bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3RsX2I7XFxudW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9icl9iO1xcbnVuaWZvcm0gZmxvYXQgdV9taXg7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTtcXG5cXG52YXJ5aW5nIHZlYzIgdl9wb3NfYTtcXG52YXJ5aW5nIHZlYzIgdl9wb3NfYjtcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuXFxuICAgIHZlYzIgaW1hZ2Vjb29yZCA9IG1vZCh2X3Bvc19hLCAxLjApO1xcbiAgICB2ZWMyIHBvcyA9IG1peCh1X3BhdHRlcm5fdGxfYSwgdV9wYXR0ZXJuX2JyX2EsIGltYWdlY29vcmQpO1xcbiAgICB2ZWM0IGNvbG9yMSA9IHRleHR1cmUyRCh1X2ltYWdlLCBwb3MpO1xcblxcbiAgICB2ZWMyIGltYWdlY29vcmRfYiA9IG1vZCh2X3Bvc19iLCAxLjApO1xcbiAgICB2ZWMyIHBvczIgPSBtaXgodV9wYXR0ZXJuX3RsX2IsIHVfcGF0dGVybl9icl9iLCBpbWFnZWNvb3JkX2IpO1xcbiAgICB2ZWM0IGNvbG9yMiA9IHRleHR1cmUyRCh1X2ltYWdlLCBwb3MyKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gbWl4KGNvbG9yMSwgY29sb3IyLCB1X21peCkgKiBvcGFjaXR5O1xcblxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cXG5cIix2ZXJ0ZXhTb3VyY2U6XCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxudW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9zaXplX2E7XFxudW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9zaXplX2I7XFxudW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7XFxudW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7XFxudW5pZm9ybSBmbG9hdCB1X3NjYWxlX2E7XFxudW5pZm9ybSBmbG9hdCB1X3NjYWxlX2I7XFxudW5pZm9ybSBmbG9hdCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzO1xcblxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcblxcbnZhcnlpbmcgdmVjMiB2X3Bvc19hO1xcbnZhcnlpbmcgdmVjMiB2X3Bvc19iO1xcblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHZlYzQoYV9wb3MsIDAsIDEpO1xcblxcbiAgICB2X3Bvc19hID0gZ2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsIHVfcGl4ZWxfY29vcmRfbG93ZXIsIHVfc2NhbGVfYSAqIHVfcGF0dGVybl9zaXplX2EsIHVfdGlsZV91bml0c190b19waXhlbHMsIGFfcG9zKTtcXG4gICAgdl9wb3NfYiA9IGdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLCB1X3BpeGVsX2Nvb3JkX2xvd2VyLCB1X3NjYWxlX2IgKiB1X3BhdHRlcm5fc2l6ZV9iLCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLCBhX3Bvcyk7XFxufVxcblwifSxmaWxsRXh0cnVzaW9uOntmcmFnbWVudFNvdXJjZTpcInZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IGNvbG9yXFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJhc2VcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoZWlnaHRcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGNvbG9yXFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZfY29sb3I7XFxuXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVxcblwiLHZlcnRleFNvdXJjZTpcInVuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG51bmlmb3JtIHZlYzMgdV9saWdodGNvbG9yO1xcbnVuaWZvcm0gbG93cCB2ZWMzIHVfbGlnaHRwb3M7XFxudW5pZm9ybSBsb3dwIGZsb2F0IHVfbGlnaHRpbnRlbnNpdHk7XFxuXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuYXR0cmlidXRlIHZlYzMgYV9ub3JtYWw7XFxuYXR0cmlidXRlIGZsb2F0IGFfZWRnZWRpc3RhbmNlO1xcblxcbnZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhlaWdodFxcblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IGNvbG9yXFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJhc2VcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoZWlnaHRcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGNvbG9yXFxuXFxuICAgIGZsb2F0IGVkID0gYV9lZGdlZGlzdGFuY2U7IC8vIHVzZSBlYWNoIGF0dHJpYiBpbiBvcmRlciB0byBub3QgdHJpcCBhIFZBTyBhc3NlcnRcXG4gICAgZmxvYXQgdCA9IG1vZChhX25vcm1hbC54LCAyLjApO1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHVfbWF0cml4ICogdmVjNChhX3BvcywgdCA+IDAuMCA/IGhlaWdodCA6IGJhc2UsIDEpO1xcblxcbiAgICAvLyBSZWxhdGl2ZSBsdW1pbmFuY2UgKGhvdyBkYXJrL2JyaWdodCBpcyB0aGUgc3VyZmFjZSBjb2xvcj8pXFxuICAgIGZsb2F0IGNvbG9ydmFsdWUgPSBjb2xvci5yICogMC4yMTI2ICsgY29sb3IuZyAqIDAuNzE1MiArIGNvbG9yLmIgKiAwLjA3MjI7XFxuXFxuICAgIHZfY29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDEuMCk7XFxuXFxuICAgIC8vIEFkZCBzbGlnaHQgYW1iaWVudCBsaWdodGluZyBzbyBubyBleHRydXNpb25zIGFyZSB0b3RhbGx5IGJsYWNrXFxuICAgIHZlYzQgYW1iaWVudGxpZ2h0ID0gdmVjNCgwLjAzLCAwLjAzLCAwLjAzLCAxLjApO1xcbiAgICBjb2xvciArPSBhbWJpZW50bGlnaHQ7XFxuXFxuICAgIC8vIENhbGN1bGF0ZSBjb3ModGhldGEpLCB3aGVyZSB0aGV0YSBpcyB0aGUgYW5nbGUgYmV0d2VlbiBzdXJmYWNlIG5vcm1hbCBhbmQgZGlmZnVzZSBsaWdodCByYXlcXG4gICAgZmxvYXQgZGlyZWN0aW9uYWwgPSBjbGFtcChkb3QoYV9ub3JtYWwgLyAxNjM4NC4wLCB1X2xpZ2h0cG9zKSwgMC4wLCAxLjApO1xcblxcbiAgICAvLyBBZGp1c3QgZGlyZWN0aW9uYWwgc28gdGhhdFxcbiAgICAvLyB0aGUgcmFuZ2Ugb2YgdmFsdWVzIGZvciBoaWdobGlnaHQvc2hhZGluZyBpcyBuYXJyb3dlclxcbiAgICAvLyB3aXRoIGxvd2VyIGxpZ2h0IGludGVuc2l0eVxcbiAgICAvLyBhbmQgd2l0aCBsaWdodGVyL2JyaWdodGVyIHN1cmZhY2UgY29sb3JzXFxuICAgIGRpcmVjdGlvbmFsID0gbWl4KCgxLjAgLSB1X2xpZ2h0aW50ZW5zaXR5KSwgbWF4KCgxLjAgLSBjb2xvcnZhbHVlICsgdV9saWdodGludGVuc2l0eSksIDEuMCksIGRpcmVjdGlvbmFsKTtcXG5cXG4gICAgLy8gQWRkIGdyYWRpZW50IGFsb25nIHogYXhpcyBvZiBzaWRlIHN1cmZhY2VzXFxuICAgIGlmIChhX25vcm1hbC55ICE9IDAuMCkge1xcbiAgICAgICAgZGlyZWN0aW9uYWwgKj0gY2xhbXAoKHQgKyBiYXNlKSAqIHBvdyhoZWlnaHQgLyAxNTAuMCwgMC41KSwgbWl4KDAuNywgMC45OCwgMS4wIC0gdV9saWdodGludGVuc2l0eSksIDEuMCk7XFxuICAgIH1cXG5cXG4gICAgLy8gQXNzaWduIGZpbmFsIGNvbG9yIGJhc2VkIG9uIHN1cmZhY2UgKyBhbWJpZW50IGxpZ2h0IGNvbG9yLCBkaWZmdXNlIGxpZ2h0IGRpcmVjdGlvbmFsLCBhbmQgbGlnaHQgY29sb3JcXG4gICAgLy8gd2l0aCBsb3dlciBib3VuZHMgYWRqdXN0ZWQgdG8gaHVlIG9mIGxpZ2h0XFxuICAgIC8vIHNvIHRoYXQgc2hhZGluZyBpcyB0aW50ZWQgd2l0aCB0aGUgY29tcGxlbWVudGFyeSAob3Bwb3NpdGUpIGNvbG9yIHRvIHRoZSBsaWdodCBjb2xvclxcbiAgICB2X2NvbG9yLnIgKz0gY2xhbXAoY29sb3IuciAqIGRpcmVjdGlvbmFsICogdV9saWdodGNvbG9yLnIsIG1peCgwLjAsIDAuMywgMS4wIC0gdV9saWdodGNvbG9yLnIpLCAxLjApO1xcbiAgICB2X2NvbG9yLmcgKz0gY2xhbXAoY29sb3IuZyAqIGRpcmVjdGlvbmFsICogdV9saWdodGNvbG9yLmcsIG1peCgwLjAsIDAuMywgMS4wIC0gdV9saWdodGNvbG9yLmcpLCAxLjApO1xcbiAgICB2X2NvbG9yLmIgKz0gY2xhbXAoY29sb3IuYiAqIGRpcmVjdGlvbmFsICogdV9saWdodGNvbG9yLmIsIG1peCgwLjAsIDAuMywgMS4wIC0gdV9saWdodGNvbG9yLmIpLCAxLjApO1xcbn1cXG5cIn0sZmlsbEV4dHJ1c2lvblBhdHRlcm46e2ZyYWdtZW50U291cmNlOlwidW5pZm9ybSB2ZWMyIHVfcGF0dGVybl90bF9hO1xcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnJfYTtcXG51bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3RsX2I7XFxudW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9icl9iO1xcbnVuaWZvcm0gZmxvYXQgdV9taXg7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTtcXG5cXG52YXJ5aW5nIHZlYzIgdl9wb3NfYTtcXG52YXJ5aW5nIHZlYzIgdl9wb3NfYjtcXG52YXJ5aW5nIHZlYzQgdl9saWdodGluZztcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoZWlnaHRcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmFzZVxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhlaWdodFxcblxcbiAgICB2ZWMyIGltYWdlY29vcmQgPSBtb2Qodl9wb3NfYSwgMS4wKTtcXG4gICAgdmVjMiBwb3MgPSBtaXgodV9wYXR0ZXJuX3RsX2EsIHVfcGF0dGVybl9icl9hLCBpbWFnZWNvb3JkKTtcXG4gICAgdmVjNCBjb2xvcjEgPSB0ZXh0dXJlMkQodV9pbWFnZSwgcG9zKTtcXG5cXG4gICAgdmVjMiBpbWFnZWNvb3JkX2IgPSBtb2Qodl9wb3NfYiwgMS4wKTtcXG4gICAgdmVjMiBwb3MyID0gbWl4KHVfcGF0dGVybl90bF9iLCB1X3BhdHRlcm5fYnJfYiwgaW1hZ2Vjb29yZF9iKTtcXG4gICAgdmVjNCBjb2xvcjIgPSB0ZXh0dXJlMkQodV9pbWFnZSwgcG9zMik7XFxuXFxuICAgIHZlYzQgbWl4ZWRDb2xvciA9IG1peChjb2xvcjEsIGNvbG9yMiwgdV9taXgpO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBtaXhlZENvbG9yICogdl9saWdodGluZztcXG5cXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XFxuXCIsdmVydGV4U291cmNlOlwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9hO1xcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9iO1xcbnVuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO1xcbnVuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO1xcbnVuaWZvcm0gZmxvYXQgdV9zY2FsZV9hO1xcbnVuaWZvcm0gZmxvYXQgdV9zY2FsZV9iO1xcbnVuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVscztcXG51bmlmb3JtIGZsb2F0IHVfaGVpZ2h0X2ZhY3RvcjtcXG5cXG51bmlmb3JtIHZlYzMgdV9saWdodGNvbG9yO1xcbnVuaWZvcm0gbG93cCB2ZWMzIHVfbGlnaHRwb3M7XFxudW5pZm9ybSBsb3dwIGZsb2F0IHVfbGlnaHRpbnRlbnNpdHk7XFxuXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuYXR0cmlidXRlIHZlYzMgYV9ub3JtYWw7XFxuYXR0cmlidXRlIGZsb2F0IGFfZWRnZWRpc3RhbmNlO1xcblxcbnZhcnlpbmcgdmVjMiB2X3Bvc19hO1xcbnZhcnlpbmcgdmVjMiB2X3Bvc19iO1xcbnZhcnlpbmcgdmVjNCB2X2xpZ2h0aW5nO1xcbnZhcnlpbmcgZmxvYXQgdl9kaXJlY3Rpb25hbDtcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoZWlnaHRcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmFzZVxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhlaWdodFxcblxcbiAgICBmbG9hdCB0ID0gbW9kKGFfbm9ybWFsLngsIDIuMCk7XFxuICAgIGZsb2F0IHogPSB0ID4gMC4wID8gaGVpZ2h0IDogYmFzZTtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHZlYzQoYV9wb3MsIHosIDEpO1xcblxcbiAgICB2ZWMyIHBvcyA9IGFfbm9ybWFsLnggPT0gMS4wICYmIGFfbm9ybWFsLnkgPT0gMC4wICYmIGFfbm9ybWFsLnogPT0gMTYzODQuMFxcbiAgICAgICAgPyBhX3BvcyAvLyBleHRydXNpb24gdG9wXFxuICAgICAgICA6IHZlYzIoYV9lZGdlZGlzdGFuY2UsIHogKiB1X2hlaWdodF9mYWN0b3IpOyAvLyBleHRydXNpb24gc2lkZVxcblxcbiAgICB2X3Bvc19hID0gZ2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsIHVfcGl4ZWxfY29vcmRfbG93ZXIsIHVfc2NhbGVfYSAqIHVfcGF0dGVybl9zaXplX2EsIHVfdGlsZV91bml0c190b19waXhlbHMsIHBvcyk7XFxuICAgIHZfcG9zX2IgPSBnZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlciwgdV9waXhlbF9jb29yZF9sb3dlciwgdV9zY2FsZV9iICogdV9wYXR0ZXJuX3NpemVfYiwgdV90aWxlX3VuaXRzX3RvX3BpeGVscywgcG9zKTtcXG5cXG4gICAgdl9saWdodGluZyA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMS4wKTtcXG4gICAgZmxvYXQgZGlyZWN0aW9uYWwgPSBjbGFtcChkb3QoYV9ub3JtYWwgLyAxNjM4My4wLCB1X2xpZ2h0cG9zKSwgMC4wLCAxLjApO1xcbiAgICBkaXJlY3Rpb25hbCA9IG1peCgoMS4wIC0gdV9saWdodGludGVuc2l0eSksIG1heCgoMC41ICsgdV9saWdodGludGVuc2l0eSksIDEuMCksIGRpcmVjdGlvbmFsKTtcXG5cXG4gICAgaWYgKGFfbm9ybWFsLnkgIT0gMC4wKSB7XFxuICAgICAgICBkaXJlY3Rpb25hbCAqPSBjbGFtcCgodCArIGJhc2UpICogcG93KGhlaWdodCAvIDE1MC4wLCAwLjUpLCBtaXgoMC43LCAwLjk4LCAxLjAgLSB1X2xpZ2h0aW50ZW5zaXR5KSwgMS4wKTtcXG4gICAgfVxcblxcbiAgICB2X2xpZ2h0aW5nLnJnYiArPSBjbGFtcChkaXJlY3Rpb25hbCAqIHVfbGlnaHRjb2xvciwgbWl4KHZlYzMoMC4wKSwgdmVjMygwLjMpLCAxLjAgLSB1X2xpZ2h0Y29sb3IpLCB2ZWMzKDEuMCkpO1xcbn1cXG5cIn0sZXh0cnVzaW9uVGV4dHVyZTp7ZnJhZ21lbnRTb3VyY2U6XCJ1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7XFxudW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7XFxuXFxudmFyeWluZyB2ZWMyIHZfcG9zO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVfdGV4dHVyZSwgdl9wb3MpICogdV9vcGFjaXR5O1xcblxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApO1xcbiNlbmRpZlxcbn1cXG5cIix2ZXJ0ZXhTb3VyY2U6XCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxudW5pZm9ybSBpbnQgdV94ZGltO1xcbnVuaWZvcm0gaW50IHVfeWRpbTtcXG5hdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG52YXJ5aW5nIHZlYzIgdl9wb3M7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICBnbF9Qb3NpdGlvbiA9IHVfbWF0cml4ICogdmVjNChhX3BvcywgMCwgMSk7XFxuXFxuICAgIHZfcG9zLnggPSBhX3Bvcy54IC8gZmxvYXQodV94ZGltKTtcXG4gICAgdl9wb3MueSA9IDEuMCAtIGFfcG9zLnkgLyBmbG9hdCh1X3lkaW0pO1xcbn1cXG5cIn0sbGluZTp7ZnJhZ21lbnRTb3VyY2U6XCIjcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG52YXJ5aW5nIHZlYzIgdl93aWR0aDI7XFxudmFyeWluZyB2ZWMyIHZfbm9ybWFsO1xcbnZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBjb2xvclxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuXFxuICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2Ugb2YgdGhlIHBpeGVsIGZyb20gdGhlIGxpbmUgaW4gcGl4ZWxzLlxcbiAgICBmbG9hdCBkaXN0ID0gbGVuZ3RoKHZfbm9ybWFsKSAqIHZfd2lkdGgyLnM7XFxuXFxuICAgIC8vIENhbGN1bGF0ZSB0aGUgYW50aWFsaWFzaW5nIGZhZGUgZmFjdG9yLiBUaGlzIGlzIGVpdGhlciB3aGVuIGZhZGluZyBpblxcbiAgICAvLyB0aGUgbGluZSBpbiBjYXNlIG9mIGFuIG9mZnNldCBsaW5lICh2X3dpZHRoMi50KSBvciB3aGVuIGZhZGluZyBvdXRcXG4gICAgLy8gKHZfd2lkdGgyLnMpXFxuICAgIGZsb2F0IGJsdXIyID0gKGJsdXIgKyAxLjAgLyBERVZJQ0VfUElYRUxfUkFUSU8pICogdl9nYW1tYV9zY2FsZTtcXG4gICAgZmxvYXQgYWxwaGEgPSBjbGFtcChtaW4oZGlzdCAtICh2X3dpZHRoMi50IC0gYmx1cjIpLCB2X3dpZHRoMi5zIC0gZGlzdCkgLyBibHVyMiwgMC4wLCAxLjApO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIChhbHBoYSAqIG9wYWNpdHkpO1xcblxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cXG5cIix2ZXJ0ZXhTb3VyY2U6XCJcXG5cXG4vLyB0aGUgZGlzdGFuY2Ugb3ZlciB3aGljaCB0aGUgbGluZSBlZGdlIGZhZGVzIG91dC5cXG4vLyBSZXRpbmEgZGV2aWNlcyBuZWVkIGEgc21hbGxlciBkaXN0YW5jZSB0byBhdm9pZCBhbGlhc2luZy5cXG4jZGVmaW5lIEFOVElBTElBU0lORyAxLjAgLyBERVZJQ0VfUElYRUxfUkFUSU8gLyAyLjBcXG5cXG4vLyBmbG9vcigxMjcgLyAyKSA9PSA2My4wXFxuLy8gdGhlIG1heGltdW0gYWxsb3dlZCBtaXRlciBsaW1pdCBpcyAyLjAgYXQgdGhlIG1vbWVudC4gdGhlIGV4dHJ1ZGUgbm9ybWFsIGlzXFxuLy8gc3RvcmVkIGluIGEgYnl0ZSAoLTEyOC4uMTI3KS4gd2Ugc2NhbGUgcmVndWxhciBub3JtYWxzIHVwIHRvIGxlbmd0aCA2MywgYnV0XFxuLy8gdGhlcmUgYXJlIGFsc28gXFxcInNwZWNpYWxcXFwiIG5vcm1hbHMgdGhhdCBoYXZlIGEgYmlnZ2VyIGxlbmd0aCAob2YgdXAgdG8gMTI2IGluXFxuLy8gdGhpcyBjYXNlKS5cXG4vLyAjZGVmaW5lIHNjYWxlIDYzLjBcXG4jZGVmaW5lIHNjYWxlIDAuMDE1ODczMDE2XFxuXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuYXR0cmlidXRlIHZlYzQgYV9kYXRhO1xcblxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG51bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9yYXRpbztcXG51bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV93aWR0aDtcXG51bmlmb3JtIHZlYzIgdV9nbF91bml0c190b19waXhlbHM7XFxuXFxudmFyeWluZyB2ZWMyIHZfbm9ybWFsO1xcbnZhcnlpbmcgdmVjMiB2X3dpZHRoMjtcXG52YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGNvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9mZnNldFxcblxcbiAgICB2ZWMyIGFfZXh0cnVkZSA9IGFfZGF0YS54eSAtIDEyOC4wO1xcbiAgICBmbG9hdCBhX2RpcmVjdGlvbiA9IG1vZChhX2RhdGEueiwgNC4wKSAtIDEuMDtcXG5cXG4gICAgLy8gV2Ugc3RvcmUgdGhlIHRleHR1cmUgbm9ybWFscyBpbiB0aGUgbW9zdCBpbnNpZ25pZmljYW50IGJpdFxcbiAgICAvLyB0cmFuc2Zvcm0geSBzbyB0aGF0IDAgPT4gLTEgYW5kIDEgPT4gMVxcbiAgICAvLyBJbiB0aGUgdGV4dHVyZSBub3JtYWwsIHggaXMgMCBpZiB0aGUgbm9ybWFsIHBvaW50cyBzdHJhaWdodCB1cC9kb3duIGFuZCAxIGlmIGl0J3MgYSByb3VuZCBjYXBcXG4gICAgLy8geSBpcyAxIGlmIHRoZSBub3JtYWwgcG9pbnRzIHVwLCBhbmQgLTEgaWYgaXQgcG9pbnRzIGRvd25cXG4gICAgbWVkaXVtcCB2ZWMyIG5vcm1hbCA9IG1vZChhX3BvcywgMi4wKTtcXG4gICAgbm9ybWFsLnkgPSBzaWduKG5vcm1hbC55IC0gMC41KTtcXG4gICAgdl9ub3JtYWwgPSBub3JtYWw7XFxuXFxuXFxuICAgIC8vIHRoZXNlIHRyYW5zZm9ybWF0aW9ucyB1c2VkIHRvIGJlIGFwcGxpZWQgaW4gdGhlIEpTIGFuZCBuYXRpdmUgY29kZSBiYXNlcy4gXFxuICAgIC8vIG1vdmVkIHRoZW0gaW50byB0aGUgc2hhZGVyIGZvciBjbGFyaXR5IGFuZCBzaW1wbGljaXR5LiBcXG4gICAgZ2Fwd2lkdGggPSBnYXB3aWR0aCAvIDIuMDtcXG4gICAgZmxvYXQgd2lkdGggPSB1X3dpZHRoIC8gMi4wO1xcbiAgICBvZmZzZXQgPSAtMS4wICogb2Zmc2V0OyBcXG5cXG4gICAgZmxvYXQgaW5zZXQgPSBnYXB3aWR0aCArIChnYXB3aWR0aCA+IDAuMCA/IEFOVElBTElBU0lORyA6IDAuMCk7XFxuICAgIGZsb2F0IG91dHNldCA9IGdhcHdpZHRoICsgd2lkdGggKiAoZ2Fwd2lkdGggPiAwLjAgPyAyLjAgOiAxLjApICsgQU5USUFMSUFTSU5HO1xcblxcbiAgICAvLyBTY2FsZSB0aGUgZXh0cnVzaW9uIHZlY3RvciBkb3duIHRvIGEgbm9ybWFsIGFuZCB0aGVuIHVwIGJ5IHRoZSBsaW5lIHdpZHRoXFxuICAgIC8vIG9mIHRoaXMgdmVydGV4LlxcbiAgICBtZWRpdW1wIHZlYzIgZGlzdCA9IG91dHNldCAqIGFfZXh0cnVkZSAqIHNjYWxlO1xcblxcbiAgICAvLyBDYWxjdWxhdGUgdGhlIG9mZnNldCB3aGVuIGRyYXdpbmcgYSBsaW5lIHRoYXQgaXMgdG8gdGhlIHNpZGUgb2YgdGhlIGFjdHVhbCBsaW5lLlxcbiAgICAvLyBXZSBkbyB0aGlzIGJ5IGNyZWF0aW5nIGEgdmVjdG9yIHRoYXQgcG9pbnRzIHRvd2FyZHMgdGhlIGV4dHJ1ZGUsIGJ1dCByb3RhdGVcXG4gICAgLy8gaXQgd2hlbiB3ZSdyZSBkcmF3aW5nIHJvdW5kIGVuZCBwb2ludHMgKGFfZGlyZWN0aW9uID0gLTEgb3IgMSkgc2luY2UgdGhlaXJcXG4gICAgLy8gZXh0cnVkZSB2ZWN0b3IgcG9pbnRzIGluIGFub3RoZXIgZGlyZWN0aW9uLlxcbiAgICBtZWRpdW1wIGZsb2F0IHUgPSAwLjUgKiBhX2RpcmVjdGlvbjtcXG4gICAgbWVkaXVtcCBmbG9hdCB0ID0gMS4wIC0gYWJzKHUpO1xcbiAgICBtZWRpdW1wIHZlYzIgb2Zmc2V0MiA9IG9mZnNldCAqIGFfZXh0cnVkZSAqIHNjYWxlICogbm9ybWFsLnkgKiBtYXQyKHQsIC11LCB1LCB0KTtcXG5cXG4gICAgLy8gUmVtb3ZlIHRoZSB0ZXh0dXJlIG5vcm1hbCBiaXQgdG8gZ2V0IHRoZSBwb3NpdGlvblxcbiAgICB2ZWMyIHBvcyA9IGZsb29yKGFfcG9zICogMC41KTtcXG5cXG4gICAgdmVjNCBwcm9qZWN0ZWRfZXh0cnVkZSA9IHVfbWF0cml4ICogdmVjNChkaXN0IC8gdV9yYXRpbywgMC4wLCAwLjApO1xcbiAgICBnbF9Qb3NpdGlvbiA9IHVfbWF0cml4ICogdmVjNChwb3MgKyBvZmZzZXQyIC8gdV9yYXRpbywgMC4wLCAxLjApICsgcHJvamVjdGVkX2V4dHJ1ZGU7XFxuXFxuICAgIC8vIGNhbGN1bGF0ZSBob3cgbXVjaCB0aGUgcGVyc3BlY3RpdmUgdmlldyBzcXVpc2hlcyBvciBzdHJldGNoZXMgdGhlIGV4dHJ1ZGVcXG4gICAgZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZSA9IGxlbmd0aChkaXN0KTtcXG4gICAgZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZSA9IGxlbmd0aChwcm9qZWN0ZWRfZXh0cnVkZS54eSAvIGdsX1Bvc2l0aW9uLncgKiB1X2dsX3VuaXRzX3RvX3BpeGVscyk7XFxuICAgIHZfZ2FtbWFfc2NhbGUgPSBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlIC8gZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZTtcXG5cXG4gICAgdl93aWR0aDIgPSB2ZWMyKG91dHNldCwgaW5zZXQpO1xcbn1cXG5cIn0sbGluZVBhdHRlcm46e2ZyYWdtZW50U291cmNlOlwidW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9zaXplX2E7XFxudW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9zaXplX2I7XFxudW5pZm9ybSB2ZWMyIHVfcGF0dGVybl90bF9hO1xcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnJfYTtcXG51bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3RsX2I7XFxudW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9icl9iO1xcbnVuaWZvcm0gZmxvYXQgdV9mYWRlO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7XFxuXFxudmFyeWluZyB2ZWMyIHZfbm9ybWFsO1xcbnZhcnlpbmcgdmVjMiB2X3dpZHRoMjtcXG52YXJ5aW5nIGZsb2F0IHZfbGluZXNvZmFyO1xcbnZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTtcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuXFxuICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2Ugb2YgdGhlIHBpeGVsIGZyb20gdGhlIGxpbmUgaW4gcGl4ZWxzLlxcbiAgICBmbG9hdCBkaXN0ID0gbGVuZ3RoKHZfbm9ybWFsKSAqIHZfd2lkdGgyLnM7XFxuXFxuICAgIC8vIENhbGN1bGF0ZSB0aGUgYW50aWFsaWFzaW5nIGZhZGUgZmFjdG9yLiBUaGlzIGlzIGVpdGhlciB3aGVuIGZhZGluZyBpblxcbiAgICAvLyB0aGUgbGluZSBpbiBjYXNlIG9mIGFuIG9mZnNldCBsaW5lICh2X3dpZHRoMi50KSBvciB3aGVuIGZhZGluZyBvdXRcXG4gICAgLy8gKHZfd2lkdGgyLnMpXFxuICAgIGZsb2F0IGJsdXIyID0gKGJsdXIgKyAxLjAgLyBERVZJQ0VfUElYRUxfUkFUSU8pICogdl9nYW1tYV9zY2FsZTtcXG4gICAgZmxvYXQgYWxwaGEgPSBjbGFtcChtaW4oZGlzdCAtICh2X3dpZHRoMi50IC0gYmx1cjIpLCB2X3dpZHRoMi5zIC0gZGlzdCkgLyBibHVyMiwgMC4wLCAxLjApO1xcblxcbiAgICBmbG9hdCB4X2EgPSBtb2Qodl9saW5lc29mYXIgLyB1X3BhdHRlcm5fc2l6ZV9hLngsIDEuMCk7XFxuICAgIGZsb2F0IHhfYiA9IG1vZCh2X2xpbmVzb2ZhciAvIHVfcGF0dGVybl9zaXplX2IueCwgMS4wKTtcXG4gICAgZmxvYXQgeV9hID0gMC41ICsgKHZfbm9ybWFsLnkgKiB2X3dpZHRoMi5zIC8gdV9wYXR0ZXJuX3NpemVfYS55KTtcXG4gICAgZmxvYXQgeV9iID0gMC41ICsgKHZfbm9ybWFsLnkgKiB2X3dpZHRoMi5zIC8gdV9wYXR0ZXJuX3NpemVfYi55KTtcXG4gICAgdmVjMiBwb3NfYSA9IG1peCh1X3BhdHRlcm5fdGxfYSwgdV9wYXR0ZXJuX2JyX2EsIHZlYzIoeF9hLCB5X2EpKTtcXG4gICAgdmVjMiBwb3NfYiA9IG1peCh1X3BhdHRlcm5fdGxfYiwgdV9wYXR0ZXJuX2JyX2IsIHZlYzIoeF9iLCB5X2IpKTtcXG5cXG4gICAgdmVjNCBjb2xvciA9IG1peCh0ZXh0dXJlMkQodV9pbWFnZSwgcG9zX2EpLCB0ZXh0dXJlMkQodV9pbWFnZSwgcG9zX2IpLCB1X2ZhZGUpO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIGFscGhhICogb3BhY2l0eTtcXG5cXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XFxuXCIsdmVydGV4U291cmNlOlwiLy8gZmxvb3IoMTI3IC8gMikgPT0gNjMuMFxcbi8vIHRoZSBtYXhpbXVtIGFsbG93ZWQgbWl0ZXIgbGltaXQgaXMgMi4wIGF0IHRoZSBtb21lbnQuIHRoZSBleHRydWRlIG5vcm1hbCBpc1xcbi8vIHN0b3JlZCBpbiBhIGJ5dGUgKC0xMjguLjEyNykuIHdlIHNjYWxlIHJlZ3VsYXIgbm9ybWFscyB1cCB0byBsZW5ndGggNjMsIGJ1dFxcbi8vIHRoZXJlIGFyZSBhbHNvIFxcXCJzcGVjaWFsXFxcIiBub3JtYWxzIHRoYXQgaGF2ZSBhIGJpZ2dlciBsZW5ndGggKG9mIHVwIHRvIDEyNiBpblxcbi8vIHRoaXMgY2FzZSkuXFxuLy8gI2RlZmluZSBzY2FsZSA2My4wXFxuI2RlZmluZSBzY2FsZSAwLjAxNTg3MzAxNlxcblxcbi8vIFdlIHNjYWxlIHRoZSBkaXN0YW5jZSBiZWZvcmUgYWRkaW5nIGl0IHRvIHRoZSBidWZmZXJzIHNvIHRoYXQgd2UgY2FuIHN0b3JlXFxuLy8gbG9uZyBkaXN0YW5jZXMgZm9yIGxvbmcgc2VnbWVudHMuIFVzZSB0aGlzIHZhbHVlIHRvIHVuc2NhbGUgdGhlIGRpc3RhbmNlLlxcbiNkZWZpbmUgTElORV9ESVNUQU5DRV9TQ0FMRSAyLjBcXG5cXG4vLyB0aGUgZGlzdGFuY2Ugb3ZlciB3aGljaCB0aGUgbGluZSBlZGdlIGZhZGVzIG91dC5cXG4vLyBSZXRpbmEgZGV2aWNlcyBuZWVkIGEgc21hbGxlciBkaXN0YW5jZSB0byBhdm9pZCBhbGlhc2luZy5cXG4jZGVmaW5lIEFOVElBTElBU0lORyAxLjAgLyBERVZJQ0VfUElYRUxfUkFUSU8gLyAyLjBcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG5hdHRyaWJ1dGUgdmVjNCBhX2RhdGE7XFxuXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbnVuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X3JhdGlvO1xcbnVuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X3dpZHRoO1xcbnVuaWZvcm0gdmVjMiB1X2dsX3VuaXRzX3RvX3BpeGVscztcXG5cXG52YXJ5aW5nIHZlYzIgdl9ub3JtYWw7XFxudmFyeWluZyB2ZWMyIHZfd2lkdGgyO1xcbnZhcnlpbmcgZmxvYXQgdl9saW5lc29mYXI7XFxudmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO1xcblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG5cXG4gICAgdmVjMiBhX2V4dHJ1ZGUgPSBhX2RhdGEueHkgLSAxMjguMDtcXG4gICAgZmxvYXQgYV9kaXJlY3Rpb24gPSBtb2QoYV9kYXRhLnosIDQuMCkgLSAxLjA7XFxuICAgIGZsb2F0IGFfbGluZXNvZmFyID0gKGZsb29yKGFfZGF0YS56IC8gNC4wKSArIGFfZGF0YS53ICogNjQuMCkgKiBMSU5FX0RJU1RBTkNFX1NDQUxFO1xcblxcbiAgICAvLyBXZSBzdG9yZSB0aGUgdGV4dHVyZSBub3JtYWxzIGluIHRoZSBtb3N0IGluc2lnbmlmaWNhbnQgYml0XFxuICAgIC8vIHRyYW5zZm9ybSB5IHNvIHRoYXQgMCA9PiAtMSBhbmQgMSA9PiAxXFxuICAgIC8vIEluIHRoZSB0ZXh0dXJlIG5vcm1hbCwgeCBpcyAwIGlmIHRoZSBub3JtYWwgcG9pbnRzIHN0cmFpZ2h0IHVwL2Rvd24gYW5kIDEgaWYgaXQncyBhIHJvdW5kIGNhcFxcbiAgICAvLyB5IGlzIDEgaWYgdGhlIG5vcm1hbCBwb2ludHMgdXAsIGFuZCAtMSBpZiBpdCBwb2ludHMgZG93blxcbiAgICBtZWRpdW1wIHZlYzIgbm9ybWFsID0gbW9kKGFfcG9zLCAyLjApO1xcbiAgICBub3JtYWwueSA9IHNpZ24obm9ybWFsLnkgLSAwLjUpO1xcbiAgICB2X25vcm1hbCA9IG5vcm1hbDtcXG5cXG4gICAgLy8gdGhlc2UgdHJhbnNmb3JtYXRpb25zIHVzZWQgdG8gYmUgYXBwbGllZCBpbiB0aGUgSlMgYW5kIG5hdGl2ZSBjb2RlIGJhc2VzLiBcXG4gICAgLy8gbW92ZWQgdGhlbSBpbnRvIHRoZSBzaGFkZXIgZm9yIGNsYXJpdHkgYW5kIHNpbXBsaWNpdHkuIFxcbiAgICBnYXB3aWR0aCA9IGdhcHdpZHRoIC8gMi4wO1xcbiAgICBmbG9hdCB3aWR0aCA9IHVfd2lkdGggLyAyLjA7XFxuICAgIG9mZnNldCA9IC0xLjAgKiBvZmZzZXQ7IFxcblxcbiAgICBmbG9hdCBpbnNldCA9IGdhcHdpZHRoICsgKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtcXG4gICAgZmxvYXQgb3V0c2V0ID0gZ2Fwd2lkdGggKyB3aWR0aCAqIChnYXB3aWR0aCA+IDAuMCA/IDIuMCA6IDEuMCkgKyBBTlRJQUxJQVNJTkc7XFxuXFxuICAgIC8vIFNjYWxlIHRoZSBleHRydXNpb24gdmVjdG9yIGRvd24gdG8gYSBub3JtYWwgYW5kIHRoZW4gdXAgYnkgdGhlIGxpbmUgd2lkdGhcXG4gICAgLy8gb2YgdGhpcyB2ZXJ0ZXguXFxuICAgIG1lZGl1bXAgdmVjMiBkaXN0ID0gb3V0c2V0ICogYV9leHRydWRlICogc2NhbGU7XFxuXFxuICAgIC8vIENhbGN1bGF0ZSB0aGUgb2Zmc2V0IHdoZW4gZHJhd2luZyBhIGxpbmUgdGhhdCBpcyB0byB0aGUgc2lkZSBvZiB0aGUgYWN0dWFsIGxpbmUuXFxuICAgIC8vIFdlIGRvIHRoaXMgYnkgY3JlYXRpbmcgYSB2ZWN0b3IgdGhhdCBwb2ludHMgdG93YXJkcyB0aGUgZXh0cnVkZSwgYnV0IHJvdGF0ZVxcbiAgICAvLyBpdCB3aGVuIHdlJ3JlIGRyYXdpbmcgcm91bmQgZW5kIHBvaW50cyAoYV9kaXJlY3Rpb24gPSAtMSBvciAxKSBzaW5jZSB0aGVpclxcbiAgICAvLyBleHRydWRlIHZlY3RvciBwb2ludHMgaW4gYW5vdGhlciBkaXJlY3Rpb24uXFxuICAgIG1lZGl1bXAgZmxvYXQgdSA9IDAuNSAqIGFfZGlyZWN0aW9uO1xcbiAgICBtZWRpdW1wIGZsb2F0IHQgPSAxLjAgLSBhYnModSk7XFxuICAgIG1lZGl1bXAgdmVjMiBvZmZzZXQyID0gb2Zmc2V0ICogYV9leHRydWRlICogc2NhbGUgKiBub3JtYWwueSAqIG1hdDIodCwgLXUsIHUsIHQpO1xcblxcbiAgICAvLyBSZW1vdmUgdGhlIHRleHR1cmUgbm9ybWFsIGJpdCB0byBnZXQgdGhlIHBvc2l0aW9uXFxuICAgIHZlYzIgcG9zID0gZmxvb3IoYV9wb3MgKiAwLjUpO1xcblxcbiAgICB2ZWM0IHByb2plY3RlZF9leHRydWRlID0gdV9tYXRyaXggKiB2ZWM0KGRpc3QgLyB1X3JhdGlvLCAwLjAsIDAuMCk7XFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KHBvcyArIG9mZnNldDIgLyB1X3JhdGlvLCAwLjAsIDEuMCkgKyBwcm9qZWN0ZWRfZXh0cnVkZTtcXG5cXG4gICAgLy8gY2FsY3VsYXRlIGhvdyBtdWNoIHRoZSBwZXJzcGVjdGl2ZSB2aWV3IHNxdWlzaGVzIG9yIHN0cmV0Y2hlcyB0aGUgZXh0cnVkZVxcbiAgICBmbG9hdCBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlID0gbGVuZ3RoKGRpc3QpO1xcbiAgICBmbG9hdCBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlID0gbGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5IC8gZ2xfUG9zaXRpb24udyAqIHVfZ2xfdW5pdHNfdG9fcGl4ZWxzKTtcXG4gICAgdl9nYW1tYV9zY2FsZSA9IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmUgLyBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO1xcblxcbiAgICB2X2xpbmVzb2ZhciA9IGFfbGluZXNvZmFyO1xcbiAgICB2X3dpZHRoMiA9IHZlYzIob3V0c2V0LCBpbnNldCk7XFxufVxcblwifSxsaW5lU0RGOntmcmFnbWVudFNvdXJjZTpcIlxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7XFxudW5pZm9ybSBmbG9hdCB1X3NkZmdhbW1hO1xcbnVuaWZvcm0gZmxvYXQgdV9taXg7XFxuXFxudmFyeWluZyB2ZWMyIHZfbm9ybWFsO1xcbnZhcnlpbmcgdmVjMiB2X3dpZHRoMjtcXG52YXJ5aW5nIHZlYzIgdl90ZXhfYTtcXG52YXJ5aW5nIHZlYzIgdl90ZXhfYjtcXG52YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgY29sb3JcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIG9mIHRoZSBwaXhlbCBmcm9tIHRoZSBsaW5lIGluIHBpeGVscy5cXG4gICAgZmxvYXQgZGlzdCA9IGxlbmd0aCh2X25vcm1hbCkgKiB2X3dpZHRoMi5zO1xcblxcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGFudGlhbGlhc2luZyBmYWRlIGZhY3Rvci4gVGhpcyBpcyBlaXRoZXIgd2hlbiBmYWRpbmcgaW5cXG4gICAgLy8gdGhlIGxpbmUgaW4gY2FzZSBvZiBhbiBvZmZzZXQgbGluZSAodl93aWR0aDIudCkgb3Igd2hlbiBmYWRpbmcgb3V0XFxuICAgIC8vICh2X3dpZHRoMi5zKVxcbiAgICBmbG9hdCBibHVyMiA9IChibHVyICsgMS4wIC8gREVWSUNFX1BJWEVMX1JBVElPKSAqIHZfZ2FtbWFfc2NhbGU7XFxuICAgIGZsb2F0IGFscGhhID0gY2xhbXAobWluKGRpc3QgLSAodl93aWR0aDIudCAtIGJsdXIyKSwgdl93aWR0aDIucyAtIGRpc3QpIC8gYmx1cjIsIDAuMCwgMS4wKTtcXG5cXG4gICAgZmxvYXQgc2RmZGlzdF9hID0gdGV4dHVyZTJEKHVfaW1hZ2UsIHZfdGV4X2EpLmE7XFxuICAgIGZsb2F0IHNkZmRpc3RfYiA9IHRleHR1cmUyRCh1X2ltYWdlLCB2X3RleF9iKS5hO1xcbiAgICBmbG9hdCBzZGZkaXN0ID0gbWl4KHNkZmRpc3RfYSwgc2RmZGlzdF9iLCB1X21peCk7XFxuICAgIGFscGhhICo9IHNtb290aHN0ZXAoMC41IC0gdV9zZGZnYW1tYSwgMC41ICsgdV9zZGZnYW1tYSwgc2RmZGlzdCk7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yICogKGFscGhhICogb3BhY2l0eSk7XFxuXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVxcblwiLHZlcnRleFNvdXJjZTpcIi8vIGZsb29yKDEyNyAvIDIpID09IDYzLjBcXG4vLyB0aGUgbWF4aW11bSBhbGxvd2VkIG1pdGVyIGxpbWl0IGlzIDIuMCBhdCB0aGUgbW9tZW50LiB0aGUgZXh0cnVkZSBub3JtYWwgaXNcXG4vLyBzdG9yZWQgaW4gYSBieXRlICgtMTI4Li4xMjcpLiB3ZSBzY2FsZSByZWd1bGFyIG5vcm1hbHMgdXAgdG8gbGVuZ3RoIDYzLCBidXRcXG4vLyB0aGVyZSBhcmUgYWxzbyBcXFwic3BlY2lhbFxcXCIgbm9ybWFscyB0aGF0IGhhdmUgYSBiaWdnZXIgbGVuZ3RoIChvZiB1cCB0byAxMjYgaW5cXG4vLyB0aGlzIGNhc2UpLlxcbi8vICNkZWZpbmUgc2NhbGUgNjMuMFxcbiNkZWZpbmUgc2NhbGUgMC4wMTU4NzMwMTZcXG5cXG4vLyBXZSBzY2FsZSB0aGUgZGlzdGFuY2UgYmVmb3JlIGFkZGluZyBpdCB0byB0aGUgYnVmZmVycyBzbyB0aGF0IHdlIGNhbiBzdG9yZVxcbi8vIGxvbmcgZGlzdGFuY2VzIGZvciBsb25nIHNlZ21lbnRzLiBVc2UgdGhpcyB2YWx1ZSB0byB1bnNjYWxlIHRoZSBkaXN0YW5jZS5cXG4jZGVmaW5lIExJTkVfRElTVEFOQ0VfU0NBTEUgMi4wXFxuXFxuLy8gdGhlIGRpc3RhbmNlIG92ZXIgd2hpY2ggdGhlIGxpbmUgZWRnZSBmYWRlcyBvdXQuXFxuLy8gUmV0aW5hIGRldmljZXMgbmVlZCBhIHNtYWxsZXIgZGlzdGFuY2UgdG8gYXZvaWQgYWxpYXNpbmcuXFxuI2RlZmluZSBBTlRJQUxJQVNJTkcgMS4wIC8gREVWSUNFX1BJWEVMX1JBVElPIC8gMi4wXFxuXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuYXR0cmlidXRlIHZlYzQgYV9kYXRhO1xcblxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG51bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9yYXRpbztcXG51bmlmb3JtIHZlYzIgdV9wYXR0ZXJuc2NhbGVfYTtcXG51bmlmb3JtIGZsb2F0IHVfdGV4X3lfYTtcXG51bmlmb3JtIHZlYzIgdV9wYXR0ZXJuc2NhbGVfYjtcXG51bmlmb3JtIGZsb2F0IHVfdGV4X3lfYjtcXG51bmlmb3JtIHZlYzIgdV9nbF91bml0c190b19waXhlbHM7XFxudW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfd2lkdGg7XFxuXFxudmFyeWluZyB2ZWMyIHZfbm9ybWFsO1xcbnZhcnlpbmcgdmVjMiB2X3dpZHRoMjtcXG52YXJ5aW5nIHZlYzIgdl90ZXhfYTtcXG52YXJ5aW5nIHZlYzIgdl90ZXhfYjtcXG52YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGNvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9mZnNldFxcblxcbiAgICB2ZWMyIGFfZXh0cnVkZSA9IGFfZGF0YS54eSAtIDEyOC4wO1xcbiAgICBmbG9hdCBhX2RpcmVjdGlvbiA9IG1vZChhX2RhdGEueiwgNC4wKSAtIDEuMDtcXG4gICAgZmxvYXQgYV9saW5lc29mYXIgPSAoZmxvb3IoYV9kYXRhLnogLyA0LjApICsgYV9kYXRhLncgKiA2NC4wKSAqIExJTkVfRElTVEFOQ0VfU0NBTEU7XFxuXFxuICAgIC8vIFdlIHN0b3JlIHRoZSB0ZXh0dXJlIG5vcm1hbHMgaW4gdGhlIG1vc3QgaW5zaWduaWZpY2FudCBiaXRcXG4gICAgLy8gdHJhbnNmb3JtIHkgc28gdGhhdCAwID0+IC0xIGFuZCAxID0+IDFcXG4gICAgLy8gSW4gdGhlIHRleHR1cmUgbm9ybWFsLCB4IGlzIDAgaWYgdGhlIG5vcm1hbCBwb2ludHMgc3RyYWlnaHQgdXAvZG93biBhbmQgMSBpZiBpdCdzIGEgcm91bmQgY2FwXFxuICAgIC8vIHkgaXMgMSBpZiB0aGUgbm9ybWFsIHBvaW50cyB1cCwgYW5kIC0xIGlmIGl0IHBvaW50cyBkb3duXFxuICAgIG1lZGl1bXAgdmVjMiBub3JtYWwgPSBtb2QoYV9wb3MsIDIuMCk7XFxuICAgIG5vcm1hbC55ID0gc2lnbihub3JtYWwueSAtIDAuNSk7XFxuICAgIHZfbm9ybWFsID0gbm9ybWFsO1xcblxcbiAgICAvLyB0aGVzZSB0cmFuc2Zvcm1hdGlvbnMgdXNlZCB0byBiZSBhcHBsaWVkIGluIHRoZSBKUyBhbmQgbmF0aXZlIGNvZGUgYmFzZXMuIFxcbiAgICAvLyBtb3ZlZCB0aGVtIGludG8gdGhlIHNoYWRlciBmb3IgY2xhcml0eSBhbmQgc2ltcGxpY2l0eS4gXFxuICAgIGdhcHdpZHRoID0gZ2Fwd2lkdGggLyAyLjA7XFxuICAgIGZsb2F0IHdpZHRoID0gdV93aWR0aCAvIDIuMDtcXG4gICAgb2Zmc2V0ID0gLTEuMCAqIG9mZnNldDtcXG4gXFxuICAgIGZsb2F0IGluc2V0ID0gZ2Fwd2lkdGggKyAoZ2Fwd2lkdGggPiAwLjAgPyBBTlRJQUxJQVNJTkcgOiAwLjApO1xcbiAgICBmbG9hdCBvdXRzZXQgPSBnYXB3aWR0aCArIHdpZHRoICogKGdhcHdpZHRoID4gMC4wID8gMi4wIDogMS4wKSArIEFOVElBTElBU0lORztcXG5cXG4gICAgLy8gU2NhbGUgdGhlIGV4dHJ1c2lvbiB2ZWN0b3IgZG93biB0byBhIG5vcm1hbCBhbmQgdGhlbiB1cCBieSB0aGUgbGluZSB3aWR0aFxcbiAgICAvLyBvZiB0aGlzIHZlcnRleC5cXG4gICAgbWVkaXVtcCB2ZWMyIGRpc3QgPW91dHNldCAqIGFfZXh0cnVkZSAqIHNjYWxlO1xcblxcbiAgICAvLyBDYWxjdWxhdGUgdGhlIG9mZnNldCB3aGVuIGRyYXdpbmcgYSBsaW5lIHRoYXQgaXMgdG8gdGhlIHNpZGUgb2YgdGhlIGFjdHVhbCBsaW5lLlxcbiAgICAvLyBXZSBkbyB0aGlzIGJ5IGNyZWF0aW5nIGEgdmVjdG9yIHRoYXQgcG9pbnRzIHRvd2FyZHMgdGhlIGV4dHJ1ZGUsIGJ1dCByb3RhdGVcXG4gICAgLy8gaXQgd2hlbiB3ZSdyZSBkcmF3aW5nIHJvdW5kIGVuZCBwb2ludHMgKGFfZGlyZWN0aW9uID0gLTEgb3IgMSkgc2luY2UgdGhlaXJcXG4gICAgLy8gZXh0cnVkZSB2ZWN0b3IgcG9pbnRzIGluIGFub3RoZXIgZGlyZWN0aW9uLlxcbiAgICBtZWRpdW1wIGZsb2F0IHUgPSAwLjUgKiBhX2RpcmVjdGlvbjtcXG4gICAgbWVkaXVtcCBmbG9hdCB0ID0gMS4wIC0gYWJzKHUpO1xcbiAgICBtZWRpdW1wIHZlYzIgb2Zmc2V0MiA9IG9mZnNldCAqIGFfZXh0cnVkZSAqIHNjYWxlICogbm9ybWFsLnkgKiBtYXQyKHQsIC11LCB1LCB0KTtcXG5cXG4gICAgLy8gUmVtb3ZlIHRoZSB0ZXh0dXJlIG5vcm1hbCBiaXQgdG8gZ2V0IHRoZSBwb3NpdGlvblxcbiAgICB2ZWMyIHBvcyA9IGZsb29yKGFfcG9zICogMC41KTtcXG5cXG4gICAgdmVjNCBwcm9qZWN0ZWRfZXh0cnVkZSA9IHVfbWF0cml4ICogdmVjNChkaXN0IC8gdV9yYXRpbywgMC4wLCAwLjApO1xcbiAgICBnbF9Qb3NpdGlvbiA9IHVfbWF0cml4ICogdmVjNChwb3MgKyBvZmZzZXQyIC8gdV9yYXRpbywgMC4wLCAxLjApICsgcHJvamVjdGVkX2V4dHJ1ZGU7XFxuXFxuICAgIC8vIGNhbGN1bGF0ZSBob3cgbXVjaCB0aGUgcGVyc3BlY3RpdmUgdmlldyBzcXVpc2hlcyBvciBzdHJldGNoZXMgdGhlIGV4dHJ1ZGVcXG4gICAgZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZSA9IGxlbmd0aChkaXN0KTtcXG4gICAgZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZSA9IGxlbmd0aChwcm9qZWN0ZWRfZXh0cnVkZS54eSAvIGdsX1Bvc2l0aW9uLncgKiB1X2dsX3VuaXRzX3RvX3BpeGVscyk7XFxuICAgIHZfZ2FtbWFfc2NhbGUgPSBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlIC8gZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZTtcXG5cXG4gICAgdl90ZXhfYSA9IHZlYzIoYV9saW5lc29mYXIgKiB1X3BhdHRlcm5zY2FsZV9hLngsIG5vcm1hbC55ICogdV9wYXR0ZXJuc2NhbGVfYS55ICsgdV90ZXhfeV9hKTtcXG4gICAgdl90ZXhfYiA9IHZlYzIoYV9saW5lc29mYXIgKiB1X3BhdHRlcm5zY2FsZV9iLngsIG5vcm1hbC55ICogdV9wYXR0ZXJuc2NhbGVfYi55ICsgdV90ZXhfeV9iKTtcXG5cXG4gICAgdl93aWR0aDIgPSB2ZWMyKG91dHNldCwgaW5zZXQpO1xcbn1cXG5cIlxufSxyYXN0ZXI6e2ZyYWdtZW50U291cmNlOlwidW5pZm9ybSBmbG9hdCB1X2ZhZGVfdDtcXG51bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMTtcXG52YXJ5aW5nIHZlYzIgdl9wb3MwO1xcbnZhcnlpbmcgdmVjMiB2X3BvczE7XFxuXFxudW5pZm9ybSBmbG9hdCB1X2JyaWdodG5lc3NfbG93O1xcbnVuaWZvcm0gZmxvYXQgdV9icmlnaHRuZXNzX2hpZ2g7XFxuXFxudW5pZm9ybSBmbG9hdCB1X3NhdHVyYXRpb25fZmFjdG9yO1xcbnVuaWZvcm0gZmxvYXQgdV9jb250cmFzdF9mYWN0b3I7XFxudW5pZm9ybSB2ZWMzIHVfc3Bpbl93ZWlnaHRzO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXG4gICAgLy8gcmVhZCBhbmQgY3Jvc3MtZmFkZSBjb2xvcnMgZnJvbSB0aGUgbWFpbiBhbmQgcGFyZW50IHRpbGVzXFxuICAgIHZlYzQgY29sb3IwID0gdGV4dHVyZTJEKHVfaW1hZ2UwLCB2X3BvczApO1xcbiAgICB2ZWM0IGNvbG9yMSA9IHRleHR1cmUyRCh1X2ltYWdlMSwgdl9wb3MxKTtcXG4gICAgdmVjNCBjb2xvciA9IG1peChjb2xvcjAsIGNvbG9yMSwgdV9mYWRlX3QpO1xcbiAgICBjb2xvci5hICo9IHVfb3BhY2l0eTtcXG4gICAgdmVjMyByZ2IgPSBjb2xvci5yZ2I7XFxuXFxuICAgIC8vIHNwaW5cXG4gICAgcmdiID0gdmVjMyhcXG4gICAgICAgIGRvdChyZ2IsIHVfc3Bpbl93ZWlnaHRzLnh5eiksXFxuICAgICAgICBkb3QocmdiLCB1X3NwaW5fd2VpZ2h0cy56eHkpLFxcbiAgICAgICAgZG90KHJnYiwgdV9zcGluX3dlaWdodHMueXp4KSk7XFxuXFxuICAgIC8vIHNhdHVyYXRpb25cXG4gICAgZmxvYXQgYXZlcmFnZSA9IChjb2xvci5yICsgY29sb3IuZyArIGNvbG9yLmIpIC8gMy4wO1xcbiAgICByZ2IgKz0gKGF2ZXJhZ2UgLSByZ2IpICogdV9zYXR1cmF0aW9uX2ZhY3RvcjtcXG5cXG4gICAgLy8gY29udHJhc3RcXG4gICAgcmdiID0gKHJnYiAtIDAuNSkgKiB1X2NvbnRyYXN0X2ZhY3RvciArIDAuNTtcXG5cXG4gICAgLy8gYnJpZ2h0bmVzc1xcbiAgICB2ZWMzIHVfaGlnaF92ZWMgPSB2ZWMzKHVfYnJpZ2h0bmVzc19sb3csIHVfYnJpZ2h0bmVzc19sb3csIHVfYnJpZ2h0bmVzc19sb3cpO1xcbiAgICB2ZWMzIHVfbG93X3ZlYyA9IHZlYzModV9icmlnaHRuZXNzX2hpZ2gsIHVfYnJpZ2h0bmVzc19oaWdoLCB1X2JyaWdodG5lc3NfaGlnaCk7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQobWl4KHVfaGlnaF92ZWMsIHVfbG93X3ZlYywgcmdiKSAqIGNvbG9yLmEsIGNvbG9yLmEpO1xcblxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cXG5cIix2ZXJ0ZXhTb3VyY2U6XCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxudW5pZm9ybSB2ZWMyIHVfdGxfcGFyZW50O1xcbnVuaWZvcm0gZmxvYXQgdV9zY2FsZV9wYXJlbnQ7XFxudW5pZm9ybSBmbG9hdCB1X2J1ZmZlcl9zY2FsZTtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG5hdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO1xcblxcbnZhcnlpbmcgdmVjMiB2X3BvczA7XFxudmFyeWluZyB2ZWMyIHZfcG9zMTtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zLCAwLCAxKTtcXG4gICAgdl9wb3MwID0gKCgoYV90ZXh0dXJlX3BvcyAvIDMyNzY3LjApIC0gMC41KSAvIHVfYnVmZmVyX3NjYWxlICkgKyAwLjU7XFxuICAgIHZfcG9zMSA9ICh2X3BvczAgKiB1X3NjYWxlX3BhcmVudCkgKyB1X3RsX3BhcmVudDtcXG59XFxuXCJ9LHN5bWJvbEljb246e2ZyYWdtZW50U291cmNlOlwidW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZmFkZXRleHR1cmU7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG52YXJ5aW5nIHZlYzIgdl90ZXg7XFxudmFyeWluZyB2ZWMyIHZfZmFkZV90ZXg7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5cXG4gICAgbG93cCBmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1X2ZhZGV0ZXh0dXJlLCB2X2ZhZGVfdGV4KS5hICogb3BhY2l0eTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVfdGV4dHVyZSwgdl90ZXgpICogYWxwaGE7XFxuXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVxcblwiLHZlcnRleFNvdXJjZTpcIlxcbmF0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDtcXG5hdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO1xcbmF0dHJpYnV0ZSB2ZWM0IGFfZGF0YTtcXG5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbi8vIG1hdHJpeCBpcyBmb3IgdGhlIHZlcnRleCBwb3NpdGlvbi5cXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxuXFxudW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfem9vbTtcXG51bmlmb3JtIGJvb2wgdV9yb3RhdGVfd2l0aF9tYXA7XFxudW5pZm9ybSB2ZWMyIHVfZXh0cnVkZV9zY2FsZTtcXG5cXG51bmlmb3JtIHZlYzIgdV90ZXhzaXplO1xcblxcbnZhcnlpbmcgdmVjMiB2X3RleDtcXG52YXJ5aW5nIHZlYzIgdl9mYWRlX3RleDtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcblxcbiAgICB2ZWMyIGFfcG9zID0gYV9wb3Nfb2Zmc2V0Lnh5O1xcbiAgICB2ZWMyIGFfb2Zmc2V0ID0gYV9wb3Nfb2Zmc2V0Lnp3O1xcblxcbiAgICB2ZWMyIGFfdGV4ID0gYV90ZXh0dXJlX3Bvcy54eTtcXG4gICAgbWVkaXVtcCBmbG9hdCBhX2xhYmVsbWluem9vbSA9IGFfZGF0YVswXTtcXG4gICAgbWVkaXVtcCB2ZWMyIGFfem9vbSA9IGFfZGF0YS5wcTtcXG4gICAgbWVkaXVtcCBmbG9hdCBhX21pbnpvb20gPSBhX3pvb21bMF07XFxuICAgIG1lZGl1bXAgZmxvYXQgYV9tYXh6b29tID0gYV96b29tWzFdO1xcblxcbiAgICAvLyB1X3pvb20gaXMgdGhlIGN1cnJlbnQgem9vbSBsZXZlbCBhZGp1c3RlZCBmb3IgdGhlIGNoYW5nZSBpbiBmb250IHNpemVcXG4gICAgbWVkaXVtcCBmbG9hdCB6ID0gMi4wIC0gc3RlcChhX21pbnpvb20sIHVfem9vbSkgLSAoMS4wIC0gc3RlcChhX21heHpvb20sIHVfem9vbSkpO1xcblxcbiAgICB2ZWMyIGV4dHJ1ZGUgPSB1X2V4dHJ1ZGVfc2NhbGUgKiAoYV9vZmZzZXQgLyA2NC4wKTtcXG4gICAgaWYgKHVfcm90YXRlX3dpdGhfbWFwKSB7XFxuICAgICAgICBnbF9Qb3NpdGlvbiA9IHVfbWF0cml4ICogdmVjNChhX3BvcyArIGV4dHJ1ZGUsIDAsIDEpO1xcbiAgICAgICAgZ2xfUG9zaXRpb24ueiArPSB6ICogZ2xfUG9zaXRpb24udztcXG4gICAgfSBlbHNlIHtcXG4gICAgICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zLCAwLCAxKSArIHZlYzQoZXh0cnVkZSwgMCwgMCk7XFxuICAgIH1cXG5cXG4gICAgdl90ZXggPSBhX3RleCAvIHVfdGV4c2l6ZTtcXG4gICAgdl9mYWRlX3RleCA9IHZlYzIoYV9sYWJlbG1pbnpvb20gLyAyNTUuMCwgMC4wKTtcXG59XFxuXCJ9LHN5bWJvbFNERjp7ZnJhZ21lbnRTb3VyY2U6XCIjZGVmaW5lIFNERl9QWCA4LjBcXG4jZGVmaW5lIEVER0VfR0FNTUEgMC4xMDUvREVWSUNFX1BJWEVMX1JBVElPXFxuXFxudW5pZm9ybSBib29sIHVfaXNfaGFsbztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZmFkZXRleHR1cmU7XFxudW5pZm9ybSBsb3dwIGZsb2F0IHVfZm9udF9zY2FsZTtcXG51bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZ2FtbWFfc2NhbGU7XFxuXFxudmFyeWluZyB2ZWMyIHZfdGV4O1xcbnZhcnlpbmcgdmVjMiB2X2ZhZGVfdGV4O1xcbnZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBmaWxsX2NvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBoYWxvX2NvbG9yXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG5cXG4gICAgbG93cCB2ZWM0IGNvbG9yID0gZmlsbF9jb2xvcjtcXG4gICAgbG93cCBmbG9hdCBnYW1tYSA9IEVER0VfR0FNTUEgLyB1X2dhbW1hX3NjYWxlO1xcbiAgICBsb3dwIGZsb2F0IGJ1ZmYgPSAoMjU2LjAgLSA2NC4wKSAvIDI1Ni4wO1xcbiAgICBpZiAodV9pc19oYWxvKSB7XFxuICAgICAgICBjb2xvciA9IGhhbG9fY29sb3I7XFxuICAgICAgICBnYW1tYSA9IChoYWxvX2JsdXIgKiAxLjE5IC8gU0RGX1BYICsgRURHRV9HQU1NQSkgLyB1X2dhbW1hX3NjYWxlO1xcbiAgICAgICAgYnVmZiA9ICg2LjAgLSBoYWxvX3dpZHRoIC8gdV9mb250X3NjYWxlKSAvIFNERl9QWDtcXG4gICAgfVxcblxcbiAgICBsb3dwIGZsb2F0IGRpc3QgPSB0ZXh0dXJlMkQodV90ZXh0dXJlLCB2X3RleCkuYTtcXG4gICAgbG93cCBmbG9hdCBmYWRlX2FscGhhID0gdGV4dHVyZTJEKHVfZmFkZXRleHR1cmUsIHZfZmFkZV90ZXgpLmE7XFxuICAgIGhpZ2hwIGZsb2F0IGdhbW1hX3NjYWxlZCA9IGdhbW1hICogdl9nYW1tYV9zY2FsZTtcXG4gICAgaGlnaHAgZmxvYXQgYWxwaGEgPSBzbW9vdGhzdGVwKGJ1ZmYgLSBnYW1tYV9zY2FsZWQsIGJ1ZmYgKyBnYW1tYV9zY2FsZWQsIGRpc3QpICogZmFkZV9hbHBoYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3IgKiAoYWxwaGEgKiBvcGFjaXR5KTtcXG5cXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XFxuXCIsdmVydGV4U291cmNlOlwiY29uc3QgZmxvYXQgUEkgPSAzLjE0MTU5MjY1MzU4OTc5MztcXG5cXG5hdHRyaWJ1dGUgdmVjNCBhX3Bvc19vZmZzZXQ7XFxuYXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3BvcztcXG5hdHRyaWJ1dGUgdmVjNCBhX2RhdGE7XFxuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcblxcbi8vIG1hdHJpeCBpcyBmb3IgdGhlIHZlcnRleCBwb3NpdGlvbi5cXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxuXFxudW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfem9vbTtcXG51bmlmb3JtIGJvb2wgdV9yb3RhdGVfd2l0aF9tYXA7XFxudW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7XFxudW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfcGl0Y2g7XFxudW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfYmVhcmluZztcXG51bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9hc3BlY3RfcmF0aW87XFxudW5pZm9ybSB2ZWMyIHVfZXh0cnVkZV9zY2FsZTtcXG5cXG51bmlmb3JtIHZlYzIgdV90ZXhzaXplO1xcblxcbnZhcnlpbmcgdmVjMiB2X3RleDtcXG52YXJ5aW5nIHZlYzIgdl9mYWRlX3RleDtcXG52YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgZmlsbF9jb2xvclxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgaGFsb19jb2xvclxcbiAgICAjcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4gICAgI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuICAgICNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuXFxuICAgIHZlYzIgYV9wb3MgPSBhX3Bvc19vZmZzZXQueHk7XFxuICAgIHZlYzIgYV9vZmZzZXQgPSBhX3Bvc19vZmZzZXQuenc7XFxuXFxuICAgIHZlYzIgYV90ZXggPSBhX3RleHR1cmVfcG9zLnh5O1xcbiAgICBtZWRpdW1wIGZsb2F0IGFfbGFiZWxtaW56b29tID0gYV9kYXRhWzBdO1xcbiAgICBtZWRpdW1wIHZlYzIgYV96b29tID0gYV9kYXRhLnBxO1xcbiAgICBtZWRpdW1wIGZsb2F0IGFfbWluem9vbSA9IGFfem9vbVswXTtcXG4gICAgbWVkaXVtcCBmbG9hdCBhX21heHpvb20gPSBhX3pvb21bMV07XFxuXFxuICAgIC8vIHVfem9vbSBpcyB0aGUgY3VycmVudCB6b29tIGxldmVsIGFkanVzdGVkIGZvciB0aGUgY2hhbmdlIGluIGZvbnQgc2l6ZVxcbiAgICBtZWRpdW1wIGZsb2F0IHogPSAyLjAgLSBzdGVwKGFfbWluem9vbSwgdV96b29tKSAtICgxLjAgLSBzdGVwKGFfbWF4em9vbSwgdV96b29tKSk7XFxuXFxuICAgIC8vIHBpdGNoLWFsaWdubWVudDogbWFwXFxuICAgIC8vIHJvdGF0aW9uLWFsaWdubWVudDogbWFwIHwgdmlld3BvcnRcXG4gICAgaWYgKHVfcGl0Y2hfd2l0aF9tYXApIHtcXG4gICAgICAgIGxvd3AgZmxvYXQgYW5nbGUgPSB1X3JvdGF0ZV93aXRoX21hcCA/IChhX2RhdGFbMV0gLyAyNTYuMCAqIDIuMCAqIFBJKSA6IHVfYmVhcmluZztcXG4gICAgICAgIGxvd3AgZmxvYXQgYXNpbiA9IHNpbihhbmdsZSk7XFxuICAgICAgICBsb3dwIGZsb2F0IGFjb3MgPSBjb3MoYW5nbGUpO1xcbiAgICAgICAgbWF0MiBSb3RhdGlvbk1hdHJpeCA9IG1hdDIoYWNvcywgYXNpbiwgLTEuMCAqIGFzaW4sIGFjb3MpO1xcbiAgICAgICAgdmVjMiBvZmZzZXQgPSBSb3RhdGlvbk1hdHJpeCAqIGFfb2Zmc2V0O1xcbiAgICAgICAgdmVjMiBleHRydWRlID0gdV9leHRydWRlX3NjYWxlICogKG9mZnNldCAvIDY0LjApO1xcbiAgICAgICAgZ2xfUG9zaXRpb24gPSB1X21hdHJpeCAqIHZlYzQoYV9wb3MgKyBleHRydWRlLCAwLCAxKTtcXG4gICAgICAgIGdsX1Bvc2l0aW9uLnogKz0geiAqIGdsX1Bvc2l0aW9uLnc7XFxuICAgIC8vIHBpdGNoLWFsaWdubWVudDogdmlld3BvcnRcXG4gICAgLy8gcm90YXRpb24tYWxpZ25tZW50OiBtYXBcXG4gICAgfSBlbHNlIGlmICh1X3JvdGF0ZV93aXRoX21hcCkge1xcbiAgICAgICAgLy8gZm9yZXNob3J0ZW5pbmcgZmFjdG9yIHRvIGFwcGx5IG9uIHBpdGNoZWQgbWFwc1xcbiAgICAgICAgLy8gYXMgYSBsYWJlbCBnb2VzIGZyb20gaG9yaXpvbnRhbCA8PT4gdmVydGljYWwgaW4gYW5nbGVcXG4gICAgICAgIC8vIGl0IGdvZXMgZnJvbSAwJSBmb3Jlc2hvcnRlbmluZyB0byB1cCB0byBhcm91bmQgNzAlIGZvcmVzaG9ydGVuaW5nXFxuICAgICAgICBsb3dwIGZsb2F0IHBpdGNoZmFjdG9yID0gMS4wIC0gY29zKHVfcGl0Y2ggKiBzaW4odV9waXRjaCAqIDAuNzUpKTtcXG5cXG4gICAgICAgIGxvd3AgZmxvYXQgbGluZWFuZ2xlID0gYV9kYXRhWzFdIC8gMjU2LjAgKiAyLjAgKiBQSTtcXG5cXG4gICAgICAgIC8vIHVzZSB0aGUgbGluZWFuZ2xlIHRvIHBvc2l0aW9uIHBvaW50cyBhLGIgYWxvbmcgdGhlIGxpbmVcXG4gICAgICAgIC8vIHByb2plY3QgdGhlIHBvaW50cyBhbmQgY2FsY3VsYXRlIHRoZSBsYWJlbCBhbmdsZSBpbiBwcm9qZWN0ZWQgc3BhY2VcXG4gICAgICAgIC8vIHRoaXMgY2FsY3VsYXRpb24gYWxsb3dzIGxhYmVscyB0byBiZSByZW5kZXJlZCB1bnNrZXdlZCBvbiBwaXRjaGVkIG1hcHNcXG4gICAgICAgIHZlYzQgYSA9IHVfbWF0cml4ICogdmVjNChhX3BvcywgMCwgMSk7XFxuICAgICAgICB2ZWM0IGIgPSB1X21hdHJpeCAqIHZlYzQoYV9wb3MgKyB2ZWMyKGNvcyhsaW5lYW5nbGUpLHNpbihsaW5lYW5nbGUpKSwgMCwgMSk7XFxuICAgICAgICBsb3dwIGZsb2F0IGFuZ2xlID0gYXRhbigoYlsxXS9iWzNdIC0gYVsxXS9hWzNdKS91X2FzcGVjdF9yYXRpbywgYlswXS9iWzNdIC0gYVswXS9hWzNdKTtcXG4gICAgICAgIGxvd3AgZmxvYXQgYXNpbiA9IHNpbihhbmdsZSk7XFxuICAgICAgICBsb3dwIGZsb2F0IGFjb3MgPSBjb3MoYW5nbGUpO1xcbiAgICAgICAgbWF0MiBSb3RhdGlvbk1hdHJpeCA9IG1hdDIoYWNvcywgLTEuMCAqIGFzaW4sIGFzaW4sIGFjb3MpO1xcblxcbiAgICAgICAgdmVjMiBvZmZzZXQgPSBSb3RhdGlvbk1hdHJpeCAqICh2ZWMyKCgxLjAtcGl0Y2hmYWN0b3IpKyhwaXRjaGZhY3Rvcipjb3MoYW5nbGUqMi4wKSksIDEuMCkgKiBhX29mZnNldCk7XFxuICAgICAgICB2ZWMyIGV4dHJ1ZGUgPSB1X2V4dHJ1ZGVfc2NhbGUgKiAob2Zmc2V0IC8gNjQuMCk7XFxuICAgICAgICBnbF9Qb3NpdGlvbiA9IHVfbWF0cml4ICogdmVjNChhX3BvcywgMCwgMSkgKyB2ZWM0KGV4dHJ1ZGUsIDAsIDApO1xcbiAgICAgICAgZ2xfUG9zaXRpb24ueiArPSB6ICogZ2xfUG9zaXRpb24udztcXG4gICAgLy8gcGl0Y2gtYWxpZ25tZW50OiB2aWV3cG9ydFxcbiAgICAvLyByb3RhdGlvbi1hbGlnbm1lbnQ6IHZpZXdwb3J0XFxuICAgIH0gZWxzZSB7XFxuICAgICAgICB2ZWMyIGV4dHJ1ZGUgPSB1X2V4dHJ1ZGVfc2NhbGUgKiAoYV9vZmZzZXQgLyA2NC4wKTtcXG4gICAgICAgIGdsX1Bvc2l0aW9uID0gdV9tYXRyaXggKiB2ZWM0KGFfcG9zLCAwLCAxKSArIHZlYzQoZXh0cnVkZSwgMCwgMCk7XFxuICAgIH1cXG5cXG4gICAgdl9nYW1tYV9zY2FsZSA9IGdsX1Bvc2l0aW9uLnc7XFxuXFxuICAgIHZfdGV4ID0gYV90ZXggLyB1X3RleHNpemU7XFxuICAgIHZfZmFkZV90ZXggPSB2ZWMyKGFfbGFiZWxtaW56b29tIC8gMjU1LjAsIDAuMCk7XFxufVxcblwifX07XG59LHtcInBhdGhcIjoyM31dLDgwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBWZXJ0ZXhBcnJheU9iamVjdD1mdW5jdGlvbigpe3RoaXMuYm91bmRQcm9ncmFtPW51bGwsdGhpcy5ib3VuZFZlcnRleEJ1ZmZlcj1udWxsLHRoaXMuYm91bmRWZXJ0ZXhCdWZmZXIyPW51bGwsdGhpcy5ib3VuZEVsZW1lbnRCdWZmZXI9bnVsbCx0aGlzLmJvdW5kVmVydGV4T2Zmc2V0PW51bGwsdGhpcy52YW89bnVsbH07VmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oZSx0LHIsaSxuLG8pe3ZvaWQgMD09PWUuZXh0VmVydGV4QXJyYXlPYmplY3QmJihlLmV4dFZlcnRleEFycmF5T2JqZWN0PWUuZ2V0RXh0ZW5zaW9uKFwiT0VTX3ZlcnRleF9hcnJheV9vYmplY3RcIikpO3ZhciBzPSF0aGlzLnZhb3x8dGhpcy5ib3VuZFByb2dyYW0hPT10fHx0aGlzLmJvdW5kVmVydGV4QnVmZmVyIT09cnx8dGhpcy5ib3VuZFZlcnRleEJ1ZmZlcjIhPT1ufHx0aGlzLmJvdW5kRWxlbWVudEJ1ZmZlciE9PWl8fHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQhPT1vOyFlLmV4dFZlcnRleEFycmF5T2JqZWN0fHxzPyh0aGlzLmZyZXNoQmluZChlLHQscixpLG4sbyksdGhpcy5nbD1lKTplLmV4dFZlcnRleEFycmF5T2JqZWN0LmJpbmRWZXJ0ZXhBcnJheU9FUyh0aGlzLnZhbyl9LFZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5mcmVzaEJpbmQ9ZnVuY3Rpb24oZSx0LHIsaSxuLG8pe3ZhciBzLHU9dC5udW1BdHRyaWJ1dGVzO2lmKGUuZXh0VmVydGV4QXJyYXlPYmplY3QpdGhpcy52YW8mJnRoaXMuZGVzdHJveSgpLHRoaXMudmFvPWUuZXh0VmVydGV4QXJyYXlPYmplY3QuY3JlYXRlVmVydGV4QXJyYXlPRVMoKSxlLmV4dFZlcnRleEFycmF5T2JqZWN0LmJpbmRWZXJ0ZXhBcnJheU9FUyh0aGlzLnZhbykscz0wLHRoaXMuYm91bmRQcm9ncmFtPXQsdGhpcy5ib3VuZFZlcnRleEJ1ZmZlcj1yLHRoaXMuYm91bmRWZXJ0ZXhCdWZmZXIyPW4sdGhpcy5ib3VuZEVsZW1lbnRCdWZmZXI9aSx0aGlzLmJvdW5kVmVydGV4T2Zmc2V0PW87ZWxzZXtzPWUuY3VycmVudE51bUF0dHJpYnV0ZXN8fDA7Zm9yKHZhciBiPXU7YjxzO2IrKyllLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShiKX1mb3IodmFyIGE9czthPHU7YSsrKWUuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYSk7ci5iaW5kKGUpLHIuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZSx0LG8pLG4mJihuLmJpbmQoZSksbi5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhlLHQsbykpLGkmJmkuYmluZChlKSxlLmN1cnJlbnROdW1BdHRyaWJ1dGVzPXV9LFZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy52YW8mJih0aGlzLmdsLmV4dFZlcnRleEFycmF5T2JqZWN0LmRlbGV0ZVZlcnRleEFycmF5T0VTKHRoaXMudmFvKSx0aGlzLnZhbz1udWxsKX0sbW9kdWxlLmV4cG9ydHM9VmVydGV4QXJyYXlPYmplY3Q7XG59LHt9XSw4MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgSW1hZ2VTb3VyY2U9cmVxdWlyZShcIi4vaW1hZ2Vfc291cmNlXCIpLHdpbmRvdz1yZXF1aXJlKFwiLi4vdXRpbC93aW5kb3dcIiksQ2FudmFzU291cmNlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGkoaSxhLHMsbil7dC5jYWxsKHRoaXMsaSxhLHMsbiksdGhpcy5vcHRpb25zPWEsdGhpcy5hbmltYXRlPSFhLmhhc093blByb3BlcnR5KFwiYW5pbWF0ZVwiKXx8YS5hbmltYXRlfXJldHVybiB0JiYoaS5fX3Byb3RvX189dCksaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksaS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7aWYodGhpcy5jYW52YXM9dGhpcy5jYW52YXN8fHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9wdGlvbnMuY2FudmFzKSx0aGlzLndpZHRoPXRoaXMuY2FudmFzLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuY2FudmFzLmhlaWdodCx0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucyh0aGlzLmNhbnZhcykpcmV0dXJuIHRoaXMuZmlyZShcImVycm9yXCIsbmV3IEVycm9yKFwiQ2FudmFzIGRpbWVuc2lvbnMgY2Fubm90IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB6ZXJvLlwiKSk7dmFyIHQ7dGhpcy5wbGF5PWZ1bmN0aW9uKCl7dD10aGlzLm1hcC5zdHlsZS5hbmltYXRpb25Mb29wLnNldCgxLzApLHRoaXMubWFwLl9yZXJlbmRlcigpfSx0aGlzLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5tYXAuc3R5bGUuYW5pbWF0aW9uTG9vcC5jYW5jZWwodCl9LHRoaXMuX2ZpbmlzaExvYWRpbmcoKX0saS5wcm90b3R5cGUuZ2V0Q2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzfSxpLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLm1hcHx8KHRoaXMubWFwPXQsdGhpcy5sb2FkKCksdGhpcy5jYW52YXMmJnRoaXMuYW5pbWF0ZSYmdGhpcy5wbGF5KCkpfSxpLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKCl7dmFyIHQ9ITE7dGhpcy5jYW52YXMud2lkdGghPT10aGlzLndpZHRoJiYodGhpcy53aWR0aD10aGlzLmNhbnZhcy53aWR0aCx0PSEwKSx0aGlzLmNhbnZhcy5oZWlnaHQhPT10aGlzLmhlaWdodCYmKHRoaXMuaGVpZ2h0PXRoaXMuY2FudmFzLmhlaWdodCx0PSEwKSx0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucygpfHx0aGlzLnRpbGUmJnRoaXMuX3ByZXBhcmVJbWFnZSh0aGlzLm1hcC5wYWludGVyLmdsLHRoaXMuY2FudmFzLHQpfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcImNhbnZhc1wiLGNhbnZhczp0aGlzLmNhbnZhcyxjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX0saS5wcm90b3R5cGUuX2hhc0ludmFsaWREaW1lbnNpb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsaT0wLGE9W3QuY2FudmFzLndpZHRoLHQuY2FudmFzLmhlaWdodF07aTxhLmxlbmd0aDtpKz0xKXt2YXIgcz1hW2ldO2lmKGlzTmFOKHMpfHxzPD0wKXJldHVybiEwfXJldHVybiExfSxpfShJbWFnZVNvdXJjZSk7bW9kdWxlLmV4cG9ydHM9Q2FudmFzU291cmNlO1xufSx7XCIuLi91dGlsL3dpbmRvd1wiOjE5NCxcIi4vaW1hZ2Vfc291cmNlXCI6ODV9XSw4MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByZXNvbHZlVVJMKHQpe3ZhciBlPXdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4gZS5ocmVmPXQsZS5ocmVmfXZhciBFdmVudGVkPXJlcXVpcmUoXCIuLi91dGlsL2V2ZW50ZWRcIiksdXRpbD1yZXF1aXJlKFwiLi4vdXRpbC91dGlsXCIpLHdpbmRvdz1yZXF1aXJlKFwiLi4vdXRpbC93aW5kb3dcIiksRVhURU5UPXJlcXVpcmUoXCIuLi9kYXRhL2V4dGVudFwiKSxHZW9KU09OU291cmNlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxvLGkscil7dC5jYWxsKHRoaXMpLG89b3x8e30sdGhpcy5pZD1lLHRoaXMudHlwZT1cImdlb2pzb25cIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MTgsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5pc1RpbGVDbGlwcGVkPSEwLHRoaXMucmVwYXJzZU92ZXJzY2FsZWQ9ITAsdGhpcy5kaXNwYXRjaGVyPWksdGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMuX2RhdGE9by5kYXRhLHZvaWQgMCE9PW8ubWF4em9vbSYmKHRoaXMubWF4em9vbT1vLm1heHpvb20pLG8udHlwZSYmKHRoaXMudHlwZT1vLnR5cGUpO3ZhciBhPUVYVEVOVC90aGlzLnRpbGVTaXplO3RoaXMud29ya2VyT3B0aW9ucz11dGlsLmV4dGVuZCh7c291cmNlOnRoaXMuaWQsY2x1c3RlcjpvLmNsdXN0ZXJ8fCExLGdlb2pzb25WdE9wdGlvbnM6e2J1ZmZlcjoodm9pZCAwIT09by5idWZmZXI/by5idWZmZXI6MTI4KSphLHRvbGVyYW5jZToodm9pZCAwIT09by50b2xlcmFuY2U/by50b2xlcmFuY2U6LjM3NSkqYSxleHRlbnQ6RVhURU5ULG1heFpvb206dGhpcy5tYXh6b29tfSxzdXBlcmNsdXN0ZXJPcHRpb25zOnttYXhab29tOk1hdGgubWluKG8uY2x1c3Rlck1heFpvb20sdGhpcy5tYXh6b29tLTEpfHx0aGlzLm1heHpvb20tMSxleHRlbnQ6RVhURU5ULHJhZGl1czooby5jbHVzdGVyUmFkaXVzfHw1MCkqYSxsb2c6ITF9fSxvLndvcmtlck9wdGlvbnMpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmZpcmUoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSksdGhpcy5fdXBkYXRlV29ya2VyRGF0YShmdW5jdGlvbihlKXtyZXR1cm4gZT92b2lkIHQuZmlyZShcImVycm9yXCIse2Vycm9yOmV9KTp2b2lkIHQuZmlyZShcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCJ9KX0pfSxlLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLmxvYWQoKSx0aGlzLm1hcD10fSxlLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX2RhdGE9dCx0aGlzLmZpcmUoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSksdGhpcy5fdXBkYXRlV29ya2VyRGF0YShmdW5jdGlvbih0KXtyZXR1cm4gdD9lLmZpcmUoXCJlcnJvclwiLHtlcnJvcjp0fSk6dm9pZCBlLmZpcmUoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KX0pLHRoaXN9LGUucHJvdG90eXBlLl91cGRhdGVXb3JrZXJEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbz11dGlsLmV4dGVuZCh7fSx0aGlzLndvcmtlck9wdGlvbnMpLGk9dGhpcy5fZGF0YTtcInN0cmluZ1wiPT10eXBlb2YgaT9vLnVybD1yZXNvbHZlVVJMKGkpOm8uZGF0YT1KU09OLnN0cmluZ2lmeShpKSx0aGlzLndvcmtlcklEPXRoaXMuZGlzcGF0Y2hlci5zZW5kKHRoaXMudHlwZStcIi5sb2FkRGF0YVwiLG8sZnVuY3Rpb24obyl7ZS5fbG9hZGVkPSEwLHQobyl9KX0sZS5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24odCxlKXt2YXIgbz10aGlzLGk9dC5jb29yZC56PnRoaXMubWF4em9vbT9NYXRoLnBvdygyLHQuY29vcmQuei10aGlzLm1heHpvb20pOjEscj17dHlwZTp0aGlzLnR5cGUsdWlkOnQudWlkLGNvb3JkOnQuY29vcmQsem9vbTp0LmNvb3JkLnosbWF4Wm9vbTp0aGlzLm1heHpvb20sdGlsZVNpemU6dGhpcy50aWxlU2l6ZSxzb3VyY2U6dGhpcy5pZCxvdmVyc2NhbGluZzppLGFuZ2xlOnRoaXMubWFwLnRyYW5zZm9ybS5hbmdsZSxwaXRjaDp0aGlzLm1hcC50cmFuc2Zvcm0ucGl0Y2gsc2hvd0NvbGxpc2lvbkJveGVzOnRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlc307dC53b3JrZXJJRD10aGlzLmRpc3BhdGNoZXIuc2VuZChcImxvYWRUaWxlXCIscixmdW5jdGlvbihpLHIpe2lmKHQudW5sb2FkVmVjdG9yRGF0YSgpLCF0LmFib3J0ZWQpcmV0dXJuIGk/ZShpKToodC5sb2FkVmVjdG9yRGF0YShyLG8ubWFwLnBhaW50ZXIpLHQucmVkb1doZW5Eb25lJiYodC5yZWRvV2hlbkRvbmU9ITEsdC5yZWRvUGxhY2VtZW50KG8pKSxlKG51bGwpKX0sdGhpcy53b3JrZXJJRCl9LGUucHJvdG90eXBlLmFib3J0VGlsZT1mdW5jdGlvbih0KXt0LmFib3J0ZWQ9ITB9LGUucHJvdG90eXBlLnVubG9hZFRpbGU9ZnVuY3Rpb24odCl7dC51bmxvYWRWZWN0b3JEYXRhKCksdGhpcy5kaXNwYXRjaGVyLnNlbmQoXCJyZW1vdmVUaWxlXCIse3VpZDp0LnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZH0sZnVuY3Rpb24oKXt9LHQud29ya2VySUQpfSxlLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJyZW1vdmVTb3VyY2VcIix7dHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9LGZ1bmN0aW9uKCl7fSl9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybnt0eXBlOnRoaXMudHlwZSxkYXRhOnRoaXMuX2RhdGF9fSxlfShFdmVudGVkKTttb2R1bGUuZXhwb3J0cz1HZW9KU09OU291cmNlO1xufSx7XCIuLi9kYXRhL2V4dGVudFwiOjU0LFwiLi4vdXRpbC9ldmVudGVkXCI6MjAwLFwiLi4vdXRpbC91dGlsXCI6MjEyLFwiLi4vdXRpbC93aW5kb3dcIjoxOTR9XSw4MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgYWpheD1yZXF1aXJlKFwiLi4vdXRpbC9hamF4XCIpLHJld2luZD1yZXF1aXJlKFwiZ2VvanNvbi1yZXdpbmRcIiksR2VvSlNPTldyYXBwZXI9cmVxdWlyZShcIi4vZ2VvanNvbl93cmFwcGVyXCIpLHZ0cGJmPXJlcXVpcmUoXCJ2dC1wYmZcIiksc3VwZXJjbHVzdGVyPXJlcXVpcmUoXCJzdXBlcmNsdXN0ZXJcIiksZ2VvanNvbnZ0PXJlcXVpcmUoXCJnZW9qc29uLXZ0XCIpLFZlY3RvclRpbGVXb3JrZXJTb3VyY2U9cmVxdWlyZShcIi4vdmVjdG9yX3RpbGVfd29ya2VyX3NvdXJjZVwiKSxHZW9KU09OV29ya2VyU291cmNlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIocix0LG8pe2UuY2FsbCh0aGlzLHIsdCksbyYmKHRoaXMubG9hZEdlb0pTT049byksdGhpcy5fZ2VvSlNPTkluZGV4ZXM9e319cmV0dXJuIGUmJihyLl9fcHJvdG9fXz1lKSxyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSxyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yLHIucHJvdG90eXBlLmxvYWRWZWN0b3JEYXRhPWZ1bmN0aW9uKGUscil7dmFyIHQ9ZS5zb3VyY2Usbz1lLmNvb3JkO2lmKCF0aGlzLl9nZW9KU09OSW5kZXhlc1t0XSlyZXR1cm4gcihudWxsLG51bGwpO3ZhciBuPXRoaXMuX2dlb0pTT05JbmRleGVzW3RdLmdldFRpbGUoTWF0aC5taW4oby56LGUubWF4Wm9vbSksby54LG8ueSk7aWYoIW4pcmV0dXJuIHIobnVsbCxudWxsKTt2YXIgdT1uZXcgR2VvSlNPTldyYXBwZXIobi5mZWF0dXJlcyk7dS5uYW1lPVwiX2dlb2pzb25UaWxlTGF5ZXJcIjt2YXIgYT12dHBiZih7bGF5ZXJzOntfZ2VvanNvblRpbGVMYXllcjp1fX0pOzA9PT1hLmJ5dGVPZmZzZXQmJmEuYnl0ZUxlbmd0aD09PWEuYnVmZmVyLmJ5dGVMZW5ndGh8fChhPW5ldyBVaW50OEFycmF5KGEpKSx1LnJhd0RhdGE9YS5idWZmZXIscihudWxsLHUpfSxyLnByb3RvdHlwZS5sb2FkRGF0YT1mdW5jdGlvbihlLHIpe3ZhciB0PWZ1bmN0aW9uKHQsbyl7dmFyIG49dGhpcztyZXR1cm4gdD9yKHQpOlwib2JqZWN0XCIhPXR5cGVvZiBvP3IobmV3IEVycm9yKFwiSW5wdXQgZGF0YSBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC5cIikpOihyZXdpbmQobywhMCksdm9pZCB0aGlzLl9pbmRleERhdGEobyxlLGZ1bmN0aW9uKHQsbyl7cmV0dXJuIHQ/cih0KToobi5fZ2VvSlNPTkluZGV4ZXNbZS5zb3VyY2VdPW8sdm9pZCByKG51bGwpKX0pKX0uYmluZCh0aGlzKTt0aGlzLmxvYWRHZW9KU09OKGUsdCl9LHIucHJvdG90eXBlLmxvYWRHZW9KU09OPWZ1bmN0aW9uKGUscil7aWYoZS51cmwpYWpheC5nZXRKU09OKGUudXJsLHIpO2Vsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUuZGF0YSlyZXR1cm4gcihuZXcgRXJyb3IoXCJJbnB1dCBkYXRhIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LlwiKSk7dHJ5e3JldHVybiByKG51bGwsSlNPTi5wYXJzZShlLmRhdGEpKX1jYXRjaChlKXtyZXR1cm4gcihuZXcgRXJyb3IoXCJJbnB1dCBkYXRhIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LlwiKSl9fX0sci5wcm90b3R5cGUucmVtb3ZlU291cmNlPWZ1bmN0aW9uKGUpe3RoaXMuX2dlb0pTT05JbmRleGVzW2Uuc291cmNlXSYmZGVsZXRlIHRoaXMuX2dlb0pTT05JbmRleGVzW2Uuc291cmNlXX0sci5wcm90b3R5cGUuX2luZGV4RGF0YT1mdW5jdGlvbihlLHIsdCl7dHJ5e3IuY2x1c3Rlcj90KG51bGwsc3VwZXJjbHVzdGVyKHIuc3VwZXJjbHVzdGVyT3B0aW9ucykubG9hZChlLmZlYXR1cmVzKSk6dChudWxsLGdlb2pzb252dChlLHIuZ2VvanNvblZ0T3B0aW9ucykpfWNhdGNoKGUpe3JldHVybiB0KGUpfX0scn0oVmVjdG9yVGlsZVdvcmtlclNvdXJjZSk7bW9kdWxlLmV4cG9ydHM9R2VvSlNPTldvcmtlclNvdXJjZTtcbn0se1wiLi4vdXRpbC9hamF4XCI6MTkxLFwiLi9nZW9qc29uX3dyYXBwZXJcIjo4NCxcIi4vdmVjdG9yX3RpbGVfd29ya2VyX3NvdXJjZVwiOjk2LFwiZ2VvanNvbi1yZXdpbmRcIjo3LFwiZ2VvanNvbi12dFwiOjExLFwic3VwZXJjbHVzdGVyXCI6MjksXCJ2dC1wYmZcIjozOH1dLDg0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBQb2ludD1yZXF1aXJlKFwicG9pbnQtZ2VvbWV0cnlcIiksVmVjdG9yVGlsZUZlYXR1cmU9cmVxdWlyZShcInZlY3Rvci10aWxlXCIpLlZlY3RvclRpbGVGZWF0dXJlLEVYVEVOVD1yZXF1aXJlKFwiLi4vZGF0YS9leHRlbnRcIiksRmVhdHVyZVdyYXBwZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnR5cGU9ZS50eXBlLDE9PT1lLnR5cGUpe3RoaXMucmF3R2VvbWV0cnk9W107Zm9yKHZhciByPTA7cjxlLmdlb21ldHJ5Lmxlbmd0aDtyKyspdC5yYXdHZW9tZXRyeS5wdXNoKFtlLmdlb21ldHJ5W3JdXSl9ZWxzZSB0aGlzLnJhd0dlb21ldHJ5PWUuZ2VvbWV0cnk7dGhpcy5wcm9wZXJ0aWVzPWUudGFncyxcImlkXCJpbiBlJiYodGhpcy5pZD1lLmlkKSx0aGlzLmV4dGVudD1FWFRFTlR9O0ZlYXR1cmVXcmFwcGVyLnByb3RvdHlwZS5sb2FkR2VvbWV0cnk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5yYXdHZW9tZXRyeTt0aGlzLmdlb21ldHJ5PVtdO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXtmb3IodmFyIG89dFtyXSxhPVtdLGk9MDtpPG8ubGVuZ3RoO2krKylhLnB1c2gobmV3IFBvaW50KG9baV1bMF0sb1tpXVsxXSkpO2UuZ2VvbWV0cnkucHVzaChhKX1yZXR1cm4gdGhpcy5nZW9tZXRyeX0sRmVhdHVyZVdyYXBwZXIucHJvdG90eXBlLmJib3g9ZnVuY3Rpb24oKXt0aGlzLmdlb21ldHJ5fHx0aGlzLmxvYWRHZW9tZXRyeSgpO2Zvcih2YXIgZT10aGlzLmdlb21ldHJ5LHQ9MS8wLHI9LSgxLzApLG89MS8wLGE9LSgxLzApLGk9MDtpPGUubGVuZ3RoO2krKylmb3IodmFyIHA9ZVtpXSxoPTA7aDxwLmxlbmd0aDtoKyspe3ZhciBuPXBbaF07dD1NYXRoLm1pbih0LG4ueCkscj1NYXRoLm1heChyLG4ueCksbz1NYXRoLm1pbihvLG4ueSksYT1NYXRoLm1heChhLG4ueSl9cmV0dXJuW3QsbyxyLGFdfSxGZWF0dXJlV3JhcHBlci5wcm90b3R5cGUudG9HZW9KU09OPWZ1bmN0aW9uKCl7VmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLnRvR2VvSlNPTi5jYWxsKHRoaXMpfTt2YXIgR2VvSlNPTldyYXBwZXI9ZnVuY3Rpb24oZSl7dGhpcy5mZWF0dXJlcz1lLHRoaXMubGVuZ3RoPWUubGVuZ3RoLHRoaXMuZXh0ZW50PUVYVEVOVH07R2VvSlNPTldyYXBwZXIucHJvdG90eXBlLmZlYXR1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBGZWF0dXJlV3JhcHBlcih0aGlzLmZlYXR1cmVzW2VdKX0sbW9kdWxlLmV4cG9ydHM9R2VvSlNPTldyYXBwZXI7XG59LHtcIi4uL2RhdGEvZXh0ZW50XCI6NTQsXCJwb2ludC1nZW9tZXRyeVwiOjI2LFwidmVjdG9yLXRpbGVcIjozNH1dLDg1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciB1dGlsPXJlcXVpcmUoXCIuLi91dGlsL3V0aWxcIiksd2luZG93PXJlcXVpcmUoXCIuLi91dGlsL3dpbmRvd1wiKSxUaWxlQ29vcmQ9cmVxdWlyZShcIi4vdGlsZV9jb29yZFwiKSxMbmdMYXQ9cmVxdWlyZShcIi4uL2dlby9sbmdfbGF0XCIpLFBvaW50PXJlcXVpcmUoXCJwb2ludC1nZW9tZXRyeVwiKSxFdmVudGVkPXJlcXVpcmUoXCIuLi91dGlsL2V2ZW50ZWRcIiksYWpheD1yZXF1aXJlKFwiLi4vdXRpbC9hamF4XCIpLEVYVEVOVD1yZXF1aXJlKFwiLi4vZGF0YS9leHRlbnRcIiksUmFzdGVyQm91bmRzQXJyYXk9cmVxdWlyZShcIi4uL2RhdGEvcmFzdGVyX2JvdW5kc19hcnJheVwiKSxCdWZmZXI9cmVxdWlyZShcIi4uL2RhdGEvYnVmZmVyXCIpLFZlcnRleEFycmF5T2JqZWN0PXJlcXVpcmUoXCIuLi9yZW5kZXIvdmVydGV4X2FycmF5X29iamVjdFwiKSxJbWFnZVNvdXJjZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbyxyLGkpe3QuY2FsbCh0aGlzKSx0aGlzLmlkPWUsdGhpcy5kaXNwYXRjaGVyPXIsdGhpcy5jb29yZGluYXRlcz1vLmNvb3JkaW5hdGVzLHRoaXMudHlwZT1cImltYWdlXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMudGlsZVNpemU9NTEyLHRoaXMuc2V0RXZlbnRlZFBhcmVudChpKSx0aGlzLm9wdGlvbnM9b31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5maXJlKFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pLHRoaXMudXJsPXRoaXMub3B0aW9ucy51cmwsYWpheC5nZXRJbWFnZSh0aGlzLm9wdGlvbnMudXJsLGZ1bmN0aW9uKGUsbyl7cmV0dXJuIGU/dC5maXJlKFwiZXJyb3JcIix7ZXJyb3I6ZX0pOih0LmltYWdlPW8sdm9pZCB0Ll9maW5pc2hMb2FkaW5nKCkpfSl9LGUucHJvdG90eXBlLl9maW5pc2hMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5tYXAmJih0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpLHRoaXMuZmlyZShcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCJ9KSl9LGUucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3RoaXMubG9hZCgpLHRoaXMubWFwPXQsdGhpcy5pbWFnZSYmdGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKX0sZS5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24odCl7dGhpcy5jb29yZGluYXRlcz10O3ZhciBlPXRoaXMubWFwLG89dC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUudHJhbnNmb3JtLmxvY2F0aW9uQ29vcmRpbmF0ZShMbmdMYXQuY29udmVydCh0KSkuem9vbVRvKDApfSkscj10aGlzLmNlbnRlckNvb3JkPXV0aWwuZ2V0Q29vcmRpbmF0ZXNDZW50ZXIobyk7cmV0dXJuIHIuY29sdW1uPU1hdGgucm91bmQoci5jb2x1bW4pLHIucm93PU1hdGgucm91bmQoci5yb3cpLHRoaXMubWluem9vbT10aGlzLm1heHpvb209ci56b29tLHRoaXMuY29vcmQ9bmV3IFRpbGVDb29yZChyLnpvb20sci5jb2x1bW4sci5yb3cpLHRoaXMuX3RpbGVDb29yZHM9by5tYXAoZnVuY3Rpb24odCl7dmFyIGU9dC56b29tVG8oci56b29tKTtyZXR1cm4gbmV3IFBvaW50KE1hdGgucm91bmQoKGUuY29sdW1uLXIuY29sdW1uKSpFWFRFTlQpLE1hdGgucm91bmQoKGUucm93LXIucm93KSpFWFRFTlQpKX0pLHRoaXMuZmlyZShcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pLHRoaXN9LGUucHJvdG90eXBlLl9zZXRUaWxlPWZ1bmN0aW9uKHQpe3RoaXMudGlsZT10O3ZhciBlPTMyNzY3LG89bmV3IFJhc3RlckJvdW5kc0FycmF5O28uZW1wbGFjZUJhY2sodGhpcy5fdGlsZUNvb3Jkc1swXS54LHRoaXMuX3RpbGVDb29yZHNbMF0ueSwwLDApLG8uZW1wbGFjZUJhY2sodGhpcy5fdGlsZUNvb3Jkc1sxXS54LHRoaXMuX3RpbGVDb29yZHNbMV0ueSxlLDApLG8uZW1wbGFjZUJhY2sodGhpcy5fdGlsZUNvb3Jkc1szXS54LHRoaXMuX3RpbGVDb29yZHNbM10ueSwwLGUpLG8uZW1wbGFjZUJhY2sodGhpcy5fdGlsZUNvb3Jkc1syXS54LHRoaXMuX3RpbGVDb29yZHNbMl0ueSxlLGUpLHRoaXMudGlsZS5idWNrZXRzPXt9LHRoaXMudGlsZS5ib3VuZHNCdWZmZXI9QnVmZmVyLmZyb21TdHJ1Y3RBcnJheShvLEJ1ZmZlci5CdWZmZXJUeXBlLlZFUlRFWCksdGhpcy50aWxlLmJvdW5kc1ZBTz1uZXcgVmVydGV4QXJyYXlPYmplY3R9LGUucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24oKXt0aGlzLnRpbGUmJnRoaXMuaW1hZ2UmJnRoaXMuX3ByZXBhcmVJbWFnZSh0aGlzLm1hcC5wYWludGVyLmdsLHRoaXMuaW1hZ2UpfSxlLnByb3RvdHlwZS5fcHJlcGFyZUltYWdlPWZ1bmN0aW9uKHQsZSxvKXtcImxvYWRlZFwiIT09dGhpcy50aWxlLnN0YXRlPyh0aGlzLnRpbGUuc3RhdGU9XCJsb2FkZWRcIix0aGlzLnRpbGUudGV4dHVyZT10LmNyZWF0ZVRleHR1cmUoKSx0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCx0aGlzLnRpbGUudGV4dHVyZSksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9TLHQuQ0xBTVBfVE9fRURHRSksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9ULHQuQ0xBTVBfVE9fRURHRSksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUlOX0ZJTFRFUix0LkxJTkVBUiksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUFHX0ZJTFRFUix0LkxJTkVBUiksdC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLGUpKTpvP3QudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0LlJHQkEsdC5SR0JBLHQuVU5TSUdORURfQllURSxlKTooZSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MVmlkZW9FbGVtZW50fHxlIGluc3RhbmNlb2Ygd2luZG93LkltYWdlRGF0YXx8ZSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudCkmJih0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCx0aGlzLnRpbGUudGV4dHVyZSksdC50ZXhTdWJJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLDAsMCx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLGUpKX0sZS5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24odCxlKXt0aGlzLmNvb3JkJiZ0aGlzLmNvb3JkLnRvU3RyaW5nKCk9PT10LmNvb3JkLnRvU3RyaW5nKCk/KHRoaXMuX3NldFRpbGUodCksZShudWxsKSk6KHQuc3RhdGU9XCJlcnJvcmVkXCIsZShudWxsKSl9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybnt0eXBlOlwiaW1hZ2VcIix1cmxzOnRoaXMudXJsLGNvb3JkaW5hdGVzOnRoaXMuY29vcmRpbmF0ZXN9fSxlfShFdmVudGVkKTttb2R1bGUuZXhwb3J0cz1JbWFnZVNvdXJjZTtcbn0se1wiLi4vZGF0YS9idWZmZXJcIjo1MSxcIi4uL2RhdGEvZXh0ZW50XCI6NTQsXCIuLi9kYXRhL3Jhc3Rlcl9ib3VuZHNfYXJyYXlcIjo1OSxcIi4uL2dlby9sbmdfbGF0XCI6NjIsXCIuLi9yZW5kZXIvdmVydGV4X2FycmF5X29iamVjdFwiOjgwLFwiLi4vdXRpbC9hamF4XCI6MTkxLFwiLi4vdXRpbC9ldmVudGVkXCI6MjAwLFwiLi4vdXRpbC91dGlsXCI6MjEyLFwiLi4vdXRpbC93aW5kb3dcIjoxOTQsXCIuL3RpbGVfY29vcmRcIjo5NCxcInBvaW50LWdlb21ldHJ5XCI6MjZ9XSw4NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgdXRpbD1yZXF1aXJlKFwiLi4vdXRpbC91dGlsXCIpLGFqYXg9cmVxdWlyZShcIi4uL3V0aWwvYWpheFwiKSxicm93c2VyPXJlcXVpcmUoXCIuLi91dGlsL2Jyb3dzZXJcIiksbm9ybWFsaXplVVJMPXJlcXVpcmUoXCIuLi91dGlsL21hcGJveFwiKS5ub3JtYWxpemVTb3VyY2VVUkw7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ocixlKXt2YXIgaT1mdW5jdGlvbihyLGkpe2lmKHIpcmV0dXJuIGUocik7dmFyIG89dXRpbC5waWNrKGksW1widGlsZXNcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcImF0dHJpYnV0aW9uXCIsXCJtYXBib3hfbG9nb1wiXSk7aS52ZWN0b3JfbGF5ZXJzJiYoby52ZWN0b3JMYXllcnM9aS52ZWN0b3JfbGF5ZXJzLG8udmVjdG9yTGF5ZXJJZHM9by52ZWN0b3JMYXllcnMubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByLmlkfSkpLGUobnVsbCxvKX07ci51cmw/YWpheC5nZXRKU09OKG5vcm1hbGl6ZVVSTChyLnVybCksaSk6YnJvd3Nlci5mcmFtZShpLmJpbmQobnVsbCxudWxsLHIpKX07XG59LHtcIi4uL3V0aWwvYWpheFwiOjE5MSxcIi4uL3V0aWwvYnJvd3NlclwiOjE5MixcIi4uL3V0aWwvbWFwYm94XCI6MjA4LFwiLi4vdXRpbC91dGlsXCI6MjEyfV0sODc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIEVYVEVOVD1yZXF1aXJlKFwiLi4vZGF0YS9leHRlbnRcIik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0KihFWFRFTlQvKGUudGlsZVNpemUqTWF0aC5wb3coMixyLWUuY29vcmQueikpKX07XG59LHtcIi4uL2RhdGEvZXh0ZW50XCI6NTR9XSw4ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzb3J0VGlsZXNJbihlLHIpe3ZhciBvPWUuY29vcmQsdD1yLmNvb3JkO3JldHVybiBvLnotdC56fHxvLnktdC55fHxvLnctdC53fHxvLngtdC54fWZ1bmN0aW9uIG1lcmdlUmVuZGVyZWRGZWF0dXJlTGF5ZXJzKGUpe2Zvcih2YXIgcj1lWzBdfHx7fSxvPTE7bzxlLmxlbmd0aDtvKyspe3ZhciB0PWVbb107Zm9yKHZhciBuIGluIHQpe3ZhciBhPXRbbl0saT1yW25dO2lmKHZvaWQgMD09PWkpaT1yW25dPWE7ZWxzZSBmb3IodmFyIHU9MDt1PGEubGVuZ3RoO3UrKylpLnB1c2goYVt1XSl9fXJldHVybiByfXZhciBUaWxlQ29vcmQ9cmVxdWlyZShcIi4vdGlsZV9jb29yZFwiKTtleHBvcnRzLnJlbmRlcmVkPWZ1bmN0aW9uKGUscixvLHQsbixhKXt2YXIgaT1lLnRpbGVzSW4obyk7aS5zb3J0KHNvcnRUaWxlc0luKTtmb3IodmFyIHU9W10scz0wO3M8aS5sZW5ndGg7cysrKXt2YXIgZD1pW3NdO2QudGlsZS5mZWF0dXJlSW5kZXgmJnUucHVzaChkLnRpbGUuZmVhdHVyZUluZGV4LnF1ZXJ5KHtxdWVyeUdlb21ldHJ5OmQucXVlcnlHZW9tZXRyeSxzY2FsZTpkLnNjYWxlLHRpbGVTaXplOmQudGlsZS50aWxlU2l6ZSxiZWFyaW5nOmEscGFyYW1zOnR9LHIpKX1yZXR1cm4gbWVyZ2VSZW5kZXJlZEZlYXR1cmVMYXllcnModSl9LGV4cG9ydHMuc291cmNlPWZ1bmN0aW9uKGUscil7Zm9yKHZhciBvPWUuZ2V0UmVuZGVyYWJsZUlkcygpLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gZS5nZXRUaWxlQnlJRChyKX0pLHQ9W10sbj17fSxhPTA7YTxvLmxlbmd0aDthKyspe3ZhciBpPW9bYV0sdT1uZXcgVGlsZUNvb3JkKE1hdGgubWluKGkuc291cmNlTWF4Wm9vbSxpLmNvb3JkLnopLGkuY29vcmQueCxpLmNvb3JkLnksMCkuaWQ7blt1XXx8KG5bdV09ITAsaS5xdWVyeVNvdXJjZUZlYXR1cmVzKHQscikpfXJldHVybiB0fTtcbn0se1wiLi90aWxlX2Nvb3JkXCI6OTR9XSw4OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgdXRpbD1yZXF1aXJlKFwiLi4vdXRpbC91dGlsXCIpLGFqYXg9cmVxdWlyZShcIi4uL3V0aWwvYWpheFwiKSxFdmVudGVkPXJlcXVpcmUoXCIuLi91dGlsL2V2ZW50ZWRcIiksbG9hZFRpbGVKU09OPXJlcXVpcmUoXCIuL2xvYWRfdGlsZWpzb25cIiksbm9ybWFsaXplVVJMPXJlcXVpcmUoXCIuLi91dGlsL21hcGJveFwiKS5ub3JtYWxpemVUaWxlVVJMLFJhc3RlclRpbGVTb3VyY2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LGkscixhKXtlLmNhbGwodGhpcyksdGhpcy5pZD10LHRoaXMuZGlzcGF0Y2hlcj1yLHRoaXMuc2V0RXZlbnRlZFBhcmVudChhKSx0aGlzLnR5cGU9XCJyYXN0ZXJcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy5yb3VuZFpvb209ITAsdGhpcy5zY2hlbWU9XCJ4eXpcIix0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9sb2FkZWQ9ITEsdGhpcy5vcHRpb25zPWksdXRpbC5leHRlbmQodGhpcyx1dGlsLnBpY2soaSxbXCJ1cmxcIixcInNjaGVtZVwiLFwidGlsZVNpemVcIl0pKX1yZXR1cm4gZSYmKHQuX19wcm90b19fPWUpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5maXJlKFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pLGxvYWRUaWxlSlNPTih0aGlzLm9wdGlvbnMsZnVuY3Rpb24odCxpKXtyZXR1cm4gdD9lLmZpcmUoXCJlcnJvclwiLHQpOih1dGlsLmV4dGVuZChlLGkpLGUuZmlyZShcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCJ9KSx2b2lkIGUuZmlyZShcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKX0pfSx0LnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbihlKXt0aGlzLmxvYWQoKSx0aGlzLm1hcD1lfSx0LnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcInJhc3RlclwiLHVybDp0aGlzLnVybCx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLHRpbGVzOnRoaXMudGlsZXN9fSx0LnByb3RvdHlwZS5sb2FkVGlsZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoaSxyKXtpZihkZWxldGUgZS5yZXF1ZXN0LGUuYWJvcnRlZClyZXR1cm4gdGhpcy5zdGF0ZT1cInVubG9hZGVkXCIsdChudWxsKTtpZihpKXJldHVybiB0aGlzLnN0YXRlPVwiZXJyb3JlZFwiLHQoaSk7dGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXN8fGUuc2V0RXhwaXJ5RGF0YShyKSxkZWxldGUgci5jYWNoZUNvbnRyb2wsZGVsZXRlIHIuZXhwaXJlczt2YXIgYT10aGlzLm1hcC5wYWludGVyLmdsO2UudGV4dHVyZT10aGlzLm1hcC5wYWludGVyLmdldFRpbGVUZXh0dXJlKHIud2lkdGgpLGUudGV4dHVyZT8oYS5iaW5kVGV4dHVyZShhLlRFWFRVUkVfMkQsZS50ZXh0dXJlKSxhLnRleFN1YkltYWdlMkQoYS5URVhUVVJFXzJELDAsMCwwLGEuUkdCQSxhLlVOU0lHTkVEX0JZVEUscikpOihlLnRleHR1cmU9YS5jcmVhdGVUZXh0dXJlKCksYS5iaW5kVGV4dHVyZShhLlRFWFRVUkVfMkQsZS50ZXh0dXJlKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFXzJELGEuVEVYVFVSRV9NSU5fRklMVEVSLGEuTElORUFSX01JUE1BUF9ORUFSRVNUKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFXzJELGEuVEVYVFVSRV9NQUdfRklMVEVSLGEuTElORUFSKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFXzJELGEuVEVYVFVSRV9XUkFQX1MsYS5DTEFNUF9UT19FREdFKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFXzJELGEuVEVYVFVSRV9XUkFQX1QsYS5DTEFNUF9UT19FREdFKSxhLnRleEltYWdlMkQoYS5URVhUVVJFXzJELDAsYS5SR0JBLGEuUkdCQSxhLlVOU0lHTkVEX0JZVEUsciksZS50ZXh0dXJlLnNpemU9ci53aWR0aCksYS5nZW5lcmF0ZU1pcG1hcChhLlRFWFRVUkVfMkQpLGUuc3RhdGU9XCJsb2FkZWRcIix0KG51bGwpfXZhciByPW5vcm1hbGl6ZVVSTChlLmNvb3JkLnVybCh0aGlzLnRpbGVzLG51bGwsdGhpcy5zY2hlbWUpLHRoaXMudXJsLHRoaXMudGlsZVNpemUpO2UucmVxdWVzdD1hamF4LmdldEltYWdlKHIsaS5iaW5kKHRoaXMpKX0sdC5wcm90b3R5cGUuYWJvcnRUaWxlPWZ1bmN0aW9uKGUpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5hYm9ydCgpLGRlbGV0ZSBlLnJlcXVlc3QpfSx0LnByb3RvdHlwZS51bmxvYWRUaWxlPWZ1bmN0aW9uKGUpe2UudGV4dHVyZSYmdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUoZS50ZXh0dXJlKX0sdH0oRXZlbnRlZCk7bW9kdWxlLmV4cG9ydHM9UmFzdGVyVGlsZVNvdXJjZTtcbn0se1wiLi4vdXRpbC9hamF4XCI6MTkxLFwiLi4vdXRpbC9ldmVudGVkXCI6MjAwLFwiLi4vdXRpbC9tYXBib3hcIjoyMDgsXCIuLi91dGlsL3V0aWxcIjoyMTIsXCIuL2xvYWRfdGlsZWpzb25cIjo4Nn1dLDkwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBhamF4PXJlcXVpcmUoXCIuLi91dGlsL2FqYXhcIiksRXZlbnRlZD1yZXF1aXJlKFwiLi4vdXRpbC9ldmVudGVkXCIpLHdpbmRvdz1yZXF1aXJlKFwiLi4vdXRpbC93aW5kb3dcIikscGx1Z2luUmVxdWVzdGVkPSExLHBsdWdpbkJsb2JVUkw9bnVsbDttb2R1bGUuZXhwb3J0cy5ldmVudGVkPW5ldyBFdmVudGVkLG1vZHVsZS5leHBvcnRzLnJlZ2lzdGVyRm9yUGx1Z2luQXZhaWxhYmlsaXR5PWZ1bmN0aW9uKGUpe3JldHVybiBwbHVnaW5CbG9iVVJMP2UocGx1Z2luQmxvYlVSTCxtb2R1bGUuZXhwb3J0cy5lcnJvckNhbGxiYWNrKTptb2R1bGUuZXhwb3J0cy5ldmVudGVkLm9uY2UoXCJwbHVnaW5BdmFpbGFibGVcIixlKSxlfSxtb2R1bGUuZXhwb3J0cy5zZXRSVExUZXh0UGx1Z2luPWZ1bmN0aW9uKGUsbCl7aWYocGx1Z2luUmVxdWVzdGVkKXRocm93IG5ldyBFcnJvcihcInNldFJUTFRleHRQbHVnaW4gY2Fubm90IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cIik7cGx1Z2luUmVxdWVzdGVkPSEwLG1vZHVsZS5leHBvcnRzLmVycm9yQ2FsbGJhY2s9bCxhamF4LmdldEFycmF5QnVmZmVyKGUsZnVuY3Rpb24oZSx0KXtlP2woZSk6KHBsdWdpbkJsb2JVUkw9d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IHdpbmRvdy5CbG9iKFt0LmRhdGFdKSx7dHlwZTpcInRleHQvamF2YXNjcmlwdFwifSksbW9kdWxlLmV4cG9ydHMuZXZlbnRlZC5maXJlKFwicGx1Z2luQXZhaWxhYmxlXCIse3BsdWdpbkJsb2JVUkw6cGx1Z2luQmxvYlVSTCxlcnJvckNhbGxiYWNrOmx9KSl9KX07XG59LHtcIi4uL3V0aWwvYWpheFwiOjE5MSxcIi4uL3V0aWwvZXZlbnRlZFwiOjIwMCxcIi4uL3V0aWwvd2luZG93XCI6MTk0fV0sOTE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWw9cmVxdWlyZShcIi4uL3V0aWwvdXRpbFwiKSxzb3VyY2VUeXBlcz17dmVjdG9yOnJlcXVpcmUoXCIuLi9zb3VyY2UvdmVjdG9yX3RpbGVfc291cmNlXCIpLHJhc3RlcjpyZXF1aXJlKFwiLi4vc291cmNlL3Jhc3Rlcl90aWxlX3NvdXJjZVwiKSxnZW9qc29uOnJlcXVpcmUoXCIuLi9zb3VyY2UvZ2VvanNvbl9zb3VyY2VcIiksdmlkZW86cmVxdWlyZShcIi4uL3NvdXJjZS92aWRlb19zb3VyY2VcIiksaW1hZ2U6cmVxdWlyZShcIi4uL3NvdXJjZS9pbWFnZV9zb3VyY2VcIiksY2FudmFzOnJlcXVpcmUoXCIuLi9zb3VyY2UvY2FudmFzX3NvdXJjZVwiKX07ZXhwb3J0cy5jcmVhdGU9ZnVuY3Rpb24oZSxyLG8sdSl7aWYocj1uZXcgc291cmNlVHlwZXNbci50eXBlXShlLHIsbyx1KSxyLmlkIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBTb3VyY2UgaWQgdG8gYmUgXCIrZStcIiBpbnN0ZWFkIG9mIFwiK3IuaWQpO3JldHVybiB1dGlsLmJpbmRBbGwoW1wibG9hZFwiLFwiYWJvcnRcIixcInVubG9hZFwiLFwic2VyaWFsaXplXCIsXCJwcmVwYXJlXCJdLHIpLHJ9LGV4cG9ydHMuZ2V0VHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gc291cmNlVHlwZXNbZV19LGV4cG9ydHMuc2V0VHlwZT1mdW5jdGlvbihlLHIpe3NvdXJjZVR5cGVzW2VdPXJ9O1xufSx7XCIuLi9zb3VyY2UvY2FudmFzX3NvdXJjZVwiOjgxLFwiLi4vc291cmNlL2dlb2pzb25fc291cmNlXCI6ODIsXCIuLi9zb3VyY2UvaW1hZ2Vfc291cmNlXCI6ODUsXCIuLi9zb3VyY2UvcmFzdGVyX3RpbGVfc291cmNlXCI6ODksXCIuLi9zb3VyY2UvdmVjdG9yX3RpbGVfc291cmNlXCI6OTUsXCIuLi9zb3VyY2UvdmlkZW9fc291cmNlXCI6OTcsXCIuLi91dGlsL3V0aWxcIjoyMTJ9XSw5MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjb29yZGluYXRlVG9UaWxlUG9pbnQoZSx0LG8pe3ZhciBpPW8uem9vbVRvKE1hdGgubWluKGUueix0KSk7cmV0dXJue3g6KGkuY29sdW1uLShlLngrZS53Kk1hdGgucG93KDIsZS56KSkpKkVYVEVOVCx5OihpLnJvdy1lLnkpKkVYVEVOVH19ZnVuY3Rpb24gY29tcGFyZUtleVpvb20oZSx0KXtyZXR1cm4gZSUzMi10JTMyfWZ1bmN0aW9uIGlzUmFzdGVyVHlwZShlKXtyZXR1cm5cInJhc3RlclwiPT09ZXx8XCJpbWFnZVwiPT09ZXx8XCJ2aWRlb1wiPT09ZX12YXIgU291cmNlPXJlcXVpcmUoXCIuL3NvdXJjZVwiKSxUaWxlPXJlcXVpcmUoXCIuL3RpbGVcIiksRXZlbnRlZD1yZXF1aXJlKFwiLi4vdXRpbC9ldmVudGVkXCIpLFRpbGVDb29yZD1yZXF1aXJlKFwiLi90aWxlX2Nvb3JkXCIpLENhY2hlPXJlcXVpcmUoXCIuLi91dGlsL2xydV9jYWNoZVwiKSxDb29yZGluYXRlPXJlcXVpcmUoXCIuLi9nZW8vY29vcmRpbmF0ZVwiKSx1dGlsPXJlcXVpcmUoXCIuLi91dGlsL3V0aWxcIiksRVhURU5UPXJlcXVpcmUoXCIuLi9kYXRhL2V4dGVudFwiKSxTb3VyY2VDYWNoZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbyxpKXtlLmNhbGwodGhpcyksdGhpcy5pZD10LHRoaXMuZGlzcGF0Y2hlcj1pLHRoaXMub24oXCJkYXRhXCIsZnVuY3Rpb24oZSl7XCJzb3VyY2VcIj09PWUuZGF0YVR5cGUmJlwibWV0YWRhdGFcIj09PWUuc291cmNlRGF0YVR5cGUmJih0aGlzLl9zb3VyY2VMb2FkZWQ9ITApLHRoaXMuX3NvdXJjZUxvYWRlZCYmXCJzb3VyY2VcIj09PWUuZGF0YVR5cGUmJlwiY29udGVudFwiPT09ZS5zb3VyY2VEYXRhVHlwZSYmKHRoaXMucmVsb2FkKCksdGhpcy50cmFuc2Zvcm0mJnRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKSl9KSx0aGlzLm9uKFwiZXJyb3JcIixmdW5jdGlvbigpe3RoaXMuX3NvdXJjZUVycm9yZWQ9ITB9KSx0aGlzLl9zb3VyY2U9U291cmNlLmNyZWF0ZSh0LG8saSx0aGlzKSx0aGlzLl90aWxlcz17fSx0aGlzLl9jYWNoZT1uZXcgQ2FjaGUoMCx0aGlzLnVubG9hZFRpbGUuYmluZCh0aGlzKSksdGhpcy5fdGltZXJzPXt9LHRoaXMuX2NhY2hlVGltZXJzPXt9LHRoaXMuX2lzSWRSZW5kZXJhYmxlPXRoaXMuX2lzSWRSZW5kZXJhYmxlLmJpbmQodGhpcyl9cmV0dXJuIGUmJih0Ll9fcHJvdG9fXz1lKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSx0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LHQucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKGUpe3RoaXMubWFwPWUsdGhpcy5fc291cmNlJiZ0aGlzLl9zb3VyY2Uub25BZGQmJnRoaXMuX3NvdXJjZS5vbkFkZChlKX0sdC5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oZSl7dGhpcy5fc291cmNlJiZ0aGlzLl9zb3VyY2Uub25SZW1vdmUmJnRoaXMuX3NvdXJjZS5vblJlbW92ZShlKX0sdC5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLl9zb3VyY2VFcnJvcmVkKXJldHVybiEwO2lmKCF0aGlzLl9zb3VyY2VMb2FkZWQpcmV0dXJuITE7Zm9yKHZhciB0IGluIGUuX3RpbGVzKXt2YXIgbz1lLl90aWxlc1t0XTtpZihcImxvYWRlZFwiIT09by5zdGF0ZSYmXCJlcnJvcmVkXCIhPT1vLnN0YXRlKXJldHVybiExfXJldHVybiEwfSx0LnByb3RvdHlwZS5nZXRTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlfSx0LnByb3RvdHlwZS5sb2FkVGlsZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9zb3VyY2UubG9hZFRpbGUoZSx0KX0sdC5wcm90b3R5cGUudW5sb2FkVGlsZT1mdW5jdGlvbihlKXtpZih0aGlzLl9zb3VyY2UudW5sb2FkVGlsZSlyZXR1cm4gdGhpcy5fc291cmNlLnVubG9hZFRpbGUoZSl9LHQucHJvdG90eXBlLmFib3J0VGlsZT1mdW5jdGlvbihlKXtpZih0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKXJldHVybiB0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKGUpfSx0LnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlLnNlcmlhbGl6ZSgpfSx0LnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKCl7aWYodGhpcy5fc291cmNlTG9hZGVkJiZ0aGlzLl9zb3VyY2UucHJlcGFyZSlyZXR1cm4gdGhpcy5fc291cmNlLnByZXBhcmUoKX0sdC5wcm90b3R5cGUuZ2V0SWRzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3RpbGVzKS5tYXAoTnVtYmVyKS5zb3J0KGNvbXBhcmVLZXlab29tKX0sdC5wcm90b3R5cGUuZ2V0UmVuZGVyYWJsZUlkcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElkcygpLmZpbHRlcih0aGlzLl9pc0lkUmVuZGVyYWJsZSl9LHQucHJvdG90eXBlLl9pc0lkUmVuZGVyYWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdGlsZXNbZV0uaGFzRGF0YSgpJiYhdGhpcy5fY292ZXJlZFRpbGVzW2VdfSx0LnByb3RvdHlwZS5yZWxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2NhY2hlLnJlc2V0KCk7Zm9yKHZhciB0IGluIGUuX3RpbGVzKWUucmVsb2FkVGlsZSh0LFwicmVsb2FkaW5nXCIpfSx0LnByb3RvdHlwZS5yZWxvYWRUaWxlPWZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpcy5fdGlsZXNbZV07byYmKFwibG9hZGluZ1wiIT09by5zdGF0ZSYmKG8uc3RhdGU9dCksdGhpcy5sb2FkVGlsZShvLHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLG8sZSx0KSkpfSx0LnByb3RvdHlwZS5fdGlsZUxvYWRlZD1mdW5jdGlvbihlLHQsbyxpKXtyZXR1cm4gaT8oZS5zdGF0ZT1cImVycm9yZWRcIix2b2lkIHRoaXMuX3NvdXJjZS5maXJlKFwiZXJyb3JcIix7dGlsZTplLGVycm9yOml9KSk6KGUuc291cmNlQ2FjaGU9dGhpcyxlLnRpbWVBZGRlZD0obmV3IERhdGUpLmdldFRpbWUoKSxcImV4cGlyZWRcIj09PW8mJihlLnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uPSEwKSx0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIodCxlKSx0aGlzLl9zb3VyY2UuZmlyZShcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIix0aWxlOmUsY29vcmQ6ZS5jb29yZH0pLHZvaWQodGhpcy5tYXAmJih0aGlzLm1hcC5wYWludGVyLnRpbGVFeHRlbnRWQU8udmFvPW51bGwpKSl9LHQucHJvdG90eXBlLmdldFRpbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0VGlsZUJ5SUQoZS5pZCl9LHQucHJvdG90eXBlLmdldFRpbGVCeUlEPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl90aWxlc1tlXX0sdC5wcm90b3R5cGUuZ2V0Wm9vbT1mdW5jdGlvbihlKXtyZXR1cm4gZS56b29tK2Uuc2NhbGVab29tKGUudGlsZVNpemUvdGhpcy5fc291cmNlLnRpbGVTaXplKX0sdC5wcm90b3R5cGUuZmluZExvYWRlZENoaWxkcmVuPWZ1bmN0aW9uKGUsdCxvKXt2YXIgaT10aGlzLHI9ITE7Zm9yKHZhciBzIGluIGkuX3RpbGVzKXt2YXIgYT1pLl90aWxlc1tzXTtpZighKG9bc118fCFhLmhhc0RhdGEoKXx8YS5jb29yZC56PD1lLnp8fGEuY29vcmQuej50KSl7dmFyIG49TWF0aC5wb3coMixNYXRoLm1pbihhLmNvb3JkLnosaS5fc291cmNlLm1heHpvb20pLU1hdGgubWluKGUueixpLl9zb3VyY2UubWF4em9vbSkpO2lmKE1hdGguZmxvb3IoYS5jb29yZC54L24pPT09ZS54JiZNYXRoLmZsb29yKGEuY29vcmQueS9uKT09PWUueSlmb3Iob1tzXT0hMCxyPSEwO2EmJmEuY29vcmQuei0xPmUuejspe3ZhciBkPWEuY29vcmQucGFyZW50KGkuX3NvdXJjZS5tYXh6b29tKS5pZDthPWkuX3RpbGVzW2RdLGEmJmEuaGFzRGF0YSgpJiYoZGVsZXRlIG9bc10sb1tkXT0hMCl9fX1yZXR1cm4gcn0sdC5wcm90b3R5cGUuZmluZExvYWRlZFBhcmVudD1mdW5jdGlvbihlLHQsbyl7Zm9yKHZhciBpPXRoaXMscj1lLnotMTtyPj10O3ItLSl7ZT1lLnBhcmVudChpLl9zb3VyY2UubWF4em9vbSk7dmFyIHM9aS5fdGlsZXNbZS5pZF07aWYocyYmcy5oYXNEYXRhKCkpcmV0dXJuIG9bZS5pZF09ITAscztpZihpLl9jYWNoZS5oYXMoZS5pZCkpcmV0dXJuIG9bZS5pZF09ITAsaS5fY2FjaGUuZ2V0V2l0aG91dFJlbW92aW5nKGUuaWQpfX0sdC5wcm90b3R5cGUudXBkYXRlQ2FjaGVTaXplPWZ1bmN0aW9uKGUpe3ZhciB0PU1hdGguY2VpbChlLndpZHRoL2UudGlsZVNpemUpKzEsbz1NYXRoLmNlaWwoZS5oZWlnaHQvZS50aWxlU2l6ZSkrMSxpPXQqbyxyPTU7dGhpcy5fY2FjaGUuc2V0TWF4U2l6ZShNYXRoLmZsb29yKGkqcikpfSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcztpZih0aGlzLnRyYW5zZm9ybT1lLHRoaXMuX3NvdXJjZUxvYWRlZCl7dmFyIGkscixzLGE7dGhpcy51cGRhdGVDYWNoZVNpemUoZSk7dmFyIG49KHRoaXMuX3NvdXJjZS5yb3VuZFpvb20/TWF0aC5yb3VuZDpNYXRoLmZsb29yKSh0aGlzLmdldFpvb20oZSkpLGQ9TWF0aC5tYXgobi10Lm1heE92ZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxjPU1hdGgubWF4KG4rdC5tYXhVbmRlcnpvb21pbmcsdGhpcy5fc291cmNlLm1pbnpvb20pLGg9e307dGhpcy5fY292ZXJlZFRpbGVzPXt9O3ZhciB1O2Zvcih1PXRoaXMudXNlZD90aGlzLl9zb3VyY2UuY29vcmQ/W3RoaXMuX3NvdXJjZS5jb29yZF06ZS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTp0aGlzLl9zb3VyY2UudGlsZVNpemUsbWluem9vbTp0aGlzLl9zb3VyY2UubWluem9vbSxtYXh6b29tOnRoaXMuX3NvdXJjZS5tYXh6b29tLHJvdW5kWm9vbTp0aGlzLl9zb3VyY2Uucm91bmRab29tLHJlcGFyc2VPdmVyc2NhbGVkOnRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZH0pOltdLGk9MDtpPHUubGVuZ3RoO2krKylyPXVbaV0scz1vLmFkZFRpbGUociksaFtyLmlkXT0hMCxzLmhhc0RhdGEoKXx8by5maW5kTG9hZGVkQ2hpbGRyZW4ocixjLGgpfHwoYT1vLmZpbmRMb2FkZWRQYXJlbnQocixkLGgpLGEmJm8uYWRkVGlsZShhLmNvb3JkKSk7dmFyIGw9e307aWYoaXNSYXN0ZXJUeXBlKHRoaXMuX3NvdXJjZS50eXBlKSlmb3IodmFyIG09T2JqZWN0LmtleXMoaCkscD0wO3A8bS5sZW5ndGg7cCsrKXt2YXIgXz1tW3BdO3I9VGlsZUNvb3JkLmZyb21JRChfKSxzPW8uX3RpbGVzW19dLHMmJihcInVuZGVmaW5lZFwiPT10eXBlb2Ygcy5mYWRlRW5kVGltZXx8cy5mYWRlRW5kVGltZT49RGF0ZS5ub3coKSkmJihvLmZpbmRMb2FkZWRDaGlsZHJlbihyLGMsaCkmJihoW19dPSEwKSxhPW8uZmluZExvYWRlZFBhcmVudChyLGQsbCksYSYmby5hZGRUaWxlKGEuY29vcmQpKX12YXIgZjtmb3IoZiBpbiBsKWhbZl18fChvLl9jb3ZlcmVkVGlsZXNbZl09ITApO2ZvcihmIGluIGwpaFtmXT0hMDt2YXIgVD11dGlsLmtleXNEaWZmZXJlbmNlKHRoaXMuX3RpbGVzLGgpO2ZvcihpPTA7aTxULmxlbmd0aDtpKyspby5yZW1vdmVUaWxlKCtUW2ldKX19LHQucHJvdG90eXBlLmFkZFRpbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdGlsZXNbZS5pZF07aWYodClyZXR1cm4gdDt2YXIgbz1lLndyYXBwZWQoKTt0PXRoaXMuX3RpbGVzW28uaWRdLHR8fCh0PXRoaXMuX2NhY2hlLmdldChvLmlkKSx0JiYodC5yZWRvUGxhY2VtZW50KHRoaXMuX3NvdXJjZSksdGhpcy5fY2FjaGVUaW1lcnNbby5pZF0mJihjbGVhclRpbWVvdXQodGhpcy5fY2FjaGVUaW1lcnNbby5pZF0pLHRoaXMuX2NhY2hlVGltZXJzW28uaWRdPXZvaWQgMCx0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIoby5pZCx0KSkpKTt2YXIgaT1Cb29sZWFuKHQpO2lmKCFpKXt2YXIgcj1lLnoscz1yPnRoaXMuX3NvdXJjZS5tYXh6b29tP01hdGgucG93KDIsci10aGlzLl9zb3VyY2UubWF4em9vbSk6MTt0PW5ldyBUaWxlKG8sdGhpcy5fc291cmNlLnRpbGVTaXplKnMsdGhpcy5fc291cmNlLm1heHpvb20pLHRoaXMubG9hZFRpbGUodCx0aGlzLl90aWxlTG9hZGVkLmJpbmQodGhpcyx0LGUuaWQpKX1yZXR1cm4gdC51c2VzKyssdGhpcy5fdGlsZXNbZS5pZF09dCxpfHx0aGlzLl9zb3VyY2UuZmlyZShcImRhdGFsb2FkaW5nXCIse3RpbGU6dCxjb29yZDp0LmNvb3JkLGRhdGFUeXBlOlwic291cmNlXCJ9KSx0fSx0LnByb3RvdHlwZS5fc2V0VGlsZVJlbG9hZFRpbWVyPWZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpcyxpPXQuZ2V0RXhwaXJ5VGltZW91dCgpO2kmJih0aGlzLl90aW1lcnNbZV09c2V0VGltZW91dChmdW5jdGlvbigpe28ucmVsb2FkVGlsZShlLFwiZXhwaXJlZFwiKSxvLl90aW1lcnNbZV09dm9pZCAwfSxpKSl9LHQucHJvdG90eXBlLl9zZXRDYWNoZUludmFsaWRhdGlvblRpbWVyPWZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpcyxpPXQuZ2V0RXhwaXJ5VGltZW91dCgpO2kmJih0aGlzLl9jYWNoZVRpbWVyc1tlXT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5fY2FjaGUucmVtb3ZlKGUpLG8uX2NhY2hlVGltZXJzW2VdPXZvaWQgMH0saSkpfSx0LnByb3RvdHlwZS5yZW1vdmVUaWxlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3RpbGVzW2VdO2lmKHQmJih0LnVzZXMtLSxkZWxldGUgdGhpcy5fdGlsZXNbZV0sdGhpcy5fdGltZXJzW2VdJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1tlXSksdGhpcy5fdGltZXJzW2VdPXZvaWQgMCksISh0LnVzZXM+MCkpKWlmKHQuaGFzRGF0YSgpKXt2YXIgbz10LmNvb3JkLndyYXBwZWQoKS5pZDt0aGlzLl9jYWNoZS5hZGQobyx0KSx0aGlzLl9zZXRDYWNoZUludmFsaWRhdGlvblRpbWVyKG8sdCl9ZWxzZSB0LmFib3J0ZWQ9ITAsdGhpcy5hYm9ydFRpbGUodCksdGhpcy51bmxvYWRUaWxlKHQpfSx0LnByb3RvdHlwZS5jbGVhclRpbGVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztmb3IodmFyIHQgaW4gZS5fdGlsZXMpZS5yZW1vdmVUaWxlKHQpO3RoaXMuX2NhY2hlLnJlc2V0KCl9LHQucHJvdG90eXBlLnRpbGVzSW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMsbz17fSxpPXRoaXMuZ2V0SWRzKCkscj0xLzAscz0xLzAsYT0tKDEvMCksbj0tKDEvMCksZD1lWzBdLnpvb20sYz0wO2M8ZS5sZW5ndGg7YysrKXt2YXIgaD1lW2NdO3I9TWF0aC5taW4ocixoLmNvbHVtbikscz1NYXRoLm1pbihzLGgucm93KSxhPU1hdGgubWF4KGEsaC5jb2x1bW4pLG49TWF0aC5tYXgobixoLnJvdyl9Zm9yKHZhciB1PTA7dTxpLmxlbmd0aDt1Kyspe3ZhciBsPXQuX3RpbGVzW2lbdV1dLG09VGlsZUNvb3JkLmZyb21JRChpW3VdKSxwPVtjb29yZGluYXRlVG9UaWxlUG9pbnQobSxsLnNvdXJjZU1heFpvb20sbmV3IENvb3JkaW5hdGUocixzLGQpKSxjb29yZGluYXRlVG9UaWxlUG9pbnQobSxsLnNvdXJjZU1heFpvb20sbmV3IENvb3JkaW5hdGUoYSxuLGQpKV07aWYocFswXS54PEVYVEVOVCYmcFswXS55PEVYVEVOVCYmcFsxXS54Pj0wJiZwWzFdLnk+PTApe2Zvcih2YXIgXz1bXSxmPTA7ZjxlLmxlbmd0aDtmKyspXy5wdXNoKGNvb3JkaW5hdGVUb1RpbGVQb2ludChtLGwuc291cmNlTWF4Wm9vbSxlW2ZdKSk7dmFyIFQ9b1tsLmNvb3JkLmlkXTt2b2lkIDA9PT1UJiYoVD1vW2wuY29vcmQuaWRdPXt0aWxlOmwsY29vcmQ6bSxxdWVyeUdlb21ldHJ5OltdLHNjYWxlOk1hdGgucG93KDIsdC50cmFuc2Zvcm0uem9vbS1sLmNvb3JkLnopfSksVC5xdWVyeUdlb21ldHJ5LnB1c2goXyl9fXZhciB2PVtdO2Zvcih2YXIgeSBpbiBvKXYucHVzaChvW3ldKTtyZXR1cm4gdn0sdC5wcm90b3R5cGUucmVkb1BsYWNlbWVudD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9dGhpcy5nZXRJZHMoKSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBpPWUuZ2V0VGlsZUJ5SUQodFtvXSk7aS5yZWRvUGxhY2VtZW50KGUuX3NvdXJjZSl9fSx0LnByb3RvdHlwZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PXRoaXMuZ2V0UmVuZGVyYWJsZUlkcygpLm1hcChUaWxlQ29vcmQuZnJvbUlEKSxvPTAsaT10O288aS5sZW5ndGg7bys9MSl7dmFyIHI9aVtvXTtyLnBvc01hdHJpeD1lLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgocixlLl9zb3VyY2UubWF4em9vbSl9cmV0dXJuIHR9LHR9KEV2ZW50ZWQpO1NvdXJjZUNhY2hlLm1heE92ZXJ6b29taW5nPTEwLFNvdXJjZUNhY2hlLm1heFVuZGVyem9vbWluZz0zLG1vZHVsZS5leHBvcnRzPVNvdXJjZUNhY2hlO1xufSx7XCIuLi9kYXRhL2V4dGVudFwiOjU0LFwiLi4vZ2VvL2Nvb3JkaW5hdGVcIjo2MSxcIi4uL3V0aWwvZXZlbnRlZFwiOjIwMCxcIi4uL3V0aWwvbHJ1X2NhY2hlXCI6MjA3LFwiLi4vdXRpbC91dGlsXCI6MjEyLFwiLi9zb3VyY2VcIjo5MSxcIi4vdGlsZVwiOjkzLFwiLi90aWxlX2Nvb3JkXCI6OTR9XSw5MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgdXRpbD1yZXF1aXJlKFwiLi4vdXRpbC91dGlsXCIpLEJ1Y2tldD1yZXF1aXJlKFwiLi4vZGF0YS9idWNrZXRcIiksRmVhdHVyZUluZGV4PXJlcXVpcmUoXCIuLi9kYXRhL2ZlYXR1cmVfaW5kZXhcIiksdnQ9cmVxdWlyZShcInZlY3Rvci10aWxlXCIpLFByb3RvYnVmPXJlcXVpcmUoXCJwYmZcIiksR2VvSlNPTkZlYXR1cmU9cmVxdWlyZShcIi4uL3V0aWwvdmVjdG9ydGlsZV90b19nZW9qc29uXCIpLGZlYXR1cmVGaWx0ZXI9cmVxdWlyZShcIi4uL3N0eWxlLXNwZWMvZmVhdHVyZV9maWx0ZXJcIiksQ29sbGlzaW9uVGlsZT1yZXF1aXJlKFwiLi4vc3ltYm9sL2NvbGxpc2lvbl90aWxlXCIpLENvbGxpc2lvbkJveEFycmF5PXJlcXVpcmUoXCIuLi9zeW1ib2wvY29sbGlzaW9uX2JveFwiKSxDTE9DS19TS0VXX1JFVFJZX1RJTUVPVVQ9M2U0LFRpbGU9ZnVuY3Rpb24oZSx0LGkpe3RoaXMuY29vcmQ9ZSx0aGlzLnVpZD11dGlsLnVuaXF1ZUlkKCksdGhpcy51c2VzPTAsdGhpcy50aWxlU2l6ZT10LHRoaXMuc291cmNlTWF4Wm9vbT1pLHRoaXMuYnVja2V0cz17fSx0aGlzLmV4cGlyYXRpb25UaW1lPW51bGwsdGhpcy5leHBpcmVkUmVxdWVzdENvdW50PTAsdGhpcy5zdGF0ZT1cImxvYWRpbmdcIn07VGlsZS5wcm90b3R5cGUucmVnaXN0ZXJGYWRlRHVyYXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgaT10K3RoaXMudGltZUFkZGVkO2k8RGF0ZS5ub3coKXx8dGhpcy5mYWRlRW5kVGltZSYmaTx0aGlzLmZhZGVFbmRUaW1lfHwodGhpcy5mYWRlRW5kVGltZT1pLGUuc2V0KHRoaXMuZmFkZUVuZFRpbWUtRGF0ZS5ub3coKSkpfSxUaWxlLnByb3RvdHlwZS5sb2FkVmVjdG9yRGF0YT1mdW5jdGlvbihlLHQpe3RoaXMuaGFzRGF0YSgpJiZ0aGlzLnVubG9hZFZlY3RvckRhdGEodCksdGhpcy5zdGF0ZT1cImxvYWRlZFwiLGUmJihlLnJhd1RpbGVEYXRhJiYodGhpcy5yYXdUaWxlRGF0YT1lLnJhd1RpbGVEYXRhKSx0aGlzLmNvbGxpc2lvbkJveEFycmF5PW5ldyBDb2xsaXNpb25Cb3hBcnJheShlLmNvbGxpc2lvbkJveEFycmF5KSx0aGlzLmNvbGxpc2lvblRpbGU9bmV3IENvbGxpc2lvblRpbGUoZS5jb2xsaXNpb25UaWxlLHRoaXMuY29sbGlzaW9uQm94QXJyYXkpLHRoaXMuZmVhdHVyZUluZGV4PW5ldyBGZWF0dXJlSW5kZXgoZS5mZWF0dXJlSW5kZXgsdGhpcy5yYXdUaWxlRGF0YSx0aGlzLmNvbGxpc2lvblRpbGUpLHRoaXMuYnVja2V0cz1CdWNrZXQuZGVzZXJpYWxpemUoZS5idWNrZXRzLHQuc3R5bGUpKX0sVGlsZS5wcm90b3R5cGUucmVsb2FkU3ltYm9sRGF0YT1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXM7aWYoXCJ1bmxvYWRlZFwiIT09dGhpcy5zdGF0ZSl7dGhpcy5jb2xsaXNpb25UaWxlPW5ldyBDb2xsaXNpb25UaWxlKGUuY29sbGlzaW9uVGlsZSx0aGlzLmNvbGxpc2lvbkJveEFycmF5KSx0aGlzLmZlYXR1cmVJbmRleC5zZXRDb2xsaXNpb25UaWxlKHRoaXMuY29sbGlzaW9uVGlsZSk7Zm9yKHZhciBvIGluIGkuYnVja2V0cyl7dmFyIHI9aS5idWNrZXRzW29dO1wic3ltYm9sXCI9PT1yLmxheWVyc1swXS50eXBlJiYoci5kZXN0cm95KCksZGVsZXRlIGkuYnVja2V0c1tvXSl9dXRpbC5leHRlbmQodGhpcy5idWNrZXRzLEJ1Y2tldC5kZXNlcmlhbGl6ZShlLmJ1Y2tldHMsdCkpfX0sVGlsZS5wcm90b3R5cGUudW5sb2FkVmVjdG9yRGF0YT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7Zm9yKHZhciB0IGluIGUuYnVja2V0cyllLmJ1Y2tldHNbdF0uZGVzdHJveSgpO3RoaXMuYnVja2V0cz17fSx0aGlzLmNvbGxpc2lvbkJveEFycmF5PW51bGwsdGhpcy5jb2xsaXNpb25UaWxlPW51bGwsdGhpcy5mZWF0dXJlSW5kZXg9bnVsbCx0aGlzLnN0YXRlPVwidW5sb2FkZWRcIn0sVGlsZS5wcm90b3R5cGUucmVkb1BsYWNlbWVudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKFwidmVjdG9yXCI9PT1lLnR5cGV8fFwiZ2VvanNvblwiPT09ZS50eXBlKXJldHVyblwibG9hZGVkXCIhPT10aGlzLnN0YXRlP3ZvaWQodGhpcy5yZWRvV2hlbkRvbmU9ITApOnZvaWQodGhpcy5jb2xsaXNpb25UaWxlJiYodGhpcy5zdGF0ZT1cInJlbG9hZGluZ1wiLGUuZGlzcGF0Y2hlci5zZW5kKFwicmVkb1BsYWNlbWVudFwiLHt0eXBlOmUudHlwZSx1aWQ6dGhpcy51aWQsc291cmNlOmUuaWQsYW5nbGU6ZS5tYXAudHJhbnNmb3JtLmFuZ2xlLHBpdGNoOmUubWFwLnRyYW5zZm9ybS5waXRjaCxzaG93Q29sbGlzaW9uQm94ZXM6ZS5tYXAuc2hvd0NvbGxpc2lvbkJveGVzfSxmdW5jdGlvbihpLG8pe3QucmVsb2FkU3ltYm9sRGF0YShvLGUubWFwLnN0eWxlKSxlLm1hcCYmKGUubWFwLnBhaW50ZXIudGlsZUV4dGVudFZBTy52YW89bnVsbCksdC5zdGF0ZT1cImxvYWRlZFwiLHQucmVkb1doZW5Eb25lJiYodC5yZWRvV2hlbkRvbmU9ITEsdC5yZWRvUGxhY2VtZW50KGUpKX0sdGhpcy53b3JrZXJJRCkpKX0sVGlsZS5wcm90b3R5cGUuZ2V0QnVja2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJ1Y2tldHNbZS5pZF19LFRpbGUucHJvdG90eXBlLnF1ZXJ5U291cmNlRmVhdHVyZXM9ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzO2lmKHRoaXMucmF3VGlsZURhdGEpe3RoaXMudnRMYXllcnN8fCh0aGlzLnZ0TGF5ZXJzPW5ldyB2dC5WZWN0b3JUaWxlKG5ldyBQcm90b2J1Zih0aGlzLnJhd1RpbGVEYXRhKSkubGF5ZXJzKTt2YXIgbz10aGlzLnZ0TGF5ZXJzLl9nZW9qc29uVGlsZUxheWVyfHx0aGlzLnZ0TGF5ZXJzW3Quc291cmNlTGF5ZXJdO2lmKG8pZm9yKHZhciByPWZlYXR1cmVGaWx0ZXIodCYmdC5maWx0ZXIpLHM9e3o6dGhpcy5jb29yZC56LHg6dGhpcy5jb29yZC54LHk6dGhpcy5jb29yZC55fSxhPTA7YTxvLmxlbmd0aDthKyspe3ZhciBsPW8uZmVhdHVyZShhKTtpZihyKGwpKXt2YXIgbj1uZXcgR2VvSlNPTkZlYXR1cmUobCxpLmNvb3JkLnosaS5jb29yZC54LGkuY29vcmQueSk7bi50aWxlPXMsZS5wdXNoKG4pfX19fSxUaWxlLnByb3RvdHlwZS5oYXNEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuXCJsb2FkZWRcIj09PXRoaXMuc3RhdGV8fFwicmVsb2FkaW5nXCI9PT10aGlzLnN0YXRlfHxcImV4cGlyZWRcIj09PXRoaXMuc3RhdGV9LFRpbGUucHJvdG90eXBlLnNldEV4cGlyeURhdGE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5leHBpcmF0aW9uVGltZTtpZihlLmNhY2hlQ29udHJvbCl7dmFyIGk9dXRpbC5wYXJzZUNhY2hlQ29udHJvbChlLmNhY2hlQ29udHJvbCk7aVtcIm1heC1hZ2VcIl0mJih0aGlzLmV4cGlyYXRpb25UaW1lPURhdGUubm93KCkrMWUzKmlbXCJtYXgtYWdlXCJdKX1lbHNlIGUuZXhwaXJlcyYmKHRoaXMuZXhwaXJhdGlvblRpbWU9bmV3IERhdGUoZS5leHBpcmVzKS5nZXRUaW1lKCkpO2lmKHRoaXMuZXhwaXJhdGlvblRpbWUpe3ZhciBvPURhdGUubm93KCkscj0hMTtpZih0aGlzLmV4cGlyYXRpb25UaW1lPm8pcj0hMTtlbHNlIGlmKHQpaWYodGhpcy5leHBpcmF0aW9uVGltZTx0KXI9ITA7ZWxzZXt2YXIgcz10aGlzLmV4cGlyYXRpb25UaW1lLXQ7cz90aGlzLmV4cGlyYXRpb25UaW1lPW8rTWF0aC5tYXgocyxDTE9DS19TS0VXX1JFVFJZX1RJTUVPVVQpOnI9ITB9ZWxzZSByPSEwO3I/KHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudCsrLHRoaXMuc3RhdGU9XCJleHBpcmVkXCIpOnRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD0wfX0sVGlsZS5wcm90b3R5cGUuZ2V0RXhwaXJ5VGltZW91dD1mdW5jdGlvbigpe2lmKHRoaXMuZXhwaXJhdGlvblRpbWUpcmV0dXJuIHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD8xZTMqKDE8PE1hdGgubWluKHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudC0xLDMxKSk6TWF0aC5taW4odGhpcy5leHBpcmF0aW9uVGltZS0obmV3IERhdGUpLmdldFRpbWUoKSxNYXRoLnBvdygyLDMxKS0xKX0sbW9kdWxlLmV4cG9ydHM9VGlsZTtcbn0se1wiLi4vZGF0YS9idWNrZXRcIjo0NSxcIi4uL2RhdGEvZmVhdHVyZV9pbmRleFwiOjU1LFwiLi4vc3R5bGUtc3BlYy9mZWF0dXJlX2ZpbHRlclwiOjEwMyxcIi4uL3N5bWJvbC9jb2xsaXNpb25fYm94XCI6MTYwLFwiLi4vc3ltYm9sL2NvbGxpc2lvbl90aWxlXCI6MTYyLFwiLi4vdXRpbC91dGlsXCI6MjEyLFwiLi4vdXRpbC92ZWN0b3J0aWxlX3RvX2dlb2pzb25cIjoyMTMsXCJwYmZcIjoyNSxcInZlY3Rvci10aWxlXCI6MzR9XSw5NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlZGdlKHQsaSl7aWYodC5yb3c+aS5yb3cpe3ZhciBvPXQ7dD1pLGk9b31yZXR1cm57eDA6dC5jb2x1bW4seTA6dC5yb3cseDE6aS5jb2x1bW4seTE6aS5yb3csZHg6aS5jb2x1bW4tdC5jb2x1bW4sZHk6aS5yb3ctdC5yb3d9fWZ1bmN0aW9uIHNjYW5TcGFucyh0LGksbyxyLGUpe3ZhciBuPU1hdGgubWF4KG8sTWF0aC5mbG9vcihpLnkwKSksaD1NYXRoLm1pbihyLE1hdGguY2VpbChpLnkxKSk7aWYodC54MD09PWkueDAmJnQueTA9PT1pLnkwP3QueDAraS5keS90LmR5KnQuZHg8aS54MTp0LngxLWkuZHkvdC5keSp0LmR4PGkueDApe3ZhciBzPXQ7dD1pLGk9c31mb3IodmFyIGE9dC5keC90LmR5LGQ9aS5keC9pLmR5LHk9dC5keD4wLGw9aS5keDwwLHU9bjt1PGg7dSsrKXt2YXIgeD1hKk1hdGgubWF4KDAsTWF0aC5taW4odC5keSx1K3ktdC55MCkpK3QueDAsYz1kKk1hdGgubWF4KDAsTWF0aC5taW4oaS5keSx1K2wtaS55MCkpK2kueDA7ZShNYXRoLmZsb29yKGMpLE1hdGguY2VpbCh4KSx1KX19ZnVuY3Rpb24gc2NhblRyaWFuZ2xlKHQsaSxvLHIsZSxuKXt2YXIgaCxzPWVkZ2UodCxpKSxhPWVkZ2UoaSxvKSxkPWVkZ2Uobyx0KTtzLmR5PmEuZHkmJihoPXMscz1hLGE9aCkscy5keT5kLmR5JiYoaD1zLHM9ZCxkPWgpLGEuZHk+ZC5keSYmKGg9YSxhPWQsZD1oKSxzLmR5JiZzY2FuU3BhbnMoZCxzLHIsZSxuKSxhLmR5JiZzY2FuU3BhbnMoZCxhLHIsZSxuKX1mdW5jdGlvbiBnZXRRdWFka2V5KHQsaSxvKXtmb3IodmFyIHIsZT1cIlwiLG49dDtuPjA7bi0tKXI9MTw8bi0xLGUrPShpJnI/MTowKSsobyZyPzI6MCk7cmV0dXJuIGV9dmFyIFdob29UUz1yZXF1aXJlKFwiQG1hcGJveC93aG9vdHMtanNcIiksQ29vcmRpbmF0ZT1yZXF1aXJlKFwiLi4vZ2VvL2Nvb3JkaW5hdGVcIiksVGlsZUNvb3JkPWZ1bmN0aW9uKHQsaSxvLHIpe2lzTmFOKHIpJiYocj0wKSx0aGlzLno9K3QsdGhpcy54PStpLHRoaXMueT0rbyx0aGlzLnc9K3Iscio9MixyPDAmJihyPXIqLTEtMSk7dmFyIGU9MTw8dGhpcy56O3RoaXMuaWQ9MzIqKGUqZSpyK2UqdGhpcy55K3RoaXMueCkrdGhpcy56LHRoaXMucG9zTWF0cml4PW51bGx9O1RpbGVDb29yZC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56K1wiL1wiK3RoaXMueCtcIi9cIit0aGlzLnl9LFRpbGVDb29yZC5wcm90b3R5cGUudG9Db29yZGluYXRlPWZ1bmN0aW9uKHQpe3ZhciBpPU1hdGgubWluKHRoaXMueix2b2lkIDA9PT10P3RoaXMuejp0KSxvPU1hdGgucG93KDIsaSkscj10aGlzLnksZT10aGlzLngrbyp0aGlzLnc7cmV0dXJuIG5ldyBDb29yZGluYXRlKGUscixpKX0sVGlsZUNvb3JkLnByb3RvdHlwZS51cmw9ZnVuY3Rpb24odCxpLG8pe3ZhciByPVdob29UUy5nZXRUaWxlQkJveCh0aGlzLngsdGhpcy55LHRoaXMueiksZT1nZXRRdWFka2V5KHRoaXMueix0aGlzLngsdGhpcy55KTtyZXR1cm4gdFsodGhpcy54K3RoaXMueSkldC5sZW5ndGhdLnJlcGxhY2UoXCJ7cHJlZml4fVwiLCh0aGlzLnglMTYpLnRvU3RyaW5nKDE2KSsodGhpcy55JTE2KS50b1N0cmluZygxNikpLnJlcGxhY2UoXCJ7en1cIixNYXRoLm1pbih0aGlzLnosaXx8dGhpcy56KSkucmVwbGFjZShcInt4fVwiLHRoaXMueCkucmVwbGFjZShcInt5fVwiLFwidG1zXCI9PT1vP01hdGgucG93KDIsdGhpcy56KS10aGlzLnktMTp0aGlzLnkpLnJlcGxhY2UoXCJ7cXVhZGtleX1cIixlKS5yZXBsYWNlKFwie2Jib3gtZXBzZy0zODU3fVwiLHIpfSxUaWxlQ29vcmQucHJvdG90eXBlLnBhcmVudD1mdW5jdGlvbih0KXtyZXR1cm4gMD09PXRoaXMuej9udWxsOnRoaXMuej50P25ldyBUaWxlQ29vcmQodGhpcy56LTEsdGhpcy54LHRoaXMueSx0aGlzLncpOm5ldyBUaWxlQ29vcmQodGhpcy56LTEsTWF0aC5mbG9vcih0aGlzLngvMiksTWF0aC5mbG9vcih0aGlzLnkvMiksdGhpcy53KX0sVGlsZUNvb3JkLnByb3RvdHlwZS53cmFwcGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUaWxlQ29vcmQodGhpcy56LHRoaXMueCx0aGlzLnksMCl9LFRpbGVDb29yZC5wcm90b3R5cGUuY2hpbGRyZW49ZnVuY3Rpb24odCl7aWYodGhpcy56Pj10KXJldHVybltuZXcgVGlsZUNvb3JkKHRoaXMueisxLHRoaXMueCx0aGlzLnksdGhpcy53KV07dmFyIGk9dGhpcy56KzEsbz0yKnRoaXMueCxyPTIqdGhpcy55O3JldHVybltuZXcgVGlsZUNvb3JkKGksbyxyLHRoaXMudyksbmV3IFRpbGVDb29yZChpLG8rMSxyLHRoaXMudyksbmV3IFRpbGVDb29yZChpLG8scisxLHRoaXMudyksbmV3IFRpbGVDb29yZChpLG8rMSxyKzEsdGhpcy53KV19LFRpbGVDb29yZC5jb3Zlcj1mdW5jdGlvbih0LGksbyxyKXtmdW5jdGlvbiBlKHQsaSxlKXt2YXIgcyxhLGQseTtpZihlPj0wJiZlPD1uKWZvcihzPXQ7czxpO3MrKylhPU1hdGguZmxvb3Iocy9uKSxkPShzJW4rbiklbiwwIT09YSYmciE9PSEwfHwoeT1uZXcgVGlsZUNvb3JkKG8sZCxlLGEpLGhbeS5pZF09eSl9dm9pZCAwPT09ciYmKHI9ITApO3ZhciBuPTE8PHQsaD17fTtyZXR1cm4gc2NhblRyaWFuZ2xlKGlbMF0saVsxXSxpWzJdLDAsbixlKSxzY2FuVHJpYW5nbGUoaVsyXSxpWzNdLGlbMF0sMCxuLGUpLE9iamVjdC5rZXlzKGgpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gaFt0XX0pfSxUaWxlQ29vcmQuZnJvbUlEPWZ1bmN0aW9uKHQpe3ZhciBpPXQlMzIsbz0xPDxpLHI9KHQtaSkvMzIsZT1yJW8sbj0oci1lKS9vJW8saD1NYXRoLmZsb29yKHIvKG8qbykpO3JldHVybiBoJTIhPT0wJiYoaD1oKi0xLTEpLGgvPTIsbmV3IFRpbGVDb29yZChpLGUsbixoKX0sbW9kdWxlLmV4cG9ydHM9VGlsZUNvb3JkO1xufSx7XCIuLi9nZW8vY29vcmRpbmF0ZVwiOjYxLFwiQG1hcGJveC93aG9vdHMtanNcIjo0fV0sOTU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIEV2ZW50ZWQ9cmVxdWlyZShcIi4uL3V0aWwvZXZlbnRlZFwiKSx1dGlsPXJlcXVpcmUoXCIuLi91dGlsL3V0aWxcIiksbG9hZFRpbGVKU09OPXJlcXVpcmUoXCIuL2xvYWRfdGlsZWpzb25cIiksbm9ybWFsaXplVVJMPXJlcXVpcmUoXCIuLi91dGlsL21hcGJveFwiKS5ub3JtYWxpemVUaWxlVVJMLFZlY3RvclRpbGVTb3VyY2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LGksbyxyKXtpZihlLmNhbGwodGhpcyksdGhpcy5pZD10LHRoaXMuZGlzcGF0Y2hlcj1vLHRoaXMudHlwZT1cInZlY3RvclwiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0yMix0aGlzLnNjaGVtZT1cInh5elwiLHRoaXMudGlsZVNpemU9NTEyLHRoaXMucmVwYXJzZU92ZXJzY2FsZWQ9ITAsdGhpcy5pc1RpbGVDbGlwcGVkPSEwLHV0aWwuZXh0ZW5kKHRoaXMsdXRpbC5waWNrKGksW1widXJsXCIsXCJzY2hlbWVcIixcInRpbGVTaXplXCJdKSksdGhpcy5fb3B0aW9ucz11dGlsLmV4dGVuZCh7dHlwZTpcInZlY3RvclwifSxpKSw1MTIhPT10aGlzLnRpbGVTaXplKXRocm93IG5ldyBFcnJvcihcInZlY3RvciB0aWxlIHNvdXJjZXMgbXVzdCBoYXZlIGEgdGlsZVNpemUgb2YgNTEyXCIpO3RoaXMuc2V0RXZlbnRlZFBhcmVudChyKX1yZXR1cm4gZSYmKHQuX19wcm90b19fPWUpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5maXJlKFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pLGxvYWRUaWxlSlNPTih0aGlzLl9vcHRpb25zLGZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQ/dm9pZCBlLmZpcmUoXCJlcnJvclwiLHQpOih1dGlsLmV4dGVuZChlLGkpLGUuZmlyZShcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCJ9KSx2b2lkIGUuZmlyZShcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKX0pfSx0LnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbihlKXt0aGlzLmxvYWQoKSx0aGlzLm1hcD1lfSx0LnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdXRpbC5leHRlbmQoe30sdGhpcy5fb3B0aW9ucyl9LHQucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaShpLG8pe2lmKCFlLmFib3J0ZWQpe2lmKGkpcmV0dXJuIHQoaSk7dGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXN8fGUuc2V0RXhwaXJ5RGF0YShvKSxlLmxvYWRWZWN0b3JEYXRhKG8sdGhpcy5tYXAucGFpbnRlciksZS5yZWRvV2hlbkRvbmUmJihlLnJlZG9XaGVuRG9uZT0hMSxlLnJlZG9QbGFjZW1lbnQodGhpcykpLHQobnVsbCksZS5yZWxvYWRDYWxsYmFjayYmKHRoaXMubG9hZFRpbGUoZSxlLnJlbG9hZENhbGxiYWNrKSxlLnJlbG9hZENhbGxiYWNrPW51bGwpfX12YXIgbz1lLmNvb3JkLno+dGhpcy5tYXh6b29tP01hdGgucG93KDIsZS5jb29yZC56LXRoaXMubWF4em9vbSk6MSxyPXt1cmw6bm9ybWFsaXplVVJMKGUuY29vcmQudXJsKHRoaXMudGlsZXMsdGhpcy5tYXh6b29tLHRoaXMuc2NoZW1lKSx0aGlzLnVybCksdWlkOmUudWlkLGNvb3JkOmUuY29vcmQsem9vbTplLmNvb3JkLnosdGlsZVNpemU6dGhpcy50aWxlU2l6ZSpvLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkLG92ZXJzY2FsaW5nOm8sYW5nbGU6dGhpcy5tYXAudHJhbnNmb3JtLmFuZ2xlLHBpdGNoOnRoaXMubWFwLnRyYW5zZm9ybS5waXRjaCxzaG93Q29sbGlzaW9uQm94ZXM6dGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzfTtlLndvcmtlcklEJiZcImV4cGlyZWRcIiE9PWUuc3RhdGU/XCJsb2FkaW5nXCI9PT1lLnN0YXRlP2UucmVsb2FkQ2FsbGJhY2s9dDp0aGlzLmRpc3BhdGNoZXIuc2VuZChcInJlbG9hZFRpbGVcIixyLGkuYmluZCh0aGlzKSxlLndvcmtlcklEKTplLndvcmtlcklEPXRoaXMuZGlzcGF0Y2hlci5zZW5kKFwibG9hZFRpbGVcIixyLGkuYmluZCh0aGlzKSl9LHQucHJvdG90eXBlLmFib3J0VGlsZT1mdW5jdGlvbihlKXt0aGlzLmRpc3BhdGNoZXIuc2VuZChcImFib3J0VGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9LG51bGwsZS53b3JrZXJJRCl9LHQucHJvdG90eXBlLnVubG9hZFRpbGU9ZnVuY3Rpb24oZSl7ZS51bmxvYWRWZWN0b3JEYXRhKCksdGhpcy5kaXNwYXRjaGVyLnNlbmQoXCJyZW1vdmVUaWxlXCIse3VpZDplLnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZH0sbnVsbCxlLndvcmtlcklEKX0sdH0oRXZlbnRlZCk7bW9kdWxlLmV4cG9ydHM9VmVjdG9yVGlsZVNvdXJjZTtcbn0se1wiLi4vdXRpbC9ldmVudGVkXCI6MjAwLFwiLi4vdXRpbC9tYXBib3hcIjoyMDgsXCIuLi91dGlsL3V0aWxcIjoyMTIsXCIuL2xvYWRfdGlsZWpzb25cIjo4Nn1dLDk2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBhamF4PXJlcXVpcmUoXCIuLi91dGlsL2FqYXhcIiksdnQ9cmVxdWlyZShcInZlY3Rvci10aWxlXCIpLFByb3RvYnVmPXJlcXVpcmUoXCJwYmZcIiksV29ya2VyVGlsZT1yZXF1aXJlKFwiLi93b3JrZXJfdGlsZVwiKSx1dGlsPXJlcXVpcmUoXCIuLi91dGlsL3V0aWxcIiksVmVjdG9yVGlsZVdvcmtlclNvdXJjZT1mdW5jdGlvbihlLHIsdCl7dGhpcy5hY3Rvcj1lLHRoaXMubGF5ZXJJbmRleD1yLHQmJih0aGlzLmxvYWRWZWN0b3JEYXRhPXQpLHRoaXMubG9hZGluZz17fSx0aGlzLmxvYWRlZD17fX07VmVjdG9yVGlsZVdvcmtlclNvdXJjZS5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUsdCl7cmV0dXJuIGRlbGV0ZSB0aGlzLmxvYWRpbmdbb11baV0sZT9yKGUpOnQ/KGEudmVjdG9yVGlsZT10LGEucGFyc2UodCx0aGlzLmxheWVySW5kZXgsdGhpcy5hY3RvcixmdW5jdGlvbihlLG8saSl7aWYoZSlyZXR1cm4gcihlKTt2YXIgYT17fTt0LmV4cGlyZXMmJihhLmV4cGlyZXM9dC5leHBpcmVzKSx0LmNhY2hlQ29udHJvbCYmKGEuY2FjaGVDb250cm9sPXQuY2FjaGVDb250cm9sKSxyKG51bGwsdXRpbC5leHRlbmQoe3Jhd1RpbGVEYXRhOnQucmF3RGF0YX0sbyxhKSxpKX0pLHRoaXMubG9hZGVkW29dPXRoaXMubG9hZGVkW29dfHx7fSx2b2lkKHRoaXMubG9hZGVkW29dW2ldPWEpKTpyKG51bGwsbnVsbCl9dmFyIG89ZS5zb3VyY2UsaT1lLnVpZDt0aGlzLmxvYWRpbmdbb118fCh0aGlzLmxvYWRpbmdbb109e30pO3ZhciBhPXRoaXMubG9hZGluZ1tvXVtpXT1uZXcgV29ya2VyVGlsZShlKTthLmFib3J0PXRoaXMubG9hZFZlY3RvckRhdGEoZSx0LmJpbmQodGhpcykpfSxWZWN0b3JUaWxlV29ya2VyU291cmNlLnByb3RvdHlwZS5yZWxvYWRUaWxlPWZ1bmN0aW9uKGUscil7ZnVuY3Rpb24gdChlLHQpe2lmKHRoaXMucmVsb2FkQ2FsbGJhY2spe3ZhciBvPXRoaXMucmVsb2FkQ2FsbGJhY2s7ZGVsZXRlIHRoaXMucmVsb2FkQ2FsbGJhY2ssdGhpcy5wYXJzZSh0aGlzLnZlY3RvclRpbGUsYS5sYXllckluZGV4LGEuYWN0b3Isbyl9cihlLHQpfXZhciBvPXRoaXMubG9hZGVkW2Uuc291cmNlXSxpPWUudWlkLGE9dGhpcztpZihvJiZvW2ldKXt2YXIgbD1vW2ldO1wicGFyc2luZ1wiPT09bC5zdGF0dXM/bC5yZWxvYWRDYWxsYmFjaz1yOlwiZG9uZVwiPT09bC5zdGF0dXMmJmwucGFyc2UobC52ZWN0b3JUaWxlLHRoaXMubGF5ZXJJbmRleCx0aGlzLmFjdG9yLHQuYmluZChsKSl9fSxWZWN0b3JUaWxlV29ya2VyU291cmNlLnByb3RvdHlwZS5hYm9ydFRpbGU9ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcy5sb2FkaW5nW2Uuc291cmNlXSx0PWUudWlkO3ImJnJbdF0mJnJbdF0uYWJvcnQmJihyW3RdLmFib3J0KCksZGVsZXRlIHJbdF0pfSxWZWN0b3JUaWxlV29ya2VyU291cmNlLnByb3RvdHlwZS5yZW1vdmVUaWxlPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXMubG9hZGVkW2Uuc291cmNlXSx0PWUudWlkO3ImJnJbdF0mJmRlbGV0ZSByW3RdfSxWZWN0b3JUaWxlV29ya2VyU291cmNlLnByb3RvdHlwZS5sb2FkVmVjdG9yRGF0YT1mdW5jdGlvbihlLHIpe2Z1bmN0aW9uIHQoZSx0KXtpZihlKXJldHVybiByKGUpO3ZhciBvPW5ldyB2dC5WZWN0b3JUaWxlKG5ldyBQcm90b2J1Zih0LmRhdGEpKTtvLnJhd0RhdGE9dC5kYXRhLG8uY2FjaGVDb250cm9sPXQuY2FjaGVDb250cm9sLG8uZXhwaXJlcz10LmV4cGlyZXMscihlLG8pfXZhciBvPWFqYXguZ2V0QXJyYXlCdWZmZXIoZS51cmwsdC5iaW5kKHRoaXMpKTtyZXR1cm4gZnVuY3Rpb24oKXtvLmFib3J0KCl9fSxWZWN0b3JUaWxlV29ya2VyU291cmNlLnByb3RvdHlwZS5yZWRvUGxhY2VtZW50PWZ1bmN0aW9uKGUscil7dmFyIHQ9dGhpcy5sb2FkZWRbZS5zb3VyY2VdLG89dGhpcy5sb2FkaW5nW2Uuc291cmNlXSxpPWUudWlkO2lmKHQmJnRbaV0pe3ZhciBhPXRbaV0sbD1hLnJlZG9QbGFjZW1lbnQoZS5hbmdsZSxlLnBpdGNoLGUuc2hvd0NvbGxpc2lvbkJveGVzKTtsLnJlc3VsdCYmcihudWxsLGwucmVzdWx0LGwudHJhbnNmZXJhYmxlcyl9ZWxzZSBvJiZvW2ldJiYob1tpXS5hbmdsZT1lLmFuZ2xlKX0sbW9kdWxlLmV4cG9ydHM9VmVjdG9yVGlsZVdvcmtlclNvdXJjZTtcbn0se1wiLi4vdXRpbC9hamF4XCI6MTkxLFwiLi4vdXRpbC91dGlsXCI6MjEyLFwiLi93b3JrZXJfdGlsZVwiOjk5LFwicGJmXCI6MjUsXCJ2ZWN0b3ItdGlsZVwiOjM0fV0sOTc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIGFqYXg9cmVxdWlyZShcIi4uL3V0aWwvYWpheFwiKSxJbWFnZVNvdXJjZT1yZXF1aXJlKFwiLi9pbWFnZV9zb3VyY2VcIiksVmlkZW9Tb3VyY2U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG8saSxyKXt0LmNhbGwodGhpcyxlLG8saSxyKSx0aGlzLnJvdW5kWm9vbT0hMCx0aGlzLnR5cGU9XCJ2aWRlb1wiLHRoaXMub3B0aW9ucz1vfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMub3B0aW9uczt0aGlzLnVybHM9ZS51cmxzLGFqYXguZ2V0VmlkZW8oZS51cmxzLGZ1bmN0aW9uKGUsbyl7aWYoZSlyZXR1cm4gdC5maXJlKFwiZXJyb3JcIix7ZXJyb3I6ZX0pO3QudmlkZW89byx0LnZpZGVvLmxvb3A9ITA7dmFyIGk7dC52aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLGZ1bmN0aW9uKCl7aT10Lm1hcC5zdHlsZS5hbmltYXRpb25Mb29wLnNldCgxLzApLHQubWFwLl9yZXJlbmRlcigpfSksdC52aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGF1c2VcIixmdW5jdGlvbigpe3QubWFwLnN0eWxlLmFuaW1hdGlvbkxvb3AuY2FuY2VsKGkpfSksdC5tYXAmJnQudmlkZW8ucGxheSgpLHQuX2ZpbmlzaExvYWRpbmcoKX0pfSxlLnByb3RvdHlwZS5nZXRWaWRlbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZGVvfSxlLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLm1hcHx8KHRoaXMubG9hZCgpLHRoaXMubWFwPXQsdGhpcy52aWRlbyYmKHRoaXMudmlkZW8ucGxheSgpLHRoaXMuc2V0Q29vcmRpbmF0ZXModGhpcy5jb29yZGluYXRlcykpKX0sZS5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbigpeyF0aGlzLnRpbGV8fHRoaXMudmlkZW8ucmVhZHlTdGF0ZTwyfHx0aGlzLl9wcmVwYXJlSW1hZ2UodGhpcy5tYXAucGFpbnRlci5nbCx0aGlzLnZpZGVvKX0sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJ2aWRlb1wiLHVybHM6dGhpcy51cmxzLGNvb3JkaW5hdGVzOnRoaXMuY29vcmRpbmF0ZXN9fSxlfShJbWFnZVNvdXJjZSk7bW9kdWxlLmV4cG9ydHM9VmlkZW9Tb3VyY2U7XG59LHtcIi4uL3V0aWwvYWpheFwiOjE5MSxcIi4vaW1hZ2Vfc291cmNlXCI6ODV9XSw5ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgQWN0b3I9cmVxdWlyZShcIi4uL3V0aWwvYWN0b3JcIiksU3R5bGVMYXllckluZGV4PXJlcXVpcmUoXCIuLi9zdHlsZS9zdHlsZV9sYXllcl9pbmRleFwiKSxWZWN0b3JUaWxlV29ya2VyU291cmNlPXJlcXVpcmUoXCIuL3ZlY3Rvcl90aWxlX3dvcmtlcl9zb3VyY2VcIiksR2VvSlNPTldvcmtlclNvdXJjZT1yZXF1aXJlKFwiLi9nZW9qc29uX3dvcmtlcl9zb3VyY2VcIiksZ2xvYmFsUlRMVGV4dFBsdWdpbj1yZXF1aXJlKFwiLi9ydGxfdGV4dF9wbHVnaW5cIiksV29ya2VyPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7dGhpcy5zZWxmPWUsdGhpcy5hY3Rvcj1uZXcgQWN0b3IoZSx0aGlzKSx0aGlzLmxheWVySW5kZXhlcz17fSx0aGlzLndvcmtlclNvdXJjZVR5cGVzPXt2ZWN0b3I6VmVjdG9yVGlsZVdvcmtlclNvdXJjZSxnZW9qc29uOkdlb0pTT05Xb3JrZXJTb3VyY2V9LHRoaXMud29ya2VyU291cmNlcz17fSx0aGlzLnNlbGYucmVnaXN0ZXJXb3JrZXJTb3VyY2U9ZnVuY3Rpb24oZSxvKXtpZihyLndvcmtlclNvdXJjZVR5cGVzW2VdKXRocm93IG5ldyBFcnJvcignV29ya2VyIHNvdXJjZSB3aXRoIG5hbWUgXCInK2UrJ1wiIGFscmVhZHkgcmVnaXN0ZXJlZC4nKTtyLndvcmtlclNvdXJjZVR5cGVzW2VdPW99LHRoaXMuc2VsZi5yZWdpc3RlclJUTFRleHRQbHVnaW49ZnVuY3Rpb24oZSl7aWYoZ2xvYmFsUlRMVGV4dFBsdWdpbi5hcHBseUFyYWJpY1NoYXBpbmd8fGdsb2JhbFJUTFRleHRQbHVnaW4ucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0KXRocm93IG5ldyBFcnJvcihcIlJUTCB0ZXh0IHBsdWdpbiBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO2dsb2JhbFJUTFRleHRQbHVnaW4uYXBwbHlBcmFiaWNTaGFwaW5nPWUuYXBwbHlBcmFiaWNTaGFwaW5nLGdsb2JhbFJUTFRleHRQbHVnaW4ucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0PWUucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0fX07V29ya2VyLnByb3RvdHlwZS5zZXRMYXllcnM9ZnVuY3Rpb24oZSxyKXt0aGlzLmdldExheWVySW5kZXgoZSkucmVwbGFjZShyKX0sV29ya2VyLnByb3RvdHlwZS51cGRhdGVMYXllcnM9ZnVuY3Rpb24oZSxyKXt0aGlzLmdldExheWVySW5kZXgoZSkudXBkYXRlKHIubGF5ZXJzLHIucmVtb3ZlZElkcyxyLnN5bWJvbE9yZGVyKX0sV29ya2VyLnByb3RvdHlwZS5sb2FkVGlsZT1mdW5jdGlvbihlLHIsbyl7dGhpcy5nZXRXb3JrZXJTb3VyY2UoZSxyLnR5cGUpLmxvYWRUaWxlKHIsbyl9LFdvcmtlci5wcm90b3R5cGUucmVsb2FkVGlsZT1mdW5jdGlvbihlLHIsbyl7dGhpcy5nZXRXb3JrZXJTb3VyY2UoZSxyLnR5cGUpLnJlbG9hZFRpbGUocixvKX0sV29ya2VyLnByb3RvdHlwZS5hYm9ydFRpbGU9ZnVuY3Rpb24oZSxyKXt0aGlzLmdldFdvcmtlclNvdXJjZShlLHIudHlwZSkuYWJvcnRUaWxlKHIpfSxXb3JrZXIucHJvdG90eXBlLnJlbW92ZVRpbGU9ZnVuY3Rpb24oZSxyKXt0aGlzLmdldFdvcmtlclNvdXJjZShlLHIudHlwZSkucmVtb3ZlVGlsZShyKX0sV29ya2VyLnByb3RvdHlwZS5yZW1vdmVTb3VyY2U9ZnVuY3Rpb24oZSxyKXt2YXIgbz10aGlzLmdldFdvcmtlclNvdXJjZShlLHIudHlwZSk7dm9pZCAwIT09by5yZW1vdmVTb3VyY2UmJm8ucmVtb3ZlU291cmNlKHIpfSxXb3JrZXIucHJvdG90eXBlLnJlZG9QbGFjZW1lbnQ9ZnVuY3Rpb24oZSxyLG8pe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsci50eXBlKS5yZWRvUGxhY2VtZW50KHIsbyl9LFdvcmtlci5wcm90b3R5cGUubG9hZFdvcmtlclNvdXJjZT1mdW5jdGlvbihlLHIsbyl7dHJ5e3RoaXMuc2VsZi5pbXBvcnRTY3JpcHRzKHIudXJsKSxvKCl9Y2F0Y2goZSl7byhlKX19LFdvcmtlci5wcm90b3R5cGUubG9hZFJUTFRleHRQbHVnaW49ZnVuY3Rpb24oZSxyLG8pe3RyeXtnbG9iYWxSVExUZXh0UGx1Z2luLmFwcGx5QXJhYmljU2hhcGluZ3x8Z2xvYmFsUlRMVGV4dFBsdWdpbi5wcm9jZXNzQmlkaXJlY3Rpb25hbFRleHR8fHRoaXMuc2VsZi5pbXBvcnRTY3JpcHRzKHIpfWNhdGNoKGUpe28oZSl9fSxXb3JrZXIucHJvdG90eXBlLmdldExheWVySW5kZXg9ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcy5sYXllckluZGV4ZXNbZV07cmV0dXJuIHJ8fChyPXRoaXMubGF5ZXJJbmRleGVzW2VdPW5ldyBTdHlsZUxheWVySW5kZXgpLHJ9LFdvcmtlci5wcm90b3R5cGUuZ2V0V29ya2VyU291cmNlPWZ1bmN0aW9uKGUscil7dmFyIG89dGhpcztpZih0aGlzLndvcmtlclNvdXJjZXNbZV18fCh0aGlzLndvcmtlclNvdXJjZXNbZV09e30pLCF0aGlzLndvcmtlclNvdXJjZXNbZV1bcl0pe3ZhciB0PXtzZW5kOmZ1bmN0aW9uKHIsdCxpLG4pe28uYWN0b3Iuc2VuZChyLHQsaSxuLGUpfX07dGhpcy53b3JrZXJTb3VyY2VzW2VdW3JdPW5ldyB0aGlzLndvcmtlclNvdXJjZVR5cGVzW3JdKHQsdGhpcy5nZXRMYXllckluZGV4KGUpKX1yZXR1cm4gdGhpcy53b3JrZXJTb3VyY2VzW2VdW3JdfSxtb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFdvcmtlcihlKX07XG59LHtcIi4uL3N0eWxlL3N0eWxlX2xheWVyX2luZGV4XCI6MTU0LFwiLi4vdXRpbC9hY3RvclwiOjE5MCxcIi4vZ2VvanNvbl93b3JrZXJfc291cmNlXCI6ODMsXCIuL3J0bF90ZXh0X3BsdWdpblwiOjkwLFwiLi92ZWN0b3JfdGlsZV93b3JrZXJfc291cmNlXCI6OTZ9XSw5OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByZWNhbGN1bGF0ZUxheWVycyhlLGkpe2Zvcih2YXIgcj0wLG89ZS5sYXllcnM7cjxvLmxlbmd0aDtyKz0xKXt2YXIgdD1vW3JdO3QucmVjYWxjdWxhdGUoaSl9fWZ1bmN0aW9uIHNlcmlhbGl6ZUJ1Y2tldHMoZSxpKXtyZXR1cm4gZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUuaXNFbXB0eSgpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlcmlhbGl6ZShpKX0pfXZhciBGZWF0dXJlSW5kZXg9cmVxdWlyZShcIi4uL2RhdGEvZmVhdHVyZV9pbmRleFwiKSxDb2xsaXNpb25UaWxlPXJlcXVpcmUoXCIuLi9zeW1ib2wvY29sbGlzaW9uX3RpbGVcIiksQ29sbGlzaW9uQm94QXJyYXk9cmVxdWlyZShcIi4uL3N5bWJvbC9jb2xsaXNpb25fYm94XCIpLERpY3Rpb25hcnlDb2Rlcj1yZXF1aXJlKFwiLi4vdXRpbC9kaWN0aW9uYXJ5X2NvZGVyXCIpLHV0aWw9cmVxdWlyZShcIi4uL3V0aWwvdXRpbFwiKSxXb3JrZXJUaWxlPWZ1bmN0aW9uKGUpe3RoaXMuY29vcmQ9ZS5jb29yZCx0aGlzLnVpZD1lLnVpZCx0aGlzLnpvb209ZS56b29tLHRoaXMudGlsZVNpemU9ZS50aWxlU2l6ZSx0aGlzLnNvdXJjZT1lLnNvdXJjZSx0aGlzLm92ZXJzY2FsaW5nPWUub3ZlcnNjYWxpbmcsdGhpcy5hbmdsZT1lLmFuZ2xlLHRoaXMucGl0Y2g9ZS5waXRjaCx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcz1lLnNob3dDb2xsaXNpb25Cb3hlc307V29ya2VyVGlsZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSxpLHIsbyl7dmFyIHQ9dGhpcztlLmxheWVyc3x8KGU9e2xheWVyczp7X2dlb2pzb25UaWxlTGF5ZXI6ZX19KSx0aGlzLnN0YXR1cz1cInBhcnNpbmdcIix0aGlzLmRhdGE9ZSx0aGlzLmNvbGxpc2lvbkJveEFycmF5PW5ldyBDb2xsaXNpb25Cb3hBcnJheTt2YXIgcz1uZXcgRGljdGlvbmFyeUNvZGVyKE9iamVjdC5rZXlzKGUubGF5ZXJzKS5zb3J0KCkpLGw9bmV3IEZlYXR1cmVJbmRleCh0aGlzLmNvb3JkLHRoaXMub3ZlcnNjYWxpbmcpO2wuYnVja2V0TGF5ZXJJRHM9e307dmFyIG49e30sYT0wLGM9e2ZlYXR1cmVJbmRleDpsLGljb25EZXBlbmRlbmNpZXM6e30sZ2x5cGhEZXBlbmRlbmNpZXM6e319LHU9aS5mYW1pbGllc0J5U291cmNlW3RoaXMuc291cmNlXTtmb3IodmFyIGggaW4gdSl7dmFyIHk9ZS5sYXllcnNbaF07aWYoeSl7MT09PXkudmVyc2lvbiYmdXRpbC53YXJuT25jZSgnVmVjdG9yIHRpbGUgc291cmNlIFwiJyt0LnNvdXJjZSsnXCIgbGF5ZXIgXCInK2grJ1wiIGRvZXMgbm90IHVzZSB2ZWN0b3IgdGlsZSBzcGVjIHYyIGFuZCB0aGVyZWZvcmUgbWF5IGhhdmUgc29tZSByZW5kZXJpbmcgZXJyb3JzLicpO2Zvcih2YXIgZD1zLmVuY29kZShoKSxwPVtdLG09MDttPHkubGVuZ3RoO20rKyl7dmFyIHY9eS5mZWF0dXJlKG0pO3YuaW5kZXg9bSx2LnNvdXJjZUxheWVySW5kZXg9ZCxwLnB1c2godil9Zm9yKHZhciBmPTAsZz11W2hdO2Y8Zy5sZW5ndGg7Zis9MSl7dmFyIHg9Z1tmXSxCPXhbMF07aWYoIShCLm1pbnpvb20mJnQuem9vbTxCLm1pbnpvb218fEIubWF4em9vbSYmdC56b29tPj1CLm1heHpvb218fEIubGF5b3V0JiZcIm5vbmVcIj09PUIubGF5b3V0LnZpc2liaWxpdHkpKXtmb3IodmFyIGI9MCxrPXg7YjxrLmxlbmd0aDtiKz0xKXt2YXIgej1rW2JdO3oucmVjYWxjdWxhdGUodC56b29tKX12YXIgQz1uW0IuaWRdPUIuY3JlYXRlQnVja2V0KHtpbmRleDphLGxheWVyczp4LHpvb206dC56b29tLG92ZXJzY2FsaW5nOnQub3ZlcnNjYWxpbmcsY29sbGlzaW9uQm94QXJyYXk6dC5jb2xsaXNpb25Cb3hBcnJheX0pO0MucG9wdWxhdGUocCxjKSxsLmJ1Y2tldExheWVySURzW2FdPXgubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSksYSsrfX19fXZhciBUPWZ1bmN0aW9uKGUpe3Quc3RhdHVzPVwiZG9uZVwiLGwucGFpbnRQcm9wZXJ0eVN0YXRpc3RpY3M9e307Zm9yKHZhciBpIGluIG4pdXRpbC5leHRlbmQobC5wYWludFByb3BlcnR5U3RhdGlzdGljcyxuW2ldLmdldFBhaW50UHJvcGVydHlTdGF0aXN0aWNzKCkpO3ZhciByPVtdO28obnVsbCx7YnVja2V0czpzZXJpYWxpemVCdWNrZXRzKHV0aWwudmFsdWVzKG4pLHIpLGZlYXR1cmVJbmRleDpsLnNlcmlhbGl6ZShyKSxjb2xsaXNpb25UaWxlOmUuc2VyaWFsaXplKHIpLGNvbGxpc2lvbkJveEFycmF5OnQuY29sbGlzaW9uQm94QXJyYXkuc2VyaWFsaXplKCl9LHIpfTt0aGlzLnN5bWJvbEJ1Y2tldHM9W107Zm9yKHZhciB3PWkuc3ltYm9sT3JkZXIubGVuZ3RoLTE7dz49MDt3LS0pe3ZhciBBPW5baS5zeW1ib2xPcmRlclt3XV07QSYmdC5zeW1ib2xCdWNrZXRzLnB1c2goQSl9aWYoMD09PXRoaXMuc3ltYm9sQnVja2V0cy5sZW5ndGgpcmV0dXJuIFQobmV3IENvbGxpc2lvblRpbGUodGhpcy5hbmdsZSx0aGlzLnBpdGNoLHRoaXMuY29sbGlzaW9uQm94QXJyYXkpKTt2YXIgRD0wLEk9T2JqZWN0LmtleXMoYy5pY29uRGVwZW5kZW5jaWVzKSxPPXV0aWwubWFwT2JqZWN0KGMuZ2x5cGhEZXBlbmRlbmNpZXMsZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcChOdW1iZXIpfSksTD1mdW5jdGlvbihlKXtpZihlKXJldHVybiBvKGUpO2lmKEQrKywyPT09RCl7Zm9yKHZhciBpPW5ldyBDb2xsaXNpb25UaWxlKHQuYW5nbGUsdC5waXRjaCx0LmNvbGxpc2lvbkJveEFycmF5KSxyPTAscz10LnN5bWJvbEJ1Y2tldHM7cjxzLmxlbmd0aDtyKz0xKXt2YXIgbD1zW3JdO3JlY2FsY3VsYXRlTGF5ZXJzKGwsdC56b29tKSxsLnByZXBhcmUoTyxJKSxsLnBsYWNlKGksdC5zaG93Q29sbGlzaW9uQm94ZXMpfVQoaSl9fTtPYmplY3Qua2V5cyhPKS5sZW5ndGg/ci5zZW5kKFwiZ2V0R2x5cGhzXCIse3VpZDp0aGlzLnVpZCxzdGFja3M6T30sZnVuY3Rpb24oZSxpKXtPPWksTChlKX0pOkwoKSxJLmxlbmd0aD9yLnNlbmQoXCJnZXRJY29uc1wiLHtpY29uczpJfSxmdW5jdGlvbihlLGkpe0k9aSxMKGUpfSk6TCgpfSxXb3JrZXJUaWxlLnByb3RvdHlwZS5yZWRvUGxhY2VtZW50PWZ1bmN0aW9uKGUsaSxyKXt2YXIgbz10aGlzO2lmKHRoaXMuYW5nbGU9ZSx0aGlzLnBpdGNoPWksXCJkb25lXCIhPT10aGlzLnN0YXR1cylyZXR1cm57fTtmb3IodmFyIHQ9bmV3IENvbGxpc2lvblRpbGUodGhpcy5hbmdsZSx0aGlzLnBpdGNoLHRoaXMuY29sbGlzaW9uQm94QXJyYXkpLHM9MCxsPW8uc3ltYm9sQnVja2V0cztzPGwubGVuZ3RoO3MrPTEpe3ZhciBuPWxbc107cmVjYWxjdWxhdGVMYXllcnMobixvLnpvb20pLG4ucGxhY2UodCxyKX12YXIgYT1bXTtyZXR1cm57cmVzdWx0OntidWNrZXRzOnNlcmlhbGl6ZUJ1Y2tldHModGhpcy5zeW1ib2xCdWNrZXRzLGEpLGNvbGxpc2lvblRpbGU6dC5zZXJpYWxpemUoYSl9LHRyYW5zZmVyYWJsZXM6YX19LG1vZHVsZS5leHBvcnRzPVdvcmtlclRpbGU7XG59LHtcIi4uL2RhdGEvZmVhdHVyZV9pbmRleFwiOjU1LFwiLi4vc3ltYm9sL2NvbGxpc2lvbl9ib3hcIjoxNjAsXCIuLi9zeW1ib2wvY29sbGlzaW9uX3RpbGVcIjoxNjIsXCIuLi91dGlsL2RpY3Rpb25hcnlfY29kZXJcIjoxOTcsXCIuLi91dGlsL3V0aWxcIjoyMTJ9XSwxMDA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZGVyZWYocixlKXt2YXIgZj17fTtmb3IodmFyIHQgaW4gcilcInJlZlwiIT09dCYmKGZbdF09clt0XSk7cmV0dXJuIHJlZlByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbihyKXtyIGluIGUmJihmW3JdPWVbcl0pfSksZn1mdW5jdGlvbiBkZXJlZkxheWVycyhyKXtyPXIuc2xpY2UoKTtmb3IodmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKSxmPTA7ZjxyLmxlbmd0aDtmKyspZVtyW2ZdLmlkXT1yW2ZdO2Zvcih2YXIgdD0wO3Q8ci5sZW5ndGg7dCsrKVwicmVmXCJpbiByW3RdJiYoclt0XT1kZXJlZihyW3RdLGVbclt0XS5yZWZdKSk7cmV0dXJuIHJ9dmFyIHJlZlByb3BlcnRpZXM9cmVxdWlyZShcIi4vdXRpbC9yZWZfcHJvcGVydGllc1wiKTttb2R1bGUuZXhwb3J0cz1kZXJlZkxheWVycztcbn0se1wiLi91dGlsL3JlZl9wcm9wZXJ0aWVzXCI6MTIyfV0sMTAxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGRpZmZTb3VyY2VzKGUscixvLGEpe2U9ZXx8e30scj1yfHx7fTt2YXIgcztmb3IocyBpbiBlKWUuaGFzT3duUHJvcGVydHkocykmJihyLmhhc093blByb3BlcnR5KHMpfHwoby5wdXNoKHtjb21tYW5kOm9wZXJhdGlvbnMucmVtb3ZlU291cmNlLGFyZ3M6W3NdfSksYVtzXT0hMCkpO2ZvcihzIGluIHIpci5oYXNPd25Qcm9wZXJ0eShzKSYmKGUuaGFzT3duUHJvcGVydHkocyk/aXNFcXVhbChlW3NdLHJbc10pfHwoby5wdXNoKHtjb21tYW5kOm9wZXJhdGlvbnMucmVtb3ZlU291cmNlLGFyZ3M6W3NdfSksby5wdXNoKHtjb21tYW5kOm9wZXJhdGlvbnMuYWRkU291cmNlLGFyZ3M6W3MscltzXV19KSxhW3NdPSEwKTpvLnB1c2goe2NvbW1hbmQ6b3BlcmF0aW9ucy5hZGRTb3VyY2UsYXJnczpbcyxyW3NdXX0pKX1mdW5jdGlvbiBkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMoZSxyLG8sYSxzLHQpe2U9ZXx8e30scj1yfHx7fTt2YXIgbjtmb3IobiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJihpc0VxdWFsKGVbbl0scltuXSl8fG8ucHVzaCh7Y29tbWFuZDp0LGFyZ3M6W2EsbixyW25dLHNdfSkpO2ZvcihuIGluIHIpci5oYXNPd25Qcm9wZXJ0eShuKSYmIWUuaGFzT3duUHJvcGVydHkobikmJihpc0VxdWFsKGVbbl0scltuXSl8fG8ucHVzaCh7Y29tbWFuZDp0LGFyZ3M6W2EsbixyW25dLHNdfSkpfWZ1bmN0aW9uIHBsdWNrSWQoZSl7cmV0dXJuIGUuaWR9ZnVuY3Rpb24gaW5kZXhCeUlkKGUscil7cmV0dXJuIGVbci5pZF09cixlfWZ1bmN0aW9uIGRpZmZMYXllcnMoZSxyLG8pe2U9ZXx8W10scj1yfHxbXTt2YXIgYSxzLHQsbixpLHAsbSx1PWUubWFwKHBsdWNrSWQpLGw9ci5tYXAocGx1Y2tJZCkseT1lLnJlZHVjZShpbmRleEJ5SWQse30pLGM9ci5yZWR1Y2UoaW5kZXhCeUlkLHt9KSxkPXUuc2xpY2UoKSxoPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGE9MCxzPTA7YTx1Lmxlbmd0aDthKyspdD11W2FdLGMuaGFzT3duUHJvcGVydHkodCk/cysrOihvLnB1c2goe2NvbW1hbmQ6b3BlcmF0aW9ucy5yZW1vdmVMYXllcixhcmdzOlt0XX0pLGQuc3BsaWNlKGQuaW5kZXhPZih0LHMpLDEpKTtmb3IoYT0wLHM9MDthPGwubGVuZ3RoO2ErKyl0PWxbbC5sZW5ndGgtMS1hXSxkW2QubGVuZ3RoLTEtYV0hPT10JiYoeS5oYXNPd25Qcm9wZXJ0eSh0KT8oby5wdXNoKHtjb21tYW5kOm9wZXJhdGlvbnMucmVtb3ZlTGF5ZXIsYXJnczpbdF19KSxkLnNwbGljZShkLmxhc3RJbmRleE9mKHQsZC5sZW5ndGgtcyksMSkpOnMrKyxwPWRbZC5sZW5ndGgtYV0sby5wdXNoKHtjb21tYW5kOm9wZXJhdGlvbnMuYWRkTGF5ZXIsYXJnczpbY1t0XSxwXX0pLGQuc3BsaWNlKGQubGVuZ3RoLWEsMCx0KSxoW3RdPSEwKTtmb3IoYT0wO2E8bC5sZW5ndGg7YSsrKWlmKHQ9bFthXSxuPXlbdF0saT1jW3RdLCFoW3RdJiYhaXNFcXVhbChuLGkpKWlmKGlzRXF1YWwobi5zb3VyY2UsaS5zb3VyY2UpJiZpc0VxdWFsKG5bXCJzb3VyY2UtbGF5ZXJcIl0saVtcInNvdXJjZS1sYXllclwiXSkmJmlzRXF1YWwobi50eXBlLGkudHlwZSkpe2RpZmZMYXllclByb3BlcnR5Q2hhbmdlcyhuLmxheW91dCxpLmxheW91dCxvLHQsbnVsbCxvcGVyYXRpb25zLnNldExheW91dFByb3BlcnR5KSxkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMobi5wYWludCxpLnBhaW50LG8sdCxudWxsLG9wZXJhdGlvbnMuc2V0UGFpbnRQcm9wZXJ0eSksaXNFcXVhbChuLmZpbHRlcixpLmZpbHRlcil8fG8ucHVzaCh7Y29tbWFuZDpvcGVyYXRpb25zLnNldEZpbHRlcixhcmdzOlt0LGkuZmlsdGVyXX0pLGlzRXF1YWwobi5taW56b29tLGkubWluem9vbSkmJmlzRXF1YWwobi5tYXh6b29tLGkubWF4em9vbSl8fG8ucHVzaCh7Y29tbWFuZDpvcGVyYXRpb25zLnNldExheWVyWm9vbVJhbmdlLGFyZ3M6W3QsaS5taW56b29tLGkubWF4em9vbV19KTtmb3IobSBpbiBuKW4uaGFzT3duUHJvcGVydHkobSkmJlwibGF5b3V0XCIhPT1tJiZcInBhaW50XCIhPT1tJiZcImZpbHRlclwiIT09bSYmXCJtZXRhZGF0YVwiIT09bSYmXCJtaW56b29tXCIhPT1tJiZcIm1heHpvb21cIiE9PW0mJigwPT09bS5pbmRleE9mKFwicGFpbnQuXCIpP2RpZmZMYXllclByb3BlcnR5Q2hhbmdlcyhuW21dLGlbbV0sbyx0LG0uc2xpY2UoNiksb3BlcmF0aW9ucy5zZXRQYWludFByb3BlcnR5KTppc0VxdWFsKG5bbV0saVttXSl8fG8ucHVzaCh7Y29tbWFuZDpvcGVyYXRpb25zLnNldExheWVyUHJvcGVydHksYXJnczpbdCxtLGlbbV1dfSkpO2ZvcihtIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShtKSYmIW4uaGFzT3duUHJvcGVydHkobSkmJlwibGF5b3V0XCIhPT1tJiZcInBhaW50XCIhPT1tJiZcImZpbHRlclwiIT09bSYmXCJtZXRhZGF0YVwiIT09bSYmXCJtaW56b29tXCIhPT1tJiZcIm1heHpvb21cIiE9PW0mJigwPT09bS5pbmRleE9mKFwicGFpbnQuXCIpP2RpZmZMYXllclByb3BlcnR5Q2hhbmdlcyhuW21dLGlbbV0sbyx0LG0uc2xpY2UoNiksb3BlcmF0aW9ucy5zZXRQYWludFByb3BlcnR5KTppc0VxdWFsKG5bbV0saVttXSl8fG8ucHVzaCh7Y29tbWFuZDpvcGVyYXRpb25zLnNldExheWVyUHJvcGVydHksYXJnczpbdCxtLGlbbV1dfSkpfWVsc2Ugby5wdXNoKHtjb21tYW5kOm9wZXJhdGlvbnMucmVtb3ZlTGF5ZXIsYXJnczpbdF19KSxwPWRbZC5sYXN0SW5kZXhPZih0KSsxXSxvLnB1c2goe2NvbW1hbmQ6b3BlcmF0aW9ucy5hZGRMYXllcixhcmdzOltpLHBdfSl9ZnVuY3Rpb24gZGlmZlN0eWxlcyhlLHIpe2lmKCFlKXJldHVyblt7Y29tbWFuZDpvcGVyYXRpb25zLnNldFN0eWxlLGFyZ3M6W3JdfV07dmFyIG89W107dHJ5e2lmKCFpc0VxdWFsKGUudmVyc2lvbixyLnZlcnNpb24pKXJldHVyblt7Y29tbWFuZDpvcGVyYXRpb25zLnNldFN0eWxlLGFyZ3M6W3JdfV07aXNFcXVhbChlLmNlbnRlcixyLmNlbnRlcil8fG8ucHVzaCh7Y29tbWFuZDpvcGVyYXRpb25zLnNldENlbnRlcixhcmdzOltyLmNlbnRlcl19KSxpc0VxdWFsKGUuem9vbSxyLnpvb20pfHxvLnB1c2goe2NvbW1hbmQ6b3BlcmF0aW9ucy5zZXRab29tLGFyZ3M6W3Iuem9vbV19KSxpc0VxdWFsKGUuYmVhcmluZyxyLmJlYXJpbmcpfHxvLnB1c2goe2NvbW1hbmQ6b3BlcmF0aW9ucy5zZXRCZWFyaW5nLGFyZ3M6W3IuYmVhcmluZ119KSxpc0VxdWFsKGUucGl0Y2gsci5waXRjaCl8fG8ucHVzaCh7Y29tbWFuZDpvcGVyYXRpb25zLnNldFBpdGNoLGFyZ3M6W3IucGl0Y2hdfSksaXNFcXVhbChlLnNwcml0ZSxyLnNwcml0ZSl8fG8ucHVzaCh7Y29tbWFuZDpvcGVyYXRpb25zLnNldFNwcml0ZSxhcmdzOltyLnNwcml0ZV19KSxpc0VxdWFsKGUuZ2x5cGhzLHIuZ2x5cGhzKXx8by5wdXNoKHtjb21tYW5kOm9wZXJhdGlvbnMuc2V0R2x5cGhzLGFyZ3M6W3IuZ2x5cGhzXX0pLGlzRXF1YWwoZS50cmFuc2l0aW9uLHIudHJhbnNpdGlvbil8fG8ucHVzaCh7Y29tbWFuZDpvcGVyYXRpb25zLnNldFRyYW5zaXRpb24sYXJnczpbci50cmFuc2l0aW9uXX0pLGlzRXF1YWwoZS5saWdodCxyLmxpZ2h0KXx8by5wdXNoKHtjb21tYW5kOm9wZXJhdGlvbnMuc2V0TGlnaHQsYXJnczpbci5saWdodF19KTt2YXIgYT17fSxzPVtdO2RpZmZTb3VyY2VzKGUuc291cmNlcyxyLnNvdXJjZXMscyxhKTt2YXIgdD1bXTtlLmxheWVycyYmZS5sYXllcnMuZm9yRWFjaChmdW5jdGlvbihlKXthW2Uuc291cmNlXT9vLnB1c2goe2NvbW1hbmQ6b3BlcmF0aW9ucy5yZW1vdmVMYXllcixhcmdzOltlLmlkXX0pOnQucHVzaChlKX0pLG89by5jb25jYXQocyksZGlmZkxheWVycyh0LHIubGF5ZXJzLG8pfWNhdGNoKGUpe2NvbnNvbGUud2FybihcIlVuYWJsZSB0byBjb21wdXRlIHN0eWxlIGRpZmY6XCIsZSksbz1be2NvbW1hbmQ6b3BlcmF0aW9ucy5zZXRTdHlsZSxhcmdzOltyXX1dfXJldHVybiBvfXZhciBpc0VxdWFsPXJlcXVpcmUoXCJsb2Rhc2guaXNlcXVhbFwiKSxvcGVyYXRpb25zPXtzZXRTdHlsZTpcInNldFN0eWxlXCIsYWRkTGF5ZXI6XCJhZGRMYXllclwiLHJlbW92ZUxheWVyOlwicmVtb3ZlTGF5ZXJcIixzZXRQYWludFByb3BlcnR5Olwic2V0UGFpbnRQcm9wZXJ0eVwiLHNldExheW91dFByb3BlcnR5Olwic2V0TGF5b3V0UHJvcGVydHlcIixzZXRGaWx0ZXI6XCJzZXRGaWx0ZXJcIixhZGRTb3VyY2U6XCJhZGRTb3VyY2VcIixyZW1vdmVTb3VyY2U6XCJyZW1vdmVTb3VyY2VcIixzZXRMYXllclpvb21SYW5nZTpcInNldExheWVyWm9vbVJhbmdlXCIsc2V0TGF5ZXJQcm9wZXJ0eTpcInNldExheWVyUHJvcGVydHlcIixzZXRDZW50ZXI6XCJzZXRDZW50ZXJcIixzZXRab29tOlwic2V0Wm9vbVwiLHNldEJlYXJpbmc6XCJzZXRCZWFyaW5nXCIsc2V0UGl0Y2g6XCJzZXRQaXRjaFwiLHNldFNwcml0ZTpcInNldFNwcml0ZVwiLHNldEdseXBoczpcInNldEdseXBoc1wiLHNldFRyYW5zaXRpb246XCJzZXRUcmFuc2l0aW9uXCIsc2V0TGlnaHQ6XCJzZXRMaWdodFwifTttb2R1bGUuZXhwb3J0cz1kaWZmU3R5bGVzLG1vZHVsZS5leHBvcnRzLm9wZXJhdGlvbnM9b3BlcmF0aW9ucztcbn0se1wibG9kYXNoLmlzZXF1YWxcIjoxMTR9XSwxMDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gVmFsaWRhdGlvbkVycm9yKHIsaSl7dGhpcy5tZXNzYWdlPShyP3IrXCI6IFwiOlwiXCIpK2Zvcm1hdC5hcHBseShmb3JtYXQsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKSxudWxsIT09aSYmdm9pZCAwIT09aSYmaS5fX2xpbmVfXyYmKHRoaXMubGluZT1pLl9fbGluZV9fKX12YXIgZm9ybWF0PXJlcXVpcmUoXCJ1dGlsXCIpLmZvcm1hdDttb2R1bGUuZXhwb3J0cz1WYWxpZGF0aW9uRXJyb3I7XG59LHtcInV0aWxcIjozM31dLDEwMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjcmVhdGVGaWx0ZXIoZSl7cmV0dXJuIG5ldyBGdW5jdGlvbihcImZcIixcInZhciBwID0gKGYgJiYgZi5wcm9wZXJ0aWVzIHx8IHt9KTsgcmV0dXJuIFwiK2NvbXBpbGUoZSkpfWZ1bmN0aW9uIGNvbXBpbGUoZSl7aWYoIWUpcmV0dXJuXCJ0cnVlXCI7dmFyIGk9ZVswXTtpZihlLmxlbmd0aDw9MSlyZXR1cm5cImFueVwiPT09aT9cImZhbHNlXCI6XCJ0cnVlXCI7dmFyIG49XCI9PVwiPT09aT9jb21waWxlQ29tcGFyaXNvbk9wKGVbMV0sZVsyXSxcIj09PVwiLCExKTpcIiE9XCI9PT1pP2NvbXBpbGVDb21wYXJpc29uT3AoZVsxXSxlWzJdLFwiIT09XCIsITEpOlwiPFwiPT09aXx8XCI+XCI9PT1pfHxcIjw9XCI9PT1pfHxcIj49XCI9PT1pP2NvbXBpbGVDb21wYXJpc29uT3AoZVsxXSxlWzJdLGksITApOlwiYW55XCI9PT1pP2NvbXBpbGVMb2dpY2FsT3AoZS5zbGljZSgxKSxcInx8XCIpOlwiYWxsXCI9PT1pP2NvbXBpbGVMb2dpY2FsT3AoZS5zbGljZSgxKSxcIiYmXCIpOlwibm9uZVwiPT09aT9jb21waWxlTmVnYXRpb24oY29tcGlsZUxvZ2ljYWxPcChlLnNsaWNlKDEpLFwifHxcIikpOlwiaW5cIj09PWk/Y29tcGlsZUluT3AoZVsxXSxlLnNsaWNlKDIpKTpcIiFpblwiPT09aT9jb21waWxlTmVnYXRpb24oY29tcGlsZUluT3AoZVsxXSxlLnNsaWNlKDIpKSk6XCJoYXNcIj09PWk/Y29tcGlsZUhhc09wKGVbMV0pOlwiIWhhc1wiPT09aT9jb21waWxlTmVnYXRpb24oY29tcGlsZUhhc09wKGVbMV0pKTpcInRydWVcIjtyZXR1cm5cIihcIituK1wiKVwifWZ1bmN0aW9uIGNvbXBpbGVQcm9wZXJ0eVJlZmVyZW5jZShlKXtyZXR1cm5cIiR0eXBlXCI9PT1lP1wiZi50eXBlXCI6XCIkaWRcIj09PWU/XCJmLmlkXCI6XCJwW1wiK0pTT04uc3RyaW5naWZ5KGUpK1wiXVwifWZ1bmN0aW9uIGNvbXBpbGVDb21wYXJpc29uT3AoZSxpLG4scil7dmFyIG89Y29tcGlsZVByb3BlcnR5UmVmZXJlbmNlKGUpLHQ9XCIkdHlwZVwiPT09ZT90eXBlcy5pbmRleE9mKGkpOkpTT04uc3RyaW5naWZ5KGkpO3JldHVybihyP1widHlwZW9mIFwiK28rXCI9PT0gdHlwZW9mIFwiK3QrXCImJlwiOlwiXCIpK28rbit0fWZ1bmN0aW9uIGNvbXBpbGVMb2dpY2FsT3AoZSxpKXtyZXR1cm4gZS5tYXAoY29tcGlsZSkuam9pbihpKX1mdW5jdGlvbiBjb21waWxlSW5PcChlLGkpe1wiJHR5cGVcIj09PWUmJihpPWkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0eXBlcy5pbmRleE9mKGUpfSkpO3ZhciBuPUpTT04uc3RyaW5naWZ5KGkuc29ydChjb21wYXJlKSkscj1jb21waWxlUHJvcGVydHlSZWZlcmVuY2UoZSk7cmV0dXJuIGkubGVuZ3RoPD0yMDA/bitcIi5pbmRleE9mKFwiK3IrXCIpICE9PSAtMVwiOlwiZnVuY3Rpb24odiwgYSwgaSwgaikge3doaWxlIChpIDw9IGopIHsgdmFyIG0gPSAoaSArIGopID4+IDE7ICAgIGlmIChhW21dID09PSB2KSByZXR1cm4gdHJ1ZTsgaWYgKGFbbV0gPiB2KSBqID0gbSAtIDE7IGVsc2UgaSA9IG0gKyAxO31yZXR1cm4gZmFsc2U7IH0oXCIrcitcIiwgXCIrbitcIiwwLFwiKyhpLmxlbmd0aC0xKStcIilcIn1mdW5jdGlvbiBjb21waWxlSGFzT3AoZSl7cmV0dXJuXCIkaWRcIj09PWU/J1wiaWRcIiBpbiBmJzpKU09OLnN0cmluZ2lmeShlKStcIiBpbiBwXCJ9ZnVuY3Rpb24gY29tcGlsZU5lZ2F0aW9uKGUpe3JldHVyblwiIShcIitlK1wiKVwifWZ1bmN0aW9uIGNvbXBhcmUoZSxpKXtyZXR1cm4gZTxpPy0xOmU+aT8xOjB9bW9kdWxlLmV4cG9ydHM9Y3JlYXRlRmlsdGVyO3ZhciB0eXBlcz1bXCJVbmtub3duXCIsXCJQb2ludFwiLFwiTGluZVN0cmluZ1wiLFwiUG9seWdvblwiXTtcbn0se31dLDEwNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB4eXoybGFiKHIpe3JldHVybiByPnQzP01hdGgucG93KHIsMS8zKTpyL3QyK3QwfWZ1bmN0aW9uIGxhYjJ4eXoocil7cmV0dXJuIHI+dDE/cipyKnI6dDIqKHItdDApfWZ1bmN0aW9uIHh5ejJyZ2Iocil7cmV0dXJuIDI1NSoocjw9LjAwMzEzMDg/MTIuOTIqcjoxLjA1NSpNYXRoLnBvdyhyLDEvMi40KS0uMDU1KX1mdW5jdGlvbiByZ2IyeHl6KHIpe3JldHVybiByLz0yNTUscjw9LjA0MDQ1P3IvMTIuOTI6TWF0aC5wb3coKHIrLjA1NSkvMS4wNTUsMi40KX1mdW5jdGlvbiByZ2JUb0xhYihyKXt2YXIgdD1yZ2IyeHl6KHJbMF0pLGE9cmdiMnh5eihyWzFdKSxuPXJnYjJ4eXooclsyXSksYj14eXoybGFiKCguNDEyNDU2NCp0Ky4zNTc1NzYxKmErLjE4MDQzNzUqbikvWG4pLG89eHl6MmxhYigoLjIxMjY3MjkqdCsuNzE1MTUyMiphKy4wNzIxNzUqbikvWW4pLGc9eHl6MmxhYigoLjAxOTMzMzkqdCsuMTE5MTkyKmErLjk1MDMwNDEqbikvWm4pO3JldHVyblsxMTYqby0xNiw1MDAqKGItbyksMjAwKihvLWcpLHJbM11dfWZ1bmN0aW9uIGxhYlRvUmdiKHIpe3ZhciB0PShyWzBdKzE2KS8xMTYsYT1pc05hTihyWzFdKT90OnQrclsxXS81MDAsbj1pc05hTihyWzJdKT90OnQtclsyXS8yMDA7cmV0dXJuIHQ9WW4qbGFiMnh5eih0KSxhPVhuKmxhYjJ4eXooYSksbj1abipsYWIyeHl6KG4pLFt4eXoycmdiKDMuMjQwNDU0MiphLTEuNTM3MTM4NSp0LS40OTg1MzE0Km4pLHh5ejJyZ2IoLS45NjkyNjYqYSsxLjg3NjAxMDgqdCsuMDQxNTU2Km4pLHh5ejJyZ2IoLjA1NTY0MzQqYS0uMjA0MDI1OSp0KzEuMDU3MjI1MipuKSxyWzNdXX1mdW5jdGlvbiByZ2JUb0hjbChyKXt2YXIgdD1yZ2JUb0xhYihyKSxhPXRbMF0sbj10WzFdLGI9dFsyXSxvPU1hdGguYXRhbjIoYixuKSpyYWQyZGVnO3JldHVybltvPDA/byszNjA6byxNYXRoLnNxcnQobipuK2IqYiksYSxyWzNdXX1mdW5jdGlvbiBoY2xUb1JnYihyKXt2YXIgdD1yWzBdKmRlZzJyYWQsYT1yWzFdLG49clsyXTtyZXR1cm4gbGFiVG9SZ2IoW24sTWF0aC5jb3ModCkqYSxNYXRoLnNpbih0KSphLHJbM11dKX12YXIgWG49Ljk1MDQ3LFluPTEsWm49MS4wODg4Myx0MD00LzI5LHQxPTYvMjksdDI9Myp0MSp0MSx0Mz10MSp0MSp0MSxkZWcycmFkPU1hdGguUEkvMTgwLHJhZDJkZWc9MTgwL01hdGguUEk7bW9kdWxlLmV4cG9ydHM9e2xhYjp7Zm9yd2FyZDpyZ2JUb0xhYixyZXZlcnNlOmxhYlRvUmdifSxoY2w6e2ZvcndhcmQ6cmdiVG9IY2wscmV2ZXJzZTpoY2xUb1JnYn19O1xufSx7fV0sMTA1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGlkZW50aXR5RnVuY3Rpb24odCl7cmV0dXJuIHR9ZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb24odCxlKXt2YXIgbyxuPVwiY29sb3JcIj09PWUudHlwZTtpZihpc0Z1bmN0aW9uRGVmaW5pdGlvbih0KSl7dmFyIHI9dC5zdG9wcyYmXCJvYmplY3RcIj09dHlwZW9mIHQuc3RvcHNbMF1bMF0sYT1yfHx2b2lkIDAhPT10LnByb3BlcnR5LGk9cnx8IWEscz10LnR5cGV8fChcImludGVycG9sYXRlZFwiPT09ZS5mdW5jdGlvbj9cImV4cG9uZW50aWFsXCI6XCJpbnRlcnZhbFwiKTtuJiYodD1leHRlbmQoe30sdCksdC5zdG9wcyYmKHQuc3RvcHM9dC5zdG9wcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuW3RbMF0scGFyc2VDb2xvcih0WzFdKV19KSksdC5kZWZhdWx0P3QuZGVmYXVsdD1wYXJzZUNvbG9yKHQuZGVmYXVsdCk6dC5kZWZhdWx0PXBhcnNlQ29sb3IoZS5kZWZhdWx0KSk7dmFyIHUscCxsO2lmKFwiZXhwb25lbnRpYWxcIj09PXMpdT1ldmFsdWF0ZUV4cG9uZW50aWFsRnVuY3Rpb247ZWxzZSBpZihcImludGVydmFsXCI9PT1zKXU9ZXZhbHVhdGVJbnRlcnZhbEZ1bmN0aW9uO2Vsc2UgaWYoXCJjYXRlZ29yaWNhbFwiPT09cyl7dT1ldmFsdWF0ZUNhdGVnb3JpY2FsRnVuY3Rpb24scD1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcih2YXIgYz0wLGY9dC5zdG9wcztjPGYubGVuZ3RoO2MrPTEpe3ZhciB2PWZbY107cFt2WzBdXT12WzFdfWw9dHlwZW9mIHQuc3RvcHNbMF1bMF19ZWxzZXtpZihcImlkZW50aXR5XCIhPT1zKXRocm93IG5ldyBFcnJvcignVW5rbm93biBmdW5jdGlvbiB0eXBlIFwiJytzKydcIicpO3U9ZXZhbHVhdGVJZGVudGl0eUZ1bmN0aW9ufXZhciBkO2lmKHQuY29sb3JTcGFjZSYmXCJyZ2JcIiE9PXQuY29sb3JTcGFjZSl7aWYoIWNvbG9yU3BhY2VzW3QuY29sb3JTcGFjZV0pdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb2xvciBzcGFjZTogXCIrdC5jb2xvclNwYWNlKTt2YXIgeT1jb2xvclNwYWNlc1t0LmNvbG9yU3BhY2VdO3Q9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSk7Zm9yKHZhciBGPTA7Rjx0LnN0b3BzLmxlbmd0aDtGKyspdC5zdG9wc1tGXT1bdC5zdG9wc1tGXVswXSx5LmZvcndhcmQodC5zdG9wc1tGXVsxXSldO2Q9eS5yZXZlcnNlfWVsc2UgZD1pZGVudGl0eUZ1bmN0aW9uO2lmKHIpe2Zvcih2YXIgaD17fSxtPVtdLGc9MDtnPHQuc3RvcHMubGVuZ3RoO2crKyl7dmFyIGI9dC5zdG9wc1tnXTt2b2lkIDA9PT1oW2JbMF0uem9vbV0mJihoW2JbMF0uem9vbV09e3pvb206YlswXS56b29tLHR5cGU6dC50eXBlLHByb3BlcnR5OnQucHJvcGVydHksc3RvcHM6W119KSxoW2JbMF0uem9vbV0uc3RvcHMucHVzaChbYlswXS52YWx1ZSxiWzFdXSl9Zm9yKHZhciBDIGluIGgpbS5wdXNoKFtoW0NdLnpvb20sY3JlYXRlRnVuY3Rpb24oaFtDXSxlKV0pO289ZnVuY3Rpb24obyxuKXtyZXR1cm4gZChldmFsdWF0ZUV4cG9uZW50aWFsRnVuY3Rpb24oe3N0b3BzOm0sYmFzZTp0LmJhc2V9LGUsbykobyxuKSl9LG8uaXNGZWF0dXJlQ29uc3RhbnQ9ITEsby5pc1pvb21Db25zdGFudD0hMX1lbHNlIGk/KG89ZnVuY3Rpb24obyl7cmV0dXJuIGQodSh0LGUsbyxwLGwpKX0sby5pc0ZlYXR1cmVDb25zdGFudD0hMCxvLmlzWm9vbUNvbnN0YW50PSExKToobz1mdW5jdGlvbihvLG4pe3ZhciByPW5bdC5wcm9wZXJ0eV07cmV0dXJuIHZvaWQgMD09PXI/Y29hbGVzY2UodC5kZWZhdWx0LGUuZGVmYXVsdCk6ZCh1KHQsZSxyLHAsbCkpfSxvLmlzRmVhdHVyZUNvbnN0YW50PSExLG8uaXNab29tQ29uc3RhbnQ9ITApfWVsc2UgbiYmdCYmKHQ9cGFyc2VDb2xvcih0KSksbz1mdW5jdGlvbigpe3JldHVybiB0fSxvLmlzRmVhdHVyZUNvbnN0YW50PSEwLG8uaXNab29tQ29uc3RhbnQ9ITA7cmV0dXJuIG99ZnVuY3Rpb24gY29hbGVzY2UodCxlLG8pe3JldHVybiB2b2lkIDAhPT10P3Q6dm9pZCAwIT09ZT9lOnZvaWQgMCE9PW8/bzp2b2lkIDB9ZnVuY3Rpb24gZXZhbHVhdGVDYXRlZ29yaWNhbEZ1bmN0aW9uKHQsZSxvLG4scil7dmFyIGE9dHlwZW9mIG89PT1yP25bb106dm9pZCAwO3JldHVybiBjb2FsZXNjZShhLHQuZGVmYXVsdCxlLmRlZmF1bHQpfWZ1bmN0aW9uIGV2YWx1YXRlSW50ZXJ2YWxGdW5jdGlvbih0LGUsbyl7aWYoXCJudW1iZXJcIiE9PWdldFR5cGUobykpcmV0dXJuIGNvYWxlc2NlKHQuZGVmYXVsdCxlLmRlZmF1bHQpO3ZhciBuPXQuc3RvcHMubGVuZ3RoO2lmKDE9PT1uKXJldHVybiB0LnN0b3BzWzBdWzFdO2lmKG88PXQuc3RvcHNbMF1bMF0pcmV0dXJuIHQuc3RvcHNbMF1bMV07aWYobz49dC5zdG9wc1tuLTFdWzBdKXJldHVybiB0LnN0b3BzW24tMV1bMV07dmFyIHI9YmluYXJ5U2VhcmNoRm9ySW5kZXgodC5zdG9wcyxvKTtyZXR1cm4gdC5zdG9wc1tyXVsxXX1mdW5jdGlvbiBldmFsdWF0ZUV4cG9uZW50aWFsRnVuY3Rpb24odCxlLG8pe3ZhciBuPXZvaWQgMCE9PXQuYmFzZT90LmJhc2U6MTtpZihcIm51bWJlclwiIT09Z2V0VHlwZShvKSlyZXR1cm4gY29hbGVzY2UodC5kZWZhdWx0LGUuZGVmYXVsdCk7dmFyIHI9dC5zdG9wcy5sZW5ndGg7aWYoMT09PXIpcmV0dXJuIHQuc3RvcHNbMF1bMV07aWYobzw9dC5zdG9wc1swXVswXSlyZXR1cm4gdC5zdG9wc1swXVsxXTtpZihvPj10LnN0b3BzW3ItMV1bMF0pcmV0dXJuIHQuc3RvcHNbci0xXVsxXTt2YXIgYT1iaW5hcnlTZWFyY2hGb3JJbmRleCh0LnN0b3BzLG8pO3JldHVybiBpbnRlcnBvbGF0ZShvLG4sdC5zdG9wc1thXVswXSx0LnN0b3BzW2ErMV1bMF0sdC5zdG9wc1thXVsxXSx0LnN0b3BzW2ErMV1bMV0pfWZ1bmN0aW9uIGV2YWx1YXRlSWRlbnRpdHlGdW5jdGlvbih0LGUsbyl7cmV0dXJuXCJjb2xvclwiPT09ZS50eXBlP289cGFyc2VDb2xvcihvKTpnZXRUeXBlKG8pIT09ZS50eXBlJiYobz12b2lkIDApLGNvYWxlc2NlKG8sdC5kZWZhdWx0LGUuZGVmYXVsdCl9ZnVuY3Rpb24gYmluYXJ5U2VhcmNoRm9ySW5kZXgodCxlKXtmb3IodmFyIG8sbixyPXQubGVuZ3RoLGE9MCxpPXItMSxzPTA7YTw9aTspe2lmKHM9TWF0aC5mbG9vcigoYStpKS8yKSxvPXRbc11bMF0sbj10W3MrMV1bMF0sZT49byYmZTxuKXJldHVybiBzO288ZT9hPXMrMTpvPmUmJihpPXMtMSl9cmV0dXJuIE1hdGgubWF4KHMtMSwwKX1mdW5jdGlvbiBpbnRlcnBvbGF0ZSh0LGUsbyxuLHIsYSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygcj9mdW5jdGlvbigpe3ZhciBpPXIuYXBwbHkodm9pZCAwLGFyZ3VtZW50cykscz1hLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpO2lmKHZvaWQgMCE9PWkmJnZvaWQgMCE9PXMpcmV0dXJuIGludGVycG9sYXRlKHQsZSxvLG4saSxzKX06ci5sZW5ndGg/aW50ZXJwb2xhdGVBcnJheSh0LGUsbyxuLHIsYSk6aW50ZXJwb2xhdGVOdW1iZXIodCxlLG8sbixyLGEpfWZ1bmN0aW9uIGludGVycG9sYXRlTnVtYmVyKHQsZSxvLG4scixhKXt2YXIgaSxzPW4tbyx1PXQtbztyZXR1cm4gaT0xPT09ZT91L3M6KE1hdGgucG93KGUsdSktMSkvKE1hdGgucG93KGUscyktMSksciooMS1pKSthKml9ZnVuY3Rpb24gaW50ZXJwb2xhdGVBcnJheSh0LGUsbyxuLHIsYSl7Zm9yKHZhciBpPVtdLHM9MDtzPHIubGVuZ3RoO3MrKylpW3NdPWludGVycG9sYXRlTnVtYmVyKHQsZSxvLG4scltzXSxhW3NdKTtyZXR1cm4gaX1mdW5jdGlvbiBpc0Z1bmN0aW9uRGVmaW5pdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmKHQuc3RvcHN8fFwiaWRlbnRpdHlcIj09PXQudHlwZSl9dmFyIGNvbG9yU3BhY2VzPXJlcXVpcmUoXCIuL2NvbG9yX3NwYWNlc1wiKSxwYXJzZUNvbG9yPXJlcXVpcmUoXCIuLi91dGlsL3BhcnNlX2NvbG9yXCIpLGV4dGVuZD1yZXF1aXJlKFwiLi4vdXRpbC9leHRlbmRcIiksZ2V0VHlwZT1yZXF1aXJlKFwiLi4vdXRpbC9nZXRfdHlwZVwiKTttb2R1bGUuZXhwb3J0cz1jcmVhdGVGdW5jdGlvbixtb2R1bGUuZXhwb3J0cy5pc0Z1bmN0aW9uRGVmaW5pdGlvbj1pc0Z1bmN0aW9uRGVmaW5pdGlvbjtcbn0se1wiLi4vdXRpbC9leHRlbmRcIjoxMTksXCIuLi91dGlsL2dldF90eXBlXCI6MTIwLFwiLi4vdXRpbC9wYXJzZV9jb2xvclwiOjEyMSxcIi4vY29sb3Jfc3BhY2VzXCI6MTA0fV0sMTA2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGtleShyKXtyZXR1cm4gc3RyaW5naWZ5KHJlZlByb3BlcnRpZXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiByW2VdfSkpfWZ1bmN0aW9uIGdyb3VwQnlMYXlvdXQocil7Zm9yKHZhciBlPXt9LHQ9MDt0PHIubGVuZ3RoO3QrKyl7dmFyIGk9a2V5KHJbdF0pLHU9ZVtpXTt1fHwodT1lW2ldPVtdKSx1LnB1c2goclt0XSl9dmFyIG49W107Zm9yKHZhciBvIGluIGUpbi5wdXNoKGVbb10pO3JldHVybiBufXZhciByZWZQcm9wZXJ0aWVzPXJlcXVpcmUoXCIuL3V0aWwvcmVmX3Byb3BlcnRpZXNcIiksc3RyaW5naWZ5PXJlcXVpcmUoXCJmYXN0LXN0YWJsZS1zdHJpbmdpZnlcIik7bW9kdWxlLmV4cG9ydHM9Z3JvdXBCeUxheW91dDtcbn0se1wiLi91dGlsL3JlZl9wcm9wZXJ0aWVzXCI6MTIyLFwiZmFzdC1zdGFibGUtc3RyaW5naWZ5XCI6MTA4fV0sMTA3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGNsYW1wX2Nzc19ieXRlKGUpe3JldHVybiBlPU1hdGgucm91bmQoZSksZTwwPzA6ZT4yNTU/MjU1OmV9ZnVuY3Rpb24gY2xhbXBfY3NzX2Zsb2F0KGUpe3JldHVybiBlPDA/MDplPjE/MTplfWZ1bmN0aW9uIHBhcnNlX2Nzc19pbnQoZSl7cmV0dXJuIGNsYW1wX2Nzc19ieXRlKFwiJVwiPT09ZVtlLmxlbmd0aC0xXT9wYXJzZUZsb2F0KGUpLzEwMCoyNTU6cGFyc2VJbnQoZSkpfWZ1bmN0aW9uIHBhcnNlX2Nzc19mbG9hdChlKXtyZXR1cm4gY2xhbXBfY3NzX2Zsb2F0KFwiJVwiPT09ZVtlLmxlbmd0aC0xXT9wYXJzZUZsb2F0KGUpLzEwMDpwYXJzZUZsb2F0KGUpKX1mdW5jdGlvbiBjc3NfaHVlX3RvX3JnYihlLHIsbCl7cmV0dXJuIGw8MD9sKz0xOmw+MSYmKGwtPTEpLDYqbDwxP2UrKHItZSkqbCo2OjIqbDwxP3I6MypsPDI/ZSsoci1lKSooMi8zLWwpKjY6ZX1mdW5jdGlvbiBwYXJzZUNTU0NvbG9yKGUpe3ZhciByPWUucmVwbGFjZSgvIC9nLFwiXCIpLnRvTG93ZXJDYXNlKCk7aWYociBpbiBrQ1NTQ29sb3JUYWJsZSlyZXR1cm4ga0NTU0NvbG9yVGFibGVbcl0uc2xpY2UoKTtpZihcIiNcIj09PXJbMF0pe2lmKDQ9PT1yLmxlbmd0aCl7dmFyIGw9cGFyc2VJbnQoci5zdWJzdHIoMSksMTYpO3JldHVybiBsPj0wJiZsPD00MDk1P1soMzg0MCZsKT4+NHwoMzg0MCZsKT4+OCwyNDAmbHwoMjQwJmwpPj40LDE1Jmx8KDE1JmwpPDw0LDFdOm51bGx9aWYoNz09PXIubGVuZ3RoKXt2YXIgbD1wYXJzZUludChyLnN1YnN0cigxKSwxNik7cmV0dXJuIGw+PTAmJmw8PTE2Nzc3MjE1P1soMTY3MTE2ODAmbCk+PjE2LCg2NTI4MCZsKT4+OCwyNTUmbCwxXTpudWxsfXJldHVybiBudWxsfXZhciBhPXIuaW5kZXhPZihcIihcIiksdD1yLmluZGV4T2YoXCIpXCIpO2lmKGEhPT0tMSYmdCsxPT09ci5sZW5ndGgpe3ZhciBuPXIuc3Vic3RyKDAsYSkscz1yLnN1YnN0cihhKzEsdC0oYSsxKSkuc3BsaXQoXCIsXCIpLG89MTtzd2l0Y2gobil7Y2FzZVwicmdiYVwiOmlmKDQhPT1zLmxlbmd0aClyZXR1cm4gbnVsbDtvPXBhcnNlX2Nzc19mbG9hdChzLnBvcCgpKTtjYXNlXCJyZ2JcIjpyZXR1cm4gMyE9PXMubGVuZ3RoP251bGw6W3BhcnNlX2Nzc19pbnQoc1swXSkscGFyc2VfY3NzX2ludChzWzFdKSxwYXJzZV9jc3NfaW50KHNbMl0pLG9dO2Nhc2VcImhzbGFcIjppZig0IT09cy5sZW5ndGgpcmV0dXJuIG51bGw7bz1wYXJzZV9jc3NfZmxvYXQocy5wb3AoKSk7Y2FzZVwiaHNsXCI6aWYoMyE9PXMubGVuZ3RoKXJldHVybiBudWxsO3ZhciBpPShwYXJzZUZsb2F0KHNbMF0pJTM2MCszNjApJTM2MC8zNjAsdT1wYXJzZV9jc3NfZmxvYXQoc1sxXSksZz1wYXJzZV9jc3NfZmxvYXQoc1syXSksZD1nPD0uNT9nKih1KzEpOmcrdS1nKnUsYz0yKmctZDtyZXR1cm5bY2xhbXBfY3NzX2J5dGUoMjU1KmNzc19odWVfdG9fcmdiKGMsZCxpKzEvMykpLGNsYW1wX2Nzc19ieXRlKDI1NSpjc3NfaHVlX3RvX3JnYihjLGQsaSkpLGNsYW1wX2Nzc19ieXRlKDI1NSpjc3NfaHVlX3RvX3JnYihjLGQsaS0xLzMpKSxvXTtkZWZhdWx0OnJldHVybiBudWxsfX1yZXR1cm4gbnVsbH12YXIga0NTU0NvbG9yVGFibGU9e3RyYW5zcGFyZW50OlswLDAsMCwwXSxhbGljZWJsdWU6WzI0MCwyNDgsMjU1LDFdLGFudGlxdWV3aGl0ZTpbMjUwLDIzNSwyMTUsMV0sYXF1YTpbMCwyNTUsMjU1LDFdLGFxdWFtYXJpbmU6WzEyNywyNTUsMjEyLDFdLGF6dXJlOlsyNDAsMjU1LDI1NSwxXSxiZWlnZTpbMjQ1LDI0NSwyMjAsMV0sYmlzcXVlOlsyNTUsMjI4LDE5NiwxXSxibGFjazpbMCwwLDAsMV0sYmxhbmNoZWRhbG1vbmQ6WzI1NSwyMzUsMjA1LDFdLGJsdWU6WzAsMCwyNTUsMV0sYmx1ZXZpb2xldDpbMTM4LDQzLDIyNiwxXSxicm93bjpbMTY1LDQyLDQyLDFdLGJ1cmx5d29vZDpbMjIyLDE4NCwxMzUsMV0sY2FkZXRibHVlOls5NSwxNTgsMTYwLDFdLGNoYXJ0cmV1c2U6WzEyNywyNTUsMCwxXSxjaG9jb2xhdGU6WzIxMCwxMDUsMzAsMV0sY29yYWw6WzI1NSwxMjcsODAsMV0sY29ybmZsb3dlcmJsdWU6WzEwMCwxNDksMjM3LDFdLGNvcm5zaWxrOlsyNTUsMjQ4LDIyMCwxXSxjcmltc29uOlsyMjAsMjAsNjAsMV0sY3lhbjpbMCwyNTUsMjU1LDFdLGRhcmtibHVlOlswLDAsMTM5LDFdLGRhcmtjeWFuOlswLDEzOSwxMzksMV0sZGFya2dvbGRlbnJvZDpbMTg0LDEzNCwxMSwxXSxkYXJrZ3JheTpbMTY5LDE2OSwxNjksMV0sZGFya2dyZWVuOlswLDEwMCwwLDFdLGRhcmtncmV5OlsxNjksMTY5LDE2OSwxXSxkYXJra2hha2k6WzE4OSwxODMsMTA3LDFdLGRhcmttYWdlbnRhOlsxMzksMCwxMzksMV0sZGFya29saXZlZ3JlZW46Wzg1LDEwNyw0NywxXSxkYXJrb3JhbmdlOlsyNTUsMTQwLDAsMV0sZGFya29yY2hpZDpbMTUzLDUwLDIwNCwxXSxkYXJrcmVkOlsxMzksMCwwLDFdLGRhcmtzYWxtb246WzIzMywxNTAsMTIyLDFdLGRhcmtzZWFncmVlbjpbMTQzLDE4OCwxNDMsMV0sZGFya3NsYXRlYmx1ZTpbNzIsNjEsMTM5LDFdLGRhcmtzbGF0ZWdyYXk6WzQ3LDc5LDc5LDFdLGRhcmtzbGF0ZWdyZXk6WzQ3LDc5LDc5LDFdLGRhcmt0dXJxdW9pc2U6WzAsMjA2LDIwOSwxXSxkYXJrdmlvbGV0OlsxNDgsMCwyMTEsMV0sZGVlcHBpbms6WzI1NSwyMCwxNDcsMV0sZGVlcHNreWJsdWU6WzAsMTkxLDI1NSwxXSxkaW1ncmF5OlsxMDUsMTA1LDEwNSwxXSxkaW1ncmV5OlsxMDUsMTA1LDEwNSwxXSxkb2RnZXJibHVlOlszMCwxNDQsMjU1LDFdLGZpcmVicmljazpbMTc4LDM0LDM0LDFdLGZsb3JhbHdoaXRlOlsyNTUsMjUwLDI0MCwxXSxmb3Jlc3RncmVlbjpbMzQsMTM5LDM0LDFdLGZ1Y2hzaWE6WzI1NSwwLDI1NSwxXSxnYWluc2Jvcm86WzIyMCwyMjAsMjIwLDFdLGdob3N0d2hpdGU6WzI0OCwyNDgsMjU1LDFdLGdvbGQ6WzI1NSwyMTUsMCwxXSxnb2xkZW5yb2Q6WzIxOCwxNjUsMzIsMV0sZ3JheTpbMTI4LDEyOCwxMjgsMV0sZ3JlZW46WzAsMTI4LDAsMV0sZ3JlZW55ZWxsb3c6WzE3MywyNTUsNDcsMV0sZ3JleTpbMTI4LDEyOCwxMjgsMV0saG9uZXlkZXc6WzI0MCwyNTUsMjQwLDFdLGhvdHBpbms6WzI1NSwxMDUsMTgwLDFdLGluZGlhbnJlZDpbMjA1LDkyLDkyLDFdLGluZGlnbzpbNzUsMCwxMzAsMV0saXZvcnk6WzI1NSwyNTUsMjQwLDFdLGtoYWtpOlsyNDAsMjMwLDE0MCwxXSxsYXZlbmRlcjpbMjMwLDIzMCwyNTAsMV0sbGF2ZW5kZXJibHVzaDpbMjU1LDI0MCwyNDUsMV0sbGF3bmdyZWVuOlsxMjQsMjUyLDAsMV0sbGVtb25jaGlmZm9uOlsyNTUsMjUwLDIwNSwxXSxsaWdodGJsdWU6WzE3MywyMTYsMjMwLDFdLGxpZ2h0Y29yYWw6WzI0MCwxMjgsMTI4LDFdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTUsMV0sbGlnaHRnb2xkZW5yb2R5ZWxsb3c6WzI1MCwyNTAsMjEwLDFdLGxpZ2h0Z3JheTpbMjExLDIxMSwyMTEsMV0sbGlnaHRncmVlbjpbMTQ0LDIzOCwxNDQsMV0sbGlnaHRncmV5OlsyMTEsMjExLDIxMSwxXSxsaWdodHBpbms6WzI1NSwxODIsMTkzLDFdLGxpZ2h0c2FsbW9uOlsyNTUsMTYwLDEyMiwxXSxsaWdodHNlYWdyZWVuOlszMiwxNzgsMTcwLDFdLGxpZ2h0c2t5Ymx1ZTpbMTM1LDIwNiwyNTAsMV0sbGlnaHRzbGF0ZWdyYXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c2xhdGVncmV5OlsxMTksMTM2LDE1MywxXSxsaWdodHN0ZWVsYmx1ZTpbMTc2LDE5NiwyMjIsMV0sbGlnaHR5ZWxsb3c6WzI1NSwyNTUsMjI0LDFdLGxpbWU6WzAsMjU1LDAsMV0sbGltZWdyZWVuOls1MCwyMDUsNTAsMV0sbGluZW46WzI1MCwyNDAsMjMwLDFdLG1hZ2VudGE6WzI1NSwwLDI1NSwxXSxtYXJvb246WzEyOCwwLDAsMV0sbWVkaXVtYXF1YW1hcmluZTpbMTAyLDIwNSwxNzAsMV0sbWVkaXVtYmx1ZTpbMCwwLDIwNSwxXSxtZWRpdW1vcmNoaWQ6WzE4Niw4NSwyMTEsMV0sbWVkaXVtcHVycGxlOlsxNDcsMTEyLDIxOSwxXSxtZWRpdW1zZWFncmVlbjpbNjAsMTc5LDExMywxXSxtZWRpdW1zbGF0ZWJsdWU6WzEyMywxMDQsMjM4LDFdLG1lZGl1bXNwcmluZ2dyZWVuOlswLDI1MCwxNTQsMV0sbWVkaXVtdHVycXVvaXNlOls3MiwyMDksMjA0LDFdLG1lZGl1bXZpb2xldHJlZDpbMTk5LDIxLDEzMywxXSxtaWRuaWdodGJsdWU6WzI1LDI1LDExMiwxXSxtaW50Y3JlYW06WzI0NSwyNTUsMjUwLDFdLG1pc3R5cm9zZTpbMjU1LDIyOCwyMjUsMV0sbW9jY2FzaW46WzI1NSwyMjgsMTgxLDFdLG5hdmFqb3doaXRlOlsyNTUsMjIyLDE3MywxXSxuYXZ5OlswLDAsMTI4LDFdLG9sZGxhY2U6WzI1MywyNDUsMjMwLDFdLG9saXZlOlsxMjgsMTI4LDAsMV0sb2xpdmVkcmFiOlsxMDcsMTQyLDM1LDFdLG9yYW5nZTpbMjU1LDE2NSwwLDFdLG9yYW5nZXJlZDpbMjU1LDY5LDAsMV0sb3JjaGlkOlsyMTgsMTEyLDIxNCwxXSxwYWxlZ29sZGVucm9kOlsyMzgsMjMyLDE3MCwxXSxwYWxlZ3JlZW46WzE1MiwyNTEsMTUyLDFdLHBhbGV0dXJxdW9pc2U6WzE3NSwyMzgsMjM4LDFdLHBhbGV2aW9sZXRyZWQ6WzIxOSwxMTIsMTQ3LDFdLHBhcGF5YXdoaXA6WzI1NSwyMzksMjEzLDFdLHBlYWNocHVmZjpbMjU1LDIxOCwxODUsMV0scGVydTpbMjA1LDEzMyw2MywxXSxwaW5rOlsyNTUsMTkyLDIwMywxXSxwbHVtOlsyMjEsMTYwLDIyMSwxXSxwb3dkZXJibHVlOlsxNzYsMjI0LDIzMCwxXSxwdXJwbGU6WzEyOCwwLDEyOCwxXSxyZWJlY2NhcHVycGxlOlsxMDIsNTEsMTUzLDFdLHJlZDpbMjU1LDAsMCwxXSxyb3N5YnJvd246WzE4OCwxNDMsMTQzLDFdLHJveWFsYmx1ZTpbNjUsMTA1LDIyNSwxXSxzYWRkbGVicm93bjpbMTM5LDY5LDE5LDFdLHNhbG1vbjpbMjUwLDEyOCwxMTQsMV0sc2FuZHlicm93bjpbMjQ0LDE2NCw5NiwxXSxzZWFncmVlbjpbNDYsMTM5LDg3LDFdLHNlYXNoZWxsOlsyNTUsMjQ1LDIzOCwxXSxzaWVubmE6WzE2MCw4Miw0NSwxXSxzaWx2ZXI6WzE5MiwxOTIsMTkyLDFdLHNreWJsdWU6WzEzNSwyMDYsMjM1LDFdLHNsYXRlYmx1ZTpbMTA2LDkwLDIwNSwxXSxzbGF0ZWdyYXk6WzExMiwxMjgsMTQ0LDFdLHNsYXRlZ3JleTpbMTEyLDEyOCwxNDQsMV0sc25vdzpbMjU1LDI1MCwyNTAsMV0sc3ByaW5nZ3JlZW46WzAsMjU1LDEyNywxXSxzdGVlbGJsdWU6WzcwLDEzMCwxODAsMV0sdGFuOlsyMTAsMTgwLDE0MCwxXSx0ZWFsOlswLDEyOCwxMjgsMV0sdGhpc3RsZTpbMjE2LDE5MSwyMTYsMV0sdG9tYXRvOlsyNTUsOTksNzEsMV0sdHVycXVvaXNlOls2NCwyMjQsMjA4LDFdLHZpb2xldDpbMjM4LDEzMCwyMzgsMV0sd2hlYXQ6WzI0NSwyMjIsMTc5LDFdLHdoaXRlOlsyNTUsMjU1LDI1NSwxXSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NSwxXSx5ZWxsb3c6WzI1NSwyNTUsMCwxXSx5ZWxsb3dncmVlbjpbMTU0LDIwNSw1MCwxXX07dHJ5e2V4cG9ydHMucGFyc2VDU1NDb2xvcj1wYXJzZUNTU0NvbG9yfWNhdGNoKGUpe31cbn0se31dLDEwODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBzc3Mocil7dmFyIGUsdCxzLG4sdSxhO3N3aXRjaCh0eXBlb2Ygcil7Y2FzZVwib2JqZWN0XCI6aWYobnVsbD09PXIpcmV0dXJuIG51bGw7aWYoaXNBcnJheShyKSl7Zm9yKHM9XCJbXCIsdD1yLmxlbmd0aC0xLGU9MDtlPHQ7ZSsrKXMrPXNzcyhyW2VdKStcIixcIjtyZXR1cm4gdD4tMSYmKHMrPXNzcyhyW2VdKSkscytcIl1cIn1mb3Iobj1vYmpLZXlzKHIpLnNvcnQoKSx0PW4ubGVuZ3RoLHM9XCJ7XCIsdT1uW2U9MF0sYT10PjAmJnZvaWQgMCE9PXJbdV07ZTx0OylhPyhzKz0nXCInK3UucmVwbGFjZShzdHJSZWcsc3RyUmVwbGFjZSkrJ1wiOicrc3NzKHJbdV0pLHU9blsrK2VdLGE9ZTx0JiZ2b2lkIDAhPT1yW3VdLGEmJihzKz1cIixcIikpOih1PW5bKytlXSxhPWU8dCYmdm9pZCAwIT09clt1XSk7cmV0dXJuIHMrXCJ9XCI7Y2FzZVwidW5kZWZpbmVkXCI6cmV0dXJuIG51bGw7Y2FzZVwic3RyaW5nXCI6cmV0dXJuJ1wiJytyLnJlcGxhY2Uoc3RyUmVnLHN0clJlcGxhY2UpKydcIic7ZGVmYXVsdDpyZXR1cm4gcn19dmFyIHRvU3RyaW5nPXt9LnRvU3RyaW5nLGlzQXJyYXk9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24ocil7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09dG9TdHJpbmcuY2FsbChyKX0sb2JqS2V5cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24ocil7dmFyIGU9W107Zm9yKHZhciB0IGluIHIpci5oYXNPd25Qcm9wZXJ0eSh0KSYmZS5wdXNoKHQpO3JldHVybiBlfSxzdHJSZWc9L1tcXHUwMDAwLVxcdTAwMWZcIlxcXFxdL2csc3RyUmVwbGFjZT1mdW5jdGlvbihyKXt2YXIgZT1yLmNoYXJDb2RlQXQoMCk7c3dpdGNoKGUpe2Nhc2UgMzQ6cmV0dXJuJ1xcXFxcIic7Y2FzZSA5MjpyZXR1cm5cIlxcXFxcXFxcXCI7Y2FzZSAxMjpyZXR1cm5cIlxcXFxmXCI7Y2FzZSAxMDpyZXR1cm5cIlxcXFxuXCI7Y2FzZSAxMzpyZXR1cm5cIlxcXFxyXCI7Y2FzZSA5OnJldHVyblwiXFxcXHRcIjtjYXNlIDg6cmV0dXJuXCJcXFxcYlwiO2RlZmF1bHQ6cmV0dXJuIGU+MTU/XCJcXFxcdTAwXCIrZS50b1N0cmluZygxNik6XCJcXFxcdTAwMFwiK2UudG9TdHJpbmcoMTYpfX07bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ocil7aWYodm9pZCAwIT09cilyZXR1cm5cIlwiK3NzcyhyKX0sbW9kdWxlLmV4cG9ydHMuc3RyaW5nU2VhcmNoPXN0clJlZyxtb2R1bGUuZXhwb3J0cy5zdHJpbmdSZXBsYWNlPXN0clJlcGxhY2U7XG59LHt9XSwxMDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHIpe3JldHVybiEhciYmXCJvYmplY3RcIj09dHlwZW9mIHJ9ZnVuY3Rpb24gYXJyYXlTb21lKHIsZSl7Zm9yKHZhciBhPS0xLHQ9ci5sZW5ndGg7KythPHQ7KWlmKGUoclthXSxhLHIpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGJhc2VJc0VxdWFsKHIsZSxhLHQsbyxuKXtyZXR1cm4gcj09PWV8fChudWxsPT1yfHxudWxsPT1lfHwhaXNPYmplY3QocikmJiFpc09iamVjdExpa2UoZSk/ciE9PXImJmUhPT1lOmJhc2VJc0VxdWFsRGVlcChyLGUsYmFzZUlzRXF1YWwsYSx0LG8sbikpfWZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChyLGUsYSx0LG8sbix1KXt2YXIgYz1pc0FycmF5KHIpLHM9aXNBcnJheShlKSxpPWFycmF5VGFnLGc9YXJyYXlUYWc7Y3x8KGk9b2JqVG9TdHJpbmcuY2FsbChyKSxpPT1hcmdzVGFnP2k9b2JqZWN0VGFnOmkhPW9iamVjdFRhZyYmKGM9aXNUeXBlZEFycmF5KHIpKSksc3x8KGc9b2JqVG9TdHJpbmcuY2FsbChlKSxnPT1hcmdzVGFnP2c9b2JqZWN0VGFnOmchPW9iamVjdFRhZyYmKHM9aXNUeXBlZEFycmF5KGUpKSk7dmFyIGI9aT09b2JqZWN0VGFnLGw9Zz09b2JqZWN0VGFnLGY9aT09ZztpZihmJiYhYyYmIWIpcmV0dXJuIGVxdWFsQnlUYWcocixlLGkpO2lmKCFvKXt2YXIgeT1iJiZoYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJfX3dyYXBwZWRfX1wiKSxUPWwmJmhhc093blByb3BlcnR5LmNhbGwoZSxcIl9fd3JhcHBlZF9fXCIpO2lmKHl8fFQpcmV0dXJuIGEoeT9yLnZhbHVlKCk6cixUP2UudmFsdWUoKTplLHQsbyxuLHUpfWlmKCFmKXJldHVybiExO258fChuPVtdKSx1fHwodT1bXSk7Zm9yKHZhciBqPW4ubGVuZ3RoO2otLTspaWYobltqXT09cilyZXR1cm4gdVtqXT09ZTtuLnB1c2gociksdS5wdXNoKGUpO3ZhciBwPShjP2VxdWFsQXJyYXlzOmVxdWFsT2JqZWN0cykocixlLGEsdCxvLG4sdSk7cmV0dXJuIG4ucG9wKCksdS5wb3AoKSxwfWZ1bmN0aW9uIGVxdWFsQXJyYXlzKHIsZSxhLHQsbyxuLHUpe3ZhciBjPS0xLHM9ci5sZW5ndGgsaT1lLmxlbmd0aDtpZihzIT1pJiYhKG8mJmk+cykpcmV0dXJuITE7Zm9yKDsrK2M8czspe3ZhciBnPXJbY10sYj1lW2NdLGw9dD90KG8/YjpnLG8/ZzpiLGMpOnZvaWQgMDtpZih2b2lkIDAhPT1sKXtpZihsKWNvbnRpbnVlO3JldHVybiExfWlmKG8pe2lmKCFhcnJheVNvbWUoZSxmdW5jdGlvbihyKXtyZXR1cm4gZz09PXJ8fGEoZyxyLHQsbyxuLHUpfSkpcmV0dXJuITF9ZWxzZSBpZihnIT09YiYmIWEoZyxiLHQsbyxuLHUpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGVxdWFsQnlUYWcocixlLGEpe3N3aXRjaChhKXtjYXNlIGJvb2xUYWc6Y2FzZSBkYXRlVGFnOnJldHVybityPT0rZTtjYXNlIGVycm9yVGFnOnJldHVybiByLm5hbWU9PWUubmFtZSYmci5tZXNzYWdlPT1lLm1lc3NhZ2U7Y2FzZSBudW1iZXJUYWc6cmV0dXJuIHIhPStyP2UhPStlOnI9PStlO2Nhc2UgcmVnZXhwVGFnOmNhc2Ugc3RyaW5nVGFnOnJldHVybiByPT1lK1wiXCJ9cmV0dXJuITF9ZnVuY3Rpb24gZXF1YWxPYmplY3RzKHIsZSxhLHQsbyxuLHUpe3ZhciBjPWtleXMocikscz1jLmxlbmd0aCxpPWtleXMoZSksZz1pLmxlbmd0aDtpZihzIT1nJiYhbylyZXR1cm4hMTtmb3IodmFyIGI9cztiLS07KXt2YXIgbD1jW2JdO2lmKCEobz9sIGluIGU6aGFzT3duUHJvcGVydHkuY2FsbChlLGwpKSlyZXR1cm4hMX1mb3IodmFyIGY9bzsrK2I8czspe2w9Y1tiXTt2YXIgeT1yW2xdLFQ9ZVtsXSxqPXQ/dChvP1Q6eSxvP3k6VCxsKTp2b2lkIDA7aWYoISh2b2lkIDA9PT1qP2EoeSxULHQsbyxuLHUpOmopKXJldHVybiExO2Z8fChmPVwiY29uc3RydWN0b3JcIj09bCl9aWYoIWYpe3ZhciBwPXIuY29uc3RydWN0b3Isdj1lLmNvbnN0cnVjdG9yO2lmKHAhPXYmJlwiY29uc3RydWN0b3JcImluIHImJlwiY29uc3RydWN0b3JcImluIGUmJiEoXCJmdW5jdGlvblwiPT10eXBlb2YgcCYmcCBpbnN0YW5jZW9mIHAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHYmJnYgaW5zdGFuY2VvZiB2KSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBpc09iamVjdChyKXt2YXIgZT10eXBlb2YgcjtyZXR1cm4hIXImJihcIm9iamVjdFwiPT1lfHxcImZ1bmN0aW9uXCI9PWUpfXZhciBpc0FycmF5PXJlcXVpcmUoXCJsb2Rhc2guaXNhcnJheVwiKSxpc1R5cGVkQXJyYXk9cmVxdWlyZShcImxvZGFzaC5pc3R5cGVkYXJyYXlcIiksa2V5cz1yZXF1aXJlKFwibG9kYXNoLmtleXNcIiksYXJnc1RhZz1cIltvYmplY3QgQXJndW1lbnRzXVwiLGFycmF5VGFnPVwiW29iamVjdCBBcnJheV1cIixib29sVGFnPVwiW29iamVjdCBCb29sZWFuXVwiLGRhdGVUYWc9XCJbb2JqZWN0IERhdGVdXCIsZXJyb3JUYWc9XCJbb2JqZWN0IEVycm9yXVwiLG51bWJlclRhZz1cIltvYmplY3QgTnVtYmVyXVwiLG9iamVjdFRhZz1cIltvYmplY3QgT2JqZWN0XVwiLHJlZ2V4cFRhZz1cIltvYmplY3QgUmVnRXhwXVwiLHN0cmluZ1RhZz1cIltvYmplY3QgU3RyaW5nXVwiLG9iamVjdFByb3RvPU9iamVjdC5wcm90b3R5cGUsaGFzT3duUHJvcGVydHk9b2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHksb2JqVG9TdHJpbmc9b2JqZWN0UHJvdG8udG9TdHJpbmc7bW9kdWxlLmV4cG9ydHM9YmFzZUlzRXF1YWw7XG59LHtcImxvZGFzaC5pc2FycmF5XCI6MTEzLFwibG9kYXNoLmlzdHlwZWRhcnJheVwiOjExNSxcImxvZGFzaC5rZXlzXCI6MTE2fV0sMTEwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGJpbmRDYWxsYmFjayhuLHQscil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgbilyZXR1cm4gaWRlbnRpdHk7aWYodm9pZCAwPT09dClyZXR1cm4gbjtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gbi5jYWxsKHQscil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixlLHUpe3JldHVybiBuLmNhbGwodCxyLGUsdSl9O2Nhc2UgNDpyZXR1cm4gZnVuY3Rpb24ocixlLHUsYyl7cmV0dXJuIG4uY2FsbCh0LHIsZSx1LGMpfTtjYXNlIDU6cmV0dXJuIGZ1bmN0aW9uKHIsZSx1LGMsaSl7cmV0dXJuIG4uY2FsbCh0LHIsZSx1LGMsaSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KHQsYXJndW1lbnRzKX19ZnVuY3Rpb24gaWRlbnRpdHkobil7cmV0dXJuIG59bW9kdWxlLmV4cG9ydHM9YmluZENhbGxiYWNrO1xufSx7fV0sMTExOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh0KXtyZXR1cm4hIXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0fWZ1bmN0aW9uIGdldE5hdGl2ZSh0LG8pe3ZhciBlPW51bGw9PXQ/dm9pZCAwOnRbb107cmV0dXJuIGlzTmF0aXZlKGUpP2U6dm9pZCAwfWZ1bmN0aW9uIGlzRnVuY3Rpb24odCl7cmV0dXJuIGlzT2JqZWN0KHQpJiZvYmpUb1N0cmluZy5jYWxsKHQpPT1mdW5jVGFnfWZ1bmN0aW9uIGlzT2JqZWN0KHQpe3ZhciBvPXR5cGVvZiB0O3JldHVybiEhdCYmKFwib2JqZWN0XCI9PW98fFwiZnVuY3Rpb25cIj09byl9ZnVuY3Rpb24gaXNOYXRpdmUodCl7cmV0dXJuIG51bGwhPXQmJihpc0Z1bmN0aW9uKHQpP3JlSXNOYXRpdmUudGVzdChmblRvU3RyaW5nLmNhbGwodCkpOmlzT2JqZWN0TGlrZSh0KSYmcmVJc0hvc3RDdG9yLnRlc3QodCkpfXZhciBmdW5jVGFnPVwiW29iamVjdCBGdW5jdGlvbl1cIixyZUlzSG9zdEN0b3I9L15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLyxvYmplY3RQcm90bz1PYmplY3QucHJvdG90eXBlLGZuVG9TdHJpbmc9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLGhhc093blByb3BlcnR5PW9iamVjdFByb3RvLmhhc093blByb3BlcnR5LG9ialRvU3RyaW5nPW9iamVjdFByb3RvLnRvU3RyaW5nLHJlSXNOYXRpdmU9UmVnRXhwKFwiXlwiK2ZuVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXCJcXFxcJCZcIikucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZyxcIiQxLio/XCIpK1wiJFwiKTttb2R1bGUuZXhwb3J0cz1nZXROYXRpdmU7XG59LHt9XSwxMTI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gaXNBcmd1bWVudHModCl7cmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHQpJiZoYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJjYWxsZWVcIikmJighcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LFwiY2FsbGVlXCIpfHxvYmplY3RUb1N0cmluZy5jYWxsKHQpPT1hcmdzVGFnKX1mdW5jdGlvbiBpc0FycmF5TGlrZSh0KXtyZXR1cm4gbnVsbCE9dCYmaXNMZW5ndGgodC5sZW5ndGgpJiYhaXNGdW5jdGlvbih0KX1mdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh0KXtyZXR1cm4gaXNPYmplY3RMaWtlKHQpJiZpc0FycmF5TGlrZSh0KX1mdW5jdGlvbiBpc0Z1bmN0aW9uKHQpe3ZhciBlPWlzT2JqZWN0KHQpP29iamVjdFRvU3RyaW5nLmNhbGwodCk6XCJcIjtyZXR1cm4gZT09ZnVuY1RhZ3x8ZT09Z2VuVGFnfWZ1bmN0aW9uIGlzTGVuZ3RoKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pi0xJiZ0JTE9PTAmJnQ8PU1BWF9TQUZFX0lOVEVHRVJ9ZnVuY3Rpb24gaXNPYmplY3QodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuISF0JiYoXCJvYmplY3RcIj09ZXx8XCJmdW5jdGlvblwiPT1lKX1mdW5jdGlvbiBpc09iamVjdExpa2UodCl7cmV0dXJuISF0JiZcIm9iamVjdFwiPT10eXBlb2YgdH12YXIgTUFYX1NBRkVfSU5URUdFUj05MDA3MTk5MjU0NzQwOTkxLGFyZ3NUYWc9XCJbb2JqZWN0IEFyZ3VtZW50c11cIixmdW5jVGFnPVwiW29iamVjdCBGdW5jdGlvbl1cIixnZW5UYWc9XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiLG9iamVjdFByb3RvPU9iamVjdC5wcm90b3R5cGUsaGFzT3duUHJvcGVydHk9b2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHksb2JqZWN0VG9TdHJpbmc9b2JqZWN0UHJvdG8udG9TdHJpbmcscHJvcGVydHlJc0VudW1lcmFibGU9b2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGU7bW9kdWxlLmV4cG9ydHM9aXNBcmd1bWVudHM7XG59LHt9XSwxMTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHQpe3JldHVybiEhdCYmXCJvYmplY3RcIj09dHlwZW9mIHR9ZnVuY3Rpb24gZ2V0TmF0aXZlKHQscil7dmFyIGU9bnVsbD09dD92b2lkIDA6dFtyXTtyZXR1cm4gaXNOYXRpdmUoZSk/ZTp2b2lkIDB9ZnVuY3Rpb24gaXNMZW5ndGgodCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJnQ+LTEmJnQlMT09MCYmdDw9TUFYX1NBRkVfSU5URUdFUn1mdW5jdGlvbiBpc0Z1bmN0aW9uKHQpe3JldHVybiBpc09iamVjdCh0KSYmb2JqVG9TdHJpbmcuY2FsbCh0KT09ZnVuY1RhZ31mdW5jdGlvbiBpc09iamVjdCh0KXt2YXIgcj10eXBlb2YgdDtyZXR1cm4hIXQmJihcIm9iamVjdFwiPT1yfHxcImZ1bmN0aW9uXCI9PXIpfWZ1bmN0aW9uIGlzTmF0aXZlKHQpe3JldHVybiBudWxsIT10JiYoaXNGdW5jdGlvbih0KT9yZUlzTmF0aXZlLnRlc3QoZm5Ub1N0cmluZy5jYWxsKHQpKTppc09iamVjdExpa2UodCkmJnJlSXNIb3N0Q3Rvci50ZXN0KHQpKX12YXIgYXJyYXlUYWc9XCJbb2JqZWN0IEFycmF5XVwiLGZ1bmNUYWc9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLHJlSXNIb3N0Q3Rvcj0vXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvLG9iamVjdFByb3RvPU9iamVjdC5wcm90b3R5cGUsZm5Ub1N0cmluZz1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcsaGFzT3duUHJvcGVydHk9b2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHksb2JqVG9TdHJpbmc9b2JqZWN0UHJvdG8udG9TdHJpbmcscmVJc05hdGl2ZT1SZWdFeHAoXCJeXCIrZm5Ub1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcIlxcXFwkJlwiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLFwiJDEuKj9cIikrXCIkXCIpLG5hdGl2ZUlzQXJyYXk9Z2V0TmF0aXZlKEFycmF5LFwiaXNBcnJheVwiKSxNQVhfU0FGRV9JTlRFR0VSPTkwMDcxOTkyNTQ3NDA5OTEsaXNBcnJheT1uYXRpdmVJc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4gaXNPYmplY3RMaWtlKHQpJiZpc0xlbmd0aCh0Lmxlbmd0aCkmJm9ialRvU3RyaW5nLmNhbGwodCk9PWFycmF5VGFnfTttb2R1bGUuZXhwb3J0cz1pc0FycmF5O1xufSx7fV0sMTE0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGlzRXF1YWwoYSxsLGksZSl7aT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpP2JpbmRDYWxsYmFjayhpLGUsMyk6dm9pZCAwO3ZhciBzPWk/aShhLGwpOnZvaWQgMDtyZXR1cm4gdm9pZCAwPT09cz9iYXNlSXNFcXVhbChhLGwsaSk6ISFzfXZhciBiYXNlSXNFcXVhbD1yZXF1aXJlKFwibG9kYXNoLl9iYXNlaXNlcXVhbFwiKSxiaW5kQ2FsbGJhY2s9cmVxdWlyZShcImxvZGFzaC5fYmluZGNhbGxiYWNrXCIpO21vZHVsZS5leHBvcnRzPWlzRXF1YWw7XG59LHtcImxvZGFzaC5fYmFzZWlzZXF1YWxcIjoxMDksXCJsb2Rhc2guX2JpbmRjYWxsYmFja1wiOjExMH1dLDExNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBpc0xlbmd0aChhKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYSYmYT4tMSYmYSUxPT0wJiZhPD1NQVhfU0FGRV9JTlRFR0VSfWZ1bmN0aW9uIGlzT2JqZWN0TGlrZShhKXtyZXR1cm4hIWEmJlwib2JqZWN0XCI9PXR5cGVvZiBhfWZ1bmN0aW9uIGlzVHlwZWRBcnJheShhKXtyZXR1cm4gaXNPYmplY3RMaWtlKGEpJiZpc0xlbmd0aChhLmxlbmd0aCkmJiEhdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VG9TdHJpbmcuY2FsbChhKV19dmFyIE1BWF9TQUZFX0lOVEVHRVI9OTAwNzE5OTI1NDc0MDk5MSxhcmdzVGFnPVwiW29iamVjdCBBcmd1bWVudHNdXCIsYXJyYXlUYWc9XCJbb2JqZWN0IEFycmF5XVwiLGJvb2xUYWc9XCJbb2JqZWN0IEJvb2xlYW5dXCIsZGF0ZVRhZz1cIltvYmplY3QgRGF0ZV1cIixlcnJvclRhZz1cIltvYmplY3QgRXJyb3JdXCIsZnVuY1RhZz1cIltvYmplY3QgRnVuY3Rpb25dXCIsbWFwVGFnPVwiW29iamVjdCBNYXBdXCIsbnVtYmVyVGFnPVwiW29iamVjdCBOdW1iZXJdXCIsb2JqZWN0VGFnPVwiW29iamVjdCBPYmplY3RdXCIscmVnZXhwVGFnPVwiW29iamVjdCBSZWdFeHBdXCIsc2V0VGFnPVwiW29iamVjdCBTZXRdXCIsc3RyaW5nVGFnPVwiW29iamVjdCBTdHJpbmddXCIsd2Vha01hcFRhZz1cIltvYmplY3QgV2Vha01hcF1cIixhcnJheUJ1ZmZlclRhZz1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsZGF0YVZpZXdUYWc9XCJbb2JqZWN0IERhdGFWaWV3XVwiLGZsb2F0MzJUYWc9XCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIixmbG9hdDY0VGFnPVwiW29iamVjdCBGbG9hdDY0QXJyYXldXCIsaW50OFRhZz1cIltvYmplY3QgSW50OEFycmF5XVwiLGludDE2VGFnPVwiW29iamVjdCBJbnQxNkFycmF5XVwiLGludDMyVGFnPVwiW29iamVjdCBJbnQzMkFycmF5XVwiLHVpbnQ4VGFnPVwiW29iamVjdCBVaW50OEFycmF5XVwiLHVpbnQ4Q2xhbXBlZFRhZz1cIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIsdWludDE2VGFnPVwiW29iamVjdCBVaW50MTZBcnJheV1cIix1aW50MzJUYWc9XCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiLHR5cGVkQXJyYXlUYWdzPXt9O3R5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddPXR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddPXR5cGVkQXJyYXlUYWdzW2ludDhUYWddPXR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXT10eXBlZEFycmF5VGFnc1tpbnQzMlRhZ109dHlwZWRBcnJheVRhZ3NbdWludDhUYWddPXR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ109dHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXT10eXBlZEFycmF5VGFnc1t1aW50MzJUYWddPSEwLHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddPXR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXT10eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ109dHlwZWRBcnJheVRhZ3NbYm9vbFRhZ109dHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddPXR5cGVkQXJyYXlUYWdzW2RhdGVUYWddPXR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXT10eXBlZEFycmF5VGFnc1tmdW5jVGFnXT10eXBlZEFycmF5VGFnc1ttYXBUYWddPXR5cGVkQXJyYXlUYWdzW251bWJlclRhZ109dHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXT10eXBlZEFycmF5VGFnc1tyZWdleHBUYWddPXR5cGVkQXJyYXlUYWdzW3NldFRhZ109dHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXT10eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXT0hMTt2YXIgb2JqZWN0UHJvdG89T2JqZWN0LnByb3RvdHlwZSxvYmplY3RUb1N0cmluZz1vYmplY3RQcm90by50b1N0cmluZzttb2R1bGUuZXhwb3J0cz1pc1R5cGVkQXJyYXk7XG59LHt9XSwxMTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5KGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFtlXX19ZnVuY3Rpb24gaXNBcnJheUxpa2UoZSl7cmV0dXJuIG51bGwhPWUmJmlzTGVuZ3RoKGdldExlbmd0aChlKSl9ZnVuY3Rpb24gaXNJbmRleChlLHQpe3JldHVybiBlPVwibnVtYmVyXCI9PXR5cGVvZiBlfHxyZUlzVWludC50ZXN0KGUpPytlOi0xLHQ9bnVsbD09dD9NQVhfU0FGRV9JTlRFR0VSOnQsZT4tMSYmZSUxPT0wJiZlPHR9ZnVuY3Rpb24gaXNMZW5ndGgoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmU+LTEmJmUlMT09MCYmZTw9TUFYX1NBRkVfSU5URUdFUn1mdW5jdGlvbiBzaGltS2V5cyhlKXtmb3IodmFyIHQ9a2V5c0luKGUpLHI9dC5sZW5ndGgsbj1yJiZlLmxlbmd0aCxzPSEhbiYmaXNMZW5ndGgobikmJihpc0FycmF5KGUpfHxpc0FyZ3VtZW50cyhlKSksbz0tMSxpPVtdOysrbzxyOyl7dmFyIHU9dFtvXTsocyYmaXNJbmRleCh1LG4pfHxoYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdSkpJiZpLnB1c2godSl9cmV0dXJuIGl9ZnVuY3Rpb24gaXNPYmplY3QoZSl7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuISFlJiYoXCJvYmplY3RcIj09dHx8XCJmdW5jdGlvblwiPT10KX1mdW5jdGlvbiBrZXlzSW4oZSl7aWYobnVsbD09ZSlyZXR1cm5bXTtpc09iamVjdChlKXx8KGU9T2JqZWN0KGUpKTt2YXIgdD1lLmxlbmd0aDt0PXQmJmlzTGVuZ3RoKHQpJiYoaXNBcnJheShlKXx8aXNBcmd1bWVudHMoZSkpJiZ0fHwwO2Zvcih2YXIgcj1lLmNvbnN0cnVjdG9yLG49LTEscz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZyLnByb3RvdHlwZT09PWUsbz1BcnJheSh0KSxpPXQ+MDsrK248dDspb1tuXT1uK1wiXCI7Zm9yKHZhciB1IGluIGUpaSYmaXNJbmRleCh1LHQpfHxcImNvbnN0cnVjdG9yXCI9PXUmJihzfHwhaGFzT3duUHJvcGVydHkuY2FsbChlLHUpKXx8by5wdXNoKHUpO3JldHVybiBvfXZhciBnZXROYXRpdmU9cmVxdWlyZShcImxvZGFzaC5fZ2V0bmF0aXZlXCIpLGlzQXJndW1lbnRzPXJlcXVpcmUoXCJsb2Rhc2guaXNhcmd1bWVudHNcIiksaXNBcnJheT1yZXF1aXJlKFwibG9kYXNoLmlzYXJyYXlcIikscmVJc1VpbnQ9L15cXGQrJC8sb2JqZWN0UHJvdG89T2JqZWN0LnByb3RvdHlwZSxoYXNPd25Qcm9wZXJ0eT1vYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eSxuYXRpdmVLZXlzPWdldE5hdGl2ZShPYmplY3QsXCJrZXlzXCIpLE1BWF9TQUZFX0lOVEVHRVI9OTAwNzE5OTI1NDc0MDk5MSxnZXRMZW5ndGg9YmFzZVByb3BlcnR5KFwibGVuZ3RoXCIpLGtleXM9bmF0aXZlS2V5cz9mdW5jdGlvbihlKXt2YXIgdD1udWxsPT1lP3ZvaWQgMDplLmNvbnN0cnVjdG9yO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQucHJvdG90eXBlPT09ZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgZSYmaXNBcnJheUxpa2UoZSk/c2hpbUtleXMoZSk6aXNPYmplY3QoZSk/bmF0aXZlS2V5cyhlKTpbXX06c2hpbUtleXM7bW9kdWxlLmV4cG9ydHM9a2V5cztcbn0se1wibG9kYXNoLl9nZXRuYXRpdmVcIjoxMTEsXCJsb2Rhc2guaXNhcmd1bWVudHNcIjoxMTIsXCJsb2Rhc2guaXNhcnJheVwiOjExM31dLDExNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1yZXF1aXJlKFwiLi92OC5qc29uXCIpO1xufSx7XCIuL3Y4Lmpzb25cIjoxMTh9XSwxMTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHM9e1wiJHZlcnNpb25cIjo4LFwiJHJvb3RcIjp7XCJ2ZXJzaW9uXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6WzhdfSxcIm5hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJtZXRhZGF0YVwiOntcInR5cGVcIjpcIipcIn0sXCJjZW50ZXJcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwifSxcInpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIn0sXCJiZWFyaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInBlcmlvZFwiOjM2MCxcInVuaXRzXCI6XCJkZWdyZWVzXCJ9LFwicGl0Y2hcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwidW5pdHNcIjpcImRlZ3JlZXNcIn0sXCJsaWdodFwiOntcInR5cGVcIjpcImxpZ2h0XCJ9LFwic291cmNlc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcInNvdXJjZXNcIn0sXCJzcHJpdGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJnbHlwaHNcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJ0cmFuc2l0aW9uXCI6e1widHlwZVwiOlwidHJhbnNpdGlvblwifSxcImxheWVyc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibGF5ZXJcIn19LFwic291cmNlc1wiOntcIipcIjp7XCJ0eXBlXCI6XCJzb3VyY2VcIn19LFwic291cmNlXCI6W1wic291cmNlX3RpbGVcIixcInNvdXJjZV9nZW9qc29uXCIsXCJzb3VyY2VfdmlkZW9cIixcInNvdXJjZV9pbWFnZVwiLFwic291cmNlX2NhbnZhc1wiXSxcInNvdXJjZV90aWxlXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZlY3RvclwiOnt9LFwicmFzdGVyXCI6e319fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJtaW56b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MH0sXCJtYXh6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MjJ9LFwidGlsZVNpemVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1MTIsXCJ1bml0c1wiOlwicGl4ZWxzXCJ9LFwiKlwiOntcInR5cGVcIjpcIipcIn19LFwic291cmNlX2dlb2pzb25cIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiZ2VvanNvblwiOnt9fX0sXCJkYXRhXCI6e1widHlwZVwiOlwiKlwifSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxOH0sXCJidWZmZXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxMjgsXCJtYXhpbXVtXCI6NTEyLFwibWluaW11bVwiOjB9LFwidG9sZXJhbmNlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MC4zNzV9LFwiY2x1c3RlclwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZX0sXCJjbHVzdGVyUmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NTAsXCJtaW5pbXVtXCI6MH0sXCJjbHVzdGVyTWF4Wm9vbVwiOntcInR5cGVcIjpcIm51bWJlclwifX0sXCJzb3VyY2VfdmlkZW9cIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlkZW9cIjp7fX19LFwidXJsc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwic3RyaW5nXCJ9LFwiY29vcmRpbmF0ZXNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6NCxcInZhbHVlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCJ9fX0sXCJzb3VyY2VfaW1hZ2VcIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiaW1hZ2VcIjp7fX19LFwidXJsXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwic3RyaW5nXCJ9LFwiY29vcmRpbmF0ZXNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6NCxcInZhbHVlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCJ9fX0sXCJzb3VyY2VfY2FudmFzXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImNhbnZhc1wiOnt9fX0sXCJjb29yZGluYXRlc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjo0LFwidmFsdWVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIn19LFwiYW5pbWF0ZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpcInRydWVcIn0sXCJjYW52YXNcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInJlcXVpcmVkXCI6dHJ1ZX19LFwibGF5ZXJcIjp7XCJpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwicmVxdWlyZWRcIjp0cnVlfSxcInR5cGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJmaWxsXCI6e30sXCJsaW5lXCI6e30sXCJzeW1ib2xcIjp7fSxcImNpcmNsZVwiOnt9LFwiZmlsbC1leHRydXNpb25cIjp7fSxcInJhc3RlclwiOnt9LFwiYmFja2dyb3VuZFwiOnt9fX0sXCJtZXRhZGF0YVwiOntcInR5cGVcIjpcIipcIn0sXCJyZWZcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJzb3VyY2VcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJzb3VyY2UtbGF5ZXJcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJtaW56b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoyNH0sXCJtYXh6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoyNH0sXCJmaWx0ZXJcIjp7XCJ0eXBlXCI6XCJmaWx0ZXJcIn0sXCJsYXlvdXRcIjp7XCJ0eXBlXCI6XCJsYXlvdXRcIn0sXCJwYWludFwiOntcInR5cGVcIjpcInBhaW50XCJ9LFwicGFpbnQuKlwiOntcInR5cGVcIjpcInBhaW50XCJ9fSxcImxheW91dFwiOltcImxheW91dF9maWxsXCIsXCJsYXlvdXRfbGluZVwiLFwibGF5b3V0X2NpcmNsZVwiLFwibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCIsXCJsYXlvdXRfc3ltYm9sXCIsXCJsYXlvdXRfcmFzdGVyXCIsXCJsYXlvdXRfYmFja2dyb3VuZFwiXSxcImxheW91dF9iYWNrZ3JvdW5kXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCJ9fSxcImxheW91dF9maWxsXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCJ9fSxcImxheW91dF9jaXJjbGVcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIn19LFwibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCJ9fSxcImxheW91dF9saW5lXCI6e1wibGluZS1jYXBcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJmdW5jdGlvblwiOlwicGllY2V3aXNlLWNvbnN0YW50XCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInZhbHVlc1wiOntcImJ1dHRcIjp7fSxcInJvdW5kXCI6e30sXCJzcXVhcmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJidXR0XCJ9LFwibGluZS1qb2luXCI6e1widHlwZVwiOlwiZW51bVwiLFwiZnVuY3Rpb25cIjpcInBpZWNld2lzZS1jb25zdGFudFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJ2YWx1ZXNcIjp7XCJiZXZlbFwiOnt9LFwicm91bmRcIjp7fSxcIm1pdGVyXCI6e319LFwiZGVmYXVsdFwiOlwibWl0ZXJcIn0sXCJsaW5lLW1pdGVyLWxpbWl0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MixcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbe1wibGluZS1qb2luXCI6XCJtaXRlclwifV19LFwibGluZS1yb3VuZC1saW1pdFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEuMDUsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcImxpbmUtam9pblwiOlwicm91bmRcIn1dfSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwifX0sXCJsYXlvdXRfc3ltYm9sXCI6e1wic3ltYm9sLXBsYWNlbWVudFwiOntcInR5cGVcIjpcImVudW1cIixcImZ1bmN0aW9uXCI6XCJwaWVjZXdpc2UtY29uc3RhbnRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwidmFsdWVzXCI6e1wicG9pbnRcIjp7fSxcImxpbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJwb2ludFwifSxcInN5bWJvbC1zcGFjaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MjUwLFwibWluaW11bVwiOjEsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W3tcInN5bWJvbC1wbGFjZW1lbnRcIjpcImxpbmVcIn1dfSxcInN5bWJvbC1hdm9pZC1lZGdlc1wiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImZ1bmN0aW9uXCI6XCJwaWVjZXdpc2UtY29uc3RhbnRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwiZGVmYXVsdFwiOmZhbHNlfSxcImljb24tYWxsb3ctb3ZlcmxhcFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImZ1bmN0aW9uXCI6XCJwaWVjZXdpc2UtY29uc3RhbnRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdfSxcImljb24taWdub3JlLXBsYWNlbWVudFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImZ1bmN0aW9uXCI6XCJwaWVjZXdpc2UtY29uc3RhbnRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdfSxcImljb24tb3B0aW9uYWxcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJmdW5jdGlvblwiOlwicGllY2V3aXNlLWNvbnN0YW50XCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiLFwidGV4dC1maWVsZFwiXX0sXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcImZ1bmN0aW9uXCI6XCJwaWVjZXdpc2UtY29uc3RhbnRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9LFwiYXV0b1wiOnt9fSxcImRlZmF1bHRcIjpcImF1dG9cIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXX0sXCJpY29uLXNpemVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXX0sXCJpY29uLXRleHQtZml0XCI6e1widHlwZVwiOlwiZW51bVwiLFwiZnVuY3Rpb25cIjpcInBpZWNld2lzZS1jb25zdGFudFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJ2YWx1ZXNcIjp7XCJub25lXCI6e30sXCJ3aWR0aFwiOnt9LFwiaGVpZ2h0XCI6e30sXCJib3RoXCI6e319LFwiZGVmYXVsdFwiOlwibm9uZVwiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIsXCJ0ZXh0LWZpZWxkXCJdfSxcImljb24tdGV4dC1maXQtcGFkZGluZ1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjo0LFwiZGVmYXVsdFwiOlswLDAsMCwwXSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIsXCJ0ZXh0LWZpZWxkXCIse1wiaWNvbi10ZXh0LWZpdFwiOltcImJvdGhcIixcIndpZHRoXCIsXCJoZWlnaHRcIl19XX0sXCJpY29uLWltYWdlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJmdW5jdGlvblwiOlwicGllY2V3aXNlLWNvbnN0YW50XCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInRva2Vuc1wiOnRydWV9LFwiaWNvbi1yb3RhdGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJwcm9wZXJ0eS1mdW5jdGlvblwiOnRydWUsXCJ1bml0c1wiOlwiZGVncmVlc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdfSxcImljb24tcGFkZGluZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIsXCJtaW5pbXVtXCI6MCxcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdfSxcImljb24ta2VlcC11cHJpZ2h0XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZnVuY3Rpb25cIjpcInBpZWNld2lzZS1jb25zdGFudFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJkZWZhdWx0XCI6ZmFsc2UsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIix7XCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOlwibWFwXCJ9LHtcInN5bWJvbC1wbGFjZW1lbnRcIjpcImxpbmVcIn1dfSxcImljb24tb2Zmc2V0XCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXX0sXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcImZ1bmN0aW9uXCI6XCJwaWVjZXdpc2UtY29uc3RhbnRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9LFwiYXV0b1wiOnt9fSxcImRlZmF1bHRcIjpcImF1dG9cIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXX0sXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcImZ1bmN0aW9uXCI6XCJwaWVjZXdpc2UtY29uc3RhbnRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9LFwiYXV0b1wiOnt9fSxcImRlZmF1bHRcIjpcImF1dG9cIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXX0sXCJ0ZXh0LWZpZWxkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJmdW5jdGlvblwiOlwicGllY2V3aXNlLWNvbnN0YW50XCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcImRlZmF1bHRcIjpcIlwiLFwidG9rZW5zXCI6dHJ1ZX0sXCJ0ZXh0LWZvbnRcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wiLFwiZnVuY3Rpb25cIjpcInBpZWNld2lzZS1jb25zdGFudFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJkZWZhdWx0XCI6W1wiT3BlbiBTYW5zIFJlZ3VsYXJcIixcIkFyaWFsIFVuaWNvZGUgTVMgUmVndWxhclwiXSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXX0sXCJ0ZXh0LXNpemVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxNixcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl19LFwidGV4dC1tYXgtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxMCxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcImVtc1wiLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl19LFwidGV4dC1saW5lLWhlaWdodFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEuMixcInVuaXRzXCI6XCJlbXNcIixcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdfSxcInRleHQtbGV0dGVyLXNwYWNpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwidW5pdHNcIjpcImVtc1wiLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl19LFwidGV4dC1qdXN0aWZ5XCI6e1widHlwZVwiOlwiZW51bVwiLFwiZnVuY3Rpb25cIjpcInBpZWNld2lzZS1jb25zdGFudFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJ2YWx1ZXNcIjp7XCJsZWZ0XCI6e30sXCJjZW50ZXJcIjp7fSxcInJpZ2h0XCI6e319LFwiZGVmYXVsdFwiOlwiY2VudGVyXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl19LFwidGV4dC1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJmdW5jdGlvblwiOlwicGllY2V3aXNlLWNvbnN0YW50XCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInZhbHVlc1wiOntcImNlbnRlclwiOnt9LFwibGVmdFwiOnt9LFwicmlnaHRcIjp7fSxcInRvcFwiOnt9LFwiYm90dG9tXCI6e30sXCJ0b3AtbGVmdFwiOnt9LFwidG9wLXJpZ2h0XCI6e30sXCJib3R0b20tbGVmdFwiOnt9LFwiYm90dG9tLXJpZ2h0XCI6e319LFwiZGVmYXVsdFwiOlwiY2VudGVyXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl19LFwidGV4dC1tYXgtYW5nbGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo0NSxcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLHtcInN5bWJvbC1wbGFjZW1lbnRcIjpcImxpbmVcIn1dfSxcInRleHQtcm90YXRlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInBlcmlvZFwiOjM2MCxcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXX0sXCJ0ZXh0LXBhZGRpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXX0sXCJ0ZXh0LWtlZXAtdXByaWdodFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImZ1bmN0aW9uXCI6XCJwaWVjZXdpc2UtY29uc3RhbnRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwiZGVmYXVsdFwiOnRydWUsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIix7XCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiOlwibWFwXCJ9LHtcInN5bWJvbC1wbGFjZW1lbnRcIjpcImxpbmVcIn1dfSxcInRleHQtdHJhbnNmb3JtXCI6e1widHlwZVwiOlwiZW51bVwiLFwiZnVuY3Rpb25cIjpcInBpZWNld2lzZS1jb25zdGFudFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJwcm9wZXJ0eS1mdW5jdGlvblwiOnRydWUsXCJ2YWx1ZXNcIjp7XCJub25lXCI6e30sXCJ1cHBlcmNhc2VcIjp7fSxcImxvd2VyY2FzZVwiOnt9fSxcImRlZmF1bHRcIjpcIm5vbmVcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXX0sXCJ0ZXh0LW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJ1bml0c1wiOlwiZW1zXCIsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl19LFwidGV4dC1hbGxvdy1vdmVybGFwXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZnVuY3Rpb25cIjpcInBpZWNld2lzZS1jb25zdGFudFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJkZWZhdWx0XCI6ZmFsc2UsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl19LFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZnVuY3Rpb25cIjpcInBpZWNld2lzZS1jb25zdGFudFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJkZWZhdWx0XCI6ZmFsc2UsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl19LFwidGV4dC1vcHRpb25hbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImZ1bmN0aW9uXCI6XCJwaWVjZXdpc2UtY29uc3RhbnRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIsXCJpY29uLWltYWdlXCJdfSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwifX0sXCJsYXlvdXRfcmFzdGVyXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCJ9fSxcImZpbHRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiKlwifSxcImZpbHRlcl9vcGVyYXRvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIj09XCI6e30sXCIhPVwiOnt9LFwiPlwiOnt9LFwiPj1cIjp7fSxcIjxcIjp7fSxcIjw9XCI6e30sXCJpblwiOnt9LFwiIWluXCI6e30sXCJhbGxcIjp7fSxcImFueVwiOnt9LFwibm9uZVwiOnt9LFwiaGFzXCI6e30sXCIhaGFzXCI6e319fSxcImdlb21ldHJ5X3R5cGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJQb2ludFwiOnt9LFwiTGluZVN0cmluZ1wiOnt9LFwiUG9seWdvblwiOnt9fX0sXCJmdW5jdGlvblwiOntcInN0b3BzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJmdW5jdGlvbl9zdG9wXCJ9LFwiYmFzZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MH0sXCJwcm9wZXJ0eVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiZGVmYXVsdFwiOlwiJHpvb21cIn0sXCJ0eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiaWRlbnRpdHlcIjp7fSxcImV4cG9uZW50aWFsXCI6e30sXCJpbnRlcnZhbFwiOnt9LFwiY2F0ZWdvcmljYWxcIjp7fX0sXCJkZWZhdWx0XCI6XCJleHBvbmVudGlhbFwifSxcImNvbG9yU3BhY2VcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJyZ2JcIjp7fSxcImxhYlwiOnt9LFwiaGNsXCI6e319LFwiZGVmYXVsdFwiOlwicmdiXCJ9LFwiZGVmYXVsdFwiOntcInR5cGVcIjpcIipcIixcInJlcXVpcmVkXCI6ZmFsc2V9fSxcImZ1bmN0aW9uX3N0b3BcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MjIsXCJ2YWx1ZVwiOltcIm51bWJlclwiLFwiY29sb3JcIl0sXCJsZW5ndGhcIjoyfSxcImxpZ2h0XCI6e1wiYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwiZGVmYXVsdFwiOlwidmlld3BvcnRcIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2V9LFwicG9zaXRpb25cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlsxLjE1LDIxMCwzMF0sXCJsZW5ndGhcIjozLFwidmFsdWVcIjpcIm51bWJlclwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6ZmFsc2V9LFwiY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiI2ZmZmZmZlwiLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJwcm9wZXJ0eS1mdW5jdGlvblwiOmZhbHNlLFwidHJhbnNpdGlvblwiOnRydWV9LFwiaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MC41LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicHJvcGVydHktZnVuY3Rpb25cIjpmYWxzZSxcInRyYW5zaXRpb25cIjp0cnVlfX0sXCJwYWludFwiOltcInBhaW50X2ZpbGxcIixcInBhaW50X2xpbmVcIixcInBhaW50X2NpcmNsZVwiLFwicGFpbnRfZmlsbC1leHRydXNpb25cIixcInBhaW50X3N5bWJvbFwiLFwicGFpbnRfcmFzdGVyXCIsXCJwYWludF9iYWNrZ3JvdW5kXCJdLFwicGFpbnRfZmlsbFwiOntcImZpbGwtYW50aWFsaWFzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZnVuY3Rpb25cIjpcInBpZWNld2lzZS1jb25zdGFudFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJkZWZhdWx0XCI6dHJ1ZX0sXCJmaWxsLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicHJvcGVydHktZnVuY3Rpb25cIjp0cnVlLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWV9LFwiZmlsbC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwiZmlsbC1wYXR0ZXJuXCJ9XX0sXCJmaWxsLW91dGxpbmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJwcm9wZXJ0eS1mdW5jdGlvblwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImZpbGwtcGF0dGVyblwifSx7XCJmaWxsLWFudGlhbGlhc1wiOnRydWV9XX0sXCJmaWxsLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIn0sXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJmdW5jdGlvblwiOlwicGllY2V3aXNlLWNvbnN0YW50XCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcInJlcXVpcmVzXCI6W1wiZmlsbC10cmFuc2xhdGVcIl19LFwiZmlsbC1wYXR0ZXJuXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJmdW5jdGlvblwiOlwicGllY2V3aXNlLWNvbnN0YW50XCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlfX0sXCJwYWludF9maWxsLWV4dHJ1c2lvblwiOntcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicHJvcGVydHktZnVuY3Rpb25cIjpmYWxzZSxcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImZpbGwtZXh0cnVzaW9uLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicHJvcGVydHktZnVuY3Rpb25cIjp0cnVlLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCJ9XX0sXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCJ9LFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcImZ1bmN0aW9uXCI6XCJwaWVjZXdpc2UtY29uc3RhbnRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIl19LFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiZnVuY3Rpb25cIjpcInBpZWNld2lzZS1jb25zdGFudFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicHJvcGVydHktZnVuY3Rpb25cIjp0cnVlLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJtZXRlcnNcIixcInRyYW5zaXRpb25cIjp0cnVlfSxcImZpbGwtZXh0cnVzaW9uLWJhc2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicHJvcGVydHktZnVuY3Rpb25cIjp0cnVlLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJtZXRlcnNcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIl19fSxcInBhaW50X2xpbmVcIjp7XCJsaW5lLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicHJvcGVydHktZnVuY3Rpb25cIjp0cnVlLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWV9LFwibGluZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwibGluZS1wYXR0ZXJuXCJ9XX0sXCJsaW5lLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIn0sXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJmdW5jdGlvblwiOlwicGllY2V3aXNlLWNvbnN0YW50XCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcInJlcXVpcmVzXCI6W1wibGluZS10cmFuc2xhdGVcIl19LFwibGluZS13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCJ9LFwibGluZS1nYXAtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wifSxcImxpbmUtb2Zmc2V0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicHJvcGVydHktZnVuY3Rpb25cIjp0cnVlLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCJ9LFwibGluZS1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJwcm9wZXJ0eS1mdW5jdGlvblwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIn0sXCJsaW5lLWRhc2hhcnJheVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJmdW5jdGlvblwiOlwicGllY2V3aXNlLWNvbnN0YW50XCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwibGluZSB3aWR0aHNcIixcInJlcXVpcmVzXCI6W3tcIiFcIjpcImxpbmUtcGF0dGVyblwifV19LFwibGluZS1wYXR0ZXJuXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJmdW5jdGlvblwiOlwicGllY2V3aXNlLWNvbnN0YW50XCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlfX0sXCJwYWludF9jaXJjbGVcIjp7XCJjaXJjbGUtcmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NSxcIm1pbmltdW1cIjowLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJwcm9wZXJ0eS1mdW5jdGlvblwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIn0sXCJjaXJjbGUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJwcm9wZXJ0eS1mdW5jdGlvblwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJjaXJjbGUtYmx1clwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImNpcmNsZS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImNpcmNsZS10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCJ9LFwiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJmdW5jdGlvblwiOlwicGllY2V3aXNlLWNvbnN0YW50XCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcInJlcXVpcmVzXCI6W1wiY2lyY2xlLXRyYW5zbGF0ZVwiXX0sXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJmdW5jdGlvblwiOlwicGllY2V3aXNlLWNvbnN0YW50XCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBcIn0sXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJwcm9wZXJ0eS1mdW5jdGlvblwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIn0sXCJjaXJjbGUtc3Ryb2tlLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicHJvcGVydHktZnVuY3Rpb25cIjp0cnVlLFwidHJhbnNpdGlvblwiOnRydWV9LFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlfX0sXCJwYWludF9zeW1ib2xcIjp7XCJpY29uLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicHJvcGVydHktZnVuY3Rpb25cIjp0cnVlLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl19LFwiaWNvbi1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdfSxcImljb24taGFsby1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCJyZ2JhKDAsIDAsIDAsIDApXCIsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdfSxcImljb24taGFsby13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicHJvcGVydHktZnVuY3Rpb25cIjp0cnVlLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl19LFwiaWNvbi1oYWxvLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdfSxcImljb24tdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdfSxcImljb24tdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcImZ1bmN0aW9uXCI6XCJwaWVjZXdpc2UtY29uc3RhbnRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIsXCJpY29uLXRyYW5zbGF0ZVwiXX0sXCJ0ZXh0LW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicHJvcGVydHktZnVuY3Rpb25cIjp0cnVlLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl19LFwidGV4dC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdfSxcInRleHQtaGFsby1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCJyZ2JhKDAsIDAsIDAsIDApXCIsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdfSxcInRleHQtaGFsby13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwicHJvcGVydHktZnVuY3Rpb25cIjp0cnVlLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl19LFwidGV4dC1oYWxvLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInByb3BlcnR5LWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdfSxcInRleHQtdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdfSxcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcImZ1bmN0aW9uXCI6XCJwaWVjZXdpc2UtY29uc3RhbnRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIsXCJ0ZXh0LXRyYW5zbGF0ZVwiXX19LFwicGFpbnRfcmFzdGVyXCI6e1wicmFzdGVyLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwidHJhbnNpdGlvblwiOnRydWV9LFwicmFzdGVyLWh1ZS1yb3RhdGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJkZWdyZWVzXCJ9LFwicmFzdGVyLWJyaWdodG5lc3MtbWluXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJmdW5jdGlvblwiOlwiaW50ZXJwb2xhdGVkXCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlfSxcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJyYXN0ZXItc2F0dXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6LTEsXCJtYXhpbXVtXCI6MSxcImZ1bmN0aW9uXCI6XCJpbnRlcnBvbGF0ZWRcIixcInpvb20tZnVuY3Rpb25cIjp0cnVlLFwidHJhbnNpdGlvblwiOnRydWV9LFwicmFzdGVyLWNvbnRyYXN0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjotMSxcIm1heGltdW1cIjoxLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjMwMCxcIm1pbmltdW1cIjowLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJtaWxsaXNlY29uZHNcIn19LFwicGFpbnRfYmFja2dyb3VuZFwiOntcImJhY2tncm91bmQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImJhY2tncm91bmQtcGF0dGVyblwifV19LFwiYmFja2dyb3VuZC1wYXR0ZXJuXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJmdW5jdGlvblwiOlwicGllY2V3aXNlLWNvbnN0YW50XCIsXCJ6b29tLWZ1bmN0aW9uXCI6dHJ1ZSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImJhY2tncm91bmQtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwiZnVuY3Rpb25cIjpcImludGVycG9sYXRlZFwiLFwiem9vbS1mdW5jdGlvblwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6dHJ1ZX19LFwidHJhbnNpdGlvblwiOntcImR1cmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzAwLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwibWlsbGlzZWNvbmRzXCJ9LFwiZGVsYXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwibWlsbGlzZWNvbmRzXCJ9fX1cbn0se31dLDExOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihyKXtmb3IodmFyIHQ9YXJndW1lbnRzLGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdO2Zvcih2YXIgbyBpbiBuKXJbb109bltvXX1yZXR1cm4gcn07XG59LHt9XSwxMjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiBOdW1iZXI/XCJudW1iZXJcIjpuIGluc3RhbmNlb2YgU3RyaW5nP1wic3RyaW5nXCI6biBpbnN0YW5jZW9mIEJvb2xlYW4/XCJib29sZWFuXCI6QXJyYXkuaXNBcnJheShuKT9cImFycmF5XCI6bnVsbD09PW4/XCJudWxsXCI6dHlwZW9mIG59O1xufSx7fV0sMTIxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBwYXJzZUNvbG9yU3RyaW5nPXJlcXVpcmUoXCJjc3Njb2xvcnBhcnNlclwiKS5wYXJzZUNTU0NvbG9yO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHIpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiByKXt2YXIgZT1wYXJzZUNvbG9yU3RyaW5nKHIpO2lmKCFlKXJldHVybjtyZXR1cm5bZVswXS8yNTUqZVszXSxlWzFdLzI1NSplWzNdLGVbMl0vMjU1KmVbM10sZVszXV19cmV0dXJuIEFycmF5LmlzQXJyYXkocik/cjp2b2lkIDB9O1xufSx7XCJjc3Njb2xvcnBhcnNlclwiOjEwN31dLDEyMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1bXCJ0eXBlXCIsXCJzb3VyY2VcIixcInNvdXJjZS1sYXllclwiLFwibWluem9vbVwiLFwibWF4em9vbVwiLFwiZmlsdGVyXCIsXCJsYXlvdXRcIl07XG59LHt9XSwxMjM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiBOdW1iZXJ8fG4gaW5zdGFuY2VvZiBTdHJpbmd8fG4gaW5zdGFuY2VvZiBCb29sZWFuP24udmFsdWVPZigpOm59O1xufSx7fV0sMTI0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBWYWxpZGF0aW9uRXJyb3I9cmVxdWlyZShcIi4uL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3JcIiksZ2V0VHlwZT1yZXF1aXJlKFwiLi4vdXRpbC9nZXRfdHlwZVwiKSxleHRlbmQ9cmVxdWlyZShcIi4uL3V0aWwvZXh0ZW5kXCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciByPXJlcXVpcmUoXCIuL3ZhbGlkYXRlX2Z1bmN0aW9uXCIpLHQ9cmVxdWlyZShcIi4vdmFsaWRhdGVfb2JqZWN0XCIpLGk9e1wiKlwiOmZ1bmN0aW9uKCl7cmV0dXJuW119LGFycmF5OnJlcXVpcmUoXCIuL3ZhbGlkYXRlX2FycmF5XCIpLGJvb2xlYW46cmVxdWlyZShcIi4vdmFsaWRhdGVfYm9vbGVhblwiKSxudW1iZXI6cmVxdWlyZShcIi4vdmFsaWRhdGVfbnVtYmVyXCIpLGNvbG9yOnJlcXVpcmUoXCIuL3ZhbGlkYXRlX2NvbG9yXCIpLGNvbnN0YW50czpyZXF1aXJlKFwiLi92YWxpZGF0ZV9jb25zdGFudHNcIiksZW51bTpyZXF1aXJlKFwiLi92YWxpZGF0ZV9lbnVtXCIpLGZpbHRlcjpyZXF1aXJlKFwiLi92YWxpZGF0ZV9maWx0ZXJcIiksZnVuY3Rpb246cmVxdWlyZShcIi4vdmFsaWRhdGVfZnVuY3Rpb25cIiksbGF5ZXI6cmVxdWlyZShcIi4vdmFsaWRhdGVfbGF5ZXJcIiksb2JqZWN0OnJlcXVpcmUoXCIuL3ZhbGlkYXRlX29iamVjdFwiKSxzb3VyY2U6cmVxdWlyZShcIi4vdmFsaWRhdGVfc291cmNlXCIpLGxpZ2h0OnJlcXVpcmUoXCIuL3ZhbGlkYXRlX2xpZ2h0XCIpLHN0cmluZzpyZXF1aXJlKFwiLi92YWxpZGF0ZV9zdHJpbmdcIil9LGE9ZS52YWx1ZSxuPWUudmFsdWVTcGVjLHU9ZS5rZXksbz1lLnN0eWxlU3BlYyxsPWUuc3R5bGU7aWYoXCJzdHJpbmdcIj09PWdldFR5cGUoYSkmJlwiQFwiPT09YVswXSl7aWYoby4kdmVyc2lvbj43KXJldHVybltuZXcgVmFsaWRhdGlvbkVycm9yKHUsYSxcImNvbnN0YW50cyBoYXZlIGJlZW4gZGVwcmVjYXRlZCBhcyBvZiB2OFwiKV07aWYoIShhIGluIGwuY29uc3RhbnRzKSlyZXR1cm5bbmV3IFZhbGlkYXRpb25FcnJvcih1LGEsJ2NvbnN0YW50IFwiJXNcIiBub3QgZm91bmQnLGEpXTtlPWV4dGVuZCh7fSxlLHt2YWx1ZTpsLmNvbnN0YW50c1thXX0pfXJldHVybiBuLmZ1bmN0aW9uJiZcIm9iamVjdFwiPT09Z2V0VHlwZShhKT9yKGUpOm4udHlwZSYmaVtuLnR5cGVdP2lbbi50eXBlXShlKTp0KGV4dGVuZCh7fSxlLHt2YWx1ZVNwZWM6bi50eXBlP29bbi50eXBlXTpufSkpfTtcbn0se1wiLi4vZXJyb3IvdmFsaWRhdGlvbl9lcnJvclwiOjEwMixcIi4uL3V0aWwvZXh0ZW5kXCI6MTE5LFwiLi4vdXRpbC9nZXRfdHlwZVwiOjEyMCxcIi4vdmFsaWRhdGVfYXJyYXlcIjoxMjUsXCIuL3ZhbGlkYXRlX2Jvb2xlYW5cIjoxMjYsXCIuL3ZhbGlkYXRlX2NvbG9yXCI6MTI3LFwiLi92YWxpZGF0ZV9jb25zdGFudHNcIjoxMjgsXCIuL3ZhbGlkYXRlX2VudW1cIjoxMjksXCIuL3ZhbGlkYXRlX2ZpbHRlclwiOjEzMCxcIi4vdmFsaWRhdGVfZnVuY3Rpb25cIjoxMzEsXCIuL3ZhbGlkYXRlX2xheWVyXCI6MTMzLFwiLi92YWxpZGF0ZV9saWdodFwiOjEzNSxcIi4vdmFsaWRhdGVfbnVtYmVyXCI6MTM2LFwiLi92YWxpZGF0ZV9vYmplY3RcIjoxMzcsXCIuL3ZhbGlkYXRlX3NvdXJjZVwiOjE0MCxcIi4vdmFsaWRhdGVfc3RyaW5nXCI6MTQxfV0sMTI1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBnZXRUeXBlPXJlcXVpcmUoXCIuLi91dGlsL2dldF90eXBlXCIpLHZhbGlkYXRlPXJlcXVpcmUoXCIuL3ZhbGlkYXRlXCIpLFZhbGlkYXRpb25FcnJvcj1yZXF1aXJlKFwiLi4vZXJyb3IvdmFsaWRhdGlvbl9lcnJvclwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgcj1lLnZhbHVlLHQ9ZS52YWx1ZVNwZWMsYT1lLnN0eWxlLG49ZS5zdHlsZVNwZWMsbD1lLmtleSxpPWUuYXJyYXlFbGVtZW50VmFsaWRhdG9yfHx2YWxpZGF0ZTtpZihcImFycmF5XCIhPT1nZXRUeXBlKHIpKXJldHVybltuZXcgVmFsaWRhdGlvbkVycm9yKGwscixcImFycmF5IGV4cGVjdGVkLCAlcyBmb3VuZFwiLGdldFR5cGUocikpXTtpZih0Lmxlbmd0aCYmci5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm5bbmV3IFZhbGlkYXRpb25FcnJvcihsLHIsXCJhcnJheSBsZW5ndGggJWQgZXhwZWN0ZWQsIGxlbmd0aCAlZCBmb3VuZFwiLHQubGVuZ3RoLHIubGVuZ3RoKV07aWYodFtcIm1pbi1sZW5ndGhcIl0mJnIubGVuZ3RoPHRbXCJtaW4tbGVuZ3RoXCJdKXJldHVybltuZXcgVmFsaWRhdGlvbkVycm9yKGwscixcImFycmF5IGxlbmd0aCBhdCBsZWFzdCAlZCBleHBlY3RlZCwgbGVuZ3RoICVkIGZvdW5kXCIsdFtcIm1pbi1sZW5ndGhcIl0sci5sZW5ndGgpXTt2YXIgbz17dHlwZTp0LnZhbHVlfTtuLiR2ZXJzaW9uPDcmJihvLmZ1bmN0aW9uPXQuZnVuY3Rpb24pLFwib2JqZWN0XCI9PT1nZXRUeXBlKHQudmFsdWUpJiYobz10LnZhbHVlKTtmb3IodmFyIHU9W10sZD0wO2Q8ci5sZW5ndGg7ZCsrKXU9dS5jb25jYXQoaSh7YXJyYXk6cixhcnJheUluZGV4OmQsdmFsdWU6cltkXSx2YWx1ZVNwZWM6byxzdHlsZTphLHN0eWxlU3BlYzpuLGtleTpsK1wiW1wiK2QrXCJdXCJ9KSk7cmV0dXJuIHV9O1xufSx7XCIuLi9lcnJvci92YWxpZGF0aW9uX2Vycm9yXCI6MTAyLFwiLi4vdXRpbC9nZXRfdHlwZVwiOjEyMCxcIi4vdmFsaWRhdGVcIjoxMjR9XSwxMjY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIGdldFR5cGU9cmVxdWlyZShcIi4uL3V0aWwvZ2V0X3R5cGVcIiksVmFsaWRhdGlvbkVycm9yPXJlcXVpcmUoXCIuLi9lcnJvci92YWxpZGF0aW9uX2Vycm9yXCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciByPWUudmFsdWUsbz1lLmtleSx0PWdldFR5cGUocik7cmV0dXJuXCJib29sZWFuXCIhPT10P1tuZXcgVmFsaWRhdGlvbkVycm9yKG8scixcImJvb2xlYW4gZXhwZWN0ZWQsICVzIGZvdW5kXCIsdCldOltdfTtcbn0se1wiLi4vZXJyb3IvdmFsaWRhdGlvbl9lcnJvclwiOjEwMixcIi4uL3V0aWwvZ2V0X3R5cGVcIjoxMjB9XSwxMjc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIFZhbGlkYXRpb25FcnJvcj1yZXF1aXJlKFwiLi4vZXJyb3IvdmFsaWRhdGlvbl9lcnJvclwiKSxnZXRUeXBlPXJlcXVpcmUoXCIuLi91dGlsL2dldF90eXBlXCIpLHBhcnNlQ1NTQ29sb3I9cmVxdWlyZShcImNzc2NvbG9ycGFyc2VyXCIpLnBhcnNlQ1NTQ29sb3I7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ocil7dmFyIGU9ci5rZXksbz1yLnZhbHVlLHQ9Z2V0VHlwZShvKTtyZXR1cm5cInN0cmluZ1wiIT09dD9bbmV3IFZhbGlkYXRpb25FcnJvcihlLG8sXCJjb2xvciBleHBlY3RlZCwgJXMgZm91bmRcIix0KV06bnVsbD09PXBhcnNlQ1NTQ29sb3Iobyk/W25ldyBWYWxpZGF0aW9uRXJyb3IoZSxvLCdjb2xvciBleHBlY3RlZCwgXCIlc1wiIGZvdW5kJyxvKV06W119O1xufSx7XCIuLi9lcnJvci92YWxpZGF0aW9uX2Vycm9yXCI6MTAyLFwiLi4vdXRpbC9nZXRfdHlwZVwiOjEyMCxcImNzc2NvbG9ycGFyc2VyXCI6MTA3fV0sMTI4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBWYWxpZGF0aW9uRXJyb3I9cmVxdWlyZShcIi4uL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3JcIiksZ2V0VHlwZT1yZXF1aXJlKFwiLi4vdXRpbC9nZXRfdHlwZVwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihyKXt2YXIgZT1yLmtleSx0PXIudmFsdWUsYT1yLnN0eWxlU3BlYztpZihhLiR2ZXJzaW9uPjcpcmV0dXJuIHQ/W25ldyBWYWxpZGF0aW9uRXJyb3IoZSx0LFwiY29uc3RhbnRzIGhhdmUgYmVlbiBkZXByZWNhdGVkIGFzIG9mIHY4XCIpXTpbXTt2YXIgbz1nZXRUeXBlKHQpO2lmKFwib2JqZWN0XCIhPT1vKXJldHVybltuZXcgVmFsaWRhdGlvbkVycm9yKGUsdCxcIm9iamVjdCBleHBlY3RlZCwgJXMgZm91bmRcIixvKV07dmFyIG49W107Zm9yKHZhciBpIGluIHQpXCJAXCIhPT1pWzBdJiZuLnB1c2gobmV3IFZhbGlkYXRpb25FcnJvcihlK1wiLlwiK2ksdFtpXSwnY29uc3RhbnRzIG11c3Qgc3RhcnQgd2l0aCBcIkBcIicpKTtyZXR1cm4gbn07XG59LHtcIi4uL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3JcIjoxMDIsXCIuLi91dGlsL2dldF90eXBlXCI6MTIwfV0sMTI5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBWYWxpZGF0aW9uRXJyb3I9cmVxdWlyZShcIi4uL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3JcIiksdW5idW5kbGU9cmVxdWlyZShcIi4uL3V0aWwvdW5idW5kbGVfanNvbmxpbnRcIik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5rZXksbj1lLnZhbHVlLHU9ZS52YWx1ZVNwZWMsbz1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheSh1LnZhbHVlcyk/dS52YWx1ZXMuaW5kZXhPZih1bmJ1bmRsZShuKSk9PT0tMSYmby5wdXNoKG5ldyBWYWxpZGF0aW9uRXJyb3IocixuLFwiZXhwZWN0ZWQgb25lIG9mIFslc10sICVzIGZvdW5kXCIsdS52YWx1ZXMuam9pbihcIiwgXCIpLG4pKTpPYmplY3Qua2V5cyh1LnZhbHVlcykuaW5kZXhPZih1bmJ1bmRsZShuKSk9PT0tMSYmby5wdXNoKG5ldyBWYWxpZGF0aW9uRXJyb3IocixuLFwiZXhwZWN0ZWQgb25lIG9mIFslc10sICVzIGZvdW5kXCIsT2JqZWN0LmtleXModS52YWx1ZXMpLmpvaW4oXCIsIFwiKSxuKSksb307XG59LHtcIi4uL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3JcIjoxMDIsXCIuLi91dGlsL3VuYnVuZGxlX2pzb25saW50XCI6MTIzfV0sMTMwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBWYWxpZGF0aW9uRXJyb3I9cmVxdWlyZShcIi4uL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3JcIiksdmFsaWRhdGVFbnVtPXJlcXVpcmUoXCIuL3ZhbGlkYXRlX2VudW1cIiksZ2V0VHlwZT1yZXF1aXJlKFwiLi4vdXRpbC9nZXRfdHlwZVwiKSx1bmJ1bmRsZT1yZXF1aXJlKFwiLi4vdXRpbC91bmJ1bmRsZV9qc29ubGludFwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbiBlKHIpe3ZhciB0LGE9ci52YWx1ZSxuPXIua2V5LGw9ci5zdHlsZVNwZWMscz1bXTtpZihcImFycmF5XCIhPT1nZXRUeXBlKGEpKXJldHVybltuZXcgVmFsaWRhdGlvbkVycm9yKG4sYSxcImFycmF5IGV4cGVjdGVkLCAlcyBmb3VuZFwiLGdldFR5cGUoYSkpXTtpZihhLmxlbmd0aDwxKXJldHVybltuZXcgVmFsaWRhdGlvbkVycm9yKG4sYSxcImZpbHRlciBhcnJheSBtdXN0IGhhdmUgYXQgbGVhc3QgMSBlbGVtZW50XCIpXTtzd2l0Y2gocz1zLmNvbmNhdCh2YWxpZGF0ZUVudW0oe2tleTpuK1wiWzBdXCIsdmFsdWU6YVswXSx2YWx1ZVNwZWM6bC5maWx0ZXJfb3BlcmF0b3Isc3R5bGU6ci5zdHlsZSxzdHlsZVNwZWM6ci5zdHlsZVNwZWN9KSksdW5idW5kbGUoYVswXSkpe2Nhc2VcIjxcIjpjYXNlXCI8PVwiOmNhc2VcIj5cIjpjYXNlXCI+PVwiOmEubGVuZ3RoPj0yJiZcIiR0eXBlXCI9PT11bmJ1bmRsZShhWzFdKSYmcy5wdXNoKG5ldyBWYWxpZGF0aW9uRXJyb3IobixhLCdcIiR0eXBlXCIgY2Fubm90IGJlIHVzZSB3aXRoIG9wZXJhdG9yIFwiJXNcIicsYVswXSkpO2Nhc2VcIj09XCI6Y2FzZVwiIT1cIjozIT09YS5sZW5ndGgmJnMucHVzaChuZXcgVmFsaWRhdGlvbkVycm9yKG4sYSwnZmlsdGVyIGFycmF5IGZvciBvcGVyYXRvciBcIiVzXCIgbXVzdCBoYXZlIDMgZWxlbWVudHMnLGFbMF0pKTtjYXNlXCJpblwiOmNhc2VcIiFpblwiOmEubGVuZ3RoPj0yJiYodD1nZXRUeXBlKGFbMV0pLFwic3RyaW5nXCIhPT10JiZzLnB1c2gobmV3IFZhbGlkYXRpb25FcnJvcihuK1wiWzFdXCIsYVsxXSxcInN0cmluZyBleHBlY3RlZCwgJXMgZm91bmRcIix0KSkpO2Zvcih2YXIgbz0yO288YS5sZW5ndGg7bysrKXQ9Z2V0VHlwZShhW29dKSxcIiR0eXBlXCI9PT11bmJ1bmRsZShhWzFdKT9zPXMuY29uY2F0KHZhbGlkYXRlRW51bSh7a2V5Om4rXCJbXCIrbytcIl1cIix2YWx1ZTphW29dLHZhbHVlU3BlYzpsLmdlb21ldHJ5X3R5cGUsc3R5bGU6ci5zdHlsZSxzdHlsZVNwZWM6ci5zdHlsZVNwZWN9KSk6XCJzdHJpbmdcIiE9PXQmJlwibnVtYmVyXCIhPT10JiZcImJvb2xlYW5cIiE9PXQmJnMucHVzaChuZXcgVmFsaWRhdGlvbkVycm9yKG4rXCJbXCIrbytcIl1cIixhW29dLFwic3RyaW5nLCBudW1iZXIsIG9yIGJvb2xlYW4gZXhwZWN0ZWQsICVzIGZvdW5kXCIsdCkpO2JyZWFrO2Nhc2VcImFueVwiOmNhc2VcImFsbFwiOmNhc2VcIm5vbmVcIjpmb3IodmFyIGk9MTtpPGEubGVuZ3RoO2krKylzPXMuY29uY2F0KGUoe2tleTpuK1wiW1wiK2krXCJdXCIsdmFsdWU6YVtpXSxzdHlsZTpyLnN0eWxlLHN0eWxlU3BlYzpyLnN0eWxlU3BlY30pKTticmVhaztjYXNlXCJoYXNcIjpjYXNlXCIhaGFzXCI6dD1nZXRUeXBlKGFbMV0pLDIhPT1hLmxlbmd0aD9zLnB1c2gobmV3IFZhbGlkYXRpb25FcnJvcihuLGEsJ2ZpbHRlciBhcnJheSBmb3IgXCIlc1wiIG9wZXJhdG9yIG11c3QgaGF2ZSAyIGVsZW1lbnRzJyxhWzBdKSk6XCJzdHJpbmdcIiE9PXQmJnMucHVzaChuZXcgVmFsaWRhdGlvbkVycm9yKG4rXCJbMV1cIixhWzFdLFwic3RyaW5nIGV4cGVjdGVkLCAlcyBmb3VuZFwiLHQpKX1yZXR1cm4gc307XG59LHtcIi4uL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3JcIjoxMDIsXCIuLi91dGlsL2dldF90eXBlXCI6MTIwLFwiLi4vdXRpbC91bmJ1bmRsZV9qc29ubGludFwiOjEyMyxcIi4vdmFsaWRhdGVfZW51bVwiOjEyOX1dLDEzMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgVmFsaWRhdGlvbkVycm9yPXJlcXVpcmUoXCIuLi9lcnJvci92YWxpZGF0aW9uX2Vycm9yXCIpLGdldFR5cGU9cmVxdWlyZShcIi4uL3V0aWwvZ2V0X3R5cGVcIiksdmFsaWRhdGU9cmVxdWlyZShcIi4vdmFsaWRhdGVcIiksdmFsaWRhdGVPYmplY3Q9cmVxdWlyZShcIi4vdmFsaWRhdGVfb2JqZWN0XCIpLHZhbGlkYXRlQXJyYXk9cmVxdWlyZShcIi4vdmFsaWRhdGVfYXJyYXlcIiksdmFsaWRhdGVOdW1iZXI9cmVxdWlyZShcIi4vdmFsaWRhdGVfbnVtYmVyXCIpLHVuYnVuZGxlPXJlcXVpcmUoXCIuLi91dGlsL3VuYnVuZGxlX2pzb25saW50XCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7aWYoXCJpZGVudGl0eVwiPT09cClyZXR1cm5bbmV3IFZhbGlkYXRpb25FcnJvcihlLmtleSxlLnZhbHVlLCdpZGVudGl0eSBmdW5jdGlvbiBtYXkgbm90IGhhdmUgYSBcInN0b3BzXCIgcHJvcGVydHknKV07dmFyIHQ9W10sYT1lLnZhbHVlO3JldHVybiB0PXQuY29uY2F0KHZhbGlkYXRlQXJyYXkoe2tleTplLmtleSx2YWx1ZTphLHZhbHVlU3BlYzplLnZhbHVlU3BlYyxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxhcnJheUVsZW1lbnRWYWxpZGF0b3I6cn0pKSxcImFycmF5XCI9PT1nZXRUeXBlKGEpJiYwPT09YS5sZW5ndGgmJnQucHVzaChuZXcgVmFsaWRhdGlvbkVycm9yKGUua2V5LGEsXCJhcnJheSBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIHN0b3BcIikpLHR9ZnVuY3Rpb24gcihlKXt2YXIgdD1bXSxyPWUudmFsdWUsbz1lLmtleTtpZihcImFycmF5XCIhPT1nZXRUeXBlKHIpKXJldHVybltuZXcgVmFsaWRhdGlvbkVycm9yKG8scixcImFycmF5IGV4cGVjdGVkLCAlcyBmb3VuZFwiLGdldFR5cGUocikpXTtpZigyIT09ci5sZW5ndGgpcmV0dXJuW25ldyBWYWxpZGF0aW9uRXJyb3IobyxyLFwiYXJyYXkgbGVuZ3RoICVkIGV4cGVjdGVkLCBsZW5ndGggJWQgZm91bmRcIiwyLHIubGVuZ3RoKV07aWYoYyl7aWYoXCJvYmplY3RcIiE9PWdldFR5cGUoclswXSkpcmV0dXJuW25ldyBWYWxpZGF0aW9uRXJyb3IobyxyLFwib2JqZWN0IGV4cGVjdGVkLCAlcyBmb3VuZFwiLGdldFR5cGUoclswXSkpXTtpZih2b2lkIDA9PT1yWzBdLnpvb20pcmV0dXJuW25ldyBWYWxpZGF0aW9uRXJyb3IobyxyLFwib2JqZWN0IHN0b3Aga2V5IG11c3QgaGF2ZSB6b29tXCIpXTtpZih2b2lkIDA9PT1yWzBdLnZhbHVlKXJldHVybltuZXcgVmFsaWRhdGlvbkVycm9yKG8scixcIm9iamVjdCBzdG9wIGtleSBtdXN0IGhhdmUgdmFsdWVcIildO2lmKGwmJmw+dW5idW5kbGUoclswXS56b29tKSlyZXR1cm5bbmV3IFZhbGlkYXRpb25FcnJvcihvLHJbMF0uem9vbSxcInN0b3Agem9vbSB2YWx1ZXMgbXVzdCBhcHBlYXIgaW4gYXNjZW5kaW5nIG9yZGVyXCIpXTt1bmJ1bmRsZShyWzBdLnpvb20pIT09bCYmKGw9dW5idW5kbGUoclswXS56b29tKSxpPXZvaWQgMCxzPXt9KSx0PXQuY29uY2F0KHZhbGlkYXRlT2JqZWN0KHtrZXk6bytcIlswXVwiLHZhbHVlOnJbMF0sdmFsdWVTcGVjOnt6b29tOnt9fSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7em9vbTp2YWxpZGF0ZU51bWJlcix2YWx1ZTphfX0pKX1lbHNlIHQ9dC5jb25jYXQoYSh7a2V5Om8rXCJbMF1cIix2YWx1ZTpyWzBdLHZhbHVlU3BlYzp7fSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlY30pKTtyZXR1cm4gdC5jb25jYXQodmFsaWRhdGUoe2tleTpvK1wiWzFdXCIsdmFsdWU6clsxXSx2YWx1ZVNwZWM6dSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlY30pKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWdldFR5cGUoZS52YWx1ZSkscj11bmJ1bmRsZShlLnZhbHVlKTtpZihuKXtpZih0IT09bilyZXR1cm5bbmV3IFZhbGlkYXRpb25FcnJvcihlLmtleSxlLnZhbHVlLFwiJXMgc3RvcCBkb21haW4gdHlwZSBtdXN0IG1hdGNoIHByZXZpb3VzIHN0b3AgZG9tYWluIHR5cGUgJXNcIix0LG4pXX1lbHNlIG49dDtpZihcIm51bWJlclwiIT09dCYmXCJzdHJpbmdcIiE9PXQmJlwiYm9vbGVhblwiIT09dClyZXR1cm5bbmV3IFZhbGlkYXRpb25FcnJvcihlLmtleSxlLnZhbHVlLFwic3RvcCBkb21haW4gdmFsdWUgbXVzdCBiZSBhIG51bWJlciwgc3RyaW5nLCBvciBib29sZWFuXCIpXTtpZihcIm51bWJlclwiIT09dCYmXCJjYXRlZ29yaWNhbFwiIT09cCl7dmFyIGE9XCJudW1iZXIgZXhwZWN0ZWQsICVzIGZvdW5kXCI7cmV0dXJuIHVbXCJwcm9wZXJ0eS1mdW5jdGlvblwiXSYmdm9pZCAwPT09cCYmKGErPSdcXG5JZiB5b3UgaW50ZW5kZWQgdG8gdXNlIGEgY2F0ZWdvcmljYWwgZnVuY3Rpb24sIHNwZWNpZnkgYFwidHlwZVwiOiBcImNhdGVnb3JpY2FsXCJgLicpLFtuZXcgVmFsaWRhdGlvbkVycm9yKGUua2V5LGUudmFsdWUsYSx0KV19cmV0dXJuXCJjYXRlZ29yaWNhbFwiIT09cHx8XCJudW1iZXJcIiE9PXR8fGlzRmluaXRlKHIpJiZNYXRoLmZsb29yKHIpPT09cj9cIm51bWJlclwiPT09dCYmdm9pZCAwIT09aSYmcjxpP1tuZXcgVmFsaWRhdGlvbkVycm9yKGUua2V5LGUudmFsdWUsXCJzdG9wIGRvbWFpbiB2YWx1ZXMgbXVzdCBhcHBlYXIgaW4gYXNjZW5kaW5nIG9yZGVyXCIpXTooaT1yLFwiY2F0ZWdvcmljYWxcIj09PXAmJnIgaW4gcz9bbmV3IFZhbGlkYXRpb25FcnJvcihlLmtleSxlLnZhbHVlLFwic3RvcCBkb21haW4gdmFsdWVzIG11c3QgYmUgdW5pcXVlXCIpXTooc1tyXT0hMCxbXSkpOltuZXcgVmFsaWRhdGlvbkVycm9yKGUua2V5LGUudmFsdWUsXCJpbnRlZ2VyIGV4cGVjdGVkLCBmb3VuZCAlc1wiLHIpXX1mdW5jdGlvbiBvKGUpe3JldHVybiB2YWxpZGF0ZSh7a2V5OmUua2V5LHZhbHVlOmUudmFsdWUsdmFsdWVTcGVjOnUsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9KX12YXIgbixpLGwsdT1lLnZhbHVlU3BlYyxwPXVuYnVuZGxlKGUudmFsdWUudHlwZSkscz17fSx5PVwiY2F0ZWdvcmljYWxcIiE9PXAmJnZvaWQgMD09PWUudmFsdWUucHJvcGVydHksZD0heSxjPVwiYXJyYXlcIj09PWdldFR5cGUoZS52YWx1ZS5zdG9wcykmJlwiYXJyYXlcIj09PWdldFR5cGUoZS52YWx1ZS5zdG9wc1swXSkmJlwib2JqZWN0XCI9PT1nZXRUeXBlKGUudmFsdWUuc3RvcHNbMF1bMF0pLHY9dmFsaWRhdGVPYmplY3Qoe2tleTplLmtleSx2YWx1ZTplLnZhbHVlLHZhbHVlU3BlYzplLnN0eWxlU3BlYy5mdW5jdGlvbixzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7c3RvcHM6dCxkZWZhdWx0Om99fSk7cmV0dXJuXCJpZGVudGl0eVwiPT09cCYmeSYmdi5wdXNoKG5ldyBWYWxpZGF0aW9uRXJyb3IoZS5rZXksZS52YWx1ZSwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcInByb3BlcnR5XCInKSksXCJpZGVudGl0eVwiPT09cHx8ZS52YWx1ZS5zdG9wc3x8di5wdXNoKG5ldyBWYWxpZGF0aW9uRXJyb3IoZS5rZXksZS52YWx1ZSwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcInN0b3BzXCInKSksXCJleHBvbmVudGlhbFwiPT09cCYmXCJwaWVjZXdpc2UtY29uc3RhbnRcIj09PWUudmFsdWVTcGVjLmZ1bmN0aW9uJiZ2LnB1c2gobmV3IFZhbGlkYXRpb25FcnJvcihlLmtleSxlLnZhbHVlLFwiZXhwb25lbnRpYWwgZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpLGUuc3R5bGVTcGVjLiR2ZXJzaW9uPj04JiYoZCYmIWUudmFsdWVTcGVjW1wicHJvcGVydHktZnVuY3Rpb25cIl0/di5wdXNoKG5ldyBWYWxpZGF0aW9uRXJyb3IoZS5rZXksZS52YWx1ZSxcInByb3BlcnR5IGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKTp5JiYhZS52YWx1ZVNwZWNbXCJ6b29tLWZ1bmN0aW9uXCJdJiZ2LnB1c2gobmV3IFZhbGlkYXRpb25FcnJvcihlLmtleSxlLnZhbHVlLFwiem9vbSBmdW5jdGlvbnMgbm90IHN1cHBvcnRlZFwiKSkpLFwiY2F0ZWdvcmljYWxcIiE9PXAmJiFjfHx2b2lkIDAhPT1lLnZhbHVlLnByb3BlcnR5fHx2LnB1c2gobmV3IFZhbGlkYXRpb25FcnJvcihlLmtleSxlLnZhbHVlLCdcInByb3BlcnR5XCIgcHJvcGVydHkgaXMgcmVxdWlyZWQnKSksdn07XG59LHtcIi4uL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3JcIjoxMDIsXCIuLi91dGlsL2dldF90eXBlXCI6MTIwLFwiLi4vdXRpbC91bmJ1bmRsZV9qc29ubGludFwiOjEyMyxcIi4vdmFsaWRhdGVcIjoxMjQsXCIuL3ZhbGlkYXRlX2FycmF5XCI6MTI1LFwiLi92YWxpZGF0ZV9udW1iZXJcIjoxMzYsXCIuL3ZhbGlkYXRlX29iamVjdFwiOjEzN31dLDEzMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgVmFsaWRhdGlvbkVycm9yPXJlcXVpcmUoXCIuLi9lcnJvci92YWxpZGF0aW9uX2Vycm9yXCIpLHZhbGlkYXRlU3RyaW5nPXJlcXVpcmUoXCIuL3ZhbGlkYXRlX3N0cmluZ1wiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihyKXt2YXIgZT1yLnZhbHVlLHQ9ci5rZXksYT12YWxpZGF0ZVN0cmluZyhyKTtyZXR1cm4gYS5sZW5ndGg/YTooZS5pbmRleE9mKFwie2ZvbnRzdGFja31cIik9PT0tMSYmYS5wdXNoKG5ldyBWYWxpZGF0aW9uRXJyb3IodCxlLCdcImdseXBoc1wiIHVybCBtdXN0IGluY2x1ZGUgYSBcIntmb250c3RhY2t9XCIgdG9rZW4nKSksZS5pbmRleE9mKFwie3JhbmdlfVwiKT09PS0xJiZhLnB1c2gobmV3IFZhbGlkYXRpb25FcnJvcih0LGUsJ1wiZ2x5cGhzXCIgdXJsIG11c3QgaW5jbHVkZSBhIFwie3JhbmdlfVwiIHRva2VuJykpLGEpfTtcbn0se1wiLi4vZXJyb3IvdmFsaWRhdGlvbl9lcnJvclwiOjEwMixcIi4vdmFsaWRhdGVfc3RyaW5nXCI6MTQxfV0sMTMzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBWYWxpZGF0aW9uRXJyb3I9cmVxdWlyZShcIi4uL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3JcIiksdW5idW5kbGU9cmVxdWlyZShcIi4uL3V0aWwvdW5idW5kbGVfanNvbmxpbnRcIiksdmFsaWRhdGVPYmplY3Q9cmVxdWlyZShcIi4vdmFsaWRhdGVfb2JqZWN0XCIpLHZhbGlkYXRlRmlsdGVyPXJlcXVpcmUoXCIuL3ZhbGlkYXRlX2ZpbHRlclwiKSx2YWxpZGF0ZVBhaW50UHJvcGVydHk9cmVxdWlyZShcIi4vdmFsaWRhdGVfcGFpbnRfcHJvcGVydHlcIiksdmFsaWRhdGVMYXlvdXRQcm9wZXJ0eT1yZXF1aXJlKFwiLi92YWxpZGF0ZV9sYXlvdXRfcHJvcGVydHlcIiksZXh0ZW5kPXJlcXVpcmUoXCIuLi91dGlsL2V4dGVuZFwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgcj1bXSx0PWUudmFsdWUsYT1lLmtleSxpPWUuc3R5bGUsbD1lLnN0eWxlU3BlYzt0LnR5cGV8fHQucmVmfHxyLnB1c2gobmV3IFZhbGlkYXRpb25FcnJvcihhLHQsJ2VpdGhlciBcInR5cGVcIiBvciBcInJlZlwiIGlzIHJlcXVpcmVkJykpO3ZhciB1PXVuYnVuZGxlKHQudHlwZSksbj11bmJ1bmRsZSh0LnJlZik7aWYodC5pZClmb3IodmFyIG89dW5idW5kbGUodC5pZCkscz0wO3M8ZS5hcnJheUluZGV4O3MrKyl7dmFyIGQ9aS5sYXllcnNbc107dW5idW5kbGUoZC5pZCk9PT1vJiZyLnB1c2gobmV3IFZhbGlkYXRpb25FcnJvcihhLHQuaWQsJ2R1cGxpY2F0ZSBsYXllciBpZCBcIiVzXCIsIHByZXZpb3VzbHkgdXNlZCBhdCBsaW5lICVkJyx0LmlkLGQuaWQuX19saW5lX18pKX1pZihcInJlZlwiaW4gdCl7W1widHlwZVwiLFwic291cmNlXCIsXCJzb3VyY2UtbGF5ZXJcIixcImZpbHRlclwiLFwibGF5b3V0XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7ZSBpbiB0JiZyLnB1c2gobmV3IFZhbGlkYXRpb25FcnJvcihhLHRbZV0sJ1wiJXNcIiBpcyBwcm9oaWJpdGVkIGZvciByZWYgbGF5ZXJzJyxlKSl9KTt2YXIgeTtpLmxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3VuYnVuZGxlKGUuaWQpPT09biYmKHk9ZSl9KSx5P3kucmVmP3IucHVzaChuZXcgVmFsaWRhdGlvbkVycm9yKGEsdC5yZWYsXCJyZWYgY2Fubm90IHJlZmVyZW5jZSBhbm90aGVyIHJlZiBsYXllclwiKSk6dT11bmJ1bmRsZSh5LnR5cGUpOnIucHVzaChuZXcgVmFsaWRhdGlvbkVycm9yKGEsdC5yZWYsJ3JlZiBsYXllciBcIiVzXCIgbm90IGZvdW5kJyxuKSl9ZWxzZSBpZihcImJhY2tncm91bmRcIiE9PXUpaWYodC5zb3VyY2Upe3ZhciBjPWkuc291cmNlcyYmaS5zb3VyY2VzW3Quc291cmNlXSxwPWMmJnVuYnVuZGxlKGMudHlwZSk7Yz9cInZlY3RvclwiPT09cCYmXCJyYXN0ZXJcIj09PXU/ci5wdXNoKG5ldyBWYWxpZGF0aW9uRXJyb3IoYSx0LnNvdXJjZSwnbGF5ZXIgXCIlc1wiIHJlcXVpcmVzIGEgcmFzdGVyIHNvdXJjZScsdC5pZCkpOlwicmFzdGVyXCI9PT1wJiZcInJhc3RlclwiIT09dT9yLnB1c2gobmV3IFZhbGlkYXRpb25FcnJvcihhLHQuc291cmNlLCdsYXllciBcIiVzXCIgcmVxdWlyZXMgYSB2ZWN0b3Igc291cmNlJyx0LmlkKSk6XCJ2ZWN0b3JcIiE9PXB8fHRbXCJzb3VyY2UtbGF5ZXJcIl18fHIucHVzaChuZXcgVmFsaWRhdGlvbkVycm9yKGEsdCwnbGF5ZXIgXCIlc1wiIG11c3Qgc3BlY2lmeSBhIFwic291cmNlLWxheWVyXCInLHQuaWQpKTpyLnB1c2gobmV3IFZhbGlkYXRpb25FcnJvcihhLHQuc291cmNlLCdzb3VyY2UgXCIlc1wiIG5vdCBmb3VuZCcsdC5zb3VyY2UpKX1lbHNlIHIucHVzaChuZXcgVmFsaWRhdGlvbkVycm9yKGEsdCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcInNvdXJjZVwiJykpO3JldHVybiByPXIuY29uY2F0KHZhbGlkYXRlT2JqZWN0KHtrZXk6YSx2YWx1ZTp0LHZhbHVlU3BlYzpsLmxheWVyLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntcIipcIjpmdW5jdGlvbigpe3JldHVybltdfSxmaWx0ZXI6dmFsaWRhdGVGaWx0ZXIsbGF5b3V0OmZ1bmN0aW9uKGUpe3JldHVybiB2YWxpZGF0ZU9iamVjdCh7bGF5ZXI6dCxrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7XCIqXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHZhbGlkYXRlTGF5b3V0UHJvcGVydHkoZXh0ZW5kKHtsYXllclR5cGU6dX0sZSkpfX19KX0scGFpbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZhbGlkYXRlT2JqZWN0KHtsYXllcjp0LGtleTplLmtleSx2YWx1ZTplLnZhbHVlLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntcIipcIjpmdW5jdGlvbihlKXtyZXR1cm4gdmFsaWRhdGVQYWludFByb3BlcnR5KGV4dGVuZCh7bGF5ZXJUeXBlOnV9LGUpKX19fSl9fX0pKX07XG59LHtcIi4uL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3JcIjoxMDIsXCIuLi91dGlsL2V4dGVuZFwiOjExOSxcIi4uL3V0aWwvdW5idW5kbGVfanNvbmxpbnRcIjoxMjMsXCIuL3ZhbGlkYXRlX2ZpbHRlclwiOjEzMCxcIi4vdmFsaWRhdGVfbGF5b3V0X3Byb3BlcnR5XCI6MTM0LFwiLi92YWxpZGF0ZV9vYmplY3RcIjoxMzcsXCIuL3ZhbGlkYXRlX3BhaW50X3Byb3BlcnR5XCI6MTM4fV0sMTM0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciB2YWxpZGF0ZVByb3BlcnR5PXJlcXVpcmUoXCIuL3ZhbGlkYXRlX3Byb3BlcnR5XCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHIpe3JldHVybiB2YWxpZGF0ZVByb3BlcnR5KHIsXCJsYXlvdXRcIil9O1xufSx7XCIuL3ZhbGlkYXRlX3Byb3BlcnR5XCI6MTM5fV0sMTM1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBWYWxpZGF0aW9uRXJyb3I9cmVxdWlyZShcIi4uL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3JcIiksZ2V0VHlwZT1yZXF1aXJlKFwiLi4vdXRpbC9nZXRfdHlwZVwiKSx2YWxpZGF0ZT1yZXF1aXJlKFwiLi92YWxpZGF0ZVwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1lLnZhbHVlLHI9ZS5zdHlsZVNwZWMsYT1yLmxpZ2h0LGk9ZS5zdHlsZSxuPVtdLG89Z2V0VHlwZSh0KTtpZih2b2lkIDA9PT10KXJldHVybiBuO2lmKFwib2JqZWN0XCIhPT1vKXJldHVybiBuPW4uY29uY2F0KFtuZXcgVmFsaWRhdGlvbkVycm9yKFwibGlnaHRcIix0LFwib2JqZWN0IGV4cGVjdGVkLCAlcyBmb3VuZFwiLG8pXSk7Zm9yKHZhciBsIGluIHQpe3ZhciBjPWwubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7bj1jJiZhW2NbMV1dJiZhW2NbMV1dLnRyYW5zaXRpb24/bi5jb25jYXQodmFsaWRhdGUoe2tleTpsLHZhbHVlOnRbbF0sdmFsdWVTcGVjOnIudHJhbnNpdGlvbixzdHlsZTppLHN0eWxlU3BlYzpyfSkpOmFbbF0/bi5jb25jYXQodmFsaWRhdGUoe2tleTpsLHZhbHVlOnRbbF0sdmFsdWVTcGVjOmFbbF0sc3R5bGU6aSxzdHlsZVNwZWM6cn0pKTpuLmNvbmNhdChbbmV3IFZhbGlkYXRpb25FcnJvcihsLHRbbF0sJ3Vua25vd24gcHJvcGVydHkgXCIlc1wiJyxsKV0pfXJldHVybiBufTtcbn0se1wiLi4vZXJyb3IvdmFsaWRhdGlvbl9lcnJvclwiOjEwMixcIi4uL3V0aWwvZ2V0X3R5cGVcIjoxMjAsXCIuL3ZhbGlkYXRlXCI6MTI0fV0sMTM2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBnZXRUeXBlPXJlcXVpcmUoXCIuLi91dGlsL2dldF90eXBlXCIpLFZhbGlkYXRpb25FcnJvcj1yZXF1aXJlKFwiLi4vZXJyb3IvdmFsaWRhdGlvbl9lcnJvclwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgcj1lLmtleSxpPWUudmFsdWUsbT1lLnZhbHVlU3BlYyxhPWdldFR5cGUoaSk7cmV0dXJuXCJudW1iZXJcIiE9PWE/W25ldyBWYWxpZGF0aW9uRXJyb3IocixpLFwibnVtYmVyIGV4cGVjdGVkLCAlcyBmb3VuZFwiLGEpXTpcIm1pbmltdW1cImluIG0mJmk8bS5taW5pbXVtP1tuZXcgVmFsaWRhdGlvbkVycm9yKHIsaSxcIiVzIGlzIGxlc3MgdGhhbiB0aGUgbWluaW11bSB2YWx1ZSAlc1wiLGksbS5taW5pbXVtKV06XCJtYXhpbXVtXCJpbiBtJiZpPm0ubWF4aW11bT9bbmV3IFZhbGlkYXRpb25FcnJvcihyLGksXCIlcyBpcyBncmVhdGVyIHRoYW4gdGhlIG1heGltdW0gdmFsdWUgJXNcIixpLG0ubWF4aW11bSldOltdfTtcbn0se1wiLi4vZXJyb3IvdmFsaWRhdGlvbl9lcnJvclwiOjEwMixcIi4uL3V0aWwvZ2V0X3R5cGVcIjoxMjB9XSwxMzc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIFZhbGlkYXRpb25FcnJvcj1yZXF1aXJlKFwiLi4vZXJyb3IvdmFsaWRhdGlvbl9lcnJvclwiKSxnZXRUeXBlPXJlcXVpcmUoXCIuLi91dGlsL2dldF90eXBlXCIpLHZhbGlkYXRlU3BlYz1yZXF1aXJlKFwiLi92YWxpZGF0ZVwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgcj1lLmtleSx0PWUudmFsdWUsaT1lLnZhbHVlU3BlY3x8e30sYT1lLm9iamVjdEVsZW1lbnRWYWxpZGF0b3JzfHx7fSxvPWUuc3R5bGUsbD1lLnN0eWxlU3BlYyxuPVtdLHU9Z2V0VHlwZSh0KTtpZihcIm9iamVjdFwiIT09dSlyZXR1cm5bbmV3IFZhbGlkYXRpb25FcnJvcihyLHQsXCJvYmplY3QgZXhwZWN0ZWQsICVzIGZvdW5kXCIsdSldO2Zvcih2YXIgZCBpbiB0KXt2YXIgcD1kLnNwbGl0KFwiLlwiKVswXSxzPWlbcF18fGlbXCIqXCJdLGM9dm9pZCAwO2lmKGFbcF0pYz1hW3BdO2Vsc2UgaWYoaVtwXSljPXZhbGlkYXRlU3BlYztlbHNlIGlmKGFbXCIqXCJdKWM9YVtcIipcIl07ZWxzZXtpZighaVtcIipcIl0pe24ucHVzaChuZXcgVmFsaWRhdGlvbkVycm9yKHIsdFtkXSwndW5rbm93biBwcm9wZXJ0eSBcIiVzXCInLGQpKTtjb250aW51ZX1jPXZhbGlkYXRlU3BlY31uPW4uY29uY2F0KGMoe2tleToocj9yK1wiLlwiOnIpK2QsdmFsdWU6dFtkXSx2YWx1ZVNwZWM6cyxzdHlsZTpvLHN0eWxlU3BlYzpsLG9iamVjdDp0LG9iamVjdEtleTpkfSkpfWZvcih2YXIgdiBpbiBpKWlbdl0ucmVxdWlyZWQmJnZvaWQgMD09PWlbdl0uZGVmYXVsdCYmdm9pZCAwPT09dFt2XSYmbi5wdXNoKG5ldyBWYWxpZGF0aW9uRXJyb3Iocix0LCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiJXNcIicsdikpO3JldHVybiBufTtcbn0se1wiLi4vZXJyb3IvdmFsaWRhdGlvbl9lcnJvclwiOjEwMixcIi4uL3V0aWwvZ2V0X3R5cGVcIjoxMjAsXCIuL3ZhbGlkYXRlXCI6MTI0fV0sMTM4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciB2YWxpZGF0ZVByb3BlcnR5PXJlcXVpcmUoXCIuL3ZhbGlkYXRlX3Byb3BlcnR5XCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHIpe3JldHVybiB2YWxpZGF0ZVByb3BlcnR5KHIsXCJwYWludFwiKX07XG59LHtcIi4vdmFsaWRhdGVfcHJvcGVydHlcIjoxMzl9XSwxMzk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHZhbGlkYXRlPXJlcXVpcmUoXCIuL3ZhbGlkYXRlXCIpLFZhbGlkYXRpb25FcnJvcj1yZXF1aXJlKFwiLi4vZXJyb3IvdmFsaWRhdGlvbl9lcnJvclwiKSxnZXRUeXBlPXJlcXVpcmUoXCIuLi91dGlsL2dldF90eXBlXCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGUscil7dmFyIHQ9ZS5rZXksaT1lLnN0eWxlLGE9ZS5zdHlsZVNwZWMsbj1lLnZhbHVlLG89ZS5vYmplY3RLZXkscz1hW3IrXCJfXCIrZS5sYXllclR5cGVdO2lmKCFzKXJldHVybltdO3ZhciBwPW8ubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7aWYoXCJwYWludFwiPT09ciYmcCYmc1twWzFdXSYmc1twWzFdXS50cmFuc2l0aW9uKXJldHVybiB2YWxpZGF0ZSh7a2V5OnQsdmFsdWU6bix2YWx1ZVNwZWM6YS50cmFuc2l0aW9uLHN0eWxlOmksc3R5bGVTcGVjOmF9KTt2YXIgbD1lLnZhbHVlU3BlY3x8c1tvXTtpZighbClyZXR1cm5bbmV3IFZhbGlkYXRpb25FcnJvcih0LG4sJ3Vua25vd24gcHJvcGVydHkgXCIlc1wiJyxvKV07dmFyIHk7aWYoXCJzdHJpbmdcIj09PWdldFR5cGUobikmJmxbXCJwcm9wZXJ0eS1mdW5jdGlvblwiXSYmIWwudG9rZW5zJiYoeT0vXnsoW159XSspfSQvLmV4ZWMobikpKXJldHVybltuZXcgVmFsaWRhdGlvbkVycm9yKHQsbiwnXCIlc1wiIGRvZXMgbm90IHN1cHBvcnQgaW50ZXJwb2xhdGlvbiBzeW50YXhcXG5Vc2UgYW4gaWRlbnRpdHkgcHJvcGVydHkgZnVuY3Rpb24gaW5zdGVhZDogYHsgXCJ0eXBlXCI6IFwiaWRlbnRpdHlcIiwgXCJwcm9wZXJ0eVwiOiAlc2AgfWAuJyxvLEpTT04uc3RyaW5naWZ5KHlbMV0pKV07dmFyIHU9W107cmV0dXJuXCJzeW1ib2xcIj09PWUubGF5ZXJUeXBlJiYoXCJpY29uLWltYWdlXCI9PT1vJiZpJiYhaS5zcHJpdGU/dS5wdXNoKG5ldyBWYWxpZGF0aW9uRXJyb3IodCxuLCd1c2Ugb2YgXCJpY29uLWltYWdlXCIgcmVxdWlyZXMgYSBzdHlsZSBcInNwcml0ZVwiIHByb3BlcnR5JykpOlwidGV4dC1maWVsZFwiPT09byYmaSYmIWkuZ2x5cGhzJiZ1LnB1c2gobmV3IFZhbGlkYXRpb25FcnJvcih0LG4sJ3VzZSBvZiBcInRleHQtZmllbGRcIiByZXF1aXJlcyBhIHN0eWxlIFwiZ2x5cGhzXCIgcHJvcGVydHknKSkpLHUuY29uY2F0KHZhbGlkYXRlKHtrZXk6ZS5rZXksdmFsdWU6bix2YWx1ZVNwZWM6bCxzdHlsZTppLHN0eWxlU3BlYzphfSkpfTtcbn0se1wiLi4vZXJyb3IvdmFsaWRhdGlvbl9lcnJvclwiOjEwMixcIi4uL3V0aWwvZ2V0X3R5cGVcIjoxMjAsXCIuL3ZhbGlkYXRlXCI6MTI0fV0sMTQwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBWYWxpZGF0aW9uRXJyb3I9cmVxdWlyZShcIi4uL2Vycm9yL3ZhbGlkYXRpb25fZXJyb3JcIiksdW5idW5kbGU9cmVxdWlyZShcIi4uL3V0aWwvdW5idW5kbGVfanNvbmxpbnRcIiksdmFsaWRhdGVPYmplY3Q9cmVxdWlyZShcIi4vdmFsaWRhdGVfb2JqZWN0XCIpLHZhbGlkYXRlRW51bT1yZXF1aXJlKFwiLi92YWxpZGF0ZV9lbnVtXCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciBhPWUudmFsdWUsdD1lLmtleSxyPWUuc3R5bGVTcGVjLGw9ZS5zdHlsZTtpZighYS50eXBlKXJldHVybltuZXcgVmFsaWRhdGlvbkVycm9yKHQsYSwnXCJ0eXBlXCIgaXMgcmVxdWlyZWQnKV07dmFyIHU9dW5idW5kbGUoYS50eXBlKSxpPVtdO3N3aXRjaCh1KXtjYXNlXCJ2ZWN0b3JcIjpjYXNlXCJyYXN0ZXJcIjppZihpPWkuY29uY2F0KHZhbGlkYXRlT2JqZWN0KHtrZXk6dCx2YWx1ZTphLHZhbHVlU3BlYzpyLnNvdXJjZV90aWxlLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOnJ9KSksXCJ1cmxcImluIGEpZm9yKHZhciBzIGluIGEpW1widHlwZVwiLFwidXJsXCIsXCJ0aWxlU2l6ZVwiXS5pbmRleE9mKHMpPDAmJmkucHVzaChuZXcgVmFsaWRhdGlvbkVycm9yKHQrXCIuXCIrcyxhW3NdLCdhIHNvdXJjZSB3aXRoIGEgXCJ1cmxcIiBwcm9wZXJ0eSBtYXkgbm90IGluY2x1ZGUgYSBcIiVzXCIgcHJvcGVydHknLHMpKTtyZXR1cm4gaTtjYXNlXCJnZW9qc29uXCI6cmV0dXJuIHZhbGlkYXRlT2JqZWN0KHtrZXk6dCx2YWx1ZTphLHZhbHVlU3BlYzpyLnNvdXJjZV9nZW9qc29uLHN0eWxlOmwsc3R5bGVTcGVjOnJ9KTtjYXNlXCJ2aWRlb1wiOnJldHVybiB2YWxpZGF0ZU9iamVjdCh7a2V5OnQsdmFsdWU6YSx2YWx1ZVNwZWM6ci5zb3VyY2VfdmlkZW8sc3R5bGU6bCxzdHlsZVNwZWM6cn0pO2Nhc2VcImltYWdlXCI6cmV0dXJuIHZhbGlkYXRlT2JqZWN0KHtrZXk6dCx2YWx1ZTphLHZhbHVlU3BlYzpyLnNvdXJjZV9pbWFnZSxzdHlsZTpsLHN0eWxlU3BlYzpyfSk7Y2FzZVwiY2FudmFzXCI6cmV0dXJuIHZhbGlkYXRlT2JqZWN0KHtrZXk6dCx2YWx1ZTphLHZhbHVlU3BlYzpyLnNvdXJjZV9jYW52YXMsc3R5bGU6bCxzdHlsZVNwZWM6cn0pO2RlZmF1bHQ6cmV0dXJuIHZhbGlkYXRlRW51bSh7a2V5OnQrXCIudHlwZVwiLHZhbHVlOmEudHlwZSx2YWx1ZVNwZWM6e3ZhbHVlczpbXCJ2ZWN0b3JcIixcInJhc3RlclwiLFwiZ2VvanNvblwiLFwidmlkZW9cIixcImltYWdlXCIsXCJjYW52YXNcIl19LHN0eWxlOmwsc3R5bGVTcGVjOnJ9KX19O1xufSx7XCIuLi9lcnJvci92YWxpZGF0aW9uX2Vycm9yXCI6MTAyLFwiLi4vdXRpbC91bmJ1bmRsZV9qc29ubGludFwiOjEyMyxcIi4vdmFsaWRhdGVfZW51bVwiOjEyOSxcIi4vdmFsaWRhdGVfb2JqZWN0XCI6MTM3fV0sMTQxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBnZXRUeXBlPXJlcXVpcmUoXCIuLi91dGlsL2dldF90eXBlXCIpLFZhbGlkYXRpb25FcnJvcj1yZXF1aXJlKFwiLi4vZXJyb3IvdmFsaWRhdGlvbl9lcnJvclwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihyKXt2YXIgZT1yLnZhbHVlLHQ9ci5rZXksaT1nZXRUeXBlKGUpO3JldHVyblwic3RyaW5nXCIhPT1pP1tuZXcgVmFsaWRhdGlvbkVycm9yKHQsZSxcInN0cmluZyBleHBlY3RlZCwgJXMgZm91bmRcIixpKV06W119O1xufSx7XCIuLi9lcnJvci92YWxpZGF0aW9uX2Vycm9yXCI6MTAyLFwiLi4vdXRpbC9nZXRfdHlwZVwiOjEyMH1dLDE0MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB2YWxpZGF0ZVN0eWxlTWluKGUsYSl7YT1hfHxsYXRlc3RTdHlsZVNwZWM7dmFyIHQ9W107cmV0dXJuIHQ9dC5jb25jYXQodmFsaWRhdGUoe2tleTpcIlwiLHZhbHVlOmUsdmFsdWVTcGVjOmEuJHJvb3Qsc3R5bGVTcGVjOmEsc3R5bGU6ZSxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7Z2x5cGhzOnZhbGlkYXRlR2x5cGhzVVJMLFwiKlwiOmZ1bmN0aW9uKCl7cmV0dXJuW119fX0pKSxhLiR2ZXJzaW9uPjcmJmUuY29uc3RhbnRzJiYodD10LmNvbmNhdCh2YWxpZGF0ZUNvbnN0YW50cyh7a2V5OlwiY29uc3RhbnRzXCIsdmFsdWU6ZS5jb25zdGFudHMsc3R5bGU6ZSxzdHlsZVNwZWM6YX0pKSksc29ydEVycm9ycyh0KX1mdW5jdGlvbiBzb3J0RXJyb3JzKGUpe3JldHVybltdLmNvbmNhdChlKS5zb3J0KGZ1bmN0aW9uKGUsYSl7cmV0dXJuIGUubGluZS1hLmxpbmV9KX1mdW5jdGlvbiB3cmFwQ2xlYW5FcnJvcnMoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHNvcnRFcnJvcnMoZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX12YXIgdmFsaWRhdGVDb25zdGFudHM9cmVxdWlyZShcIi4vdmFsaWRhdGUvdmFsaWRhdGVfY29uc3RhbnRzXCIpLHZhbGlkYXRlPXJlcXVpcmUoXCIuL3ZhbGlkYXRlL3ZhbGlkYXRlXCIpLGxhdGVzdFN0eWxlU3BlYz1yZXF1aXJlKFwiLi9yZWZlcmVuY2UvbGF0ZXN0XCIpLHZhbGlkYXRlR2x5cGhzVVJMPXJlcXVpcmUoXCIuL3ZhbGlkYXRlL3ZhbGlkYXRlX2dseXBoc191cmxcIik7dmFsaWRhdGVTdHlsZU1pbi5zb3VyY2U9d3JhcENsZWFuRXJyb3JzKHJlcXVpcmUoXCIuL3ZhbGlkYXRlL3ZhbGlkYXRlX3NvdXJjZVwiKSksdmFsaWRhdGVTdHlsZU1pbi5saWdodD13cmFwQ2xlYW5FcnJvcnMocmVxdWlyZShcIi4vdmFsaWRhdGUvdmFsaWRhdGVfbGlnaHRcIikpLHZhbGlkYXRlU3R5bGVNaW4ubGF5ZXI9d3JhcENsZWFuRXJyb3JzKHJlcXVpcmUoXCIuL3ZhbGlkYXRlL3ZhbGlkYXRlX2xheWVyXCIpKSx2YWxpZGF0ZVN0eWxlTWluLmZpbHRlcj13cmFwQ2xlYW5FcnJvcnMocmVxdWlyZShcIi4vdmFsaWRhdGUvdmFsaWRhdGVfZmlsdGVyXCIpKSx2YWxpZGF0ZVN0eWxlTWluLnBhaW50UHJvcGVydHk9d3JhcENsZWFuRXJyb3JzKHJlcXVpcmUoXCIuL3ZhbGlkYXRlL3ZhbGlkYXRlX3BhaW50X3Byb3BlcnR5XCIpKSx2YWxpZGF0ZVN0eWxlTWluLmxheW91dFByb3BlcnR5PXdyYXBDbGVhbkVycm9ycyhyZXF1aXJlKFwiLi92YWxpZGF0ZS92YWxpZGF0ZV9sYXlvdXRfcHJvcGVydHlcIikpLG1vZHVsZS5leHBvcnRzPXZhbGlkYXRlU3R5bGVNaW47XG59LHtcIi4vcmVmZXJlbmNlL2xhdGVzdFwiOjExNyxcIi4vdmFsaWRhdGUvdmFsaWRhdGVcIjoxMjQsXCIuL3ZhbGlkYXRlL3ZhbGlkYXRlX2NvbnN0YW50c1wiOjEyOCxcIi4vdmFsaWRhdGUvdmFsaWRhdGVfZmlsdGVyXCI6MTMwLFwiLi92YWxpZGF0ZS92YWxpZGF0ZV9nbHlwaHNfdXJsXCI6MTMyLFwiLi92YWxpZGF0ZS92YWxpZGF0ZV9sYXllclwiOjEzMyxcIi4vdmFsaWRhdGUvdmFsaWRhdGVfbGF5b3V0X3Byb3BlcnR5XCI6MTM0LFwiLi92YWxpZGF0ZS92YWxpZGF0ZV9saWdodFwiOjEzNSxcIi4vdmFsaWRhdGUvdmFsaWRhdGVfcGFpbnRfcHJvcGVydHlcIjoxMzgsXCIuL3ZhbGlkYXRlL3ZhbGlkYXRlX3NvdXJjZVwiOjE0MH1dLDE0MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgQW5pbWF0aW9uTG9vcD1mdW5jdGlvbigpe3RoaXMubj0wLHRoaXMudGltZXM9W119O0FuaW1hdGlvbkxvb3AucHJvdG90eXBlLnN0b3BwZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lcz10aGlzLnRpbWVzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC50aW1lPj0obmV3IERhdGUpLmdldFRpbWUoKX0pLCF0aGlzLnRpbWVzLmxlbmd0aH0sQW5pbWF0aW9uTG9vcC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRpbWVzLnB1c2goe2lkOnRoaXMubix0aW1lOnQrKG5ldyBEYXRlKS5nZXRUaW1lKCl9KSx0aGlzLm4rK30sQW5pbWF0aW9uTG9vcC5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKHQpe3RoaXMudGltZXM9dGhpcy50aW1lcy5maWx0ZXIoZnVuY3Rpb24oaSl7cmV0dXJuIGkuaWQhPT10fSl9LG1vZHVsZS5leHBvcnRzPUFuaW1hdGlvbkxvb3A7XG59LHt9XSwxNDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIEV2ZW50ZWQ9cmVxdWlyZShcIi4uL3V0aWwvZXZlbnRlZFwiKSxhamF4PXJlcXVpcmUoXCIuLi91dGlsL2FqYXhcIiksYnJvd3Nlcj1yZXF1aXJlKFwiLi4vdXRpbC9icm93c2VyXCIpLG5vcm1hbGl6ZVVSTD1yZXF1aXJlKFwiLi4vdXRpbC9tYXBib3hcIikubm9ybWFsaXplU3ByaXRlVVJMLFNwcml0ZVBvc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy54PTAsdGhpcy55PTAsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5waXhlbFJhdGlvPTEsdGhpcy5zZGY9ITF9LEltYWdlU3ByaXRlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGkoaSxlKXt2YXIgYT10aGlzO3QuY2FsbCh0aGlzKSx0aGlzLmJhc2U9aSx0aGlzLnJldGluYT1icm93c2VyLmRldmljZVBpeGVsUmF0aW8+MSx0aGlzLnNldEV2ZW50ZWRQYXJlbnQoZSk7dmFyIHI9dGhpcy5yZXRpbmE/XCJAMnhcIjpcIlwiO2FqYXguZ2V0SlNPTihub3JtYWxpemVVUkwoaSxyLFwiLmpzb25cIiksZnVuY3Rpb24odCxpKXtyZXR1cm4gdD92b2lkIGEuZmlyZShcImVycm9yXCIse2Vycm9yOnR9KTooYS5kYXRhPWksdm9pZChhLmltZ0RhdGEmJmEuZmlyZShcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpKX0pLGFqYXguZ2V0SW1hZ2Uobm9ybWFsaXplVVJMKGkscixcIi5wbmdcIiksZnVuY3Rpb24odCxpKXtpZih0KXJldHVybiB2b2lkIGEuZmlyZShcImVycm9yXCIse2Vycm9yOnR9KTthLmltZ0RhdGE9YnJvd3Nlci5nZXRJbWFnZURhdGEoaSk7Zm9yKHZhciBlPTA7ZTxhLmltZ0RhdGEubGVuZ3RoO2UrPTQpe3ZhciByPWEuaW1nRGF0YVtlKzNdLzI1NTthLmltZ0RhdGFbZSswXSo9cixhLmltZ0RhdGFbZSsxXSo9cixhLmltZ0RhdGFbZSsyXSo9cn1hLndpZHRoPWkud2lkdGgsYS5kYXRhJiZhLmZpcmUoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pfSl9cmV0dXJuIHQmJihpLl9fcHJvdG9fXz10KSxpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhc2V9LGkucHJvdG90eXBlLmxvYWRlZD1mdW5jdGlvbigpe3JldHVybiEoIXRoaXMuZGF0YXx8IXRoaXMuaW1nRGF0YSl9LGkucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvPjEhPT10aGlzLnJldGluYSl7dmFyIGU9bmV3IGkodGhpcy5iYXNlKTtlLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKCl7dC5kYXRhPWUuZGF0YSx0LmltZ0RhdGE9ZS5pbWdEYXRhLHQud2lkdGg9ZS53aWR0aCx0LnJldGluYT1lLnJldGluYX0pfX0saS5wcm90b3R5cGUuZ2V0U3ByaXRlUG9zaXRpb249ZnVuY3Rpb24odCl7aWYoIXRoaXMubG9hZGVkKCkpcmV0dXJuIG5ldyBTcHJpdGVQb3NpdGlvbjt2YXIgaT10aGlzLmRhdGEmJnRoaXMuZGF0YVt0XTtyZXR1cm4gaSYmdGhpcy5pbWdEYXRhP2k6bmV3IFNwcml0ZVBvc2l0aW9ufSxpfShFdmVudGVkKTttb2R1bGUuZXhwb3J0cz1JbWFnZVNwcml0ZTtcbn0se1wiLi4vdXRpbC9hamF4XCI6MTkxLFwiLi4vdXRpbC9icm93c2VyXCI6MTkyLFwiLi4vdXRpbC9ldmVudGVkXCI6MjAwLFwiLi4vdXRpbC9tYXBib3hcIjoyMDh9XSwxNDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHN0eWxlU3BlYz1yZXF1aXJlKFwiLi4vc3R5bGUtc3BlYy9yZWZlcmVuY2UvbGF0ZXN0XCIpLHV0aWw9cmVxdWlyZShcIi4uL3V0aWwvdXRpbFwiKSxFdmVudGVkPXJlcXVpcmUoXCIuLi91dGlsL2V2ZW50ZWRcIiksdmFsaWRhdGVTdHlsZT1yZXF1aXJlKFwiLi92YWxpZGF0ZV9zdHlsZVwiKSxTdHlsZURlY2xhcmF0aW9uPXJlcXVpcmUoXCIuL3N0eWxlX2RlY2xhcmF0aW9uXCIpLFN0eWxlVHJhbnNpdGlvbj1yZXF1aXJlKFwiLi9zdHlsZV90cmFuc2l0aW9uXCIpLFRSQU5TSVRJT05fU1VGRklYPVwiLXRyYW5zaXRpb25cIixMaWdodD1mdW5jdGlvbih0KXtmdW5jdGlvbiBpKGkpe3QuY2FsbCh0aGlzKSx0aGlzLnByb3BlcnRpZXM9W1wiYW5jaG9yXCIsXCJjb2xvclwiLFwicG9zaXRpb25cIixcImludGVuc2l0eVwiXSx0aGlzLl9zcGVjaWZpY2F0aW9ucz1zdHlsZVNwZWMubGlnaHQsdGhpcy5zZXQoaSl9cmV0dXJuIHQmJihpLl9fcHJvdG9fXz10KSxpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt2YXIgaT10aGlzO2lmKCF0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLmxpZ2h0LHQpKXt0aGlzLl9kZWNsYXJhdGlvbnM9e30sdGhpcy5fdHJhbnNpdGlvbnM9e30sdGhpcy5fdHJhbnNpdGlvbk9wdGlvbnM9e30sdGhpcy5jYWxjdWxhdGVkPXt9LHQ9dXRpbC5leHRlbmQoe2FuY2hvcjp0aGlzLl9zcGVjaWZpY2F0aW9ucy5hbmNob3IuZGVmYXVsdCxjb2xvcjp0aGlzLl9zcGVjaWZpY2F0aW9ucy5jb2xvci5kZWZhdWx0LHBvc2l0aW9uOnRoaXMuX3NwZWNpZmljYXRpb25zLnBvc2l0aW9uLmRlZmF1bHQsaW50ZW5zaXR5OnRoaXMuX3NwZWNpZmljYXRpb25zLmludGVuc2l0eS5kZWZhdWx0fSx0KTtmb3IodmFyIGU9MCxvPWkucHJvcGVydGllcztlPG8ubGVuZ3RoO2UrPTEpe3ZhciBuPW9bZV07aS5fZGVjbGFyYXRpb25zW25dPW5ldyBTdHlsZURlY2xhcmF0aW9uKGkuX3NwZWNpZmljYXRpb25zW25dLHRbbl0pfXJldHVybiB0aGlzfX0saS5wcm90b3R5cGUuZ2V0TGlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm57YW5jaG9yOnRoaXMuZ2V0TGlnaHRQcm9wZXJ0eShcImFuY2hvclwiKSxjb2xvcjp0aGlzLmdldExpZ2h0UHJvcGVydHkoXCJjb2xvclwiKSxwb3NpdGlvbjp0aGlzLmdldExpZ2h0UHJvcGVydHkoXCJwb3NpdGlvblwiKSxpbnRlbnNpdHk6dGhpcy5nZXRMaWdodFByb3BlcnR5KFwiaW50ZW5zaXR5XCIpfX0saS5wcm90b3R5cGUuZ2V0TGlnaHRQcm9wZXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4gdXRpbC5lbmRzV2l0aCh0LFRSQU5TSVRJT05fU1VGRklYKT90aGlzLl90cmFuc2l0aW9uT3B0aW9uc1t0XTp0aGlzLl9kZWNsYXJhdGlvbnNbdF0mJnRoaXMuX2RlY2xhcmF0aW9uc1t0XS52YWx1ZX0saS5wcm90b3R5cGUuZ2V0TGlnaHRWYWx1ZT1mdW5jdGlvbih0LGkpe2lmKFwicG9zaXRpb25cIj09PXQpe3ZhciBlPXRoaXMuX3RyYW5zaXRpb25zW3RdLmNhbGN1bGF0ZShpKSxvPXV0aWwuc3BoZXJpY2FsVG9DYXJ0ZXNpYW4oZSk7cmV0dXJue3g6b1swXSx5Om9bMV0sejpvWzJdfX1yZXR1cm4gdGhpcy5fdHJhbnNpdGlvbnNbdF0uY2FsY3VsYXRlKGkpfSxpLnByb3RvdHlwZS5zZXRMaWdodD1mdW5jdGlvbih0KXt2YXIgaT10aGlzO2lmKCF0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLmxpZ2h0LHQpKWZvcih2YXIgZSBpbiB0KXt2YXIgbz10W2VdO3V0aWwuZW5kc1dpdGgoZSxUUkFOU0lUSU9OX1NVRkZJWCk/aS5fdHJhbnNpdGlvbk9wdGlvbnNbZV09bzpudWxsPT09b3x8dm9pZCAwPT09bz9kZWxldGUgaS5fZGVjbGFyYXRpb25zW2VdOmkuX2RlY2xhcmF0aW9uc1tlXT1uZXcgU3R5bGVEZWNsYXJhdGlvbihpLl9zcGVjaWZpY2F0aW9uc1tlXSxvKX19LGkucHJvdG90eXBlLnJlY2FsY3VsYXRlPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7Zm9yKHZhciBlIGluIGkuX2RlY2xhcmF0aW9ucylpLmNhbGN1bGF0ZWRbZV09aS5nZXRMaWdodFZhbHVlKGUse3pvb206dH0pfSxpLnByb3RvdHlwZS5fYXBwbHlMaWdodERlY2xhcmF0aW9uPWZ1bmN0aW9uKHQsaSxlLG8sbil7dmFyIHI9ZS50cmFuc2l0aW9uP3RoaXMuX3RyYW5zaXRpb25zW3RdOnZvaWQgMCxhPXRoaXMuX3NwZWNpZmljYXRpb25zW3RdO2lmKG51bGwhPT1pJiZ2b2lkIDAhPT1pfHwoaT1uZXcgU3R5bGVEZWNsYXJhdGlvbihhLGEuZGVmYXVsdCkpLCFyfHxyLmRlY2xhcmF0aW9uLmpzb24hPT1pLmpzb24pe3ZhciBzPXV0aWwuZXh0ZW5kKHtkdXJhdGlvbjozMDAsZGVsYXk6MH0sbyx0aGlzLmdldExpZ2h0UHJvcGVydHkodCtUUkFOU0lUSU9OX1NVRkZJWCkpLGw9dGhpcy5fdHJhbnNpdGlvbnNbdF09bmV3IFN0eWxlVHJhbnNpdGlvbihhLGkscixzKTtsLmluc3RhbnQoKXx8KGwubG9vcElEPW4uc2V0KGwuZW5kVGltZS1EYXRlLm5vdygpKSksciYmbi5jYW5jZWwoci5sb29wSUQpfX0saS5wcm90b3R5cGUudXBkYXRlTGlnaHRUcmFuc2l0aW9ucz1mdW5jdGlvbih0LGksZSl7dmFyIG8sbj10aGlzO2ZvcihvIGluIG4uX2RlY2xhcmF0aW9ucyluLl9hcHBseUxpZ2h0RGVjbGFyYXRpb24obyxuLl9kZWNsYXJhdGlvbnNbb10sdCxpLGUpfSxpLnByb3RvdHlwZS5fdmFsaWRhdGU9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdmFsaWRhdGVTdHlsZS5lbWl0RXJyb3JzKHRoaXMsdC5jYWxsKHZhbGlkYXRlU3R5bGUsdXRpbC5leHRlbmQoe3ZhbHVlOmksc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9LHN0eWxlU3BlYzpzdHlsZVNwZWN9KSkpfSxpfShFdmVudGVkKTttb2R1bGUuZXhwb3J0cz1MaWdodDtcbn0se1wiLi4vc3R5bGUtc3BlYy9yZWZlcmVuY2UvbGF0ZXN0XCI6MTE3LFwiLi4vdXRpbC9ldmVudGVkXCI6MjAwLFwiLi4vdXRpbC91dGlsXCI6MjEyLFwiLi9zdHlsZV9kZWNsYXJhdGlvblwiOjE0NyxcIi4vc3R5bGVfdHJhbnNpdGlvblwiOjE1NSxcIi4vdmFsaWRhdGVfc3R5bGVcIjoxNTZ9XSwxNDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIEV2ZW50ZWQ9cmVxdWlyZShcIi4uL3V0aWwvZXZlbnRlZFwiKSxTdHlsZUxheWVyPXJlcXVpcmUoXCIuL3N0eWxlX2xheWVyXCIpLEltYWdlU3ByaXRlPXJlcXVpcmUoXCIuL2ltYWdlX3Nwcml0ZVwiKSxMaWdodD1yZXF1aXJlKFwiLi9saWdodFwiKSxHbHlwaFNvdXJjZT1yZXF1aXJlKFwiLi4vc3ltYm9sL2dseXBoX3NvdXJjZVwiKSxTcHJpdGVBdGxhcz1yZXF1aXJlKFwiLi4vc3ltYm9sL3Nwcml0ZV9hdGxhc1wiKSxMaW5lQXRsYXM9cmVxdWlyZShcIi4uL3JlbmRlci9saW5lX2F0bGFzXCIpLHV0aWw9cmVxdWlyZShcIi4uL3V0aWwvdXRpbFwiKSxhamF4PXJlcXVpcmUoXCIuLi91dGlsL2FqYXhcIiksbWFwYm94PXJlcXVpcmUoXCIuLi91dGlsL21hcGJveFwiKSxicm93c2VyPXJlcXVpcmUoXCIuLi91dGlsL2Jyb3dzZXJcIiksRGlzcGF0Y2hlcj1yZXF1aXJlKFwiLi4vdXRpbC9kaXNwYXRjaGVyXCIpLEFuaW1hdGlvbkxvb3A9cmVxdWlyZShcIi4vYW5pbWF0aW9uX2xvb3BcIiksdmFsaWRhdGVTdHlsZT1yZXF1aXJlKFwiLi92YWxpZGF0ZV9zdHlsZVwiKSxTb3VyY2U9cmVxdWlyZShcIi4uL3NvdXJjZS9zb3VyY2VcIiksUXVlcnlGZWF0dXJlcz1yZXF1aXJlKFwiLi4vc291cmNlL3F1ZXJ5X2ZlYXR1cmVzXCIpLFNvdXJjZUNhY2hlPXJlcXVpcmUoXCIuLi9zb3VyY2Uvc291cmNlX2NhY2hlXCIpLHN0eWxlU3BlYz1yZXF1aXJlKFwiLi4vc3R5bGUtc3BlYy9yZWZlcmVuY2UvbGF0ZXN0XCIpLE1hcGJveEdMRnVuY3Rpb249cmVxdWlyZShcIi4uL3N0eWxlLXNwZWMvZnVuY3Rpb25cIiksZ2V0V29ya2VyUG9vbD1yZXF1aXJlKFwiLi4vdXRpbC9nbG9iYWxfd29ya2VyX3Bvb2xcIiksZGVyZWY9cmVxdWlyZShcIi4uL3N0eWxlLXNwZWMvZGVyZWZcIiksZGlmZj1yZXF1aXJlKFwiLi4vc3R5bGUtc3BlYy9kaWZmXCIpLHJ0bFRleHRQbHVnaW49cmVxdWlyZShcIi4uL3NvdXJjZS9ydGxfdGV4dF9wbHVnaW5cIiksc3VwcG9ydGVkRGlmZk9wZXJhdGlvbnM9dXRpbC5waWNrKGRpZmYub3BlcmF0aW9ucyxbXCJhZGRMYXllclwiLFwicmVtb3ZlTGF5ZXJcIixcInNldFBhaW50UHJvcGVydHlcIixcInNldExheW91dFByb3BlcnR5XCIsXCJzZXRGaWx0ZXJcIixcImFkZFNvdXJjZVwiLFwicmVtb3ZlU291cmNlXCIsXCJzZXRMYXllclpvb21SYW5nZVwiLFwic2V0TGlnaHRcIixcInNldFRyYW5zaXRpb25cIl0pLGlnbm9yZWREaWZmT3BlcmF0aW9ucz11dGlsLnBpY2soZGlmZi5vcGVyYXRpb25zLFtcInNldENlbnRlclwiLFwic2V0Wm9vbVwiLFwic2V0QmVhcmluZ1wiLFwic2V0UGl0Y2hcIl0pLFN0eWxlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGkpe3ZhciBvPXRoaXM7ZS5jYWxsKHRoaXMpLHRoaXMubWFwPXIsdGhpcy5hbmltYXRpb25Mb29wPXImJnIuYW5pbWF0aW9uTG9vcHx8bmV3IEFuaW1hdGlvbkxvb3AsdGhpcy5kaXNwYXRjaGVyPW5ldyBEaXNwYXRjaGVyKGdldFdvcmtlclBvb2woKSx0aGlzKSx0aGlzLnNwcml0ZUF0bGFzPW5ldyBTcHJpdGVBdGxhcygxMDI0LDEwMjQpLHRoaXMubGluZUF0bGFzPW5ldyBMaW5lQXRsYXMoMjU2LDUxMiksdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX29yZGVyPVtdLHRoaXMuc291cmNlQ2FjaGVzPXt9LHRoaXMuem9vbUhpc3Rvcnk9e30sdGhpcy5fbG9hZGVkPSExLHV0aWwuYmluZEFsbChbXCJfcmVkb1BsYWNlbWVudFwiXSx0aGlzKSx0aGlzLl9yZXNldFVwZGF0ZXMoKSxpPXV0aWwuZXh0ZW5kKHt2YWxpZGF0ZTpcInN0cmluZ1wiIT10eXBlb2YgdHx8IW1hcGJveC5pc01hcGJveFVSTCh0KX0saSksdGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMuZmlyZShcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pO3ZhciBzPXRoaXM7dGhpcy5fcnRsVGV4dFBsdWdpbkNhbGxiYWNrPXJ0bFRleHRQbHVnaW4ucmVnaXN0ZXJGb3JQbHVnaW5BdmFpbGFiaWxpdHkoZnVuY3Rpb24oZSl7cy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcImxvYWRSVExUZXh0UGx1Z2luXCIsZS5wbHVnaW5CbG9iVVJMLGUuZXJyb3JDYWxsYmFjayk7Zm9yKHZhciB0IGluIHMuc291cmNlQ2FjaGVzKXMuc291cmNlQ2FjaGVzW3RdLnJlbG9hZCgpfSk7dmFyIGE9ZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiB2b2lkIG8uZmlyZShcImVycm9yXCIse2Vycm9yOmV9KTtpZighaS52YWxpZGF0ZXx8IXZhbGlkYXRlU3R5bGUuZW1pdEVycm9ycyhvLHZhbGlkYXRlU3R5bGUodCkpKXtvLl9sb2FkZWQ9ITAsby5zdHlsZXNoZWV0PXQsby51cGRhdGVDbGFzc2VzKCk7Zm9yKHZhciByIGluIHQuc291cmNlcylvLmFkZFNvdXJjZShyLHQuc291cmNlc1tyXSxpKTt0LnNwcml0ZSYmKG8uc3ByaXRlPW5ldyBJbWFnZVNwcml0ZSh0LnNwcml0ZSxvKSksby5nbHlwaFNvdXJjZT1uZXcgR2x5cGhTb3VyY2UodC5nbHlwaHMpLG8uX3Jlc29sdmUoKSxvLmZpcmUoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pLG8uZmlyZShcInN0eWxlLmxvYWRcIil9fTtcInN0cmluZ1wiPT10eXBlb2YgdD9hamF4LmdldEpTT04obWFwYm94Lm5vcm1hbGl6ZVN0eWxlVVJMKHQpLGEpOmJyb3dzZXIuZnJhbWUoYS5iaW5kKHRoaXMsbnVsbCx0KSksdGhpcy5vbihcImRhdGFcIixmdW5jdGlvbihlKXtpZihcInNvdXJjZVwiPT09ZS5kYXRhVHlwZSYmXCJtZXRhZGF0YVwiPT09ZS5zb3VyY2VEYXRhVHlwZSl7dmFyIHQ9by5zb3VyY2VDYWNoZXNbZS5zb3VyY2VJZF0uZ2V0U291cmNlKCk7aWYodCYmdC52ZWN0b3JMYXllcklkcylmb3IodmFyIHIgaW4gby5fbGF5ZXJzKXt2YXIgaT1vLl9sYXllcnNbcl07aS5zb3VyY2U9PT10LmlkJiZvLl92YWxpZGF0ZUxheWVyKGkpfX19KX1yZXR1cm4gZSYmKHQuX19wcm90b19fPWUpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5wcm90b3R5cGUuX3ZhbGlkYXRlTGF5ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zb3VyY2VDYWNoZXNbZS5zb3VyY2VdO2lmKGUuc291cmNlTGF5ZXImJnQpe3ZhciByPXQuZ2V0U291cmNlKCk7KFwiZ2VvanNvblwiPT09ci50eXBlfHxyLnZlY3RvckxheWVySWRzJiZyLnZlY3RvckxheWVySWRzLmluZGV4T2YoZS5zb3VyY2VMYXllcik9PT0tMSkmJnRoaXMuZmlyZShcImVycm9yXCIse2Vycm9yOm5ldyBFcnJvcignU291cmNlIGxheWVyIFwiJytlLnNvdXJjZUxheWVyKydcIiBkb2VzIG5vdCBleGlzdCBvbiBzb3VyY2UgXCInK3IuaWQrJ1wiIGFzIHNwZWNpZmllZCBieSBzdHlsZSBsYXllciBcIicrZS5pZCsnXCInKX0pfX0sdC5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5fbG9hZGVkKXJldHVybiExO2lmKE9iamVjdC5rZXlzKHRoaXMuX3VwZGF0ZWRTb3VyY2VzKS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciB0IGluIGUuc291cmNlQ2FjaGVzKWlmKCFlLnNvdXJjZUNhY2hlc1t0XS5sb2FkZWQoKSlyZXR1cm4hMTtyZXR1cm4hKHRoaXMuc3ByaXRlJiYhdGhpcy5zcHJpdGUubG9hZGVkKCkpfSx0LnByb3RvdHlwZS5fcmVzb2x2ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1kZXJlZih0aGlzLnN0eWxlc2hlZXQubGF5ZXJzKTt0aGlzLl9vcmRlcj10Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pLHRoaXMuX2xheWVycz17fTtmb3IodmFyIHI9MCxpPXQ7cjxpLmxlbmd0aDtyKz0xKXt2YXIgbz1pW3JdO289U3R5bGVMYXllci5jcmVhdGUobyksby5zZXRFdmVudGVkUGFyZW50KGUse2xheWVyOntpZDpvLmlkfX0pLGUuX2xheWVyc1tvLmlkXT1vfXRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRMYXllcnNcIix0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpKSx0aGlzLmxpZ2h0PW5ldyBMaWdodCh0aGlzLnN0eWxlc2hlZXQubGlnaHQpfSx0LnByb3RvdHlwZS5fc2VyaWFsaXplTGF5ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9sYXllcnNbZV0uc2VyaWFsaXplKCl9KX0sdC5wcm90b3R5cGUuX2FwcGx5Q2xhc3Nlcz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYodGhpcy5fbG9hZGVkKXtlPWV8fFtdLHQ9dHx8e3RyYW5zaXRpb246ITB9O3ZhciBpPXRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9ufHx7fSxvPXRoaXMuX3VwZGF0ZWRBbGxQYWludFByb3BzP3RoaXMuX2xheWVyczp0aGlzLl91cGRhdGVkUGFpbnRQcm9wcztmb3IodmFyIHMgaW4gbyl7dmFyIGE9ci5fbGF5ZXJzW3NdLG49ci5fdXBkYXRlZFBhaW50UHJvcHNbc107aWYoci5fdXBkYXRlZEFsbFBhaW50UHJvcHN8fG4uYWxsKWEudXBkYXRlUGFpbnRUcmFuc2l0aW9ucyhlLHQsaSxyLmFuaW1hdGlvbkxvb3Asci56b29tSGlzdG9yeSk7ZWxzZSBmb3IodmFyIGwgaW4gbilyLl9sYXllcnNbc10udXBkYXRlUGFpbnRUcmFuc2l0aW9uKGwsZSx0LGksci5hbmltYXRpb25Mb29wLHIuem9vbUhpc3RvcnkpfXRoaXMubGlnaHQudXBkYXRlTGlnaHRUcmFuc2l0aW9ucyh0LGksdGhpcy5hbmltYXRpb25Mb29wKX19LHQucHJvdG90eXBlLl9yZWNhbGN1bGF0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuX2xvYWRlZCl7Zm9yKHZhciByIGluIHQuc291cmNlQ2FjaGVzKXQuc291cmNlQ2FjaGVzW3JdLnVzZWQ9ITE7dGhpcy5fdXBkYXRlWm9vbUhpc3RvcnkoZSk7Zm9yKHZhciBpPTAsbz10Ll9vcmRlcjtpPG8ubGVuZ3RoO2krPTEpe3ZhciBzPW9baV0sYT10Ll9sYXllcnNbc107YS5yZWNhbGN1bGF0ZShlKSwhYS5pc0hpZGRlbihlKSYmYS5zb3VyY2UmJih0LnNvdXJjZUNhY2hlc1thLnNvdXJjZV0udXNlZD0hMCl9dGhpcy5saWdodC5yZWNhbGN1bGF0ZShlKTt2YXIgbj0zMDA7TWF0aC5mbG9vcih0aGlzLnopIT09TWF0aC5mbG9vcihlKSYmdGhpcy5hbmltYXRpb25Mb29wLnNldChuKSx0aGlzLno9ZX19LHQucHJvdG90eXBlLl91cGRhdGVab29tSGlzdG9yeT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnpvb21IaXN0b3J5O3ZvaWQgMD09PXQubGFzdEludGVnZXJab29tJiYodC5sYXN0SW50ZWdlclpvb209TWF0aC5mbG9vcihlKSx0Lmxhc3RJbnRlZ2VyWm9vbVRpbWU9MCx0Lmxhc3Rab29tPWUpLE1hdGguZmxvb3IodC5sYXN0Wm9vbSk8TWF0aC5mbG9vcihlKT8odC5sYXN0SW50ZWdlclpvb209TWF0aC5mbG9vcihlKSx0Lmxhc3RJbnRlZ2VyWm9vbVRpbWU9RGF0ZS5ub3coKSk6TWF0aC5mbG9vcih0Lmxhc3Rab29tKT5NYXRoLmZsb29yKGUpJiYodC5sYXN0SW50ZWdlclpvb209TWF0aC5mbG9vcihlKzEpLHQubGFzdEludGVnZXJab29tVGltZT1EYXRlLm5vdygpKSx0Lmxhc3Rab29tPWV9LHQucHJvdG90eXBlLl9jaGVja0xvYWRlZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9sb2FkZWQpdGhyb3cgbmV3IEVycm9yKFwiU3R5bGUgaXMgbm90IGRvbmUgbG9hZGluZ1wiKX0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZih0aGlzLl9jaGFuZ2VkKXt2YXIgaT1PYmplY3Qua2V5cyh0aGlzLl91cGRhdGVkTGF5ZXJzKSxvPU9iamVjdC5rZXlzKHRoaXMuX3JlbW92ZWRMYXllcnMpOyhpLmxlbmd0aHx8by5sZW5ndGh8fHRoaXMuX3VwZGF0ZWRTeW1ib2xPcmRlcikmJnRoaXMuX3VwZGF0ZVdvcmtlckxheWVycyhpLG8pO2Zvcih2YXIgcyBpbiByLl91cGRhdGVkU291cmNlcyl7dmFyIGE9ci5fdXBkYXRlZFNvdXJjZXNbc107XCJyZWxvYWRcIj09PWE/ci5fcmVsb2FkU291cmNlKHMpOlwiY2xlYXJcIj09PWEmJnIuX2NsZWFyU291cmNlKHMpfXRoaXMuX2FwcGx5Q2xhc3NlcyhlLHQpLHRoaXMuX3Jlc2V0VXBkYXRlcygpLHRoaXMuZmlyZShcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSl9fSx0LnByb3RvdHlwZS5fdXBkYXRlV29ya2VyTGF5ZXJzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPXRoaXMuX3VwZGF0ZWRTeW1ib2xPcmRlcj90aGlzLl9vcmRlci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJzeW1ib2xcIj09PXIuX2xheWVyc1tlXS50eXBlfSk6bnVsbDt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwidXBkYXRlTGF5ZXJzXCIse2xheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnMoZSkscmVtb3ZlZElkczp0LHN5bWJvbE9yZGVyOml9KX0sdC5wcm90b3R5cGUuX3Jlc2V0VXBkYXRlcz1mdW5jdGlvbigpe3RoaXMuX2NoYW5nZWQ9ITEsdGhpcy5fdXBkYXRlZExheWVycz17fSx0aGlzLl9yZW1vdmVkTGF5ZXJzPXt9LHRoaXMuX3VwZGF0ZWRTeW1ib2xPcmRlcj0hMSx0aGlzLl91cGRhdGVkU291cmNlcz17fSx0aGlzLl91cGRhdGVkUGFpbnRQcm9wcz17fSx0aGlzLl91cGRhdGVkQWxsUGFpbnRQcm9wcz0hMX0sdC5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLl9jaGVja0xvYWRlZCgpLHZhbGlkYXRlU3R5bGUuZW1pdEVycm9ycyh0aGlzLHZhbGlkYXRlU3R5bGUoZSkpKXJldHVybiExO2U9dXRpbC5leHRlbmQoe30sZSksZS5sYXllcnM9ZGVyZWYoZS5sYXllcnMpO3ZhciByPWRpZmYodGhpcy5zZXJpYWxpemUoKSxlKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIShlLmNvbW1hbmQgaW4gaWdub3JlZERpZmZPcGVyYXRpb25zKX0pO2lmKDA9PT1yLmxlbmd0aClyZXR1cm4hMTt2YXIgaT1yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hKGUuY29tbWFuZCBpbiBzdXBwb3J0ZWREaWZmT3BlcmF0aW9ucyl9KTtpZihpLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcihcIlVuaW1wbGVtZW50ZWQ6IFwiK2kubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbW1hbmR9KS5qb2luKFwiLCBcIikrXCIuXCIpO3JldHVybiByLmZvckVhY2goZnVuY3Rpb24oZSl7XCJzZXRUcmFuc2l0aW9uXCIhPT1lLmNvbW1hbmQmJnRbZS5jb21tYW5kXS5hcHBseSh0LGUuYXJncyl9KSx0aGlzLnN0eWxlc2hlZXQ9ZSwhMH0sdC5wcm90b3R5cGUuYWRkU291cmNlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksdm9pZCAwIT09dGhpcy5zb3VyY2VDYWNoZXNbZV0pdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgaXMgYWxyZWFkeSBhIHNvdXJjZSB3aXRoIHRoaXMgSURcIik7aWYoIXQudHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgdHlwZSBwcm9wZXJ0eSBtdXN0IGJlIGRlZmluZWQsIGJ1dCB0aGUgb25seSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgd2VyZSBnaXZlbjogXCIrT2JqZWN0LmtleXModCkrXCIuXCIpO3ZhciBvPVtcInZlY3RvclwiLFwicmFzdGVyXCIsXCJnZW9qc29uXCIsXCJ2aWRlb1wiLFwiaW1hZ2VcIixcImNhbnZhc1wiXSxzPW8uaW5kZXhPZih0LnR5cGUpPj0wO2lmKCFzfHwhdGhpcy5fdmFsaWRhdGUodmFsaWRhdGVTdHlsZS5zb3VyY2UsXCJzb3VyY2VzLlwiK2UsdCxudWxsLHIpKXt2YXIgYT10aGlzLnNvdXJjZUNhY2hlc1tlXT1uZXcgU291cmNlQ2FjaGUoZSx0LHRoaXMuZGlzcGF0Y2hlcik7YS5zdHlsZT10aGlzLGEuc2V0RXZlbnRlZFBhcmVudCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJue2lzU291cmNlTG9hZGVkOmkubG9hZGVkKCksc291cmNlOmEuc2VyaWFsaXplKCksc291cmNlSWQ6ZX19KSxhLm9uQWRkKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwfX0sdC5wcm90b3R5cGUucmVtb3ZlU291cmNlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksdm9pZCAwPT09dGhpcy5zb3VyY2VDYWNoZXNbZV0pdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgaXMgbm8gc291cmNlIHdpdGggdGhpcyBJRFwiKTt2YXIgdD10aGlzLnNvdXJjZUNhY2hlc1tlXTtkZWxldGUgdGhpcy5zb3VyY2VDYWNoZXNbZV0sZGVsZXRlIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2VdLHQuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0LmNsZWFyVGlsZXMoKSx0Lm9uUmVtb3ZlJiZ0Lm9uUmVtb3ZlKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwfSx0LnByb3RvdHlwZS5nZXRTb3VyY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc291cmNlQ2FjaGVzW2VdJiZ0aGlzLnNvdXJjZUNhY2hlc1tlXS5nZXRTb3VyY2UoKX0sdC5wcm90b3R5cGUuYWRkTGF5ZXI9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIGk9ZS5pZDtpZihcIm9iamVjdFwiPT10eXBlb2YgZS5zb3VyY2UmJih0aGlzLmFkZFNvdXJjZShpLGUuc291cmNlKSxlPXV0aWwuZXh0ZW5kKGUse3NvdXJjZTppfSkpLCF0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLmxheWVyLFwibGF5ZXJzLlwiK2ksZSx7YXJyYXlJbmRleDotMX0scikpe3ZhciBvPVN0eWxlTGF5ZXIuY3JlYXRlKGUpO3RoaXMuX3ZhbGlkYXRlTGF5ZXIobyksby5zZXRFdmVudGVkUGFyZW50KHRoaXMse2xheWVyOntpZDppfX0pO3ZhciBzPXQ/dGhpcy5fb3JkZXIuaW5kZXhPZih0KTp0aGlzLl9vcmRlci5sZW5ndGg7aWYodGhpcy5fb3JkZXIuc3BsaWNlKHMsMCxpKSx0aGlzLl9sYXllcnNbaV09byx0aGlzLl9yZW1vdmVkTGF5ZXJzW2ldJiZvLnNvdXJjZSl7dmFyIGE9dGhpcy5fcmVtb3ZlZExheWVyc1tpXTtkZWxldGUgdGhpcy5fcmVtb3ZlZExheWVyc1tpXSx0aGlzLl91cGRhdGVkU291cmNlc1tvLnNvdXJjZV09YS50eXBlIT09by50eXBlP1wiY2xlYXJcIjpcInJlbG9hZFwifXRoaXMuX3VwZGF0ZUxheWVyKG8pLFwic3ltYm9sXCI9PT1vLnR5cGUmJih0aGlzLl91cGRhdGVkU3ltYm9sT3JkZXI9ITApLHRoaXMudXBkYXRlQ2xhc3NlcyhpKX19LHQucHJvdG90eXBlLm1vdmVMYXllcj1mdW5jdGlvbihlLHQpe3RoaXMuX2NoZWNrTG9hZGVkKCksdGhpcy5fY2hhbmdlZD0hMDt2YXIgcj10aGlzLl9sYXllcnNbZV07aWYoIXIpcmV0dXJuIHZvaWQgdGhpcy5maXJlKFwiZXJyb3JcIix7ZXJyb3I6bmV3IEVycm9yKFwiVGhlIGxheWVyICdcIitlK1wiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBtb3ZlZC5cIil9KTt2YXIgaT10aGlzLl9vcmRlci5pbmRleE9mKGUpO3RoaXMuX29yZGVyLnNwbGljZShpLDEpO3ZhciBvPXQ/dGhpcy5fb3JkZXIuaW5kZXhPZih0KTp0aGlzLl9vcmRlci5sZW5ndGg7dGhpcy5fb3JkZXIuc3BsaWNlKG8sMCxlKSxcInN5bWJvbFwiPT09ci50eXBlJiYodGhpcy5fdXBkYXRlZFN5bWJvbE9yZGVyPSEwLHIuc291cmNlJiYhdGhpcy5fdXBkYXRlZFNvdXJjZXNbci5zb3VyY2VdJiYodGhpcy5fdXBkYXRlZFNvdXJjZXNbci5zb3VyY2VdPVwicmVsb2FkXCIpKX0sdC5wcm90b3R5cGUucmVtb3ZlTGF5ZXI9ZnVuY3Rpb24oZSl7dGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgdD10aGlzLl9sYXllcnNbZV07aWYoIXQpcmV0dXJuIHZvaWQgdGhpcy5maXJlKFwiZXJyb3JcIix7ZXJyb3I6bmV3IEVycm9yKFwiVGhlIGxheWVyICdcIitlK1wiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSByZW1vdmVkLlwiKX0pO3Quc2V0RXZlbnRlZFBhcmVudChudWxsKTt2YXIgcj10aGlzLl9vcmRlci5pbmRleE9mKGUpO3RoaXMuX29yZGVyLnNwbGljZShyLDEpLFwic3ltYm9sXCI9PT10LnR5cGUmJih0aGlzLl91cGRhdGVkU3ltYm9sT3JkZXI9ITApLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fcmVtb3ZlZExheWVyc1tlXT10LGRlbGV0ZSB0aGlzLl9sYXllcnNbZV0sZGVsZXRlIHRoaXMuX3VwZGF0ZWRMYXllcnNbZV0sZGVsZXRlIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzW2VdfSx0LnByb3RvdHlwZS5nZXRMYXllcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbGF5ZXJzW2VdfSx0LnByb3RvdHlwZS5zZXRMYXllclpvb21SYW5nZT1mdW5jdGlvbihlLHQscil7dGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgaT10aGlzLmdldExheWVyKGUpO3JldHVybiBpP3ZvaWQoaS5taW56b29tPT09dCYmaS5tYXh6b29tPT09cnx8KG51bGwhPXQmJihpLm1pbnpvb209dCksbnVsbCE9ciYmKGkubWF4em9vbT1yKSx0aGlzLl91cGRhdGVMYXllcihpKSkpOnZvaWQgdGhpcy5maXJlKFwiZXJyb3JcIix7ZXJyb3I6bmV3IEVycm9yKFwiVGhlIGxheWVyICdcIitlK1wiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBoYXZlIHpvb20gZXh0ZW50LlwiKX0pfSx0LnByb3RvdHlwZS5zZXRGaWx0ZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jaGVja0xvYWRlZCgpO3ZhciByPXRoaXMuZ2V0TGF5ZXIoZSk7cmV0dXJuIHI/dm9pZChudWxsIT09dCYmdm9pZCAwIT09dCYmdGhpcy5fdmFsaWRhdGUodmFsaWRhdGVTdHlsZS5maWx0ZXIsXCJsYXllcnMuXCIrci5pZCtcIi5maWx0ZXJcIix0KXx8dXRpbC5kZWVwRXF1YWwoci5maWx0ZXIsdCl8fChyLmZpbHRlcj11dGlsLmNsb25lKHQpLHRoaXMuX3VwZGF0ZUxheWVyKHIpKSk6dm9pZCB0aGlzLmZpcmUoXCJlcnJvclwiLHtlcnJvcjpuZXcgRXJyb3IoXCJUaGUgbGF5ZXIgJ1wiK2UrXCInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIGZpbHRlcmVkLlwiKX0pfSx0LnByb3RvdHlwZS5nZXRGaWx0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHV0aWwuY2xvbmUodGhpcy5nZXRMYXllcihlKS5maWx0ZXIpfSx0LnByb3RvdHlwZS5zZXRMYXlvdXRQcm9wZXJ0eT1mdW5jdGlvbihlLHQscil7dGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgaT10aGlzLmdldExheWVyKGUpO3JldHVybiBpP3ZvaWQodXRpbC5kZWVwRXF1YWwoaS5nZXRMYXlvdXRQcm9wZXJ0eSh0KSxyKXx8KGkuc2V0TGF5b3V0UHJvcGVydHkodCxyKSx0aGlzLl91cGRhdGVMYXllcihpKSkpOnZvaWQgdGhpcy5maXJlKFwiZXJyb3JcIix7ZXJyb3I6bmV3IEVycm9yKFwiVGhlIGxheWVyICdcIitlK1wiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBzdHlsZWQuXCIpfSl9LHQucHJvdG90eXBlLmdldExheW91dFByb3BlcnR5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2V0TGF5ZXIoZSkuZ2V0TGF5b3V0UHJvcGVydHkodCl9LHQucHJvdG90eXBlLnNldFBhaW50UHJvcGVydHk9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgbz10aGlzLmdldExheWVyKGUpO2lmKCFvKXJldHVybiB2b2lkIHRoaXMuZmlyZShcImVycm9yXCIse2Vycm9yOm5ldyBFcnJvcihcIlRoZSBsYXllciAnXCIrZStcIicgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgc3R5bGVkLlwiKX0pO2lmKCF1dGlsLmRlZXBFcXVhbChvLmdldFBhaW50UHJvcGVydHkodCxpKSxyKSl7dmFyIHM9by5pc1BhaW50VmFsdWVGZWF0dXJlQ29uc3RhbnQodCk7by5zZXRQYWludFByb3BlcnR5KHQscixpKTt2YXIgYT0hKHImJk1hcGJveEdMRnVuY3Rpb24uaXNGdW5jdGlvbkRlZmluaXRpb24ocikmJlwiJHpvb21cIiE9PXIucHJvcGVydHkmJnZvaWQgMCE9PXIucHJvcGVydHkpO2EmJnN8fHRoaXMuX3VwZGF0ZUxheWVyKG8pLHRoaXMudXBkYXRlQ2xhc3NlcyhlLHQpfX0sdC5wcm90b3R5cGUuZ2V0UGFpbnRQcm9wZXJ0eT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuZ2V0TGF5ZXIoZSkuZ2V0UGFpbnRQcm9wZXJ0eSh0LHIpfSx0LnByb3RvdHlwZS5nZXRUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHV0aWwuZXh0ZW5kKHtkdXJhdGlvbjozMDAsZGVsYXk6MH0sdGhpcy5zdHlsZXNoZWV0JiZ0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbil9LHQucHJvdG90eXBlLnVwZGF0ZUNsYXNzZXM9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9jaGFuZ2VkPSEwLGUpe3ZhciByPXRoaXMuX3VwZGF0ZWRQYWludFByb3BzO3JbZV18fChyW2VdPXt9KSxyW2VdW3R8fFwiYWxsXCJdPSEwfWVsc2UgdGhpcy5fdXBkYXRlZEFsbFBhaW50UHJvcHM9ITB9LHQucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHV0aWwuZmlsdGVyT2JqZWN0KHt2ZXJzaW9uOnRoaXMuc3R5bGVzaGVldC52ZXJzaW9uLG5hbWU6dGhpcy5zdHlsZXNoZWV0Lm5hbWUsbWV0YWRhdGE6dGhpcy5zdHlsZXNoZWV0Lm1ldGFkYXRhLGxpZ2h0OnRoaXMuc3R5bGVzaGVldC5saWdodCxjZW50ZXI6dGhpcy5zdHlsZXNoZWV0LmNlbnRlcix6b29tOnRoaXMuc3R5bGVzaGVldC56b29tLGJlYXJpbmc6dGhpcy5zdHlsZXNoZWV0LmJlYXJpbmcscGl0Y2g6dGhpcy5zdHlsZXNoZWV0LnBpdGNoLHNwcml0ZTp0aGlzLnN0eWxlc2hlZXQuc3ByaXRlLGdseXBoczp0aGlzLnN0eWxlc2hlZXQuZ2x5cGhzLHRyYW5zaXRpb246dGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24sc291cmNlczp1dGlsLm1hcE9iamVjdCh0aGlzLnNvdXJjZUNhY2hlcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5zZXJpYWxpemUoKX0pLGxheWVyczp0aGlzLl9vcmRlci5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUuX2xheWVyc1t0XS5zZXJpYWxpemUoKX0pfSxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZX0pfSx0LnByb3RvdHlwZS5fdXBkYXRlTGF5ZXI9ZnVuY3Rpb24oZSl7dGhpcy5fdXBkYXRlZExheWVyc1tlLmlkXT0hMCxlLnNvdXJjZSYmIXRoaXMuX3VwZGF0ZWRTb3VyY2VzW2Uuc291cmNlXSYmKHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2Uuc291cmNlXT1cInJlbG9hZFwiKSx0aGlzLl9jaGFuZ2VkPSEwfSx0LnByb3RvdHlwZS5fZmxhdHRlblJlbmRlcmVkRmVhdHVyZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMscj1bXSxpPXRoaXMuX29yZGVyLmxlbmd0aC0xO2k+PTA7aS0tKWZvcih2YXIgbz10Ll9vcmRlcltpXSxzPTAsYT1lO3M8YS5sZW5ndGg7cys9MSl7dmFyIG49YVtzXSxsPW5bb107aWYobClmb3IodmFyIGQ9MCx1PWw7ZDx1Lmxlbmd0aDtkKz0xKXt2YXIgaD11W2RdO3IucHVzaChoKX19cmV0dXJuIHJ9LHQucHJvdG90eXBlLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcz1mdW5jdGlvbihlLHQscixpKXt2YXIgbz10aGlzO3QmJnQuZmlsdGVyJiZ0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLmZpbHRlcixcInF1ZXJ5UmVuZGVyZWRGZWF0dXJlcy5maWx0ZXJcIix0LmZpbHRlcik7dmFyIHM9e307aWYodCYmdC5sYXllcnMpe2lmKCFBcnJheS5pc0FycmF5KHQubGF5ZXJzKSlyZXR1cm4gdm9pZCB0aGlzLmZpcmUoXCJlcnJvclwiLHtlcnJvcjpcInBhcmFtZXRlcnMubGF5ZXJzIG11c3QgYmUgYW4gQXJyYXkuXCJ9KTtmb3IodmFyIGE9MCxuPXQubGF5ZXJzO2E8bi5sZW5ndGg7YSs9MSl7dmFyIGw9blthXSxkPW8uX2xheWVyc1tsXTtpZighZClyZXR1cm4gdm9pZCBvLmZpcmUoXCJlcnJvclwiLHtlcnJvcjpcIlRoZSBsYXllciAnXCIrbCtcIicgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgcXVlcmllZCBmb3IgZmVhdHVyZXMuXCJ9KTtzW2Quc291cmNlXT0hMH19dmFyIHU9W107Zm9yKHZhciBoIGluIG8uc291cmNlQ2FjaGVzKWlmKCF0LmxheWVyc3x8c1toXSl7dmFyIGM9UXVlcnlGZWF0dXJlcy5yZW5kZXJlZChvLnNvdXJjZUNhY2hlc1toXSxvLl9sYXllcnMsZSx0LHIsaSk7dS5wdXNoKGMpfXJldHVybiB0aGlzLl9mbGF0dGVuUmVuZGVyZWRGZWF0dXJlcyh1KX0sdC5wcm90b3R5cGUucXVlcnlTb3VyY2VGZWF0dXJlcz1mdW5jdGlvbihlLHQpe3QmJnQuZmlsdGVyJiZ0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLmZpbHRlcixcInF1ZXJ5U291cmNlRmVhdHVyZXMuZmlsdGVyXCIsdC5maWx0ZXIpO3ZhciByPXRoaXMuc291cmNlQ2FjaGVzW2VdO3JldHVybiByP1F1ZXJ5RmVhdHVyZXMuc291cmNlKHIsdCk6W119LHQucHJvdG90eXBlLmFkZFNvdXJjZVR5cGU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBTb3VyY2UuZ2V0VHlwZShlKT9yKG5ldyBFcnJvcignQSBzb3VyY2UgdHlwZSBjYWxsZWQgXCInK2UrJ1wiIGFscmVhZHkgZXhpc3RzLicpKTooU291cmNlLnNldFR5cGUoZSx0KSx0LndvcmtlclNvdXJjZVVSTD92b2lkIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJsb2FkV29ya2VyU291cmNlXCIse25hbWU6ZSx1cmw6dC53b3JrZXJTb3VyY2VVUkx9LHIpOnIobnVsbCxudWxsKSl9LHQucHJvdG90eXBlLmdldExpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlnaHQuZ2V0TGlnaHQoKX0sdC5wcm90b3R5cGUuc2V0TGlnaHQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jaGVja0xvYWRlZCgpO3ZhciByPXRoaXMubGlnaHQuZ2V0TGlnaHQoKSxpPSExO2Zvcih2YXIgbyBpbiBlKWlmKCF1dGlsLmRlZXBFcXVhbChlW29dLHJbb10pKXtpPSEwO2JyZWFrfWlmKGkpe3ZhciBzPXRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9ufHx7fTt0aGlzLmxpZ2h0LnNldExpZ2h0KGUpLHRoaXMubGlnaHQudXBkYXRlTGlnaHRUcmFuc2l0aW9ucyh0fHx7dHJhbnNpdGlvbjohMH0scyx0aGlzLmFuaW1hdGlvbkxvb3ApfX0sdC5wcm90b3R5cGUuX3ZhbGlkYXRlPWZ1bmN0aW9uKGUsdCxyLGksbyl7cmV0dXJuKCFvfHxvLnZhbGlkYXRlIT09ITEpJiZ2YWxpZGF0ZVN0eWxlLmVtaXRFcnJvcnModGhpcyxlLmNhbGwodmFsaWRhdGVTdHlsZSx1dGlsLmV4dGVuZCh7a2V5OnQsc3R5bGU6dGhpcy5zZXJpYWxpemUoKSx2YWx1ZTpyLHN0eWxlU3BlYzpzdHlsZVNwZWN9LGkpKSl9LHQucHJvdG90eXBlLl9yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3J0bFRleHRQbHVnaW4uZXZlbnRlZC5vZmYoXCJwbHVnaW5BdmFpbGFibGVcIix0aGlzLl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2spO2Zvcih2YXIgdCBpbiBlLnNvdXJjZUNhY2hlcyllLnNvdXJjZUNhY2hlc1t0XS5jbGVhclRpbGVzKCk7dGhpcy5kaXNwYXRjaGVyLnJlbW92ZSgpfSx0LnByb3RvdHlwZS5fY2xlYXJTb3VyY2U9ZnVuY3Rpb24oZSl7dGhpcy5zb3VyY2VDYWNoZXNbZV0uY2xlYXJUaWxlcygpfSx0LnByb3RvdHlwZS5fcmVsb2FkU291cmNlPWZ1bmN0aW9uKGUpe3RoaXMuc291cmNlQ2FjaGVzW2VdLnJlbG9hZCgpfSx0LnByb3RvdHlwZS5fdXBkYXRlU291cmNlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2Zvcih2YXIgciBpbiB0LnNvdXJjZUNhY2hlcyl0LnNvdXJjZUNhY2hlc1tyXS51cGRhdGUoZSl9LHQucHJvdG90eXBlLl9yZWRvUGxhY2VtZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztmb3IodmFyIHQgaW4gZS5zb3VyY2VDYWNoZXMpZS5zb3VyY2VDYWNoZXNbdF0ucmVkb1BsYWNlbWVudCgpfSx0LnByb3RvdHlwZS5nZXRJY29ucz1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyxvPWZ1bmN0aW9uKCl7aS5zcHJpdGVBdGxhcy5zZXRTcHJpdGUoaS5zcHJpdGUpLGkuc3ByaXRlQXRsYXMuYWRkSWNvbnModC5pY29ucyxyKX07dGhpcy5zcHJpdGUubG9hZGVkKCk/bygpOnRoaXMuc3ByaXRlLm9uKFwiZGF0YVwiLG8pfSx0LnByb3RvdHlwZS5nZXRHbHlwaHM9ZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGkoZSx0LGkpe2UmJmNvbnNvbGUuZXJyb3IoZSksbltpXT10LGEtLSwwPT09YSYmcihudWxsLG4pfXZhciBvPXRoaXMscz10LnN0YWNrcyxhPU9iamVjdC5rZXlzKHMpLmxlbmd0aCxuPXt9O2Zvcih2YXIgbCBpbiBzKW8uZ2x5cGhTb3VyY2UuZ2V0U2ltcGxlR2x5cGhzKGwsc1tsXSx0LnVpZCxpKX0sdH0oRXZlbnRlZCk7bW9kdWxlLmV4cG9ydHM9U3R5bGU7XG59LHtcIi4uL3JlbmRlci9saW5lX2F0bGFzXCI6NzYsXCIuLi9zb3VyY2UvcXVlcnlfZmVhdHVyZXNcIjo4OCxcIi4uL3NvdXJjZS9ydGxfdGV4dF9wbHVnaW5cIjo5MCxcIi4uL3NvdXJjZS9zb3VyY2VcIjo5MSxcIi4uL3NvdXJjZS9zb3VyY2VfY2FjaGVcIjo5MixcIi4uL3N0eWxlLXNwZWMvZGVyZWZcIjoxMDAsXCIuLi9zdHlsZS1zcGVjL2RpZmZcIjoxMDEsXCIuLi9zdHlsZS1zcGVjL2Z1bmN0aW9uXCI6MTA1LFwiLi4vc3R5bGUtc3BlYy9yZWZlcmVuY2UvbGF0ZXN0XCI6MTE3LFwiLi4vc3ltYm9sL2dseXBoX3NvdXJjZVwiOjE2NSxcIi4uL3N5bWJvbC9zcHJpdGVfYXRsYXNcIjoxNzAsXCIuLi91dGlsL2FqYXhcIjoxOTEsXCIuLi91dGlsL2Jyb3dzZXJcIjoxOTIsXCIuLi91dGlsL2Rpc3BhdGNoZXJcIjoxOTgsXCIuLi91dGlsL2V2ZW50ZWRcIjoyMDAsXCIuLi91dGlsL2dsb2JhbF93b3JrZXJfcG9vbFwiOjIwMixcIi4uL3V0aWwvbWFwYm94XCI6MjA4LFwiLi4vdXRpbC91dGlsXCI6MjEyLFwiLi9hbmltYXRpb25fbG9vcFwiOjE0MyxcIi4vaW1hZ2Vfc3ByaXRlXCI6MTQ0LFwiLi9saWdodFwiOjE0NSxcIi4vc3R5bGVfbGF5ZXJcIjoxNDgsXCIuL3ZhbGlkYXRlX3N0eWxlXCI6MTU2fV0sMTQ3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBjcmVhdGVGdW5jdGlvbj1yZXF1aXJlKFwiLi4vc3R5bGUtc3BlYy9mdW5jdGlvblwiKSx1dGlsPXJlcXVpcmUoXCIuLi91dGlsL3V0aWxcIiksU3R5bGVEZWNsYXJhdGlvbj1mdW5jdGlvbih0LGkpe3ZhciBuPXRoaXM7aWYodGhpcy52YWx1ZT11dGlsLmNsb25lKGkpLHRoaXMuaXNGdW5jdGlvbj1jcmVhdGVGdW5jdGlvbi5pc0Z1bmN0aW9uRGVmaW5pdGlvbihpKSx0aGlzLmpzb249SlNPTi5zdHJpbmdpZnkodGhpcy52YWx1ZSksdGhpcy5taW5pbXVtPXQubWluaW11bSx0aGlzLmZ1bmN0aW9uPWNyZWF0ZUZ1bmN0aW9uKHRoaXMudmFsdWUsdCksdGhpcy5pc0ZlYXR1cmVDb25zdGFudD10aGlzLmZ1bmN0aW9uLmlzRmVhdHVyZUNvbnN0YW50LHRoaXMuaXNab29tQ29uc3RhbnQ9dGhpcy5mdW5jdGlvbi5pc1pvb21Db25zdGFudCwhdGhpcy5pc0ZlYXR1cmVDb25zdGFudCYmIXRoaXMuaXNab29tQ29uc3RhbnQpe3RoaXMuc3RvcFpvb21MZXZlbHM9W107Zm9yKHZhciBvPVtdLGU9MCxzPW4udmFsdWUuc3RvcHM7ZTxzLmxlbmd0aDtlKz0xKXt2YXIgdT1zW2VdLGE9dVswXS56b29tO24uc3RvcFpvb21MZXZlbHMuaW5kZXhPZihhKTwwJiYobi5zdG9wWm9vbUxldmVscy5wdXNoKGEpLG8ucHVzaChbYSxvLmxlbmd0aF0pKX10aGlzLmZ1bmN0aW9uSW50ZXJwb2xhdGlvblQ9Y3JlYXRlRnVuY3Rpb24oe3R5cGU6XCJleHBvbmVudGlhbFwiLHN0b3BzOm8sYmFzZTppLmJhc2V9LHt0eXBlOlwibnVtYmVyXCJ9KX19O1N0eWxlRGVjbGFyYXRpb24ucHJvdG90eXBlLmNhbGN1bGF0ZT1mdW5jdGlvbih0LGkpe3ZhciBuPXRoaXMuZnVuY3Rpb24odCYmdC56b29tLGl8fHt9KTtyZXR1cm4gdm9pZCAwIT09dGhpcy5taW5pbXVtJiZuPHRoaXMubWluaW11bT90aGlzLm1pbmltdW06bn0sU3R5bGVEZWNsYXJhdGlvbi5wcm90b3R5cGUuY2FsY3VsYXRlSW50ZXJwb2xhdGlvblQ9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5mdW5jdGlvbkludGVycG9sYXRpb25UKHQmJnQuem9vbSxpfHx7fSl9LG1vZHVsZS5leHBvcnRzPVN0eWxlRGVjbGFyYXRpb247XG59LHtcIi4uL3N0eWxlLXNwZWMvZnVuY3Rpb25cIjoxMDUsXCIuLi91dGlsL3V0aWxcIjoyMTJ9XSwxNDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25WYWx1ZSh0KXtyZXR1cm4gdC52YWx1ZX12YXIgdXRpbD1yZXF1aXJlKFwiLi4vdXRpbC91dGlsXCIpLFN0eWxlVHJhbnNpdGlvbj1yZXF1aXJlKFwiLi9zdHlsZV90cmFuc2l0aW9uXCIpLFN0eWxlRGVjbGFyYXRpb249cmVxdWlyZShcIi4vc3R5bGVfZGVjbGFyYXRpb25cIiksc3R5bGVTcGVjPXJlcXVpcmUoXCIuLi9zdHlsZS1zcGVjL3JlZmVyZW5jZS9sYXRlc3RcIiksdmFsaWRhdGVTdHlsZT1yZXF1aXJlKFwiLi92YWxpZGF0ZV9zdHlsZVwiKSxwYXJzZUNvbG9yPXJlcXVpcmUoXCIuLy4uL3N0eWxlLXNwZWMvdXRpbC9wYXJzZV9jb2xvclwiKSxFdmVudGVkPXJlcXVpcmUoXCIuLi91dGlsL2V2ZW50ZWRcIiksVFJBTlNJVElPTl9TVUZGSVg9XCItdHJhbnNpdGlvblwiLFN0eWxlTGF5ZXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaShpKXt2YXIgYT10aGlzO3QuY2FsbCh0aGlzKSx0aGlzLmlkPWkuaWQsdGhpcy5tZXRhZGF0YT1pLm1ldGFkYXRhLHRoaXMudHlwZT1pLnR5cGUsdGhpcy5zb3VyY2U9aS5zb3VyY2UsdGhpcy5zb3VyY2VMYXllcj1pW1wic291cmNlLWxheWVyXCJdLHRoaXMubWluem9vbT1pLm1pbnpvb20sdGhpcy5tYXh6b29tPWkubWF4em9vbSx0aGlzLmZpbHRlcj1pLmZpbHRlcix0aGlzLnBhaW50PXt9LHRoaXMubGF5b3V0PXt9LHRoaXMuX3BhaW50U3BlY2lmaWNhdGlvbnM9c3R5bGVTcGVjW1wicGFpbnRfXCIrdGhpcy50eXBlXSx0aGlzLl9sYXlvdXRTcGVjaWZpY2F0aW9ucz1zdHlsZVNwZWNbXCJsYXlvdXRfXCIrdGhpcy50eXBlXSx0aGlzLl9wYWludFRyYW5zaXRpb25zPXt9LHRoaXMuX3BhaW50VHJhbnNpdGlvbk9wdGlvbnM9e30sdGhpcy5fcGFpbnREZWNsYXJhdGlvbnM9e30sdGhpcy5fbGF5b3V0RGVjbGFyYXRpb25zPXt9LHRoaXMuX2xheW91dEZ1bmN0aW9ucz17fTt2YXIgZSxuLG89e3ZhbGlkYXRlOiExfTtmb3IodmFyIHIgaW4gaSl7dmFyIHM9ci5tYXRjaCgvXnBhaW50KD86XFwuKC4qKSk/JC8pO2lmKHMpe3ZhciBsPXNbMV18fFwiXCI7Zm9yKGUgaW4gaVtyXSlhLnNldFBhaW50UHJvcGVydHkoZSxpW3JdW2VdLGwsbyl9fWZvcihuIGluIGkubGF5b3V0KWEuc2V0TGF5b3V0UHJvcGVydHkobixpLmxheW91dFtuXSxvKTtmb3IoZSBpbiBhLl9wYWludFNwZWNpZmljYXRpb25zKWEucGFpbnRbZV09YS5nZXRQYWludFZhbHVlKGUpO2ZvcihuIGluIGEuX2xheW91dFNwZWNpZmljYXRpb25zKWEuX3VwZGF0ZUxheW91dFZhbHVlKG4pfXJldHVybiB0JiYoaS5fX3Byb3RvX189dCksaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksaS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5zZXRMYXlvdXRQcm9wZXJ0eT1mdW5jdGlvbih0LGksYSl7aWYobnVsbD09aSlkZWxldGUgdGhpcy5fbGF5b3V0RGVjbGFyYXRpb25zW3RdO2Vsc2V7dmFyIGU9XCJsYXllcnMuXCIrdGhpcy5pZCtcIi5sYXlvdXQuXCIrdDtpZih0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLmxheW91dFByb3BlcnR5LGUsdCxpLGEpKXJldHVybjt0aGlzLl9sYXlvdXREZWNsYXJhdGlvbnNbdF09bmV3IFN0eWxlRGVjbGFyYXRpb24odGhpcy5fbGF5b3V0U3BlY2lmaWNhdGlvbnNbdF0saSl9dGhpcy5fdXBkYXRlTGF5b3V0VmFsdWUodCl9LGkucHJvdG90eXBlLmdldExheW91dFByb3BlcnR5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sYXlvdXREZWNsYXJhdGlvbnNbdF0mJnRoaXMuX2xheW91dERlY2xhcmF0aW9uc1t0XS52YWx1ZX0saS5wcm90b3R5cGUuZ2V0TGF5b3V0VmFsdWU9ZnVuY3Rpb24odCxpLGEpe3ZhciBlPXRoaXMuX2xheW91dFNwZWNpZmljYXRpb25zW3RdLG49dGhpcy5fbGF5b3V0RGVjbGFyYXRpb25zW3RdO3JldHVybiBuP24uY2FsY3VsYXRlKGksYSk6ZS5kZWZhdWx0fSxpLnByb3RvdHlwZS5zZXRQYWludFByb3BlcnR5PWZ1bmN0aW9uKHQsaSxhLGUpe3ZhciBuPVwibGF5ZXJzLlwiK3RoaXMuaWQrKGE/J1tcInBhaW50LicrYSsnXCJdLic6XCIucGFpbnQuXCIpK3Q7aWYodXRpbC5lbmRzV2l0aCh0LFRSQU5TSVRJT05fU1VGRklYKSlpZih0aGlzLl9wYWludFRyYW5zaXRpb25PcHRpb25zW2F8fFwiXCJdfHwodGhpcy5fcGFpbnRUcmFuc2l0aW9uT3B0aW9uc1thfHxcIlwiXT17fSksbnVsbD09PWl8fHZvaWQgMD09PWkpZGVsZXRlIHRoaXMuX3BhaW50VHJhbnNpdGlvbk9wdGlvbnNbYXx8XCJcIl1bdF07ZWxzZXtpZih0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLnBhaW50UHJvcGVydHksbix0LGksZSkpcmV0dXJuO3RoaXMuX3BhaW50VHJhbnNpdGlvbk9wdGlvbnNbYXx8XCJcIl1bdF09aX1lbHNlIGlmKHRoaXMuX3BhaW50RGVjbGFyYXRpb25zW2F8fFwiXCJdfHwodGhpcy5fcGFpbnREZWNsYXJhdGlvbnNbYXx8XCJcIl09e30pLG51bGw9PT1pfHx2b2lkIDA9PT1pKWRlbGV0ZSB0aGlzLl9wYWludERlY2xhcmF0aW9uc1thfHxcIlwiXVt0XTtlbHNle2lmKHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlU3R5bGUucGFpbnRQcm9wZXJ0eSxuLHQsaSxlKSlyZXR1cm47dGhpcy5fcGFpbnREZWNsYXJhdGlvbnNbYXx8XCJcIl1bdF09bmV3IFN0eWxlRGVjbGFyYXRpb24odGhpcy5fcGFpbnRTcGVjaWZpY2F0aW9uc1t0XSxpKX19LGkucHJvdG90eXBlLmdldFBhaW50UHJvcGVydHk9ZnVuY3Rpb24odCxpKXtyZXR1cm4gaT1pfHxcIlwiLHV0aWwuZW5kc1dpdGgodCxUUkFOU0lUSU9OX1NVRkZJWCk/dGhpcy5fcGFpbnRUcmFuc2l0aW9uT3B0aW9uc1tpXSYmdGhpcy5fcGFpbnRUcmFuc2l0aW9uT3B0aW9uc1tpXVt0XTp0aGlzLl9wYWludERlY2xhcmF0aW9uc1tpXSYmdGhpcy5fcGFpbnREZWNsYXJhdGlvbnNbaV1bdF0mJnRoaXMuX3BhaW50RGVjbGFyYXRpb25zW2ldW3RdLnZhbHVlfSxpLnByb3RvdHlwZS5nZXRQYWludFZhbHVlPWZ1bmN0aW9uKHQsaSxhKXt2YXIgZT10aGlzLl9wYWludFNwZWNpZmljYXRpb25zW3RdLG49dGhpcy5fcGFpbnRUcmFuc2l0aW9uc1t0XTtyZXR1cm4gbj9uLmNhbGN1bGF0ZShpLGEpOlwiY29sb3JcIj09PWUudHlwZSYmZS5kZWZhdWx0P3BhcnNlQ29sb3IoZS5kZWZhdWx0KTplLmRlZmF1bHR9LGkucHJvdG90eXBlLmdldFBhaW50VmFsdWVTdG9wWm9vbUxldmVscz1mdW5jdGlvbih0KXt2YXIgaT10aGlzLl9wYWludFRyYW5zaXRpb25zW3RdO3JldHVybiBpP2kuZGVjbGFyYXRpb24uc3RvcFpvb21MZXZlbHM6W119LGkucHJvdG90eXBlLmdldFBhaW50SW50ZXJwb2xhdGlvblQ9ZnVuY3Rpb24odCxpKXt2YXIgYT10aGlzLl9wYWludFRyYW5zaXRpb25zW3RdO3JldHVybiBhLmRlY2xhcmF0aW9uLmNhbGN1bGF0ZUludGVycG9sYXRpb25UKGkpfSxpLnByb3RvdHlwZS5pc1BhaW50VmFsdWVGZWF0dXJlQ29uc3RhbnQ9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fcGFpbnRUcmFuc2l0aW9uc1t0XTtyZXR1cm4haXx8aS5kZWNsYXJhdGlvbi5pc0ZlYXR1cmVDb25zdGFudH0saS5wcm90b3R5cGUuaXNMYXlvdXRWYWx1ZUZlYXR1cmVDb25zdGFudD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLl9sYXlvdXREZWNsYXJhdGlvbnNbdF07cmV0dXJuIWl8fGkuaXNGZWF0dXJlQ29uc3RhbnR9LGkucHJvdG90eXBlLmlzUGFpbnRWYWx1ZVpvb21Db25zdGFudD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLl9wYWludFRyYW5zaXRpb25zW3RdO3JldHVybiFpfHxpLmRlY2xhcmF0aW9uLmlzWm9vbUNvbnN0YW50fSxpLnByb3RvdHlwZS5pc0hpZGRlbj1mdW5jdGlvbih0KXtyZXR1cm4hISh0aGlzLm1pbnpvb20mJnQ8dGhpcy5taW56b29tKXx8KCEhKHRoaXMubWF4em9vbSYmdD49dGhpcy5tYXh6b29tKXx8XCJub25lXCI9PT10aGlzLmxheW91dC52aXNpYmlsaXR5KX0saS5wcm90b3R5cGUudXBkYXRlUGFpbnRUcmFuc2l0aW9ucz1mdW5jdGlvbih0LGksYSxlLG4pe2Zvcih2YXIgbz10aGlzLHI9dXRpbC5leHRlbmQoe30sdGhpcy5fcGFpbnREZWNsYXJhdGlvbnNbXCJcIl0pLHM9MDtzPHQubGVuZ3RoO3MrKyl1dGlsLmV4dGVuZChyLG8uX3BhaW50RGVjbGFyYXRpb25zW3Rbc11dKTt2YXIgbDtmb3IobCBpbiByKW8uX2FwcGx5UGFpbnREZWNsYXJhdGlvbihsLHJbbF0saSxhLGUsbik7Zm9yKGwgaW4gby5fcGFpbnRUcmFuc2l0aW9ucylsIGluIHJ8fG8uX2FwcGx5UGFpbnREZWNsYXJhdGlvbihsLG51bGwsaSxhLGUsbil9LGkucHJvdG90eXBlLnVwZGF0ZVBhaW50VHJhbnNpdGlvbj1mdW5jdGlvbih0LGksYSxlLG4sbyl7Zm9yKHZhciByPXRoaXMscz10aGlzLl9wYWludERlY2xhcmF0aW9uc1tcIlwiXVt0XSxsPTA7bDxpLmxlbmd0aDtsKyspe3ZhciB1PXIuX3BhaW50RGVjbGFyYXRpb25zW2lbbF1dO3UmJnVbdF0mJihzPXVbdF0pfXRoaXMuX2FwcGx5UGFpbnREZWNsYXJhdGlvbih0LHMsYSxlLG4sbyl9LGkucHJvdG90eXBlLnJlY2FsY3VsYXRlPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7Zm9yKHZhciBhIGluIGkuX3BhaW50VHJhbnNpdGlvbnMpaS5wYWludFthXT1pLmdldFBhaW50VmFsdWUoYSx7em9vbTp0fSk7Zm9yKHZhciBlIGluIGkuX2xheW91dEZ1bmN0aW9ucylpLmxheW91dFtlXT1pLmdldExheW91dFZhbHVlKGUse3pvb206dH0pfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9e2lkOnRoaXMuaWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuc291cmNlLFwic291cmNlLWxheWVyXCI6dGhpcy5zb3VyY2VMYXllcixtZXRhZGF0YTp0aGlzLm1ldGFkYXRhLG1pbnpvb206dGhpcy5taW56b29tLG1heHpvb206dGhpcy5tYXh6b29tLGZpbHRlcjp0aGlzLmZpbHRlcixsYXlvdXQ6dXRpbC5tYXBPYmplY3QodGhpcy5fbGF5b3V0RGVjbGFyYXRpb25zLGdldERlY2xhcmF0aW9uVmFsdWUpfTtmb3IodmFyIGEgaW4gdC5fcGFpbnREZWNsYXJhdGlvbnMpe3ZhciBlPVwiXCI9PT1hP1wicGFpbnRcIjpcInBhaW50LlwiK2E7aVtlXT11dGlsLm1hcE9iamVjdCh0Ll9wYWludERlY2xhcmF0aW9uc1thXSxnZXREZWNsYXJhdGlvblZhbHVlKX1yZXR1cm4gdXRpbC5maWx0ZXJPYmplY3QoaSxmdW5jdGlvbih0LGkpe3JldHVybiB2b2lkIDAhPT10JiYhKFwibGF5b3V0XCI9PT1pJiYhT2JqZWN0LmtleXModCkubGVuZ3RoKX0pfSxpLnByb3RvdHlwZS5fYXBwbHlQYWludERlY2xhcmF0aW9uPWZ1bmN0aW9uKHQsaSxhLGUsbixvKXt2YXIgcj1hLnRyYW5zaXRpb24/dGhpcy5fcGFpbnRUcmFuc2l0aW9uc1t0XTp2b2lkIDAscz10aGlzLl9wYWludFNwZWNpZmljYXRpb25zW3RdO2lmKG51bGwhPT1pJiZ2b2lkIDAhPT1pfHwoaT1uZXcgU3R5bGVEZWNsYXJhdGlvbihzLHMuZGVmYXVsdCkpLCFyfHxyLmRlY2xhcmF0aW9uLmpzb24hPT1pLmpzb24pe3ZhciBsPXV0aWwuZXh0ZW5kKHtkdXJhdGlvbjozMDAsZGVsYXk6MH0sZSx0aGlzLmdldFBhaW50UHJvcGVydHkodCtUUkFOU0lUSU9OX1NVRkZJWCkpLHU9dGhpcy5fcGFpbnRUcmFuc2l0aW9uc1t0XT1uZXcgU3R5bGVUcmFuc2l0aW9uKHMsaSxyLGwsbyk7dS5pbnN0YW50KCl8fCh1Lmxvb3BJRD1uLnNldCh1LmVuZFRpbWUtRGF0ZS5ub3coKSkpLHImJm4uY2FuY2VsKHIubG9vcElEKX19LGkucHJvdG90eXBlLl91cGRhdGVMYXlvdXRWYWx1ZT1mdW5jdGlvbih0KXt2YXIgaT10aGlzLl9sYXlvdXREZWNsYXJhdGlvbnNbdF07aSYmaS5pc0Z1bmN0aW9uP3RoaXMuX2xheW91dEZ1bmN0aW9uc1t0XT0hMDooZGVsZXRlIHRoaXMuX2xheW91dEZ1bmN0aW9uc1t0XSx0aGlzLmxheW91dFt0XT10aGlzLmdldExheW91dFZhbHVlKHQpKX0saS5wcm90b3R5cGUuX3ZhbGlkYXRlPWZ1bmN0aW9uKHQsaSxhLGUsbil7cmV0dXJuKCFufHxuLnZhbGlkYXRlIT09ITEpJiZ2YWxpZGF0ZVN0eWxlLmVtaXRFcnJvcnModGhpcyx0LmNhbGwodmFsaWRhdGVTdHlsZSx7a2V5OmksbGF5ZXJUeXBlOnRoaXMudHlwZSxvYmplY3RLZXk6YSx2YWx1ZTplLHN0eWxlU3BlYzpzdHlsZVNwZWMsc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9fSkpfSxpfShFdmVudGVkKTttb2R1bGUuZXhwb3J0cz1TdHlsZUxheWVyO3ZhciBzdWJjbGFzc2VzPXtjaXJjbGU6cmVxdWlyZShcIi4vc3R5bGVfbGF5ZXIvY2lyY2xlX3N0eWxlX2xheWVyXCIpLGZpbGw6cmVxdWlyZShcIi4vc3R5bGVfbGF5ZXIvZmlsbF9zdHlsZV9sYXllclwiKSxcImZpbGwtZXh0cnVzaW9uXCI6cmVxdWlyZShcIi4vc3R5bGVfbGF5ZXIvZmlsbF9leHRydXNpb25fc3R5bGVfbGF5ZXJcIiksbGluZTpyZXF1aXJlKFwiLi9zdHlsZV9sYXllci9saW5lX3N0eWxlX2xheWVyXCIpLHN5bWJvbDpyZXF1aXJlKFwiLi9zdHlsZV9sYXllci9zeW1ib2xfc3R5bGVfbGF5ZXJcIil9O1N0eWxlTGF5ZXIuY3JlYXRlPWZ1bmN0aW9uKHQpe3ZhciBpPXN1YmNsYXNzZXNbdC50eXBlXXx8U3R5bGVMYXllcjtyZXR1cm4gbmV3IGkodCl9O1xufSx7XCIuLi9zdHlsZS1zcGVjL3JlZmVyZW5jZS9sYXRlc3RcIjoxMTcsXCIuLi91dGlsL2V2ZW50ZWRcIjoyMDAsXCIuLi91dGlsL3V0aWxcIjoyMTIsXCIuLy4uL3N0eWxlLXNwZWMvdXRpbC9wYXJzZV9jb2xvclwiOjEyMSxcIi4vc3R5bGVfZGVjbGFyYXRpb25cIjoxNDcsXCIuL3N0eWxlX2xheWVyL2NpcmNsZV9zdHlsZV9sYXllclwiOjE0OSxcIi4vc3R5bGVfbGF5ZXIvZmlsbF9leHRydXNpb25fc3R5bGVfbGF5ZXJcIjoxNTAsXCIuL3N0eWxlX2xheWVyL2ZpbGxfc3R5bGVfbGF5ZXJcIjoxNTEsXCIuL3N0eWxlX2xheWVyL2xpbmVfc3R5bGVfbGF5ZXJcIjoxNTIsXCIuL3N0eWxlX2xheWVyL3N5bWJvbF9zdHlsZV9sYXllclwiOjE1MyxcIi4vc3R5bGVfdHJhbnNpdGlvblwiOjE1NSxcIi4vdmFsaWRhdGVfc3R5bGVcIjoxNTZ9XSwxNDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIFN0eWxlTGF5ZXI9cmVxdWlyZShcIi4uL3N0eWxlX2xheWVyXCIpLENpcmNsZUJ1Y2tldD1yZXF1aXJlKFwiLi4vLi4vZGF0YS9idWNrZXQvY2lyY2xlX2J1Y2tldFwiKSxDaXJjbGVTdHlsZUxheWVyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZSYmKHQuX19wcm90b19fPWUpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5wcm90b3R5cGUuY3JlYXRlQnVja2V0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgQ2lyY2xlQnVja2V0KGUpfSx0fShTdHlsZUxheWVyKTttb2R1bGUuZXhwb3J0cz1DaXJjbGVTdHlsZUxheWVyO1xufSx7XCIuLi8uLi9kYXRhL2J1Y2tldC9jaXJjbGVfYnVja2V0XCI6NDYsXCIuLi9zdHlsZV9sYXllclwiOjE0OH1dLDE1MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgU3R5bGVMYXllcj1yZXF1aXJlKFwiLi4vc3R5bGVfbGF5ZXJcIiksRmlsbEV4dHJ1c2lvbkJ1Y2tldD1yZXF1aXJlKFwiLi4vLi4vZGF0YS9idWNrZXQvZmlsbF9leHRydXNpb25fYnVja2V0XCIpLEZpbGxFeHRydXNpb25TdHlsZUxheWVyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0UGFpbnRWYWx1ZT1mdW5jdGlvbihlLHIsbyl7dmFyIGw9dC5wcm90b3R5cGUuZ2V0UGFpbnRWYWx1ZS5jYWxsKHRoaXMsZSxyLG8pO3JldHVyblwiZmlsbC1leHRydXNpb24tY29sb3JcIj09PWUmJmwmJihsWzNdPTEpLGx9LGUucHJvdG90eXBlLmNyZWF0ZUJ1Y2tldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEZpbGxFeHRydXNpb25CdWNrZXQodCl9LGV9KFN0eWxlTGF5ZXIpO21vZHVsZS5leHBvcnRzPUZpbGxFeHRydXNpb25TdHlsZUxheWVyO1xufSx7XCIuLi8uLi9kYXRhL2J1Y2tldC9maWxsX2V4dHJ1c2lvbl9idWNrZXRcIjo0OCxcIi4uL3N0eWxlX2xheWVyXCI6MTQ4fV0sMTUxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBTdHlsZUxheWVyPXJlcXVpcmUoXCIuLi9zdHlsZV9sYXllclwiKSxGaWxsQnVja2V0PXJlcXVpcmUoXCIuLi8uLi9kYXRhL2J1Y2tldC9maWxsX2J1Y2tldFwiKSxGaWxsU3R5bGVMYXllcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBvKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHQmJihvLl9fcHJvdG9fXz10KSxvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxvLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1vLG8ucHJvdG90eXBlLmdldFBhaW50VmFsdWU9ZnVuY3Rpb24obyxsLGUpe3ZhciBpPXRoaXM7aWYoXCJmaWxsLW91dGxpbmUtY29sb3JcIj09PW8pe2lmKHZvaWQgMD09PXRoaXMuZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtb3V0bGluZS1jb2xvclwiKSlyZXR1cm4gdC5wcm90b3R5cGUuZ2V0UGFpbnRWYWx1ZS5jYWxsKHRoaXMsXCJmaWxsLWNvbG9yXCIsbCxlKTtmb3IodmFyIHI9dGhpcy5fcGFpbnRUcmFuc2l0aW9uc1tcImZpbGwtb3V0bGluZS1jb2xvclwiXTtyOyl7dmFyIG49ciYmci5kZWNsYXJhdGlvbiYmci5kZWNsYXJhdGlvbi52YWx1ZTtpZighbilyZXR1cm4gdC5wcm90b3R5cGUuZ2V0UGFpbnRWYWx1ZS5jYWxsKGksXCJmaWxsLWNvbG9yXCIsbCxlKTtyPXIub2xkVHJhbnNpdGlvbn19cmV0dXJuIHQucHJvdG90eXBlLmdldFBhaW50VmFsdWUuY2FsbCh0aGlzLG8sbCxlKX0sby5wcm90b3R5cGUuZ2V0UGFpbnRWYWx1ZVN0b3Bab29tTGV2ZWxzPWZ1bmN0aW9uKG8pe3JldHVyblwiZmlsbC1vdXRsaW5lLWNvbG9yXCI9PT1vJiZ2b2lkIDA9PT10aGlzLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/dC5wcm90b3R5cGUuZ2V0UGFpbnRWYWx1ZVN0b3Bab29tTGV2ZWxzLmNhbGwodGhpcyxcImZpbGwtY29sb3JcIik6dC5wcm90b3R5cGUuZ2V0UGFpbnRWYWx1ZVN0b3Bab29tTGV2ZWxzLmNhbGwodGhpcyxvKX0sby5wcm90b3R5cGUuZ2V0UGFpbnRJbnRlcnBvbGF0aW9uVD1mdW5jdGlvbihvLGwpe3JldHVyblwiZmlsbC1vdXRsaW5lLWNvbG9yXCI9PT1vJiZ2b2lkIDA9PT10aGlzLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/dC5wcm90b3R5cGUuZ2V0UGFpbnRJbnRlcnBvbGF0aW9uVC5jYWxsKHRoaXMsXCJmaWxsLWNvbG9yXCIsbCk6dC5wcm90b3R5cGUuZ2V0UGFpbnRJbnRlcnBvbGF0aW9uVC5jYWxsKHRoaXMsbyxsKX0sby5wcm90b3R5cGUuaXNQYWludFZhbHVlRmVhdHVyZUNvbnN0YW50PWZ1bmN0aW9uKG8pe3JldHVyblwiZmlsbC1vdXRsaW5lLWNvbG9yXCI9PT1vJiZ2b2lkIDA9PT10aGlzLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/dC5wcm90b3R5cGUuaXNQYWludFZhbHVlRmVhdHVyZUNvbnN0YW50LmNhbGwodGhpcyxcImZpbGwtY29sb3JcIik6dC5wcm90b3R5cGUuaXNQYWludFZhbHVlRmVhdHVyZUNvbnN0YW50LmNhbGwodGhpcyxvKX0sby5wcm90b3R5cGUuaXNQYWludFZhbHVlWm9vbUNvbnN0YW50PWZ1bmN0aW9uKG8pe3JldHVyblwiZmlsbC1vdXRsaW5lLWNvbG9yXCI9PT1vJiZ2b2lkIDA9PT10aGlzLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/dC5wcm90b3R5cGUuaXNQYWludFZhbHVlWm9vbUNvbnN0YW50LmNhbGwodGhpcyxcImZpbGwtY29sb3JcIik6dC5wcm90b3R5cGUuaXNQYWludFZhbHVlWm9vbUNvbnN0YW50LmNhbGwodGhpcyxvKX0sby5wcm90b3R5cGUuY3JlYXRlQnVja2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRmlsbEJ1Y2tldCh0KX0sb30oU3R5bGVMYXllcik7bW9kdWxlLmV4cG9ydHM9RmlsbFN0eWxlTGF5ZXI7XG59LHtcIi4uLy4uL2RhdGEvYnVja2V0L2ZpbGxfYnVja2V0XCI6NDcsXCIuLi9zdHlsZV9sYXllclwiOjE0OH1dLDE1MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgU3R5bGVMYXllcj1yZXF1aXJlKFwiLi4vc3R5bGVfbGF5ZXJcIiksTGluZUJ1Y2tldD1yZXF1aXJlKFwiLi4vLi4vZGF0YS9idWNrZXQvbGluZV9idWNrZXRcIiksdXRpbD1yZXF1aXJlKFwiLi4vLi4vdXRpbC91dGlsXCIpLExpbmVTdHlsZUxheWVyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZSYmKHQuX19wcm90b19fPWUpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5wcm90b3R5cGUuZ2V0UGFpbnRWYWx1ZT1mdW5jdGlvbih0LHIsbyl7dmFyIGk9ZS5wcm90b3R5cGUuZ2V0UGFpbnRWYWx1ZS5jYWxsKHRoaXMsdCxyLG8pO2lmKGkmJlwibGluZS1kYXNoYXJyYXlcIj09PXQpe3ZhciBhPXRoaXMuZ2V0UGFpbnRWYWx1ZShcImxpbmUtd2lkdGhcIix1dGlsLmV4dGVuZCh7fSxyLHt6b29tOk1hdGguZmxvb3Ioci56b29tKX0pLG8pO2kuZnJvbVNjYWxlKj1hLGkudG9TY2FsZSo9YX1yZXR1cm4gaX0sdC5wcm90b3R5cGUuY3JlYXRlQnVja2V0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTGluZUJ1Y2tldChlKX0sdH0oU3R5bGVMYXllcik7bW9kdWxlLmV4cG9ydHM9TGluZVN0eWxlTGF5ZXI7XG59LHtcIi4uLy4uL2RhdGEvYnVja2V0L2xpbmVfYnVja2V0XCI6NDksXCIuLi8uLi91dGlsL3V0aWxcIjoyMTIsXCIuLi9zdHlsZV9sYXllclwiOjE0OH1dLDE1MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgU3R5bGVMYXllcj1yZXF1aXJlKFwiLi4vc3R5bGVfbGF5ZXJcIiksU3ltYm9sQnVja2V0PXJlcXVpcmUoXCIuLi8uLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0XCIpLFN5bWJvbFN0eWxlTGF5ZXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXRMYXlvdXRWYWx1ZT1mdW5jdGlvbihlLG8scil7dmFyIGE9dC5wcm90b3R5cGUuZ2V0TGF5b3V0VmFsdWUuY2FsbCh0aGlzLGUsbyxyKTtpZihcImF1dG9cIiE9PWEpcmV0dXJuIGE7c3dpdGNoKGUpe2Nhc2VcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCI6Y2FzZVwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIjpyZXR1cm5cImxpbmVcIj09PXRoaXMuZ2V0TGF5b3V0VmFsdWUoXCJzeW1ib2wtcGxhY2VtZW50XCIsbyxyKT9cIm1hcFwiOlwidmlld3BvcnRcIjtjYXNlXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiOnJldHVybiB0aGlzLmdldExheW91dFZhbHVlKFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIixvLHIpO2RlZmF1bHQ6cmV0dXJuIGF9fSxlLnByb3RvdHlwZS5jcmVhdGVCdWNrZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBTeW1ib2xCdWNrZXQodCl9LGV9KFN0eWxlTGF5ZXIpO21vZHVsZS5leHBvcnRzPVN5bWJvbFN0eWxlTGF5ZXI7XG59LHtcIi4uLy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXRcIjo1MCxcIi4uL3N0eWxlX2xheWVyXCI6MTQ4fV0sMTU0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBTdHlsZUxheWVyPXJlcXVpcmUoXCIuL3N0eWxlX2xheWVyXCIpLHV0aWw9cmVxdWlyZShcIi4uL3V0aWwvdXRpbFwiKSxmZWF0dXJlRmlsdGVyPXJlcXVpcmUoXCIuLi9zdHlsZS1zcGVjL2ZlYXR1cmVfZmlsdGVyXCIpLGdyb3VwQnlMYXlvdXQ9cmVxdWlyZShcIi4uL3N0eWxlLXNwZWMvZ3JvdXBfYnlfbGF5b3V0XCIpLFN0eWxlTGF5ZXJJbmRleD1mdW5jdGlvbihlKXtlJiZ0aGlzLnJlcGxhY2UoZSl9O1N0eWxlTGF5ZXJJbmRleC5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlKXt2YXIgcj10aGlzO3RoaXMuc3ltYm9sT3JkZXI9W107Zm9yKHZhciB0PTAsaT1lO3Q8aS5sZW5ndGg7dCs9MSl7dmFyIGE9aVt0XTtcInN5bWJvbFwiPT09YS50eXBlJiZyLnN5bWJvbE9yZGVyLnB1c2goYS5pZCl9dGhpcy5fbGF5ZXJDb25maWdzPXt9LHRoaXMuX2xheWVycz17fSx0aGlzLnVwZGF0ZShlLFtdKX0sU3R5bGVMYXllckluZGV4LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSxyLHQpe2Zvcih2YXIgaT10aGlzLGE9MCxsPWU7YTxsLmxlbmd0aDthKz0xKXt2YXIgeT1sW2FdO2kuX2xheWVyQ29uZmlnc1t5LmlkXT15O3ZhciBzPWkuX2xheWVyc1t5LmlkXT1TdHlsZUxheWVyLmNyZWF0ZSh5KTtzLnVwZGF0ZVBhaW50VHJhbnNpdGlvbnMoe30se3RyYW5zaXRpb246ITF9KSxzLmZpbHRlcj1mZWF0dXJlRmlsdGVyKHMuZmlsdGVyKX1mb3IodmFyIG89MCx1PXI7bzx1Lmxlbmd0aDtvKz0xKXt2YXIgbj11W29dO2RlbGV0ZSBpLl9sYXllckNvbmZpZ3Nbbl0sZGVsZXRlIGkuX2xheWVyc1tuXX10JiYodGhpcy5zeW1ib2xPcmRlcj10KSx0aGlzLmZhbWlsaWVzQnlTb3VyY2U9e307Zm9yKHZhciBmPWdyb3VwQnlMYXlvdXQodXRpbC52YWx1ZXModGhpcy5fbGF5ZXJDb25maWdzKSkscD0wLGQ9ZjtwPGQubGVuZ3RoO3ArPTEpe3ZhciBoPWRbcF0sYz1oLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gaS5fbGF5ZXJzW2UuaWRdfSksdj1jWzBdO2lmKCF2LmxheW91dHx8XCJub25lXCIhPT12LmxheW91dC52aXNpYmlsaXR5KXt2YXIgXz12LnNvdXJjZXx8XCJcIixnPWkuZmFtaWxpZXNCeVNvdXJjZVtfXTtnfHwoZz1pLmZhbWlsaWVzQnlTb3VyY2VbX109e30pO3ZhciBMPXYuc291cmNlTGF5ZXJ8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIixtPWdbTF07bXx8KG09Z1tMXT1bXSksbS5wdXNoKGMpfX19LG1vZHVsZS5leHBvcnRzPVN0eWxlTGF5ZXJJbmRleDtcbn0se1wiLi4vc3R5bGUtc3BlYy9mZWF0dXJlX2ZpbHRlclwiOjEwMyxcIi4uL3N0eWxlLXNwZWMvZ3JvdXBfYnlfbGF5b3V0XCI6MTA2LFwiLi4vdXRpbC91dGlsXCI6MjEyLFwiLi9zdHlsZV9sYXllclwiOjE0OH1dLDE1NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpbnRlcnBab29tVHJhbnNpdGlvbmVkKHQsaSxvKXtpZih2b2lkIDAhPT10JiZ2b2lkIDAhPT1pKXJldHVybntmcm9tOnQudG8sZnJvbVNjYWxlOnQudG9TY2FsZSx0bzppLnRvLHRvU2NhbGU6aS50b1NjYWxlLHQ6b319dmFyIHV0aWw9cmVxdWlyZShcIi4uL3V0aWwvdXRpbFwiKSxpbnRlcnBvbGF0ZT1yZXF1aXJlKFwiLi4vdXRpbC9pbnRlcnBvbGF0ZVwiKSxmYWtlWm9vbUhpc3Rvcnk9e2xhc3RJbnRlZ2VyWm9vbTowLGxhc3RJbnRlZ2VyWm9vbVRpbWU6MCxsYXN0Wm9vbTowfSxTdHlsZVRyYW5zaXRpb249ZnVuY3Rpb24odCxpLG8sZSxhKXt0aGlzLmRlY2xhcmF0aW9uPWksdGhpcy5zdGFydFRpbWU9dGhpcy5lbmRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMub2xkVHJhbnNpdGlvbj1vLHRoaXMuZHVyYXRpb249ZS5kdXJhdGlvbnx8MCx0aGlzLmRlbGF5PWUuZGVsYXl8fDAsdGhpcy56b29tVHJhbnNpdGlvbmVkPVwicGllY2V3aXNlLWNvbnN0YW50XCI9PT10LmZ1bmN0aW9uJiZ0LnRyYW5zaXRpb24sdGhpcy5pbnRlcnA9dGhpcy56b29tVHJhbnNpdGlvbmVkP2ludGVycFpvb21UcmFuc2l0aW9uZWQ6aW50ZXJwb2xhdGVbdC50eXBlXSx0aGlzLnpvb21IaXN0b3J5PWF8fGZha2Vab29tSGlzdG9yeSx0aGlzLmluc3RhbnQoKXx8KHRoaXMuZW5kVGltZT10aGlzLnN0YXJ0VGltZSt0aGlzLmR1cmF0aW9uK3RoaXMuZGVsYXkpLG8mJm8uZW5kVGltZTw9dGhpcy5zdGFydFRpbWUmJmRlbGV0ZSBvLm9sZFRyYW5zaXRpb259O1N0eWxlVHJhbnNpdGlvbi5wcm90b3R5cGUuaW5zdGFudD1mdW5jdGlvbigpe3JldHVybiF0aGlzLm9sZFRyYW5zaXRpb258fCF0aGlzLmludGVycHx8MD09PXRoaXMuZHVyYXRpb24mJjA9PT10aGlzLmRlbGF5fSxTdHlsZVRyYW5zaXRpb24ucHJvdG90eXBlLmNhbGN1bGF0ZT1mdW5jdGlvbih0LGksbyl7dmFyIGU9dGhpcy5fY2FsY3VsYXRlVGFyZ2V0VmFsdWUodCxpKTtpZih0aGlzLmluc3RhbnQoKSlyZXR1cm4gZTtpZihvPW98fERhdGUubm93KCksbz49dGhpcy5lbmRUaW1lKXJldHVybiBlO3ZhciBhPXRoaXMub2xkVHJhbnNpdGlvbi5jYWxjdWxhdGUodCxpLHRoaXMuc3RhcnRUaW1lKSxuPXV0aWwuZWFzZUN1YmljSW5PdXQoKG8tdGhpcy5zdGFydFRpbWUtdGhpcy5kZWxheSkvdGhpcy5kdXJhdGlvbik7cmV0dXJuIHRoaXMuaW50ZXJwKGEsZSxuKX0sU3R5bGVUcmFuc2l0aW9uLnByb3RvdHlwZS5fY2FsY3VsYXRlVGFyZ2V0VmFsdWU9ZnVuY3Rpb24odCxpKXtpZighdGhpcy56b29tVHJhbnNpdGlvbmVkKXJldHVybiB0aGlzLmRlY2xhcmF0aW9uLmNhbGN1bGF0ZSh0LGkpO3ZhciBvPXQuem9vbSxlPXRoaXMuem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tLGE9bz5lPzI6LjUsbj10aGlzLmRlY2xhcmF0aW9uLmNhbGN1bGF0ZSh7em9vbTpvPmU/by0xOm8rMX0saSkscj10aGlzLmRlY2xhcmF0aW9uLmNhbGN1bGF0ZSh7em9vbTpvfSxpKSxzPU1hdGgubWluKChEYXRlLm5vdygpLXRoaXMuem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tVGltZSkvdGhpcy5kdXJhdGlvbiwxKSxsPU1hdGguYWJzKG8tZSksdT1pbnRlcnBvbGF0ZShzLDEsbCk7cmV0dXJuIHZvaWQgMCE9PW4mJnZvaWQgMCE9PXI/e2Zyb206bixmcm9tU2NhbGU6YSx0bzpyLHRvU2NhbGU6MSx0OnV9OnZvaWQgMH0sbW9kdWxlLmV4cG9ydHM9U3R5bGVUcmFuc2l0aW9uO1xufSx7XCIuLi91dGlsL2ludGVycG9sYXRlXCI6MjA0LFwiLi4vdXRpbC91dGlsXCI6MjEyfV0sMTU2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPXJlcXVpcmUoXCIuLi9zdHlsZS1zcGVjL3ZhbGlkYXRlX3N0eWxlLm1pblwiKSxtb2R1bGUuZXhwb3J0cy5lbWl0RXJyb3JzPWZ1bmN0aW9uKHIsZSl7aWYoZSYmZS5sZW5ndGgpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXIuZmlyZShcImVycm9yXCIse2Vycm9yOm5ldyBFcnJvcihlW3RdLm1lc3NhZ2UpfSk7cmV0dXJuITB9cmV0dXJuITF9O1xufSx7XCIuLi9zdHlsZS1zcGVjL3ZhbGlkYXRlX3N0eWxlLm1pblwiOjE0Mn1dLDE1NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgUG9pbnQ9cmVxdWlyZShcInBvaW50LWdlb21ldHJ5XCIpLEFuY2hvcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBvKG8sZSxuLHIpe3QuY2FsbCh0aGlzLG8sZSksdGhpcy5hbmdsZT1uLHZvaWQgMCE9PXImJih0aGlzLnNlZ21lbnQ9cil9cmV0dXJuIHQmJihvLl9fcHJvdG9fXz10KSxvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxvLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1vLG8ucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvKHRoaXMueCx0aGlzLnksdGhpcy5hbmdsZSx0aGlzLnNlZ21lbnQpfSxvfShQb2ludCk7bW9kdWxlLmV4cG9ydHM9QW5jaG9yO1xufSx7XCJwb2ludC1nZW9tZXRyeVwiOjI2fV0sMTU4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNoZWNrTWF4QW5nbGUoZSx0LGEscixuKXtpZih2b2lkIDA9PT10LnNlZ21lbnQpcmV0dXJuITA7Zm9yKHZhciBpPXQscz10LnNlZ21lbnQrMSxmPTA7Zj4tYS8yOyl7aWYocy0tLHM8MClyZXR1cm4hMTtmLT1lW3NdLmRpc3QoaSksaT1lW3NdfWYrPWVbc10uZGlzdChlW3MrMV0pLHMrKztmb3IodmFyIGw9W10sbz0wO2Y8YS8yOyl7dmFyIHU9ZVtzLTFdLGM9ZVtzXSxnPWVbcysxXTtpZighZylyZXR1cm4hMTt2YXIgaD11LmFuZ2xlVG8oYyktYy5hbmdsZVRvKGcpO2ZvcihoPU1hdGguYWJzKChoKzMqTWF0aC5QSSklKDIqTWF0aC5QSSktTWF0aC5QSSksbC5wdXNoKHtkaXN0YW5jZTpmLGFuZ2xlRGVsdGE6aH0pLG8rPWg7Zi1sWzBdLmRpc3RhbmNlPnI7KW8tPWwuc2hpZnQoKS5hbmdsZURlbHRhO2lmKG8+bilyZXR1cm4hMTtzKyssZis9Yy5kaXN0KGcpfXJldHVybiEwfW1vZHVsZS5leHBvcnRzPWNoZWNrTWF4QW5nbGU7XG59LHt9XSwxNTk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY2xpcExpbmUobix4LHksbyxlKXtmb3IodmFyIHI9W10sdD0wO3Q8bi5sZW5ndGg7dCsrKWZvcih2YXIgaT1uW3RdLHU9dm9pZCAwLGQ9MDtkPGkubGVuZ3RoLTE7ZCsrKXt2YXIgUD1pW2RdLHc9aVtkKzFdO1AueDx4JiZ3Lng8eHx8KFAueDx4P1A9bmV3IFBvaW50KHgsUC55Kyh3LnktUC55KSooKHgtUC54KS8ody54LVAueCkpKS5fcm91bmQoKTp3Lng8eCYmKHc9bmV3IFBvaW50KHgsUC55Kyh3LnktUC55KSooKHgtUC54KS8ody54LVAueCkpKS5fcm91bmQoKSksUC55PHkmJncueTx5fHwoUC55PHk/UD1uZXcgUG9pbnQoUC54Kyh3LngtUC54KSooKHktUC55KS8ody55LVAueSkpLHkpLl9yb3VuZCgpOncueTx5JiYodz1uZXcgUG9pbnQoUC54Kyh3LngtUC54KSooKHktUC55KS8ody55LVAueSkpLHkpLl9yb3VuZCgpKSxQLng+PW8mJncueD49b3x8KFAueD49bz9QPW5ldyBQb2ludChvLFAueSsody55LVAueSkqKChvLVAueCkvKHcueC1QLngpKSkuX3JvdW5kKCk6dy54Pj1vJiYodz1uZXcgUG9pbnQobyxQLnkrKHcueS1QLnkpKigoby1QLngpLyh3LngtUC54KSkpLl9yb3VuZCgpKSxQLnk+PWUmJncueT49ZXx8KFAueT49ZT9QPW5ldyBQb2ludChQLngrKHcueC1QLngpKigoZS1QLnkpLyh3LnktUC55KSksZSkuX3JvdW5kKCk6dy55Pj1lJiYodz1uZXcgUG9pbnQoUC54Kyh3LngtUC54KSooKGUtUC55KS8ody55LVAueSkpLGUpLl9yb3VuZCgpKSx1JiZQLmVxdWFscyh1W3UubGVuZ3RoLTFdKXx8KHU9W1BdLHIucHVzaCh1KSksdS5wdXNoKHcpKSkpKX1yZXR1cm4gcn12YXIgUG9pbnQ9cmVxdWlyZShcInBvaW50LWdlb21ldHJ5XCIpO21vZHVsZS5leHBvcnRzPWNsaXBMaW5lO1xufSx7XCJwb2ludC1nZW9tZXRyeVwiOjI2fV0sMTYwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBjcmVhdGVTdHJ1Y3RBcnJheVR5cGU9cmVxdWlyZShcIi4uL3V0aWwvc3RydWN0X2FycmF5XCIpLFBvaW50PXJlcXVpcmUoXCJwb2ludC1nZW9tZXRyeVwiKSxDb2xsaXNpb25Cb3hBcnJheT1jcmVhdGVTdHJ1Y3RBcnJheVR5cGUoe21lbWJlcnM6W3t0eXBlOlwiSW50MTZcIixuYW1lOlwiYW5jaG9yUG9pbnRYXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwiYW5jaG9yUG9pbnRZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwieDFcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ5MVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcIngyXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwieTJcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcIm1heFNjYWxlXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImZlYXR1cmVJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJzb3VyY2VMYXllckluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImJ1Y2tldEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwiYmJveDBcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJiYm94MVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcImJib3gyXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwiYmJveDNcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInBsYWNlbWVudFNjYWxlXCJ9XX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2xsaXNpb25Cb3hBcnJheS5wcm90b3R5cGUuU3RydWN0VHlwZS5wcm90b3R5cGUsXCJhbmNob3JQb2ludFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFBvaW50KHRoaXMuYW5jaG9yUG9pbnRYLHRoaXMuYW5jaG9yUG9pbnRZKX19KSxtb2R1bGUuZXhwb3J0cz1Db2xsaXNpb25Cb3hBcnJheTtcbn0se1wiLi4vdXRpbC9zdHJ1Y3RfYXJyYXlcIjoyMTAsXCJwb2ludC1nZW9tZXRyeVwiOjI2fV0sMTYxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBDb2xsaXNpb25GZWF0dXJlPWZ1bmN0aW9uKHQsZSxpLG8scyxhLG4scixsLGQsdSl7dmFyIGg9bi50b3Aqci1sLHg9bi5ib3R0b20qcitsLGY9bi5sZWZ0KnItbCxtPW4ucmlnaHQqcitsO2lmKHRoaXMuYm94U3RhcnRJbmRleD10Lmxlbmd0aCxkKXt2YXIgXz14LWgsYj1tLWY7aWYoXz4wKWlmKF89TWF0aC5tYXgoMTAqcixfKSx1KXt2YXIgdj1lW2kuc2VnbWVudCsxXS5zdWIoZVtpLnNlZ21lbnRdKS5fdW5pdCgpLl9tdWx0KGIpLGM9W2kuc3ViKHYpLGkuYWRkKHYpXTt0aGlzLl9hZGRMaW5lQ29sbGlzaW9uQm94ZXModCxjLGksMCxiLF8sbyxzLGEpfWVsc2UgdGhpcy5fYWRkTGluZUNvbGxpc2lvbkJveGVzKHQsZSxpLGkuc2VnbWVudCxiLF8sbyxzLGEpfWVsc2UgdC5lbXBsYWNlQmFjayhpLngsaS55LGYsaCxtLHgsMS8wLG8scyxhLDAsMCwwLDAsMCk7dGhpcy5ib3hFbmRJbmRleD10Lmxlbmd0aH07Q29sbGlzaW9uRmVhdHVyZS5wcm90b3R5cGUuX2FkZExpbmVDb2xsaXNpb25Cb3hlcz1mdW5jdGlvbih0LGUsaSxvLHMsYSxuLHIsbCl7dmFyIGQ9YS8yLHU9TWF0aC5mbG9vcihzL2QpLGg9LWEvMix4PXRoaXMuYm94ZXMsZj1pLG09bysxLF89aDtkb3tpZihtLS0sbTwwKXJldHVybiB4O18tPWVbbV0uZGlzdChmKSxmPWVbbV19d2hpbGUoXz4tcy8yKTtmb3IodmFyIGI9ZVttXS5kaXN0KGVbbSsxXSksdj0wO3Y8dTt2Kyspe2Zvcih2YXIgYz0tcy8yK3YqZDtfK2I8Yzspe2lmKF8rPWIsbSsrLG0rMT49ZS5sZW5ndGgpcmV0dXJuIHg7Yj1lW21dLmRpc3QoZVttKzFdKX12YXIgZz1jLV8scD1lW21dLEM9ZVttKzFdLEI9Qy5zdWIocCkuX3VuaXQoKS5fbXVsdChnKS5fYWRkKHApLl9yb3VuZCgpLE09TWF0aC5tYXgoTWF0aC5hYnMoYy1oKS1kLzIsMCkseT1zLzIvTTt0LmVtcGxhY2VCYWNrKEIueCxCLnksLWEvMiwtYS8yLGEvMixhLzIseSxuLHIsbCwwLDAsMCwwLDApfXJldHVybiB4fSxtb2R1bGUuZXhwb3J0cz1Db2xsaXNpb25GZWF0dXJlO1xufSx7fV0sMTYyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBQb2ludD1yZXF1aXJlKFwicG9pbnQtZ2VvbWV0cnlcIiksRVhURU5UPXJlcXVpcmUoXCIuLi9kYXRhL2V4dGVudFwiKSxHcmlkPXJlcXVpcmUoXCJncmlkLWluZGV4XCIpLGludGVyc2VjdGlvblRlc3RzPXJlcXVpcmUoXCIuLi91dGlsL2ludGVyc2VjdGlvbl90ZXN0c1wiKSxDb2xsaXNpb25UaWxlPWZ1bmN0aW9uKHQsZSxpKXtpZihcIm9iamVjdFwiPT10eXBlb2YgdCl7dmFyIHI9dDtpPWUsdD1yLmFuZ2xlLGU9ci5waXRjaCx0aGlzLmdyaWQ9bmV3IEdyaWQoci5ncmlkKSx0aGlzLmlnbm9yZWRHcmlkPW5ldyBHcmlkKHIuaWdub3JlZEdyaWQpfWVsc2UgdGhpcy5ncmlkPW5ldyBHcmlkKEVYVEVOVCwxMiw2KSx0aGlzLmlnbm9yZWRHcmlkPW5ldyBHcmlkKEVYVEVOVCwxMiwwKTt0aGlzLm1pblNjYWxlPS41LHRoaXMubWF4U2NhbGU9Mix0aGlzLmFuZ2xlPXQsdGhpcy5waXRjaD1lO3ZhciBhPU1hdGguc2luKHQpLG89TWF0aC5jb3ModCk7aWYodGhpcy5yb3RhdGlvbk1hdHJpeD1bbywtYSxhLG9dLHRoaXMucmV2ZXJzZVJvdGF0aW9uTWF0cml4PVtvLGEsLWEsb10sdGhpcy55U3RyZXRjaD0xL01hdGguY29zKGUvMTgwKk1hdGguUEkpLHRoaXMueVN0cmV0Y2g9TWF0aC5wb3codGhpcy55U3RyZXRjaCwxLjMpLHRoaXMuY29sbGlzaW9uQm94QXJyYXk9aSwwPT09aS5sZW5ndGgpe2kuZW1wbGFjZUJhY2soKTt2YXIgbj0zMjc2NztpLmVtcGxhY2VCYWNrKDAsMCwwLC1uLDAsbixuLDAsMCwwLDAsMCwwLDAsMCwwKSxpLmVtcGxhY2VCYWNrKEVYVEVOVCwwLDAsLW4sMCxuLG4sMCwwLDAsMCwwLDAsMCwwLDApLGkuZW1wbGFjZUJhY2soMCwwLC1uLDAsbiwwLG4sMCwwLDAsMCwwLDAsMCwwLDApLGkuZW1wbGFjZUJhY2soMCxFWFRFTlQsLW4sMCxuLDAsbiwwLDAsMCwwLDAsMCwwLDAsMCl9dGhpcy50ZW1wQ29sbGlzaW9uQm94PWkuZ2V0KDApLHRoaXMuZWRnZXM9W2kuZ2V0KDEpLGkuZ2V0KDIpLGkuZ2V0KDMpLGkuZ2V0KDQpXX07Q29sbGlzaW9uVGlsZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ3JpZC50b0FycmF5QnVmZmVyKCksaT10aGlzLmlnbm9yZWRHcmlkLnRvQXJyYXlCdWZmZXIoKTtyZXR1cm4gdCYmKHQucHVzaChlKSx0LnB1c2goaSkpLHthbmdsZTp0aGlzLmFuZ2xlLHBpdGNoOnRoaXMucGl0Y2gsZ3JpZDplLGlnbm9yZWRHcmlkOml9fSxDb2xsaXNpb25UaWxlLnByb3RvdHlwZS5wbGFjZUNvbGxpc2lvbkZlYXR1cmU9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgcj10aGlzLGE9dGhpcy5jb2xsaXNpb25Cb3hBcnJheSxvPXRoaXMubWluU2NhbGUsbj10aGlzLnJvdGF0aW9uTWF0cml4LGw9dGhpcy55U3RyZXRjaCxoPXQuYm94U3RhcnRJbmRleDtoPHQuYm94RW5kSW5kZXg7aCsrKXt2YXIgcz1hLmdldChoKSx4PXMuYW5jaG9yUG9pbnQuX21hdE11bHQobiksYz14LngsZz14LnkseT1jK3MueDEsZD1nK3MueTEqbCxtPWMrcy54Mix1PWcrcy55MipsO2lmKHMuYmJveDA9eSxzLmJib3gxPWQscy5iYm94Mj1tLHMuYmJveDM9dSwhZSlmb3IodmFyIHA9ci5ncmlkLnF1ZXJ5KHksZCxtLHUpLE09MDtNPHAubGVuZ3RoO00rKyl7dmFyIGY9YS5nZXQocFtNXSksdj1mLmFuY2hvclBvaW50Ll9tYXRNdWx0KG4pO2lmKG89ci5nZXRQbGFjZW1lbnRTY2FsZShvLHgscyx2LGYpLG8+PXIubWF4U2NhbGUpcmV0dXJuIG99aWYoaSl7dmFyIFM9dm9pZCAwO2lmKHIuYW5nbGUpe3ZhciBQPXIucmV2ZXJzZVJvdGF0aW9uTWF0cml4LGI9bmV3IFBvaW50KHMueDEscy55MSkubWF0TXVsdChQKSxUPW5ldyBQb2ludChzLngyLHMueTEpLm1hdE11bHQoUCksdz1uZXcgUG9pbnQocy54MSxzLnkyKS5tYXRNdWx0KFApLE49bmV3IFBvaW50KHMueDIscy55MikubWF0TXVsdChQKTtTPXIudGVtcENvbGxpc2lvbkJveCxTLmFuY2hvclBvaW50WD1zLmFuY2hvclBvaW50LngsUy5hbmNob3JQb2ludFk9cy5hbmNob3JQb2ludC55LFMueDE9TWF0aC5taW4oYi54LFQueCx3LngsTi54KSxTLnkxPU1hdGgubWluKGIueSxULngsdy54LE4ueCksUy54Mj1NYXRoLm1heChiLngsVC54LHcueCxOLngpLFMueTI9TWF0aC5tYXgoYi55LFQueCx3LngsTi54KSxTLm1heFNjYWxlPXMubWF4U2NhbGV9ZWxzZSBTPXM7Zm9yKHZhciBCPTA7Qjx0aGlzLmVkZ2VzLmxlbmd0aDtCKyspe3ZhciBHPXIuZWRnZXNbQl07aWYobz1yLmdldFBsYWNlbWVudFNjYWxlKG8scy5hbmNob3JQb2ludCxTLEcuYW5jaG9yUG9pbnQsRyksbz49ci5tYXhTY2FsZSlyZXR1cm4gb319fXJldHVybiBvfSxDb2xsaXNpb25UaWxlLnByb3RvdHlwZS5xdWVyeVJlbmRlcmVkU3ltYm9scz1mdW5jdGlvbih0LGUpe3ZhciBpPXt9LHI9W107aWYoMD09PXQubGVuZ3RofHwwPT09dGhpcy5ncmlkLmxlbmd0aCYmMD09PXRoaXMuaWdub3JlZEdyaWQubGVuZ3RoKXJldHVybiByO2Zvcih2YXIgYT10aGlzLmNvbGxpc2lvbkJveEFycmF5LG89dGhpcy5yb3RhdGlvbk1hdHJpeCxuPXRoaXMueVN0cmV0Y2gsbD1bXSxoPTEvMCxzPTEvMCx4PS0oMS8wKSxjPS0oMS8wKSxnPTA7Zzx0Lmxlbmd0aDtnKyspZm9yKHZhciB5PXRbZ10sZD0wO2Q8eS5sZW5ndGg7ZCsrKXt2YXIgbT15W2RdLm1hdE11bHQobyk7aD1NYXRoLm1pbihoLG0ueCkscz1NYXRoLm1pbihzLG0ueSkseD1NYXRoLm1heCh4LG0ueCksYz1NYXRoLm1heChjLG0ueSksbC5wdXNoKG0pfWZvcih2YXIgdT10aGlzLmdyaWQucXVlcnkoaCxzLHgsYykscD10aGlzLmlnbm9yZWRHcmlkLnF1ZXJ5KGgscyx4LGMpLE09MDtNPHAubGVuZ3RoO00rKyl1LnB1c2gocFtNXSk7Zm9yKHZhciBmPU1hdGgucG93KDIsTWF0aC5jZWlsKE1hdGgubG9nKGUpL01hdGguTE4yKjEwKS8xMCksdj0wO3Y8dS5sZW5ndGg7disrKXt2YXIgUz1hLmdldCh1W3ZdKSxQPVMuc291cmNlTGF5ZXJJbmRleCxiPVMuZmVhdHVyZUluZGV4O2lmKHZvaWQgMD09PWlbUF0mJihpW1BdPXt9KSwhaVtQXVtiXSYmIShmPFMucGxhY2VtZW50U2NhbGV8fGY+Uy5tYXhTY2FsZSkpe3ZhciBUPVMuYW5jaG9yUG9pbnQubWF0TXVsdChvKSx3PVQueCtTLngxL2UsTj1ULnkrUy55MS9lKm4sQj1ULngrUy54Mi9lLEc9VC55K1MueTIvZSpuLEU9W25ldyBQb2ludCh3LE4pLG5ldyBQb2ludChCLE4pLG5ldyBQb2ludChCLEcpLG5ldyBQb2ludCh3LEcpXTtpbnRlcnNlY3Rpb25UZXN0cy5wb2x5Z29uSW50ZXJzZWN0c1BvbHlnb24obCxFKSYmKGlbUF1bYl09ITAsci5wdXNoKHVbdl0pKX19cmV0dXJuIHJ9LENvbGxpc2lvblRpbGUucHJvdG90eXBlLmdldFBsYWNlbWVudFNjYWxlPWZ1bmN0aW9uKHQsZSxpLHIsYSl7dmFyIG89ZS54LXIueCxuPWUueS1yLnksbD0oYS54MS1pLngyKS9vLGg9KGEueDItaS54MSkvbyxzPShhLnkxLWkueTIpKnRoaXMueVN0cmV0Y2gvbix4PShhLnkyLWkueTEpKnRoaXMueVN0cmV0Y2gvbjsoaXNOYU4obCl8fGlzTmFOKGgpKSYmKGw9aD0xKSwoaXNOYU4ocyl8fGlzTmFOKHgpKSYmKHM9eD0xKTt2YXIgYz1NYXRoLm1pbihNYXRoLm1heChsLGgpLE1hdGgubWF4KHMseCkpLGc9YS5tYXhTY2FsZSx5PWkubWF4U2NhbGU7cmV0dXJuIGM+ZyYmKGM9ZyksYz55JiYoYz15KSxjPnQmJmM+PWEucGxhY2VtZW50U2NhbGUmJih0PWMpLHR9LENvbGxpc2lvblRpbGUucHJvdG90eXBlLmluc2VydENvbGxpc2lvbkZlYXR1cmU9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgcj10aGlzLGE9aT90aGlzLmlnbm9yZWRHcmlkOnRoaXMuZ3JpZCxvPXRoaXMuY29sbGlzaW9uQm94QXJyYXksbj10LmJveFN0YXJ0SW5kZXg7bjx0LmJveEVuZEluZGV4O24rKyl7dmFyIGw9by5nZXQobik7bC5wbGFjZW1lbnRTY2FsZT1lLGU8ci5tYXhTY2FsZSYmYS5pbnNlcnQobixsLmJib3gwLGwuYmJveDEsbC5iYm94MixsLmJib3gzKX19LG1vZHVsZS5leHBvcnRzPUNvbGxpc2lvblRpbGU7XG59LHtcIi4uL2RhdGEvZXh0ZW50XCI6NTQsXCIuLi91dGlsL2ludGVyc2VjdGlvbl90ZXN0c1wiOjIwNSxcImdyaWQtaW5kZXhcIjoxNixcInBvaW50LWdlb21ldHJ5XCI6MjZ9XSwxNjM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZ2V0QW5jaG9ycyhlLHIsdCxuLGEsbCxvLGksaCl7dmFyIGM9bj8uNipsKm86MCxzPU1hdGgubWF4KG4/bi5yaWdodC1uLmxlZnQ6MCxhP2EucmlnaHQtYS5sZWZ0OjApLHU9MD09PWVbMF0ueHx8ZVswXS54PT09aHx8MD09PWVbMF0ueXx8ZVswXS55PT09aDtyLXMqbzxyLzQmJihyPXMqbytyLzQpO3ZhciBnPTIqbCxwPXU/ci8yKmklcjoocy8yK2cpKm8qaSVyO3JldHVybiByZXNhbXBsZShlLHAscixjLHQscypvLHUsITEsaCl9ZnVuY3Rpb24gcmVzYW1wbGUoZSxyLHQsbixhLGwsbyxpLGgpe2Zvcih2YXIgYz1sLzIscz0wLHU9MDt1PGUubGVuZ3RoLTE7dSsrKXMrPWVbdV0uZGlzdChlW3UrMV0pO2Zvcih2YXIgZz0wLHA9ci10LHg9W10sZj0wO2Y8ZS5sZW5ndGgtMTtmKyspe2Zvcih2YXIgdj1lW2ZdLG09ZVtmKzFdLEE9di5kaXN0KG0pLHk9bS5hbmdsZVRvKHYpO3ArdDxnK0E7KXtwKz10O3ZhciBkPShwLWcpL0Esaz1pbnRlcnBvbGF0ZSh2LngsbS54LGQpLHE9aW50ZXJwb2xhdGUodi55LG0ueSxkKTtpZihrPj0wJiZrPGgmJnE+PTAmJnE8aCYmcC1jPj0wJiZwK2M8PXMpe3ZhciBNPW5ldyBBbmNob3IoayxxLHksZikuX3JvdW5kKCk7biYmIWNoZWNrTWF4QW5nbGUoZSxNLGwsbixhKXx8eC5wdXNoKE0pfX1nKz1BfXJldHVybiBpfHx4Lmxlbmd0aHx8b3x8KHg9cmVzYW1wbGUoZSxnLzIsdCxuLGEsbCxvLCEwLGgpKSx4fXZhciBpbnRlcnBvbGF0ZT1yZXF1aXJlKFwiLi4vdXRpbC9pbnRlcnBvbGF0ZVwiKSxBbmNob3I9cmVxdWlyZShcIi4uL3N5bWJvbC9hbmNob3JcIiksY2hlY2tNYXhBbmdsZT1yZXF1aXJlKFwiLi9jaGVja19tYXhfYW5nbGVcIik7bW9kdWxlLmV4cG9ydHM9Z2V0QW5jaG9ycztcbn0se1wiLi4vc3ltYm9sL2FuY2hvclwiOjE1NyxcIi4uL3V0aWwvaW50ZXJwb2xhdGVcIjoyMDQsXCIuL2NoZWNrX21heF9hbmdsZVwiOjE1OH1dLDE2NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgU2hlbGZQYWNrPXJlcXVpcmUoXCJAbWFwYm94L3NoZWxmLXBhY2tcIiksdXRpbD1yZXF1aXJlKFwiLi4vdXRpbC91dGlsXCIpLFNJWkVfR1JPV1RIX1JBVEU9NCxERUZBVUxUX1NJWkU9MTI4LE1BWF9TSVpFPTIwNDgsR2x5cGhBdGxhcz1mdW5jdGlvbigpe3RoaXMud2lkdGg9REVGQVVMVF9TSVpFLHRoaXMuaGVpZ2h0PURFRkFVTFRfU0laRSx0aGlzLmF0bGFzPW5ldyBTaGVsZlBhY2sodGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5pbmRleD17fSx0aGlzLmlkcz17fSx0aGlzLmRhdGE9bmV3IFVpbnQ4QXJyYXkodGhpcy53aWR0aCp0aGlzLmhlaWdodCl9O0dseXBoQXRsYXMucHJvdG90eXBlLmdldEdseXBocz1mdW5jdGlvbigpe3ZhciB0LGksZSxoPXRoaXMscj17fTtmb3IodmFyIHMgaW4gaC5pZHMpdD1zLnNwbGl0KFwiI1wiKSxpPXRbMF0sZT10WzFdLHJbaV18fChyW2ldPVtdKSxyW2ldLnB1c2goZSk7cmV0dXJuIHJ9LEdseXBoQXRsYXMucHJvdG90eXBlLmdldFJlY3RzPWZ1bmN0aW9uKCl7dmFyIHQsaSxlLGg9dGhpcyxyPXt9O2Zvcih2YXIgcyBpbiBoLmlkcyl0PXMuc3BsaXQoXCIjXCIpLGk9dFswXSxlPXRbMV0scltpXXx8KHJbaV09e30pLHJbaV1bZV09aC5pbmRleFtzXTtyZXR1cm4gcn0sR2x5cGhBdGxhcy5wcm90b3R5cGUuYWRkR2x5cGg9ZnVuY3Rpb24odCxpLGUsaCl7dmFyIHI9dGhpcztpZighZSlyZXR1cm4gbnVsbDt2YXIgcz1pK1wiI1wiK2UuaWQ7aWYodGhpcy5pbmRleFtzXSlyZXR1cm4gdGhpcy5pZHNbc10uaW5kZXhPZih0KTwwJiZ0aGlzLmlkc1tzXS5wdXNoKHQpLHRoaXMuaW5kZXhbc107aWYoIWUuYml0bWFwKXJldHVybiBudWxsO3ZhciBhPWUud2lkdGgrMipoLEU9ZS5oZWlnaHQrMipoLG49MSxsPWErMipuLFQ9RSsyKm47bCs9NC1sJTQsVCs9NC1UJTQ7dmFyIHU9dGhpcy5hdGxhcy5wYWNrT25lKGwsVCk7aWYodXx8KHRoaXMucmVzaXplKCksdT10aGlzLmF0bGFzLnBhY2tPbmUobCxUKSksIXUpcmV0dXJuIHV0aWwud2Fybk9uY2UoXCJnbHlwaCBiaXRtYXAgb3ZlcmZsb3dcIiksbnVsbDt0aGlzLmluZGV4W3NdPXUsdGhpcy5pZHNbc109W3RdO2Zvcih2YXIgZD10aGlzLmRhdGEscD1lLmJpdG1hcCxBPTA7QTxFO0ErKylmb3IodmFyIF89ci53aWR0aCoodS55K0ErbikrdS54K24sbz1hKkEseD0wO3g8YTt4KyspZFtfK3hdPXBbbyt4XTtyZXR1cm4gdGhpcy5kaXJ0eT0hMCx1fSxHbHlwaEF0bGFzLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9dGhpcy53aWR0aCxlPXRoaXMuaGVpZ2h0O2lmKCEoaT49TUFYX1NJWkV8fGU+PU1BWF9TSVpFKSl7dGhpcy50ZXh0dXJlJiYodGhpcy5nbCYmdGhpcy5nbC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSksdGhpcy50ZXh0dXJlPW51bGwpLHRoaXMud2lkdGgqPVNJWkVfR1JPV1RIX1JBVEUsdGhpcy5oZWlnaHQqPVNJWkVfR1JPV1RIX1JBVEUsdGhpcy5hdGxhcy5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCk7Zm9yKHZhciBoPW5ldyBBcnJheUJ1ZmZlcih0aGlzLndpZHRoKnRoaXMuaGVpZ2h0KSxyPTA7cjxlO3IrKyl7dmFyIHM9bmV3IFVpbnQ4QXJyYXkodC5kYXRhLmJ1ZmZlcixlKnIsaSksYT1uZXcgVWludDhBcnJheShoLGUqcipTSVpFX0dST1dUSF9SQVRFLGkpO2Euc2V0KHMpfXRoaXMuZGF0YT1uZXcgVWludDhBcnJheShoKX19LEdseXBoQXRsYXMucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCl7dGhpcy5nbD10LHRoaXMudGV4dHVyZT90LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpOih0aGlzLnRleHR1cmU9dC5jcmVhdGVUZXh0dXJlKCksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NQUdfRklMVEVSLHQuTElORUFSKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLHQuTElORUFSKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsdC5DTEFNUF9UT19FREdFKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsdC5DTEFNUF9UT19FREdFKSx0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsdC5BTFBIQSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDAsdC5BTFBIQSx0LlVOU0lHTkVEX0JZVEUsbnVsbCkpfSxHbHlwaEF0bGFzLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlPWZ1bmN0aW9uKHQpe3RoaXMuYmluZCh0KSx0aGlzLmRpcnR5JiYodC50ZXhTdWJJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHQuQUxQSEEsdC5VTlNJR05FRF9CWVRFLHRoaXMuZGF0YSksdGhpcy5kaXJ0eT0hMSl9LG1vZHVsZS5leHBvcnRzPUdseXBoQXRsYXM7XG59LHtcIi4uL3V0aWwvdXRpbFwiOjIxMixcIkBtYXBib3gvc2hlbGYtcGFja1wiOjJ9XSwxNjU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZ2x5cGhVcmwodCxlLGEsbCl7cmV0dXJuIGw9bHx8XCJhYmNcIixhLnJlcGxhY2UoXCJ7c31cIixsW3QubGVuZ3RoJWwubGVuZ3RoXSkucmVwbGFjZShcIntmb250c3RhY2t9XCIsdCkucmVwbGFjZShcIntyYW5nZX1cIixlKX12YXIgbm9ybWFsaXplVVJMPXJlcXVpcmUoXCIuLi91dGlsL21hcGJveFwiKS5ub3JtYWxpemVHbHlwaHNVUkwsYWpheD1yZXF1aXJlKFwiLi4vdXRpbC9hamF4XCIpLHZlcnRpY2FsaXplUHVuY3R1YXRpb249cmVxdWlyZShcIi4uL3V0aWwvdmVydGljYWxpemVfcHVuY3R1YXRpb25cIiksR2x5cGhzPXJlcXVpcmUoXCIuLi91dGlsL2dseXBoc1wiKSxHbHlwaEF0bGFzPXJlcXVpcmUoXCIuLi9zeW1ib2wvZ2x5cGhfYXRsYXNcIiksUHJvdG9idWY9cmVxdWlyZShcInBiZlwiKSxTaW1wbGVHbHlwaD1mdW5jdGlvbih0LGUsYSl7dmFyIGw9MTt0aGlzLmFkdmFuY2U9dC5hZHZhbmNlLHRoaXMubGVmdD10LmxlZnQtYS1sLHRoaXMudG9wPXQudG9wK2ErbCx0aGlzLnJlY3Q9ZX0sR2x5cGhTb3VyY2U9ZnVuY3Rpb24odCl7dGhpcy51cmw9dCYmbm9ybWFsaXplVVJMKHQpLHRoaXMuYXRsYXNlcz17fSx0aGlzLnN0YWNrcz17fSx0aGlzLmxvYWRpbmc9e319O0dseXBoU291cmNlLnByb3RvdHlwZS5nZXRTaW1wbGVHbHlwaHM9ZnVuY3Rpb24odCxlLGEsbCl7dmFyIGk9dGhpczt2b2lkIDA9PT10aGlzLnN0YWNrc1t0XSYmKHRoaXMuc3RhY2tzW3RdPXt9KSx2b2lkIDA9PT10aGlzLmF0bGFzZXNbdF0mJih0aGlzLmF0bGFzZXNbdF09bmV3IEdseXBoQXRsYXMpO2Zvcih2YXIgcj17fSxvPXRoaXMuc3RhY2tzW3RdLHM9dGhpcy5hdGxhc2VzW3RdLG49MyxoPXt9LHA9MCx1PWZ1bmN0aW9uKGUpe3ZhciBsPU1hdGguZmxvb3IoZS8yNTYpO2lmKG9bbF0pe3ZhciBpPW9bbF0uZ2x5cGhzW2VdLHU9cy5hZGRHbHlwaChhLHQsaSxuKTtpJiYocltlXT1uZXcgU2ltcGxlR2x5cGgoaSx1LG4pKX1lbHNlIHZvaWQgMD09PWhbbF0mJihoW2xdPVtdLHArKyksaFtsXS5wdXNoKGUpfSxjPTA7YzxlLmxlbmd0aDtjKyspe3ZhciB5PWVbY10sZj1TdHJpbmcuZnJvbUNoYXJDb2RlKHkpO3UoeSksdmVydGljYWxpemVQdW5jdHVhdGlvbi5sb29rdXBbZl0mJnUodmVydGljYWxpemVQdW5jdHVhdGlvbi5sb29rdXBbZl0uY2hhckNvZGVBdCgwKSl9cHx8bCh2b2lkIDAscix0KTt2YXIgdj1mdW5jdGlvbihlLG8sdSl7aWYoIWUpZm9yKHZhciBjPWkuc3RhY2tzW3RdW29dPXUuc3RhY2tzWzBdLHk9MDt5PGhbb10ubGVuZ3RoO3krKyl7dmFyIGY9aFtvXVt5XSx2PWMuZ2x5cGhzW2ZdLGQ9cy5hZGRHbHlwaChhLHQsdixuKTt2JiYocltmXT1uZXcgU2ltcGxlR2x5cGgodixkLG4pKX1wLS0scHx8bCh2b2lkIDAscix0KX07Zm9yKHZhciBkIGluIGgpaS5sb2FkUmFuZ2UodCxkLHYpfSxHbHlwaFNvdXJjZS5wcm90b3R5cGUubG9hZFJhbmdlPWZ1bmN0aW9uKHQsZSxhKXtpZigyNTYqZT42NTUzNSlyZXR1cm4gYShcImdseXBocyA+IDY1NTM1IG5vdCBzdXBwb3J0ZWRcIik7dm9pZCAwPT09dGhpcy5sb2FkaW5nW3RdJiYodGhpcy5sb2FkaW5nW3RdPXt9KTt2YXIgbD10aGlzLmxvYWRpbmdbdF07aWYobFtlXSlsW2VdLnB1c2goYSk7ZWxzZXtsW2VdPVthXTt2YXIgaT0yNTYqZStcIi1cIisoMjU2KmUrMjU1KSxyPWdseXBoVXJsKHQsaSx0aGlzLnVybCk7YWpheC5nZXRBcnJheUJ1ZmZlcihyLGZ1bmN0aW9uKHQsYSl7Zm9yKHZhciBpPSF0JiZuZXcgR2x5cGhzKG5ldyBQcm90b2J1ZihhLmRhdGEpKSxyPTA7cjxsW2VdLmxlbmd0aDtyKyspbFtlXVtyXSh0LGUsaSk7ZGVsZXRlIGxbZV19KX19LEdseXBoU291cmNlLnByb3RvdHlwZS5nZXRHbHlwaEF0bGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0bGFzZXNbdF19LG1vZHVsZS5leHBvcnRzPUdseXBoU291cmNlO1xufSx7XCIuLi9zeW1ib2wvZ2x5cGhfYXRsYXNcIjoxNjQsXCIuLi91dGlsL2FqYXhcIjoxOTEsXCIuLi91dGlsL2dseXBoc1wiOjIwMyxcIi4uL3V0aWwvbWFwYm94XCI6MjA4LFwiLi4vdXRpbC92ZXJ0aWNhbGl6ZV9wdW5jdHVhdGlvblwiOjIxNCxcInBiZlwiOjI1fV0sMTY2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7Zy5wdXNoKGVbdF0pLGwrK31mdW5jdGlvbiByKGUsdCxyKXt2YXIgbj11W2VdO3JldHVybiBkZWxldGUgdVtlXSx1W3RdPW4sZ1tuXS5nZW9tZXRyeVswXS5wb3AoKSxnW25dLmdlb21ldHJ5WzBdPWdbbl0uZ2VvbWV0cnlbMF0uY29uY2F0KHJbMF0pLG59ZnVuY3Rpb24gbihlLHQscil7dmFyIG49aVt0XTtyZXR1cm4gZGVsZXRlIGlbdF0saVtlXT1uLGdbbl0uZ2VvbWV0cnlbMF0uc2hpZnQoKSxnW25dLmdlb21ldHJ5WzBdPXJbMF0uY29uY2F0KGdbbl0uZ2VvbWV0cnlbMF0pLG59ZnVuY3Rpb24gbyhlLHQscil7dmFyIG49cj90WzBdW3RbMF0ubGVuZ3RoLTFdOnRbMF1bMF07cmV0dXJuIGUrXCI6XCIrbi54K1wiOlwiK24ueX1mb3IodmFyIGk9e30sdT17fSxnPVtdLGw9MCxtPTA7bTxlLmxlbmd0aDttKyspe3ZhciB5PWVbbV0sYz15Lmdlb21ldHJ5LGY9eS50ZXh0O2lmKGYpe3ZhciBhPW8oZixjKSxzPW8oZixjLCEwKTtpZihhIGluIHUmJnMgaW4gaSYmdVthXSE9PWlbc10pe3ZhciB2PW4oYSxzLGMpLGQ9cihhLHMsZ1t2XS5nZW9tZXRyeSk7ZGVsZXRlIGlbYV0sZGVsZXRlIHVbc10sdVtvKGYsZ1tkXS5nZW9tZXRyeSwhMCldPWQsZ1t2XS5nZW9tZXRyeT1udWxsfWVsc2UgYSBpbiB1P3IoYSxzLGMpOnMgaW4gaT9uKGEscyxjKToodChtKSxpW2FdPWwtMSx1W3NdPWwtMSl9ZWxzZSB0KG0pfXJldHVybiBnLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5nZW9tZXRyeX0pfTtcbn0se31dLDE2NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBTeW1ib2xRdWFkKHQsZSxhLG4saSxvLGwsaCxyLHMsZyl7dGhpcy5hbmNob3JQb2ludD10LHRoaXMudGw9ZSx0aGlzLnRyPWEsdGhpcy5ibD1uLHRoaXMuYnI9aSx0aGlzLnRleD1vLHRoaXMuYW5jaG9yQW5nbGU9bCx0aGlzLmdseXBoQW5nbGU9aCx0aGlzLm1pblNjYWxlPXIsdGhpcy5tYXhTY2FsZT1zLHRoaXMud3JpdGluZ01vZGU9Z31mdW5jdGlvbiBnZXRJY29uUXVhZHModCxlLGEsbixpLG8sbCxoLHIpe3ZhciBzLGcsdSxjLG09ZS5pbWFnZS5yZWN0LGY9aS5sYXlvdXQsZD0xLHg9ZS5sZWZ0LWQsUD14K20udy9lLmltYWdlLnBpeGVsUmF0aW8seT1lLnRvcC1kLE09eSttLmgvZS5pbWFnZS5waXhlbFJhdGlvO2lmKFwibm9uZVwiIT09ZltcImljb24tdGV4dC1maXRcIl0mJmwpe3ZhciBwPVAteCx2PU0teSx3PWZbXCJ0ZXh0LXNpemVcIl0vMjQsUz1sLmxlZnQqdyxiPWwucmlnaHQqdyxJPWwudG9wKncsXz1sLmJvdHRvbSp3LFE9Yi1TLEc9Xy1JLGs9ZltcImljb24tdGV4dC1maXQtcGFkZGluZ1wiXVswXSxxPWZbXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIl1bMV0sQT1mW1wiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCJdWzJdLFI9ZltcImljb24tdGV4dC1maXQtcGFkZGluZ1wiXVszXSx6PVwid2lkdGhcIj09PWZbXCJpY29uLXRleHQtZml0XCJdPy41KihHLXYpOjAsTD1cImhlaWdodFwiPT09ZltcImljb24tdGV4dC1maXRcIl0/LjUqKFEtcCk6MCxWPVwid2lkdGhcIj09PWZbXCJpY29uLXRleHQtZml0XCJdfHxcImJvdGhcIj09PWZbXCJpY29uLXRleHQtZml0XCJdP1E6cCxqPVwiaGVpZ2h0XCI9PT1mW1wiaWNvbi10ZXh0LWZpdFwiXXx8XCJib3RoXCI9PT1mW1wiaWNvbi10ZXh0LWZpdFwiXT9HOnY7cz1uZXcgUG9pbnQoUytMLVIsSSt6LWspLGc9bmV3IFBvaW50KFMrTCtxK1YsSSt6LWspLHU9bmV3IFBvaW50KFMrTCtxK1YsSSt6K0EraiksYz1uZXcgUG9pbnQoUytMLVIsSSt6K0Erail9ZWxzZSBzPW5ldyBQb2ludCh4LHkpLGc9bmV3IFBvaW50KFAseSksdT1uZXcgUG9pbnQoUCxNKSxjPW5ldyBQb2ludCh4LE0pO3ZhciBCPWkuZ2V0TGF5b3V0VmFsdWUoXCJpY29uLXJvdGF0ZVwiLGgscikqTWF0aC5QSS8xODA7aWYobyl7dmFyIEM9blt0LnNlZ21lbnRdO2lmKHQueT09PUMueSYmdC54PT09Qy54JiZ0LnNlZ21lbnQrMTxuLmxlbmd0aCl7dmFyIEQ9blt0LnNlZ21lbnQrMV07Qis9TWF0aC5hdGFuMih0LnktRC55LHQueC1ELngpK01hdGguUEl9ZWxzZSBCKz1NYXRoLmF0YW4yKHQueS1DLnksdC54LUMueCl9aWYoQil7dmFyIEU9TWF0aC5zaW4oQiksRj1NYXRoLmNvcyhCKSxIPVtGLC1FLEUsRl07cz1zLm1hdE11bHQoSCksZz1nLm1hdE11bHQoSCksYz1jLm1hdE11bHQoSCksdT11Lm1hdE11bHQoSCl9cmV0dXJuW25ldyBTeW1ib2xRdWFkKG5ldyBQb2ludCh0LngsdC55KSxzLGcsYyx1LGUuaW1hZ2UucmVjdCwwLDAsbWluU2NhbGUsMS8wKV19ZnVuY3Rpb24gZ2V0R2x5cGhRdWFkcyh0LGUsYSxuLGksbyl7Zm9yKHZhciBsPWkubGF5b3V0W1widGV4dC1yb3RhdGVcIl0qTWF0aC5QSS8xODAsaD1pLmxheW91dFtcInRleHQta2VlcC11cHJpZ2h0XCJdLHI9ZS5wb3NpdGlvbmVkR2x5cGhzLHM9W10sZz0wO2c8ci5sZW5ndGg7ZysrKXt2YXIgdT1yW2ddLGM9dS5nbHlwaDtpZihjKXt2YXIgbT1jLnJlY3Q7aWYobSl7dmFyIGY9KHUueCtjLmFkdmFuY2UvMikqYSxkPXZvaWQgMCx4PW1pblNjYWxlO28/KGQ9W10seD1nZXRTZWdtZW50R2x5cGhzKGQsdCxmLG4sdC5zZWdtZW50LCEwKSxoJiYoeD1NYXRoLm1pbih4LGdldFNlZ21lbnRHbHlwaHMoZCx0LGYsbix0LnNlZ21lbnQsITEpKSkpOmQ9W3thbmNob3JQb2ludDpuZXcgUG9pbnQodC54LHQueSksb2Zmc2V0OjAsYW5nbGU6MCxtYXhTY2FsZToxLzAsbWluU2NhbGU6bWluU2NhbGV9XTt2YXIgUD11LngrYy5sZWZ0LHk9dS55LWMudG9wLE09UCttLncscD15K20uaCx2PW5ldyBQb2ludCh1LngsYy5hZHZhbmNlLzIpLHc9bmV3IFBvaW50KFAseSksUz1uZXcgUG9pbnQoTSx5KSxiPW5ldyBQb2ludChQLHApLEk9bmV3IFBvaW50KE0scCk7MCE9PXUuYW5nbGUmJih3Ll9zdWIodikuX3JvdGF0ZSh1LmFuZ2xlKS5fYWRkKHYpLFMuX3N1Yih2KS5fcm90YXRlKHUuYW5nbGUpLl9hZGQodiksYi5fc3ViKHYpLl9yb3RhdGUodS5hbmdsZSkuX2FkZCh2KSxJLl9zdWIodikuX3JvdGF0ZSh1LmFuZ2xlKS5fYWRkKHYpKTtmb3IodmFyIF89MDtfPGQubGVuZ3RoO18rKyl7dmFyIFE9ZFtfXSxHPXcsaz1TLHE9YixBPUk7aWYobCl7dmFyIFI9TWF0aC5zaW4obCksej1NYXRoLmNvcyhsKSxMPVt6LC1SLFIsel07Rz1HLm1hdE11bHQoTCksaz1rLm1hdE11bHQoTCkscT1xLm1hdE11bHQoTCksQT1BLm1hdE11bHQoTCl9dmFyIFY9TWF0aC5tYXgoUS5taW5TY2FsZSx4KSxqPSh0LmFuZ2xlK1Eub2Zmc2V0KzIqTWF0aC5QSSklKDIqTWF0aC5QSSksQj0oUS5hbmdsZStRLm9mZnNldCsyKk1hdGguUEkpJSgyKk1hdGguUEkpO3MucHVzaChuZXcgU3ltYm9sUXVhZChRLmFuY2hvclBvaW50LEcsayxxLEEsbSxqLEIsVixRLm1heFNjYWxlLGUud3JpdGluZ01vZGUpKX19fX1yZXR1cm4gc31mdW5jdGlvbiBnZXRTZWdtZW50R2x5cGhzKHQsZSxhLG4saSxvKXt2YXIgbD0hbzthPDAmJihvPSFvKSxvJiZpKys7dmFyIGg9bmV3IFBvaW50KGUueCxlLnkpLHI9bltpXSxzPTEvMDthPU1hdGguYWJzKGEpO2Zvcih2YXIgZz1taW5TY2FsZTs7KXt2YXIgdT1oLmRpc3QociksYz1hL3UsbT1NYXRoLmF0YW4yKHIueS1oLnksci54LWgueCk7aWYob3x8KG0rPU1hdGguUEkpLHQucHVzaCh7YW5jaG9yUG9pbnQ6aCxvZmZzZXQ6bD9NYXRoLlBJOjAsbWluU2NhbGU6YyxtYXhTY2FsZTpzLGFuZ2xlOihtKzIqTWF0aC5QSSklKDIqTWF0aC5QSSl9KSxjPD1nKWJyZWFrO2ZvcihoPXI7aC5lcXVhbHMocik7KWlmKGkrPW8/MTotMSxyPW5baV0sIXIpcmV0dXJuIGM7dmFyIGY9ci5zdWIoaCkuX3VuaXQoKTtoPWguc3ViKGYuX211bHQodSkpLHM9Y31yZXR1cm4gZ312YXIgUG9pbnQ9cmVxdWlyZShcInBvaW50LWdlb21ldHJ5XCIpO21vZHVsZS5leHBvcnRzPXtnZXRJY29uUXVhZHM6Z2V0SWNvblF1YWRzLGdldEdseXBoUXVhZHM6Z2V0R2x5cGhRdWFkcyxTeW1ib2xRdWFkOlN5bWJvbFF1YWR9O3ZhciBtaW5TY2FsZT0uNTtcbn0se1wicG9pbnQtZ2VvbWV0cnlcIjoyNn1dLDE2ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgcmVzb2x2ZVRva2Vucz1yZXF1aXJlKFwiLi4vdXRpbC90b2tlblwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbyl7dmFyIHI9ZS5nZXRMYXlvdXRWYWx1ZShcInRleHQtZmllbGRcIix0LG8pO2lmKGUuaXNMYXlvdXRWYWx1ZUZlYXR1cmVDb25zdGFudChcInRleHQtZmllbGRcIikmJihyPXJlc29sdmVUb2tlbnMobyxyKSkscil7cj1yLnRvU3RyaW5nKCk7dmFyIGE9ZS5nZXRMYXlvdXRWYWx1ZShcInRleHQtdHJhbnNmb3JtXCIsdCxvKTtyZXR1cm5cInVwcGVyY2FzZVwiPT09YT9yPXIudG9Mb2NhbGVVcHBlckNhc2UoKTpcImxvd2VyY2FzZVwiPT09YSYmKHI9ci50b0xvY2FsZUxvd2VyQ2FzZSgpKSxyfX07XG59LHtcIi4uL3V0aWwvdG9rZW5cIjoyMTF9XSwxNjk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gUG9zaXRpb25lZEdseXBoKGUsdCxpLG4scil7dGhpcy5jb2RlUG9pbnQ9ZSx0aGlzLng9dCx0aGlzLnk9aSx0aGlzLmdseXBoPW58fG51bGwsdGhpcy5hbmdsZT1yfWZ1bmN0aW9uIFNoYXBpbmcoZSx0LGksbixyLGEsbyl7dGhpcy5wb3NpdGlvbmVkR2x5cGhzPWUsdGhpcy50ZXh0PXQsdGhpcy50b3A9aSx0aGlzLmJvdHRvbT1uLHRoaXMubGVmdD1yLHRoaXMucmlnaHQ9YSx0aGlzLndyaXRpbmdNb2RlPW99ZnVuY3Rpb24gYnJlYWtMaW5lcyhlLHQpe2Zvcih2YXIgaT1bXSxuPTAscj0wLGE9dDtyPGEubGVuZ3RoO3IrPTEpe3ZhciBvPWFbcl07aS5wdXNoKGUuc3Vic3RyaW5nKG4sbykpLG49b31yZXR1cm4gbjxlLmxlbmd0aCYmaS5wdXNoKGUuc3Vic3RyaW5nKG4sZS5sZW5ndGgpKSxpfWZ1bmN0aW9uIHNoYXBlVGV4dChlLHQsaSxuLHIsYSxvLHMsaCxsLGMpe3ZhciB1PWUudHJpbSgpO2M9PT1Xcml0aW5nTW9kZS52ZXJ0aWNhbCYmKHU9dmVydGljYWxpemVQdW5jdHVhdGlvbih1KSk7dmFyIGQsZz1bXSxwPW5ldyBTaGFwaW5nKGcsdSxoWzFdLGhbMV0saFswXSxoWzBdLGMpO3JldHVybiBkPXJ0bFRleHRQbHVnaW4ucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0P3J0bFRleHRQbHVnaW4ucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0KHUsZGV0ZXJtaW5lTGluZUJyZWFrcyh1LHMsaSx0KSk6YnJlYWtMaW5lcyh1LGRldGVybWluZUxpbmVCcmVha3ModSxzLGksdCkpLHNoYXBlTGluZXMocCx0LGQsbixyLGEsbyxoLGMscyxsKSwhIWcubGVuZ3RoJiZwfWZ1bmN0aW9uIGRldGVybWluZUF2ZXJhZ2VMaW5lV2lkdGgoZSx0LGksbil7dmFyIHI9MDtmb3IodmFyIGEgaW4gZSl7dmFyIG89bltlLmNoYXJDb2RlQXQoYSldO28mJihyKz1vLmFkdmFuY2UrdCl9dmFyIHM9TWF0aC5tYXgoMSxNYXRoLmNlaWwoci9pKSk7cmV0dXJuIHIvc31mdW5jdGlvbiBjYWxjdWxhdGVCYWRuZXNzKGUsdCxpLG4pe3ZhciByPU1hdGgucG93KGUtdCwyKTtyZXR1cm4gbj9lPHQ/ci8yOjIqcjpyK01hdGguYWJzKGkpKml9ZnVuY3Rpb24gY2FsY3VsYXRlUGVuYWx0eShlLHQpe3ZhciBpPTA7cmV0dXJuIDEwPT09ZSYmKGktPTFlNCksNDAhPT1lJiY2NTI4OCE9PWV8fChpKz01MCksNDEhPT10JiY2NTI4OSE9PXR8fChpKz01MCksaX1mdW5jdGlvbiBldmFsdWF0ZUJyZWFrKGUsdCxpLG4scixhKXtmb3IodmFyIG89bnVsbCxzPWNhbGN1bGF0ZUJhZG5lc3ModCxpLHIsYSksaD0wLGw9bjtoPGwubGVuZ3RoO2grPTEpe3ZhciBjPWxbaF0sdT10LWMueCxkPWNhbGN1bGF0ZUJhZG5lc3ModSxpLHIsYSkrYy5iYWRuZXNzO2Q8PXMmJihvPWMscz1kKX1yZXR1cm57aW5kZXg6ZSx4OnQscHJpb3JCcmVhazpvLGJhZG5lc3M6c319ZnVuY3Rpb24gbGVhc3RCYWRCcmVha3MoZSl7cmV0dXJuIGU/bGVhc3RCYWRCcmVha3MoZS5wcmlvckJyZWFrKS5jb25jYXQoZS5pbmRleCk6W119ZnVuY3Rpb24gZGV0ZXJtaW5lTGluZUJyZWFrcyhlLHQsaSxuKXtpZighaSlyZXR1cm5bXTtpZighZSlyZXR1cm5bXTtmb3IodmFyIHI9W10sYT1kZXRlcm1pbmVBdmVyYWdlTGluZVdpZHRoKGUsdCxpLG4pLG89MCxzPTA7czxlLmxlbmd0aDtzKyspe3ZhciBoPWUuY2hhckNvZGVBdChzKSxsPW5baF07bCYmIXdoaXRlc3BhY2VbaF0mJihvKz1sLmFkdmFuY2UrdCksczxlLmxlbmd0aC0xJiYoYnJlYWthYmxlW2hdfHxzY3JpcHREZXRlY3Rpb24uY2hhckFsbG93c0lkZW9ncmFwaGljQnJlYWtpbmcoaCkpJiZyLnB1c2goZXZhbHVhdGVCcmVhayhzKzEsbyxhLHIsY2FsY3VsYXRlUGVuYWx0eShoLGUuY2hhckNvZGVBdChzKzEpKSwhMSkpfXJldHVybiBsZWFzdEJhZEJyZWFrcyhldmFsdWF0ZUJyZWFrKGUubGVuZ3RoLG8sYSxyLDAsITApKX1mdW5jdGlvbiBzaGFwZUxpbmVzKGUsdCxpLG4scixhLG8scyxoLGwsYyl7dmFyIHU9LTE3LGQ9MCxnPXUscD0wLHY9ZS5wb3NpdGlvbmVkR2x5cGhzO2Zvcih2YXIgZiBpbiBpKXt2YXIgeD1pW2ZdLnRyaW0oKTtpZih4Lmxlbmd0aCl7Zm9yKHZhciBCPXYubGVuZ3RoLGs9MDtrPHgubGVuZ3RoO2srKyl7dmFyIFA9eC5jaGFyQ29kZUF0KGspLGI9dFtQXTtiJiYoc2NyaXB0RGV0ZWN0aW9uLmNoYXJIYXNVcHJpZ2h0VmVydGljYWxPcmllbnRhdGlvbihQKSYmaCE9PVdyaXRpbmdNb2RlLmhvcml6b250YWw/KHYucHVzaChuZXcgUG9zaXRpb25lZEdseXBoKFAsZCwwLGIsLU1hdGguUEkvMikpLGQrPWMrbCk6KHYucHVzaChuZXcgUG9zaXRpb25lZEdseXBoKFAsZCxnLGIsMCkpLGQrPWIuYWR2YW5jZStsKSl9aWYodi5sZW5ndGghPT1CKXt2YXIgbT1kLWw7cD1NYXRoLm1heChtLHApLGp1c3RpZnlMaW5lKHYsdCxCLHYubGVuZ3RoLTEsbyl9ZD0wLGcrPW59ZWxzZSBnKz1ufWFsaWduKHYsbyxyLGEscCxuLGkubGVuZ3RoLHMpO3ZhciB5PWkubGVuZ3RoKm47ZS50b3ArPS1hKnksZS5ib3R0b209ZS50b3AreSxlLmxlZnQrPS1yKnAsZS5yaWdodD1lLmxlZnQrcH1mdW5jdGlvbiBqdXN0aWZ5TGluZShlLHQsaSxuLHIpe2lmKHIpZm9yKHZhciBhPXRbZVtuXS5jb2RlUG9pbnRdLmFkdmFuY2Usbz0oZVtuXS54K2EpKnIscz1pO3M8PW47cysrKWVbc10ueC09b31mdW5jdGlvbiBhbGlnbihlLHQsaSxuLHIsYSxvLHMpe2Zvcih2YXIgaD0odC1pKSpyK3NbMF0sbD0oLW4qbysuNSkqYStzWzFdLGM9MDtjPGUubGVuZ3RoO2MrKyllW2NdLngrPWgsZVtjXS55Kz1sfWZ1bmN0aW9uIHNoYXBlSWNvbihlLHQpe2lmKCFlfHwhZS5yZWN0KXJldHVybiBudWxsO3ZhciBpPXRbMF0sbj10WzFdLHI9aS1lLndpZHRoLzIsYT1yK2Uud2lkdGgsbz1uLWUuaGVpZ2h0LzIscz1vK2UuaGVpZ2h0O3JldHVybiBuZXcgUG9zaXRpb25lZEljb24oZSxvLHMscixhKX1mdW5jdGlvbiBQb3NpdGlvbmVkSWNvbihlLHQsaSxuLHIpe3RoaXMuaW1hZ2U9ZSx0aGlzLnRvcD10LHRoaXMuYm90dG9tPWksdGhpcy5sZWZ0PW4sdGhpcy5yaWdodD1yfXZhciBzY3JpcHREZXRlY3Rpb249cmVxdWlyZShcIi4uL3V0aWwvc2NyaXB0X2RldGVjdGlvblwiKSx2ZXJ0aWNhbGl6ZVB1bmN0dWF0aW9uPXJlcXVpcmUoXCIuLi91dGlsL3ZlcnRpY2FsaXplX3B1bmN0dWF0aW9uXCIpLHJ0bFRleHRQbHVnaW49cmVxdWlyZShcIi4uL3NvdXJjZS9ydGxfdGV4dF9wbHVnaW5cIiksV3JpdGluZ01vZGU9e2hvcml6b250YWw6MSx2ZXJ0aWNhbDoyfTttb2R1bGUuZXhwb3J0cz17c2hhcGVUZXh0OnNoYXBlVGV4dCxzaGFwZUljb246c2hhcGVJY29uLFdyaXRpbmdNb2RlOldyaXRpbmdNb2RlfTt2YXIgd2hpdGVzcGFjZT17OTohMCwxMDohMCwxMTohMCwxMjohMCwxMzohMCwzMjohMH0sYnJlYWthYmxlPXsxMDohMCwzMjohMCwzODohMCw0MDohMCw0MTohMCw0MzohMCw0NTohMCw0NzohMCwxNzM6ITAsMTgzOiEwLDgyMDM6ITAsODIwODohMCw4MjExOiEwLDgyMzE6ITB9O1xufSx7XCIuLi9zb3VyY2UvcnRsX3RleHRfcGx1Z2luXCI6OTAsXCIuLi91dGlsL3NjcmlwdF9kZXRlY3Rpb25cIjoyMDksXCIuLi91dGlsL3ZlcnRpY2FsaXplX3B1bmN0dWF0aW9uXCI6MjE0fV0sMTcwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNvcHlCaXRtYXAodCxpLGUsaCxhLHMscixvLGwscCxuKXt2YXIgdSxSLHg9aCppK2UsZj1vKnMrcjtpZihuKWZvcihmLT1zLFI9LTE7Ujw9cDtSKyssZis9cylmb3IoeD0oKFIrcCklcCtoKSppK2UsdT0tMTt1PD1sO3UrKylhW2YrdV09dFt4Kyh1K2wpJWxdO2Vsc2UgZm9yKFI9MDtSPHA7UisrLHgrPWksZis9cylmb3IodT0wO3U8bDt1KyspYVtmK3VdPXRbeCt1XX12YXIgU2hlbGZQYWNrPXJlcXVpcmUoXCJAbWFwYm94L3NoZWxmLXBhY2tcIiksYnJvd3Nlcj1yZXF1aXJlKFwiLi4vdXRpbC9icm93c2VyXCIpLHV0aWw9cmVxdWlyZShcIi4uL3V0aWwvdXRpbFwiKSxBdGxhc0ltYWdlPWZ1bmN0aW9uKHQsaSxlLGgsYSl7dGhpcy5yZWN0PXQsdGhpcy53aWR0aD1pLHRoaXMuaGVpZ2h0PWUsdGhpcy5zZGY9aCx0aGlzLnBpeGVsUmF0aW89YX0sU3ByaXRlQXRsYXM9ZnVuY3Rpb24odCxpKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9aSx0aGlzLmF0bGFzPW5ldyBTaGVsZlBhY2sodCxpKSx0aGlzLmltYWdlcz17fSx0aGlzLmRhdGE9ITEsdGhpcy50ZXh0dXJlPTAsdGhpcy5maWx0ZXI9MCx0aGlzLnBpeGVsUmF0aW89MSx0aGlzLmRpcnR5PSEwfTtTcHJpdGVBdGxhcy5wcm90b3R5cGUuYWxsb2NhdGVJbWFnZT1mdW5jdGlvbih0LGkpe3QvPXRoaXMucGl4ZWxSYXRpbyxpLz10aGlzLnBpeGVsUmF0aW87dmFyIGU9MixoPXQrZSsoNC0odCtlKSU0KSxhPWkrZSsoNC0oaStlKSU0KSxzPXRoaXMuYXRsYXMucGFja09uZShoLGEpO3JldHVybiBzP3M6KHV0aWwud2Fybk9uY2UoXCJTcHJpdGVBdGxhcyBvdXQgb2Ygc3BhY2UuXCIpLG51bGwpfSxTcHJpdGVBdGxhcy5wcm90b3R5cGUuZ2V0SW1hZ2U9ZnVuY3Rpb24odCxpKXtpZih0aGlzLmltYWdlc1t0XSlyZXR1cm4gdGhpcy5pbWFnZXNbdF07aWYoIXRoaXMuc3ByaXRlKXJldHVybiBudWxsO3ZhciBlPXRoaXMuc3ByaXRlLmdldFNwcml0ZVBvc2l0aW9uKHQpO2lmKCFlLndpZHRofHwhZS5oZWlnaHQpcmV0dXJuIG51bGw7dmFyIGg9dGhpcy5hbGxvY2F0ZUltYWdlKGUud2lkdGgsZS5oZWlnaHQpO2lmKCFoKXJldHVybiBudWxsO3ZhciBhPW5ldyBBdGxhc0ltYWdlKGgsZS53aWR0aC9lLnBpeGVsUmF0aW8sZS5oZWlnaHQvZS5waXhlbFJhdGlvLGUuc2RmLGUucGl4ZWxSYXRpby90aGlzLnBpeGVsUmF0aW8pO3JldHVybiB0aGlzLmltYWdlc1t0XT1hLHRoaXMuY29weShoLGUsaSksYX0sU3ByaXRlQXRsYXMucHJvdG90eXBlLmdldFBvc2l0aW9uPWZ1bmN0aW9uKHQsaSl7dmFyIGU9dGhpcy5nZXRJbWFnZSh0LGkpLGg9ZSYmZS5yZWN0O2lmKCFoKXJldHVybiBudWxsO3ZhciBhPWUud2lkdGgqZS5waXhlbFJhdGlvLHM9ZS5oZWlnaHQqZS5waXhlbFJhdGlvLHI9MTtyZXR1cm57c2l6ZTpbZS53aWR0aCxlLmhlaWdodF0sdGw6WyhoLngrcikvdGhpcy53aWR0aCwoaC55K3IpL3RoaXMuaGVpZ2h0XSxicjpbKGgueCtyK2EpL3RoaXMud2lkdGgsKGgueStyK3MpL3RoaXMuaGVpZ2h0XX19LFNwcml0ZUF0bGFzLnByb3RvdHlwZS5hbGxvY2F0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoIXRoaXMuZGF0YSl7dmFyIGk9TWF0aC5mbG9vcih0aGlzLndpZHRoKnRoaXMucGl4ZWxSYXRpbyksZT1NYXRoLmZsb29yKHRoaXMuaGVpZ2h0KnRoaXMucGl4ZWxSYXRpbyk7dGhpcy5kYXRhPW5ldyBVaW50MzJBcnJheShpKmUpO2Zvcih2YXIgaD0wO2g8dGhpcy5kYXRhLmxlbmd0aDtoKyspdC5kYXRhW2hdPTB9fSxTcHJpdGVBdGxhcy5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0LGksZSl7aWYodGhpcy5zcHJpdGUuaW1nRGF0YSl7dmFyIGg9bmV3IFVpbnQzMkFycmF5KHRoaXMuc3ByaXRlLmltZ0RhdGEuYnVmZmVyKTt0aGlzLmFsbG9jYXRlKCk7dmFyIGE9dGhpcy5kYXRhLHM9MTtjb3B5Qml0bWFwKGgsdGhpcy5zcHJpdGUud2lkdGgsaS54LGkueSxhLHRoaXMud2lkdGgqdGhpcy5waXhlbFJhdGlvLCh0LngrcykqdGhpcy5waXhlbFJhdGlvLCh0LnkrcykqdGhpcy5waXhlbFJhdGlvLGkud2lkdGgsaS5oZWlnaHQsZSksdGhpcy5kaXJ0eT0hMH19LFNwcml0ZUF0bGFzLnByb3RvdHlwZS5zZXRTcHJpdGU9ZnVuY3Rpb24odCl7dCYmKHRoaXMucGl4ZWxSYXRpbz1icm93c2VyLmRldmljZVBpeGVsUmF0aW8+MT8yOjEsdGhpcy5jYW52YXMmJih0aGlzLmNhbnZhcy53aWR0aD10aGlzLndpZHRoKnRoaXMucGl4ZWxSYXRpbyx0aGlzLmNhbnZhcy5oZWlnaHQ9dGhpcy5oZWlnaHQqdGhpcy5waXhlbFJhdGlvKSksdGhpcy5zcHJpdGU9dH0sU3ByaXRlQXRsYXMucHJvdG90eXBlLmFkZEljb25zPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPXRoaXMsaD0wO2g8dC5sZW5ndGg7aCsrKWUuZ2V0SW1hZ2UodFtoXSk7aShudWxsLHRoaXMuaW1hZ2VzKX0sU3ByaXRlQXRsYXMucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCxpKXt2YXIgZT0hMTt0aGlzLnRleHR1cmU/dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKToodGhpcy50ZXh0dXJlPXQuY3JlYXRlVGV4dHVyZSgpLHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9TLHQuQ0xBTVBfVE9fRURHRSksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9ULHQuQ0xBTVBfVE9fRURHRSksZT0hMCk7dmFyIGg9aT90LkxJTkVBUjp0Lk5FQVJFU1Q7aCE9PXRoaXMuZmlsdGVyJiYodC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUlOX0ZJTFRFUixoKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NQUdfRklMVEVSLGgpLHRoaXMuZmlsdGVyPWgpLHRoaXMuZGlydHkmJih0aGlzLmFsbG9jYXRlKCksZT90LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsdC5SR0JBLHRoaXMud2lkdGgqdGhpcy5waXhlbFJhdGlvLHRoaXMuaGVpZ2h0KnRoaXMucGl4ZWxSYXRpbywwLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhLmJ1ZmZlcikpOnQudGV4U3ViSW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCwwLDAsdGhpcy53aWR0aCp0aGlzLnBpeGVsUmF0aW8sdGhpcy5oZWlnaHQqdGhpcy5waXhlbFJhdGlvLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhLmJ1ZmZlcikpLHRoaXMuZGlydHk9ITEpfSxtb2R1bGUuZXhwb3J0cz1TcHJpdGVBdGxhcztcbn0se1wiLi4vdXRpbC9icm93c2VyXCI6MTkyLFwiLi4vdXRpbC91dGlsXCI6MjEyLFwiQG1hcGJveC9zaGVsZi1wYWNrXCI6Mn1dLDE3MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgRE9NPXJlcXVpcmUoXCIuLi91dGlsL2RvbVwiKSxQb2ludD1yZXF1aXJlKFwicG9pbnQtZ2VvbWV0cnlcIiksaGFuZGxlcnM9e3Njcm9sbFpvb206cmVxdWlyZShcIi4vaGFuZGxlci9zY3JvbGxfem9vbVwiKSxib3hab29tOnJlcXVpcmUoXCIuL2hhbmRsZXIvYm94X3pvb21cIiksZHJhZ1JvdGF0ZTpyZXF1aXJlKFwiLi9oYW5kbGVyL2RyYWdfcm90YXRlXCIpLGRyYWdQYW46cmVxdWlyZShcIi4vaGFuZGxlci9kcmFnX3BhblwiKSxrZXlib2FyZDpyZXF1aXJlKFwiLi9oYW5kbGVyL2tleWJvYXJkXCIpLGRvdWJsZUNsaWNrWm9vbTpyZXF1aXJlKFwiLi9oYW5kbGVyL2RibGNsaWNrX3pvb21cIiksdG91Y2hab29tUm90YXRlOnJlcXVpcmUoXCIuL2hhbmRsZXIvdG91Y2hfem9vbV9yb3RhdGVcIil9O21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlKXtoKFwibW91c2VvdXRcIixlKX1mdW5jdGlvbiBvKHQpe2Uuc3RvcCgpLEw9RE9NLm1vdXNlUG9zKGcsdCksaChcIm1vdXNlZG93blwiLHQpLEU9ITB9ZnVuY3Rpb24gcih0KXt2YXIgbj1lLmRyYWdSb3RhdGUmJmUuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpO3AmJiFuJiZoKFwiY29udGV4dG1lbnVcIixwKSxwPW51bGwsRT0hMSxoKFwibW91c2V1cFwiLHQpfWZ1bmN0aW9uIGEodCl7aWYoIShlLmRyYWdQYW4mJmUuZHJhZ1Bhbi5pc0FjdGl2ZSgpfHxlLmRyYWdSb3RhdGUmJmUuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpKSl7Zm9yKHZhciBuPXQudG9FbGVtZW50fHx0LnRhcmdldDtuJiZuIT09Zzspbj1uLnBhcmVudE5vZGU7bj09PWcmJmgoXCJtb3VzZW1vdmVcIix0KX19ZnVuY3Rpb24gdSh0KXtlLnN0b3AoKSxmKFwidG91Y2hzdGFydFwiLHQpLCF0LnRvdWNoZXN8fHQudG91Y2hlcy5sZW5ndGg+MXx8KGI/KGNsZWFyVGltZW91dChiKSxiPW51bGwsaChcImRibGNsaWNrXCIsdCkpOmI9c2V0VGltZW91dChsLDMwMCkpfWZ1bmN0aW9uIGkoZSl7ZihcInRvdWNobW92ZVwiLGUpfWZ1bmN0aW9uIGMoZSl7ZihcInRvdWNoZW5kXCIsZSl9ZnVuY3Rpb24gZChlKXtmKFwidG91Y2hjYW5jZWxcIixlKX1mdW5jdGlvbiBsKCl7Yj1udWxsfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9RE9NLm1vdXNlUG9zKGcsZSk7dC5lcXVhbHMoTCkmJmgoXCJjbGlja1wiLGUpfWZ1bmN0aW9uIHYoZSl7aChcImRibGNsaWNrXCIsZSksZS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIG0odCl7dmFyIG49ZS5kcmFnUm90YXRlJiZlLmRyYWdSb3RhdGUuaXNBY3RpdmUoKTtFfHxuP0UmJihwPXQpOmgoXCJjb250ZXh0bWVudVwiLHQpLHQucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBoKHQsbil7dmFyIG89RE9NLm1vdXNlUG9zKGcsbik7cmV0dXJuIGUuZmlyZSh0LHtsbmdMYXQ6ZS51bnByb2plY3QobykscG9pbnQ6byxvcmlnaW5hbEV2ZW50Om59KX1mdW5jdGlvbiBmKHQsbil7dmFyIG89RE9NLnRvdWNoUG9zKGcsbikscj1vLnJlZHVjZShmdW5jdGlvbihlLHQsbixvKXtyZXR1cm4gZS5hZGQodC5kaXYoby5sZW5ndGgpKX0sbmV3IFBvaW50KDAsMCkpO3JldHVybiBlLmZpcmUodCx7bG5nTGF0OmUudW5wcm9qZWN0KHIpLHBvaW50OnIsbG5nTGF0czpvLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZS51bnByb2plY3QodCl9LHRoaXMpLHBvaW50czpvLG9yaWdpbmFsRXZlbnQ6bn0pfXZhciBnPWUuZ2V0Q2FudmFzQ29udGFpbmVyKCkscD1udWxsLEU9ITEsTD1udWxsLGI9bnVsbDtmb3IodmFyIHEgaW4gaGFuZGxlcnMpZVtxXT1uZXcgaGFuZGxlcnNbcV0oZSx0KSx0LmludGVyYWN0aXZlJiZ0W3FdJiZlW3FdLmVuYWJsZSh0W3FdKTtnLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLG4sITEpLGcuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLG8sITEpLGcuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixyLCExKSxnLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixhLCExKSxnLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdSwhMSksZy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIixjLCExKSxnLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixpLCExKSxnLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLGQsITEpLGcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIscywhMSksZy5hZGRFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIix2LCExKSxnLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLG0sITEpfTtcbn0se1wiLi4vdXRpbC9kb21cIjoxOTksXCIuL2hhbmRsZXIvYm94X3pvb21cIjoxNzksXCIuL2hhbmRsZXIvZGJsY2xpY2tfem9vbVwiOjE4MCxcIi4vaGFuZGxlci9kcmFnX3BhblwiOjE4MSxcIi4vaGFuZGxlci9kcmFnX3JvdGF0ZVwiOjE4MixcIi4vaGFuZGxlci9rZXlib2FyZFwiOjE4MyxcIi4vaGFuZGxlci9zY3JvbGxfem9vbVwiOjE4NCxcIi4vaGFuZGxlci90b3VjaF96b29tX3JvdGF0ZVwiOjE4NSxcInBvaW50LWdlb21ldHJ5XCI6MjZ9XSwxNzI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWw9cmVxdWlyZShcIi4uL3V0aWwvdXRpbFwiKSxpbnRlcnBvbGF0ZT1yZXF1aXJlKFwiLi4vdXRpbC9pbnRlcnBvbGF0ZVwiKSxicm93c2VyPXJlcXVpcmUoXCIuLi91dGlsL2Jyb3dzZXJcIiksTG5nTGF0PXJlcXVpcmUoXCIuLi9nZW8vbG5nX2xhdFwiKSxMbmdMYXRCb3VuZHM9cmVxdWlyZShcIi4uL2dlby9sbmdfbGF0X2JvdW5kc1wiKSxQb2ludD1yZXF1aXJlKFwicG9pbnQtZ2VvbWV0cnlcIiksRXZlbnRlZD1yZXF1aXJlKFwiLi4vdXRpbC9ldmVudGVkXCIpLENhbWVyYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBpKGksZSl7dC5jYWxsKHRoaXMpLHRoaXMubW92aW5nPSExLHRoaXMudHJhbnNmb3JtPWksdGhpcy5fYmVhcmluZ1NuYXA9ZS5iZWFyaW5nU25hcH1yZXR1cm4gdCYmKGkuX19wcm90b19fPXQpLGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuZ2V0Q2VudGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmNlbnRlcn0saS5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuanVtcFRvKHtjZW50ZXI6dH0saSksdGhpc30saS5wcm90b3R5cGUucGFuQnk9ZnVuY3Rpb24odCxpLGUpe3JldHVybiB0aGlzLnBhblRvKHRoaXMudHJhbnNmb3JtLmNlbnRlcix1dGlsLmV4dGVuZCh7b2Zmc2V0OlBvaW50LmNvbnZlcnQodCkubXVsdCgtMSl9LGkpLGUpLHRoaXN9LGkucHJvdG90eXBlLnBhblRvPWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4gdGhpcy5lYXNlVG8odXRpbC5leHRlbmQoe2NlbnRlcjp0fSxpKSxlKX0saS5wcm90b3R5cGUuZ2V0Wm9vbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS56b29tfSxpLnByb3RvdHlwZS5zZXRab29tPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuanVtcFRvKHt6b29tOnR9LGkpLHRoaXN9LGkucHJvdG90eXBlLnpvb21Ubz1mdW5jdGlvbih0LGksZSl7cmV0dXJuIHRoaXMuZWFzZVRvKHV0aWwuZXh0ZW5kKHt6b29tOnR9LGkpLGUpfSxpLnByb3RvdHlwZS56b29tSW49ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy56b29tVG8odGhpcy5nZXRab29tKCkrMSx0LGkpLHRoaXN9LGkucHJvdG90eXBlLnpvb21PdXQ9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy56b29tVG8odGhpcy5nZXRab29tKCktMSx0LGkpLHRoaXN9LGkucHJvdG90eXBlLmdldEJlYXJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uYmVhcmluZ30saS5wcm90b3R5cGUuc2V0QmVhcmluZz1mdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLmp1bXBUbyh7YmVhcmluZzp0fSxpKSx0aGlzfSxpLnByb3RvdHlwZS5yb3RhdGVUbz1mdW5jdGlvbih0LGksZSl7cmV0dXJuIHRoaXMuZWFzZVRvKHV0aWwuZXh0ZW5kKHtiZWFyaW5nOnR9LGkpLGUpfSxpLnByb3RvdHlwZS5yZXNldE5vcnRoPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMucm90YXRlVG8oMCx1dGlsLmV4dGVuZCh7ZHVyYXRpb246MWUzfSx0KSxpKSx0aGlzfSxpLnByb3RvdHlwZS5zbmFwVG9Ob3J0aD1mdW5jdGlvbih0LGkpe3JldHVybiBNYXRoLmFicyh0aGlzLmdldEJlYXJpbmcoKSk8dGhpcy5fYmVhcmluZ1NuYXA/dGhpcy5yZXNldE5vcnRoKHQsaSk6dGhpc30saS5wcm90b3R5cGUuZ2V0UGl0Y2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl0Y2h9LGkucHJvdG90eXBlLnNldFBpdGNoPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuanVtcFRvKHtwaXRjaDp0fSxpKSx0aGlzfSxpLnByb3RvdHlwZS5maXRCb3VuZHM9ZnVuY3Rpb24odCxpLGUpe2lmKGk9dXRpbC5leHRlbmQoe3BhZGRpbmc6e3RvcDowLGJvdHRvbTowLHJpZ2h0OjAsbGVmdDowfSxvZmZzZXQ6WzAsMF0sbWF4Wm9vbTp0aGlzLnRyYW5zZm9ybS5tYXhab29tfSxpKSxcIm51bWJlclwiPT10eXBlb2YgaS5wYWRkaW5nKXt2YXIgbz1pLnBhZGRpbmc7aS5wYWRkaW5nPXt0b3A6byxib3R0b206byxyaWdodDpvLGxlZnQ6b319aWYoIXV0aWwuZGVlcEVxdWFsKE9iamVjdC5rZXlzKGkucGFkZGluZykuc29ydChmdW5jdGlvbih0LGkpe3JldHVybiB0PGk/LTE6dD5pPzE6MH0pLFtcImJvdHRvbVwiLFwibGVmdFwiLFwicmlnaHRcIixcInRvcFwiXSkpcmV0dXJuIHZvaWQgdXRpbC53YXJuT25jZShcIm9wdGlvbnMucGFkZGluZyBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLCBvciBhbiBPYmplY3Qgd2l0aCBrZXlzICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcsICd0b3AnXCIpO3Q9TG5nTGF0Qm91bmRzLmNvbnZlcnQodCk7dmFyIG49W2kucGFkZGluZy5sZWZ0LWkucGFkZGluZy5yaWdodCxpLnBhZGRpbmcudG9wLWkucGFkZGluZy5ib3R0b21dLHI9TWF0aC5taW4oaS5wYWRkaW5nLnJpZ2h0LGkucGFkZGluZy5sZWZ0KSxzPU1hdGgubWluKGkucGFkZGluZy50b3AsaS5wYWRkaW5nLmJvdHRvbSk7aS5vZmZzZXQ9W2kub2Zmc2V0WzBdK25bMF0saS5vZmZzZXRbMV0rblsxXV07dmFyIGE9UG9pbnQuY29udmVydChpLm9mZnNldCksaD10aGlzLnRyYW5zZm9ybSx1PWgucHJvamVjdCh0LmdldE5vcnRoV2VzdCgpKSxwPWgucHJvamVjdCh0LmdldFNvdXRoRWFzdCgpKSxjPXAuc3ViKHUpLGc9KGgud2lkdGgtMipyLTIqTWF0aC5hYnMoYS54KSkvYy54LG09KGguaGVpZ2h0LTIqcy0yKk1hdGguYWJzKGEueSkpL2MueTtyZXR1cm4gbTwwfHxnPDA/dm9pZCB1dGlsLndhcm5PbmNlKFwiTWFwIGNhbm5vdCBmaXQgd2l0aGluIGNhbnZhcyB3aXRoIHRoZSBnaXZlbiBib3VuZHMsIHBhZGRpbmcsIGFuZC9vciBvZmZzZXQuXCIpOihpLmNlbnRlcj1oLnVucHJvamVjdCh1LmFkZChwKS5kaXYoMikpLGkuem9vbT1NYXRoLm1pbihoLnNjYWxlWm9vbShoLnNjYWxlKk1hdGgubWluKGcsbSkpLGkubWF4Wm9vbSksaS5iZWFyaW5nPTAsaS5saW5lYXI/dGhpcy5lYXNlVG8oaSxlKTp0aGlzLmZseVRvKGksZSkpfSxpLnByb3RvdHlwZS5qdW1wVG89ZnVuY3Rpb24odCxpKXt0aGlzLnN0b3AoKTt2YXIgZT10aGlzLnRyYW5zZm9ybSxvPSExLG49ITEscj0hMTtyZXR1cm5cInpvb21cImluIHQmJmUuem9vbSE9PSt0Lnpvb20mJihvPSEwLGUuem9vbT0rdC56b29tKSxcImNlbnRlclwiaW4gdCYmKGUuY2VudGVyPUxuZ0xhdC5jb252ZXJ0KHQuY2VudGVyKSksXCJiZWFyaW5nXCJpbiB0JiZlLmJlYXJpbmchPT0rdC5iZWFyaW5nJiYobj0hMCxlLmJlYXJpbmc9K3QuYmVhcmluZyksXCJwaXRjaFwiaW4gdCYmZS5waXRjaCE9PSt0LnBpdGNoJiYocj0hMCxlLnBpdGNoPSt0LnBpdGNoKSx0aGlzLmZpcmUoXCJtb3Zlc3RhcnRcIixpKS5maXJlKFwibW92ZVwiLGkpLG8mJnRoaXMuZmlyZShcInpvb21zdGFydFwiLGkpLmZpcmUoXCJ6b29tXCIsaSkuZmlyZShcInpvb21lbmRcIixpKSxuJiZ0aGlzLmZpcmUoXCJyb3RhdGVcIixpKSxyJiZ0aGlzLmZpcmUoXCJwaXRjaFwiLGkpLHRoaXMuZmlyZShcIm1vdmVlbmRcIixpKX0saS5wcm90b3R5cGUuZWFzZVRvPWZ1bmN0aW9uKHQsaSl7dmFyIGU9dGhpczt0aGlzLnN0b3AoKSx0PXV0aWwuZXh0ZW5kKHtvZmZzZXQ6WzAsMF0sZHVyYXRpb246NTAwLGVhc2luZzp1dGlsLmVhc2V9LHQpO3ZhciBvLG4scj10aGlzLnRyYW5zZm9ybSxzPVBvaW50LmNvbnZlcnQodC5vZmZzZXQpLGE9dGhpcy5nZXRab29tKCksaD10aGlzLmdldEJlYXJpbmcoKSx1PXRoaXMuZ2V0UGl0Y2goKSxwPVwiem9vbVwiaW4gdD8rdC56b29tOmEsYz1cImJlYXJpbmdcImluIHQ/dGhpcy5fbm9ybWFsaXplQmVhcmluZyh0LmJlYXJpbmcsaCk6aCxnPVwicGl0Y2hcImluIHQ/K3QucGl0Y2g6dTtcImNlbnRlclwiaW4gdD8obz1MbmdMYXQuY29udmVydCh0LmNlbnRlciksbj1yLmNlbnRlclBvaW50LmFkZChzKSk6XCJhcm91bmRcImluIHQ/KG89TG5nTGF0LmNvbnZlcnQodC5hcm91bmQpLG49ci5sb2NhdGlvblBvaW50KG8pKToobj1yLmNlbnRlclBvaW50LmFkZChzKSxvPXIucG9pbnRMb2NhdGlvbihuKSk7dmFyIG09ci5sb2NhdGlvblBvaW50KG8pO3JldHVybiB0LmFuaW1hdGU9PT0hMSYmKHQuZHVyYXRpb249MCksdGhpcy56b29taW5nPXAhPT1hLHRoaXMucm90YXRpbmc9aCE9PWMsdGhpcy5waXRjaGluZz1nIT09dSx0LnNtb290aEVhc2luZyYmMCE9PXQuZHVyYXRpb24mJih0LmVhc2luZz10aGlzLl9zbW9vdGhPdXRFYXNpbmcodC5kdXJhdGlvbikpLHQubm9Nb3ZlU3RhcnR8fCh0aGlzLm1vdmluZz0hMCx0aGlzLmZpcmUoXCJtb3Zlc3RhcnRcIixpKSksdGhpcy56b29taW5nJiZ0aGlzLmZpcmUoXCJ6b29tc3RhcnRcIixpKSxjbGVhclRpbWVvdXQodGhpcy5fb25FYXNlRW5kKSx0aGlzLl9lYXNlKGZ1bmN0aW9uKHQpe3RoaXMuem9vbWluZyYmKHIuem9vbT1pbnRlcnBvbGF0ZShhLHAsdCkpLHRoaXMucm90YXRpbmcmJihyLmJlYXJpbmc9aW50ZXJwb2xhdGUoaCxjLHQpKSx0aGlzLnBpdGNoaW5nJiYoci5waXRjaD1pbnRlcnBvbGF0ZSh1LGcsdCkpLHIuc2V0TG9jYXRpb25BdFBvaW50KG8sbS5hZGQobi5zdWIobSkuX211bHQodCkpKSx0aGlzLmZpcmUoXCJtb3ZlXCIsaSksdGhpcy56b29taW5nJiZ0aGlzLmZpcmUoXCJ6b29tXCIsaSksdGhpcy5yb3RhdGluZyYmdGhpcy5maXJlKFwicm90YXRlXCIsaSksdGhpcy5waXRjaGluZyYmdGhpcy5maXJlKFwicGl0Y2hcIixpKX0sZnVuY3Rpb24oKXt0LmRlbGF5RW5kRXZlbnRzP2UuX29uRWFzZUVuZD1zZXRUaW1lb3V0KGUuX2Vhc2VUb0VuZC5iaW5kKGUsaSksdC5kZWxheUVuZEV2ZW50cyk6ZS5fZWFzZVRvRW5kKGkpfSx0KSx0aGlzfSxpLnByb3RvdHlwZS5fZWFzZVRvRW5kPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuem9vbWluZzt0aGlzLm1vdmluZz0hMSx0aGlzLnpvb21pbmc9ITEsdGhpcy5yb3RhdGluZz0hMSx0aGlzLnBpdGNoaW5nPSExLGkmJnRoaXMuZmlyZShcInpvb21lbmRcIix0KSx0aGlzLmZpcmUoXCJtb3ZlZW5kXCIsdCl9LGkucHJvdG90eXBlLmZseVRvPWZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZSh0KXt2YXIgaT0oeSp5LXoqeisodD8tMToxKSpFKkUqXypfKS8oMioodD95OnopKkUqXyk7cmV0dXJuIE1hdGgubG9nKE1hdGguc3FydChpKmkrMSktaSl9ZnVuY3Rpb24gbyh0KXtyZXR1cm4oTWF0aC5leHAodCktTWF0aC5leHAoLXQpKS8yfWZ1bmN0aW9uIG4odCl7cmV0dXJuKE1hdGguZXhwKHQpK01hdGguZXhwKC10KSkvMn1mdW5jdGlvbiByKHQpe3JldHVybiBvKHQpL24odCl9dGhpcy5zdG9wKCksdD11dGlsLmV4dGVuZCh7b2Zmc2V0OlswLDBdLHNwZWVkOjEuMixjdXJ2ZToxLjQyLGVhc2luZzp1dGlsLmVhc2V9LHQpO3ZhciBzPXRoaXMudHJhbnNmb3JtLGE9UG9pbnQuY29udmVydCh0Lm9mZnNldCksaD10aGlzLmdldFpvb20oKSx1PXRoaXMuZ2V0QmVhcmluZygpLHA9dGhpcy5nZXRQaXRjaCgpLGM9XCJjZW50ZXJcImluIHQ/TG5nTGF0LmNvbnZlcnQodC5jZW50ZXIpOnRoaXMuZ2V0Q2VudGVyKCksZz1cInpvb21cImluIHQ/K3Quem9vbTpoLG09XCJiZWFyaW5nXCJpbiB0P3RoaXMuX25vcm1hbGl6ZUJlYXJpbmcodC5iZWFyaW5nLHUpOnUsZj1cInBpdGNoXCJpbiB0Pyt0LnBpdGNoOnA7TWF0aC5hYnMocy5jZW50ZXIubG5nKStNYXRoLmFicyhjLmxuZyk+MTgwJiYocy5jZW50ZXIubG5nPjAmJmMubG5nPDA/Yy5sbmcrPTM2MDpzLmNlbnRlci5sbmc8MCYmYy5sbmc+MCYmKGMubG5nLT0zNjApKTt2YXIgZD1zLnpvb21TY2FsZShnLWgpLGw9cy5wb2ludCx2PVwiY2VudGVyXCJpbiB0P3MucHJvamVjdChjKS5zdWIoYS5kaXYoZCkpOmwsYj10LmN1cnZlLHo9TWF0aC5tYXgocy53aWR0aCxzLmhlaWdodCkseT16L2QsXz12LnN1YihsKS5tYWcoKTtpZihcIm1pblpvb21cImluIHQpe3ZhciBNPXV0aWwuY2xhbXAoTWF0aC5taW4odC5taW5ab29tLGgsZykscy5taW5ab29tLHMubWF4Wm9vbSksVD16L3Muem9vbVNjYWxlKE0taCk7Yj1NYXRoLnNxcnQoVC9fKjIpfXZhciBFPWIqYix4PWUoMCksTD1mdW5jdGlvbih0KXtyZXR1cm4gbih4KS9uKHgrYip0KX0sWj1mdW5jdGlvbih0KXtyZXR1cm4geiooKG4oeCkqcih4K2IqdCktbyh4KSkvRSkvX30sUD0oZSgxKS14KS9iO2lmKE1hdGguYWJzKF8pPDFlLTYpe2lmKE1hdGguYWJzKHoteSk8MWUtNilyZXR1cm4gdGhpcy5lYXNlVG8odCxpKTt2YXIgaj15PHo/LTE6MTtQPU1hdGguYWJzKE1hdGgubG9nKHkveikpL2IsWj1mdW5jdGlvbigpe3JldHVybiAwfSxMPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmV4cChqKmIqdCl9fWlmKFwiZHVyYXRpb25cImluIHQpdC5kdXJhdGlvbj0rdC5kdXJhdGlvbjtlbHNle3ZhciB3PVwic2NyZWVuU3BlZWRcImluIHQ/K3Quc2NyZWVuU3BlZWQvYjordC5zcGVlZDt0LmR1cmF0aW9uPTFlMypQL3d9cmV0dXJuIHRoaXMubW92aW5nPSEwLHRoaXMuem9vbWluZz0hMCx1IT09bSYmKHRoaXMucm90YXRpbmc9ITApLHAhPT1mJiYodGhpcy5waXRjaGluZz0hMCksdGhpcy5maXJlKFwibW92ZXN0YXJ0XCIsaSksdGhpcy5maXJlKFwiem9vbXN0YXJ0XCIsaSksdGhpcy5fZWFzZShmdW5jdGlvbih0KXt2YXIgZT10KlAsbz1aKGUpLG49MS9MKGUpO3Muem9vbT1oK3Muc2NhbGVab29tKG4pLHMuY2VudGVyPXMudW5wcm9qZWN0KGwuYWRkKHYuc3ViKGwpLm11bHQobykpLm11bHQobikpLHRoaXMucm90YXRpbmcmJihzLmJlYXJpbmc9aW50ZXJwb2xhdGUodSxtLHQpKSx0aGlzLnBpdGNoaW5nJiYocy5waXRjaD1pbnRlcnBvbGF0ZShwLGYsdCkpLHRoaXMuZmlyZShcIm1vdmVcIixpKSx0aGlzLmZpcmUoXCJ6b29tXCIsaSksdGhpcy5yb3RhdGluZyYmdGhpcy5maXJlKFwicm90YXRlXCIsaSksdGhpcy5waXRjaGluZyYmdGhpcy5maXJlKFwicGl0Y2hcIixpKX0sZnVuY3Rpb24oKXt0aGlzLm1vdmluZz0hMSx0aGlzLnpvb21pbmc9ITEsdGhpcy5yb3RhdGluZz0hMSx0aGlzLnBpdGNoaW5nPSExLHRoaXMuZmlyZShcInpvb21lbmRcIixpKSx0aGlzLmZpcmUoXCJtb3ZlZW5kXCIsaSl9LHQpLHRoaXN9LGkucHJvdG90eXBlLmlzRWFzaW5nPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9hYm9ydEZufSxpLnByb3RvdHlwZS5pc01vdmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vdmluZ30saS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hYm9ydEZuJiYodGhpcy5fYWJvcnRGbigpLHRoaXMuX2ZpbmlzaEVhc2UoKSksdGhpc30saS5wcm90b3R5cGUuX2Vhc2U9ZnVuY3Rpb24odCxpLGUpe3RoaXMuX2ZpbmlzaEZuPWksdGhpcy5fYWJvcnRGbj1icm93c2VyLnRpbWVkKGZ1bmN0aW9uKGkpe3QuY2FsbCh0aGlzLGUuZWFzaW5nKGkpKSwxPT09aSYmdGhpcy5fZmluaXNoRWFzZSgpfSxlLmFuaW1hdGU9PT0hMT8wOmUuZHVyYXRpb24sdGhpcyl9LGkucHJvdG90eXBlLl9maW5pc2hFYXNlPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX2Fib3J0Rm47dmFyIHQ9dGhpcy5fZmluaXNoRm47ZGVsZXRlIHRoaXMuX2ZpbmlzaEZuLHQuY2FsbCh0aGlzKX0saS5wcm90b3R5cGUuX25vcm1hbGl6ZUJlYXJpbmc9ZnVuY3Rpb24odCxpKXt0PXV0aWwud3JhcCh0LC0xODAsMTgwKTt2YXIgZT1NYXRoLmFicyh0LWkpO3JldHVybiBNYXRoLmFicyh0LTM2MC1pKTxlJiYodC09MzYwKSxNYXRoLmFicyh0KzM2MC1pKTxlJiYodCs9MzYwKSx0fSxpLnByb3RvdHlwZS5fc21vb3RoT3V0RWFzaW5nPWZ1bmN0aW9uKHQpe3ZhciBpPXV0aWwuZWFzZTtpZih0aGlzLl9wcmV2RWFzZSl7dmFyIGU9dGhpcy5fcHJldkVhc2Usbz0oRGF0ZS5ub3coKS1lLnN0YXJ0KS9lLmR1cmF0aW9uLG49ZS5lYXNpbmcobysuMDEpLWUuZWFzaW5nKG8pLHI9LjI3L01hdGguc3FydChuKm4rMWUtNCkqLjAxLHM9TWF0aC5zcXJ0KC4wNzI5LXIqcik7aT11dGlsLmJlemllcihyLHMsLjI1LDEpfXJldHVybiB0aGlzLl9wcmV2RWFzZT17c3RhcnQ6KG5ldyBEYXRlKS5nZXRUaW1lKCksZHVyYXRpb246dCxlYXNpbmc6aX0saX0saX0oRXZlbnRlZCk7bW9kdWxlLmV4cG9ydHM9Q2FtZXJhO1xufSx7XCIuLi9nZW8vbG5nX2xhdFwiOjYyLFwiLi4vZ2VvL2xuZ19sYXRfYm91bmRzXCI6NjMsXCIuLi91dGlsL2Jyb3dzZXJcIjoxOTIsXCIuLi91dGlsL2V2ZW50ZWRcIjoyMDAsXCIuLi91dGlsL2ludGVycG9sYXRlXCI6MjA0LFwiLi4vdXRpbC91dGlsXCI6MjEyLFwicG9pbnQtZ2VvbWV0cnlcIjoyNn1dLDE3MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgRE9NPXJlcXVpcmUoXCIuLi8uLi91dGlsL2RvbVwiKSx1dGlsPXJlcXVpcmUoXCIuLi8uLi91dGlsL3V0aWxcIiksQXR0cmlidXRpb25Db250cm9sPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucz10LHV0aWwuYmluZEFsbChbXCJfdXBkYXRlRWRpdExpbmtcIixcIl91cGRhdGVEYXRhXCIsXCJfdXBkYXRlQ29tcGFjdFwiXSx0aGlzKX07QXR0cmlidXRpb25Db250cm9sLnByb3RvdHlwZS5nZXREZWZhdWx0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm5cImJvdHRvbS1yaWdodFwifSxBdHRyaWJ1dGlvbkNvbnRyb2wucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLmNvbXBhY3Q7cmV0dXJuIHRoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcj1ET00uY3JlYXRlKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtYXR0cmliXCIpLGkmJnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiY29tcGFjdFwiKSx0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKSx0aGlzLl91cGRhdGVFZGl0TGluaygpLHRoaXMuX21hcC5vbihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlRWRpdExpbmspLHZvaWQgMD09PWkmJih0aGlzLl9tYXAub24oXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl91cGRhdGVDb21wYWN0KCkpLHRoaXMuX2NvbnRhaW5lcn0sQXR0cmlidXRpb25Db250cm9sLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX2NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fbWFwLm9mZihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKSx0aGlzLl9tYXAub2ZmKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fbWFwPXZvaWQgMH0sQXR0cmlidXRpb25Db250cm9sLnByb3RvdHlwZS5fdXBkYXRlRWRpdExpbms9ZnVuY3Rpb24oKXtpZih0aGlzLl9lZGl0TGlua3x8KHRoaXMuX2VkaXRMaW5rPXRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1hcGJveC1pbXByb3ZlLW1hcFwiKSksdGhpcy5fZWRpdExpbmspe3ZhciB0PXRoaXMuX21hcC5nZXRDZW50ZXIoKTt0aGlzLl9lZGl0TGluay5ocmVmPVwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXAtZmVlZGJhY2svIy9cIit0LmxuZytcIi9cIit0LmxhdCtcIi9cIitNYXRoLnJvdW5kKHRoaXMuX21hcC5nZXRab29tKCkrMSl9fSxBdHRyaWJ1dGlvbkNvbnRyb2wucHJvdG90eXBlLl91cGRhdGVEYXRhPWZ1bmN0aW9uKHQpe3RoaXMuX3VwZGF0ZUF0dHJpYnV0aW9ucyh0KSx0aGlzLl91cGRhdGVFZGl0TGluaygpfSxBdHRyaWJ1dGlvbkNvbnRyb2wucHJvdG90eXBlLl91cGRhdGVBdHRyaWJ1dGlvbnM9ZnVuY3Rpb24odCl7aWYodGhpcy5fbWFwLnN0eWxlJiYoIXR8fFwibWV0YWRhdGFcIj09PXQuc291cmNlRGF0YVR5cGUpKXt2YXIgaT1bXSxvPXRoaXMuX21hcC5zdHlsZS5zb3VyY2VDYWNoZXM7Zm9yKHZhciBuIGluIG8pe3ZhciBlPW9bbl0uZ2V0U291cmNlKCk7ZS5hdHRyaWJ1dGlvbiYmaS5pbmRleE9mKGUuYXR0cmlidXRpb24pPDAmJmkucHVzaChlLmF0dHJpYnV0aW9uKX1pLnNvcnQoZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5sZW5ndGgtaS5sZW5ndGh9KSxpPWkuZmlsdGVyKGZ1bmN0aW9uKHQsbyl7Zm9yKHZhciBuPW8rMTtuPGkubGVuZ3RoO24rKylpZihpW25dLmluZGV4T2YodCk+PTApcmV0dXJuITE7cmV0dXJuITB9KSx0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MPWkuam9pbihcIiB8IFwiKSx0aGlzLl9lZGl0TGluaz1udWxsfX0sQXR0cmlidXRpb25Db250cm9sLnByb3RvdHlwZS5fdXBkYXRlQ29tcGFjdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKS5vZmZzZXRXaWR0aDw9NjQwO3RoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3RbdD9cImFkZFwiOlwicmVtb3ZlXCJdKFwiY29tcGFjdFwiKX0sbW9kdWxlLmV4cG9ydHM9QXR0cmlidXRpb25Db250cm9sO1xufSx7XCIuLi8uLi91dGlsL2RvbVwiOjE5OSxcIi4uLy4uL3V0aWwvdXRpbFwiOjIxMn1dLDE3NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgRE9NPXJlcXVpcmUoXCIuLi8uLi91dGlsL2RvbVwiKSx1dGlsPXJlcXVpcmUoXCIuLi8uLi91dGlsL3V0aWxcIiksd2luZG93PXJlcXVpcmUoXCIuLi8uLi91dGlsL3dpbmRvd1wiKSxGdWxsc2NyZWVuQ29udHJvbD1mdW5jdGlvbigpe3RoaXMuX2Z1bGxzY3JlZW49ITEsdXRpbC5iaW5kQWxsKFtcIl9vbkNsaWNrRnVsbHNjcmVlblwiLFwiX2NoYW5nZUljb25cIl0sdGhpcyksXCJvbmZ1bGxzY3JlZW5jaGFuZ2VcImluIHdpbmRvdy5kb2N1bWVudD90aGlzLl9mdWxsc2NyZWVuY2hhbmdlPVwiZnVsbHNjcmVlbmNoYW5nZVwiOlwib25tb3pmdWxsc2NyZWVuY2hhbmdlXCJpbiB3aW5kb3cuZG9jdW1lbnQ/dGhpcy5fZnVsbHNjcmVlbmNoYW5nZT1cIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIjpcIm9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiaW4gd2luZG93LmRvY3VtZW50P3RoaXMuX2Z1bGxzY3JlZW5jaGFuZ2U9XCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCI6XCJvbm1zZnVsbHNjcmVlbmNoYW5nZVwiaW4gd2luZG93LmRvY3VtZW50JiYodGhpcy5fZnVsbHNjcmVlbmNoYW5nZT1cIk1TRnVsbHNjcmVlbkNoYW5nZVwiKX07RnVsbHNjcmVlbkNvbnRyb2wucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKGUpe3ZhciBuPVwibWFwYm94Z2wtY3RybFwiLHQ9dGhpcy5fY29udGFpbmVyPURPTS5jcmVhdGUoXCJkaXZcIixuK1wiIG1hcGJveGdsLWN0cmwtZ3JvdXBcIiksbD10aGlzLl9mdWxsc2NyZWVuQnV0dG9uPURPTS5jcmVhdGUoXCJidXR0b25cIixuK1wiLWljb24gXCIrbitcIi1mdWxsc2NyZWVuXCIsdGhpcy5fY29udGFpbmVyKTtyZXR1cm4gbC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJUb2dnbGUgZnVsbHNjcmVlblwiKSxsLnR5cGU9XCJidXR0b25cIix0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX29uQ2xpY2tGdWxsc2NyZWVuKSx0aGlzLl9tYXBDb250YWluZXI9ZS5nZXRDb250YWluZXIoKSx3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLHRoaXMuX2NoYW5nZUljb24pLHR9LEZ1bGxzY3JlZW5Db250cm9sLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX2NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fbWFwPW51bGwsd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSx0aGlzLl9jaGFuZ2VJY29uKX0sRnVsbHNjcmVlbkNvbnRyb2wucHJvdG90eXBlLl9pc0Z1bGxzY3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnVsbHNjcmVlbn0sRnVsbHNjcmVlbkNvbnRyb2wucHJvdG90eXBlLl9jaGFuZ2VJY29uPWZ1bmN0aW9uKGUpe2lmKGUudGFyZ2V0PT09dGhpcy5fbWFwQ29udGFpbmVyKXt0aGlzLl9mdWxsc2NyZWVuPSF0aGlzLl9mdWxsc2NyZWVuO3ZhciBuPVwibWFwYm94Z2wtY3RybFwiO3RoaXMuX2Z1bGxzY3JlZW5CdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShuK1wiLXNocmlua1wiKSx0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUobitcIi1mdWxsc2NyZWVuXCIpfX0sRnVsbHNjcmVlbkNvbnRyb2wucHJvdG90eXBlLl9vbkNsaWNrRnVsbHNjcmVlbj1mdW5jdGlvbigpe3RoaXMuX2lzRnVsbHNjcmVlbigpP3dpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbj93aW5kb3cuZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTp3aW5kb3cuZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbj93aW5kb3cuZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpOndpbmRvdy5kb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuP3dpbmRvdy5kb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk6d2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4mJndpbmRvdy5kb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCk6dGhpcy5fbWFwQ29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuP3RoaXMuX21hcENvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbigpOnRoaXMuX21hcENvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbj90aGlzLl9tYXBDb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTp0aGlzLl9tYXBDb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbj90aGlzLl9tYXBDb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbigpOnRoaXMuX21hcENvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiYmdGhpcy5fbWFwQ29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCl9LG1vZHVsZS5leHBvcnRzPUZ1bGxzY3JlZW5Db250cm9sO1xufSx7XCIuLi8uLi91dGlsL2RvbVwiOjE5OSxcIi4uLy4uL3V0aWwvdXRpbFwiOjIxMixcIi4uLy4uL3V0aWwvd2luZG93XCI6MTk0fV0sMTc1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNoZWNrR2VvbG9jYXRpb25TdXBwb3J0KHQpe3ZvaWQgMCE9PXN1cHBvcnRzR2VvbG9jYXRpb24/dChzdXBwb3J0c0dlb2xvY2F0aW9uKTp2b2lkIDAhPT13aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zP3dpbmRvdy5uYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe25hbWU6XCJnZW9sb2NhdGlvblwifSkudGhlbihmdW5jdGlvbihvKXtzdXBwb3J0c0dlb2xvY2F0aW9uPVwiZGVuaWVkXCIhPT1vLnN0YXRlLHQoc3VwcG9ydHNHZW9sb2NhdGlvbil9KTooc3VwcG9ydHNHZW9sb2NhdGlvbj0hIXdpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24sdChzdXBwb3J0c0dlb2xvY2F0aW9uKSl9dmFyIEV2ZW50ZWQ9cmVxdWlyZShcIi4uLy4uL3V0aWwvZXZlbnRlZFwiKSxET009cmVxdWlyZShcIi4uLy4uL3V0aWwvZG9tXCIpLHdpbmRvdz1yZXF1aXJlKFwiLi4vLi4vdXRpbC93aW5kb3dcIiksdXRpbD1yZXF1aXJlKFwiLi4vLi4vdXRpbC91dGlsXCIpLGRlZmF1bHRHZW9Qb3NpdGlvbk9wdGlvbnM9e2VuYWJsZUhpZ2hBY2N1cmFjeTohMSx0aW1lb3V0OjZlM30sY2xhc3NOYW1lPVwibWFwYm94Z2wtY3RybFwiLHN1cHBvcnRzR2VvbG9jYXRpb24sR2VvbG9jYXRlQ29udHJvbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBvKG8pe3QuY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnM9b3x8e30sdXRpbC5iaW5kQWxsKFtcIl9vblN1Y2Nlc3NcIixcIl9vbkVycm9yXCIsXCJfZmluaXNoXCIsXCJfc2V0dXBVSVwiXSx0aGlzKX1yZXR1cm4gdCYmKG8uX19wcm90b19fPXQpLG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLG8ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW8sby5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcj1ET00uY3JlYXRlKFwiZGl2XCIsY2xhc3NOYW1lK1wiIFwiK2NsYXNzTmFtZStcIi1ncm91cFwiKSxjaGVja0dlb2xvY2F0aW9uU3VwcG9ydCh0aGlzLl9zZXR1cFVJKSx0aGlzLl9jb250YWluZXJ9LG8ucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXA9dm9pZCAwfSxvLnByb3RvdHlwZS5fb25TdWNjZXNzPWZ1bmN0aW9uKHQpe3RoaXMuX21hcC5qdW1wVG8oe2NlbnRlcjpbdC5jb29yZHMubG9uZ2l0dWRlLHQuY29vcmRzLmxhdGl0dWRlXSx6b29tOjE3LGJlYXJpbmc6MCxwaXRjaDowfSksdGhpcy5maXJlKFwiZ2VvbG9jYXRlXCIsdCksdGhpcy5fZmluaXNoKCl9LG8ucHJvdG90eXBlLl9vbkVycm9yPWZ1bmN0aW9uKHQpe3RoaXMuZmlyZShcImVycm9yXCIsdCksdGhpcy5fZmluaXNoKCl9LG8ucHJvdG90eXBlLl9maW5pc2g9ZnVuY3Rpb24oKXt0aGlzLl90aW1lb3V0SWQmJmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpLHRoaXMuX3RpbWVvdXRJZD12b2lkIDB9LG8ucHJvdG90eXBlLl9zZXR1cFVJPWZ1bmN0aW9uKHQpe3QhPT0hMSYmKHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIixmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uPURPTS5jcmVhdGUoXCJidXR0b25cIixjbGFzc05hbWUrXCItaWNvbiBcIitjbGFzc05hbWUrXCItZ2VvbG9jYXRlXCIsdGhpcy5fY29udGFpbmVyKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24udHlwZT1cImJ1dHRvblwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJHZW9sb2NhdGVcIiksdGhpcy5vcHRpb25zLndhdGNoUG9zaXRpb24mJnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiwhMSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX29uQ2xpY2tHZW9sb2NhdGUuYmluZCh0aGlzKSkpfSxvLnByb3RvdHlwZS5fb25DbGlja0dlb2xvY2F0ZT1mdW5jdGlvbigpe3ZhciB0PXV0aWwuZXh0ZW5kKGRlZmF1bHRHZW9Qb3NpdGlvbk9wdGlvbnMsdGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zfHx7fSk7dGhpcy5vcHRpb25zLndhdGNoUG9zaXRpb24/dm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEPyh0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIndhdGNoaW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiwhMSksd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCksdGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEPXZvaWQgMCk6KHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwid2F0Y2hpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCEwKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9d2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKHRoaXMuX29uU3VjY2Vzcyx0aGlzLl9vbkVycm9yLHQpKTood2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24odGhpcy5fb25TdWNjZXNzLHRoaXMuX29uRXJyb3IsdCksdGhpcy5fdGltZW91dElkPXNldFRpbWVvdXQodGhpcy5fZmluaXNoLDFlNCkpfSxvfShFdmVudGVkKTttb2R1bGUuZXhwb3J0cz1HZW9sb2NhdGVDb250cm9sO1xufSx7XCIuLi8uLi91dGlsL2RvbVwiOjE5OSxcIi4uLy4uL3V0aWwvZXZlbnRlZFwiOjIwMCxcIi4uLy4uL3V0aWwvdXRpbFwiOjIxMixcIi4uLy4uL3V0aWwvd2luZG93XCI6MTk0fV0sMTc2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBET009cmVxdWlyZShcIi4uLy4uL3V0aWwvZG9tXCIpLHV0aWw9cmVxdWlyZShcIi4uLy4uL3V0aWwvdXRpbFwiKSxMb2dvQ29udHJvbD1mdW5jdGlvbigpe3V0aWwuYmluZEFsbChbXCJfdXBkYXRlTG9nb1wiXSx0aGlzKX07TG9nb0NvbnRyb2wucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKG8pe3JldHVybiB0aGlzLl9tYXA9byx0aGlzLl9jb250YWluZXI9RE9NLmNyZWF0ZShcImRpdlwiLFwibWFwYm94Z2wtY3RybFwiKSx0aGlzLl9tYXAub24oXCJzb3VyY2VkYXRhXCIsdGhpcy5fdXBkYXRlTG9nbyksdGhpcy5fdXBkYXRlTG9nbygpLHRoaXMuX2NvbnRhaW5lcn0sTG9nb0NvbnRyb2wucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXAub2ZmKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZUxvZ28pfSxMb2dvQ29udHJvbC5wcm90b3R5cGUuZ2V0RGVmYXVsdFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuXCJib3R0b20tbGVmdFwifSxMb2dvQ29udHJvbC5wcm90b3R5cGUuX3VwZGF0ZUxvZ289ZnVuY3Rpb24obyl7aWYobyYmXCJtZXRhZGF0YVwiPT09by5zb3VyY2VEYXRhVHlwZSlpZighdGhpcy5fY29udGFpbmVyLmNoaWxkTm9kZXMubGVuZ3RoJiZ0aGlzLl9sb2dvUmVxdWlyZWQoKSl7dmFyIHQ9RE9NLmNyZWF0ZShcImFcIixcIm1hcGJveGdsLWN0cmwtbG9nb1wiKTt0LnRhcmdldD1cIl9ibGFua1wiLHQuaHJlZj1cImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vXCIsdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJNYXBib3ggbG9nb1wiKSx0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQodCksdGhpcy5fbWFwLm9mZihcImRhdGFcIix0aGlzLl91cGRhdGVMb2dvKX1lbHNlIHRoaXMuX2NvbnRhaW5lci5jaGlsZE5vZGVzLmxlbmd0aCYmIXRoaXMuX2xvZ29SZXF1aXJlZCgpJiZ0aGlzLm9uUmVtb3ZlKCl9LExvZ29Db250cm9sLnByb3RvdHlwZS5fbG9nb1JlcXVpcmVkPWZ1bmN0aW9uKCl7aWYodGhpcy5fbWFwLnN0eWxlKXt2YXIgbz10aGlzLl9tYXAuc3R5bGUuc291cmNlQ2FjaGVzO2Zvcih2YXIgdCBpbiBvKXt2YXIgZT1vW3RdLmdldFNvdXJjZSgpO2lmKGUubWFwYm94X2xvZ28pcmV0dXJuITB9cmV0dXJuITF9fSxtb2R1bGUuZXhwb3J0cz1Mb2dvQ29udHJvbDtcbn0se1wiLi4vLi4vdXRpbC9kb21cIjoxOTksXCIuLi8uLi91dGlsL3V0aWxcIjoyMTJ9XSwxNzc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY29weU1vdXNlRXZlbnQodCl7cmV0dXJuIG5ldyB3aW5kb3cuTW91c2VFdmVudCh0LnR5cGUse2J1dHRvbjoyLGJ1dHRvbnM6MixidWJibGVzOiEwLGNhbmNlbGFibGU6ITAsZGV0YWlsOnQuZGV0YWlsLHZpZXc6dC52aWV3LHNjcmVlblg6dC5zY3JlZW5YLHNjcmVlblk6dC5zY3JlZW5ZLGNsaWVudFg6dC5jbGllbnRYLGNsaWVudFk6dC5jbGllbnRZLG1vdmVtZW50WDp0Lm1vdmVtZW50WCxtb3ZlbWVudFk6dC5tb3ZlbWVudFksY3RybEtleTp0LmN0cmxLZXksc2hpZnRLZXk6dC5zaGlmdEtleSxhbHRLZXk6dC5hbHRLZXksbWV0YUtleTp0Lm1ldGFLZXl9KX12YXIgRE9NPXJlcXVpcmUoXCIuLi8uLi91dGlsL2RvbVwiKSx3aW5kb3c9cmVxdWlyZShcIi4uLy4uL3V0aWwvd2luZG93XCIpLHV0aWw9cmVxdWlyZShcIi4uLy4uL3V0aWwvdXRpbFwiKSxjbGFzc05hbWU9XCJtYXBib3hnbC1jdHJsXCIsTmF2aWdhdGlvbkNvbnRyb2w9ZnVuY3Rpb24oKXt1dGlsLmJpbmRBbGwoW1wiX3JvdGF0ZUNvbXBhc3NBcnJvd1wiXSx0aGlzKX07TmF2aWdhdGlvbkNvbnRyb2wucHJvdG90eXBlLl9yb3RhdGVDb21wYXNzQXJyb3c9ZnVuY3Rpb24oKXt2YXIgdD1cInJvdGF0ZShcIit0aGlzLl9tYXAudHJhbnNmb3JtLmFuZ2xlKigxODAvTWF0aC5QSSkrXCJkZWcpXCI7dGhpcy5fY29tcGFzc0Fycm93LnN0eWxlLnRyYW5zZm9ybT10fSxOYXZpZ2F0aW9uQ29udHJvbC5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcj1ET00uY3JlYXRlKFwiZGl2XCIsY2xhc3NOYW1lK1wiIFwiK2NsYXNzTmFtZStcIi1ncm91cFwiLHQuZ2V0Q29udGFpbmVyKCkpLHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIix0aGlzLl9vbkNvbnRleHRNZW51LmJpbmQodGhpcykpLHRoaXMuX3pvb21JbkJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24oY2xhc3NOYW1lK1wiLWljb24gXCIrY2xhc3NOYW1lK1wiLXpvb20taW5cIixcIlpvb20gSW5cIix0Lnpvb21Jbi5iaW5kKHQpKSx0aGlzLl96b29tT3V0QnV0dG9uPXRoaXMuX2NyZWF0ZUJ1dHRvbihjbGFzc05hbWUrXCItaWNvbiBcIitjbGFzc05hbWUrXCItem9vbS1vdXRcIixcIlpvb20gT3V0XCIsdC56b29tT3V0LmJpbmQodCkpLHRoaXMuX2NvbXBhc3M9dGhpcy5fY3JlYXRlQnV0dG9uKGNsYXNzTmFtZStcIi1pY29uIFwiK2NsYXNzTmFtZStcIi1jb21wYXNzXCIsXCJSZXNldCBOb3J0aFwiLHQucmVzZXROb3J0aC5iaW5kKHQpKSx0aGlzLl9jb21wYXNzQXJyb3c9RE9NLmNyZWF0ZShcInNwYW5cIixjbGFzc05hbWUrXCItY29tcGFzcy1hcnJvd1wiLHRoaXMuX2NvbXBhc3MpLHRoaXMuX2NvbXBhc3MuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX29uQ29tcGFzc0Rvd24uYmluZCh0aGlzKSksdGhpcy5fb25Db21wYXNzTW92ZT10aGlzLl9vbkNvbXBhc3NNb3ZlLmJpbmQodGhpcyksdGhpcy5fb25Db21wYXNzVXA9dGhpcy5fb25Db21wYXNzVXAuYmluZCh0aGlzKSx0aGlzLl9tYXAub24oXCJyb3RhdGVcIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdygpLHRoaXMuX2NvbnRhaW5lcn0sTmF2aWdhdGlvbkNvbnRyb2wucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXAub2ZmKFwicm90YXRlXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSx0aGlzLl9tYXA9dm9pZCAwfSxOYXZpZ2F0aW9uQ29udHJvbC5wcm90b3R5cGUuX29uQ29udGV4dE1lbnU9ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpfSxOYXZpZ2F0aW9uQ29udHJvbC5wcm90b3R5cGUuX29uQ29tcGFzc0Rvd249ZnVuY3Rpb24odCl7MD09PXQuYnV0dG9uJiYoRE9NLmRpc2FibGVEcmFnKCksd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vbkNvbXBhc3NNb3ZlKSx3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl9vbkNvbXBhc3NVcCksdGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLmRpc3BhdGNoRXZlbnQoY29weU1vdXNlRXZlbnQodCkpLHQuc3RvcFByb3BhZ2F0aW9uKCkpfSxOYXZpZ2F0aW9uQ29udHJvbC5wcm90b3R5cGUuX29uQ29tcGFzc01vdmU9ZnVuY3Rpb24odCl7MD09PXQuYnV0dG9uJiYodGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLmRpc3BhdGNoRXZlbnQoY29weU1vdXNlRXZlbnQodCkpLHQuc3RvcFByb3BhZ2F0aW9uKCkpfSxOYXZpZ2F0aW9uQ29udHJvbC5wcm90b3R5cGUuX29uQ29tcGFzc1VwPWZ1bmN0aW9uKHQpezA9PT10LmJ1dHRvbiYmKHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Db21wYXNzTW92ZSksd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5fb25Db21wYXNzVXApLERPTS5lbmFibGVEcmFnKCksdGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLmRpc3BhdGNoRXZlbnQoY29weU1vdXNlRXZlbnQodCkpLHQuc3RvcFByb3BhZ2F0aW9uKCkpfSxOYXZpZ2F0aW9uQ29udHJvbC5wcm90b3R5cGUuX2NyZWF0ZUJ1dHRvbj1mdW5jdGlvbih0LG8sZSl7dmFyIG49RE9NLmNyZWF0ZShcImJ1dHRvblwiLHQsdGhpcy5fY29udGFpbmVyKTtyZXR1cm4gbi50eXBlPVwiYnV0dG9uXCIsbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsbyksbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2UoKX0pLG59LG1vZHVsZS5leHBvcnRzPU5hdmlnYXRpb25Db250cm9sO1xufSx7XCIuLi8uLi91dGlsL2RvbVwiOjE5OSxcIi4uLy4uL3V0aWwvdXRpbFwiOjIxMixcIi4uLy4uL3V0aWwvd2luZG93XCI6MTk0fV0sMTc4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIHVwZGF0ZVNjYWxlKHQsZSxvKXt2YXIgbj1vJiZvLm1heFdpZHRofHwxMDAsaT10Ll9jb250YWluZXIuY2xpZW50SGVpZ2h0LzIsYT1nZXREaXN0YW5jZSh0LnVucHJvamVjdChbMCxpXSksdC51bnByb2plY3QoW24saV0pKTtpZihvJiZcImltcGVyaWFsXCI9PT1vLnVuaXQpe3ZhciByPTMuMjgwOCphO2lmKHI+NTI4MCl7dmFyIGw9ci81MjgwO3NldFNjYWxlKGUsbixsLFwibWlcIil9ZWxzZSBzZXRTY2FsZShlLG4scixcImZ0XCIpfWVsc2Ugc2V0U2NhbGUoZSxuLGEsXCJtXCIpfWZ1bmN0aW9uIHNldFNjYWxlKHQsZSxvLG4pe3ZhciBpPWdldFJvdW5kTnVtKG8pLGE9aS9vO1wibVwiPT09biYmaT49MWUzJiYoaS89MWUzLG49XCJrbVwiKSx0LnN0eWxlLndpZHRoPWUqYStcInB4XCIsdC5pbm5lckhUTUw9aStufWZ1bmN0aW9uIGdldERpc3RhbmNlKHQsZSl7dmFyIG89NjM3MWUzLG49TWF0aC5QSS8xODAsaT10LmxhdCpuLGE9ZS5sYXQqbixyPU1hdGguc2luKGkpKk1hdGguc2luKGEpK01hdGguY29zKGkpKk1hdGguY29zKGEpKk1hdGguY29zKChlLmxuZy10LmxuZykqbiksbD1vKk1hdGguYWNvcyhNYXRoLm1pbihyLDEpKTtyZXR1cm4gbH1mdW5jdGlvbiBnZXRSb3VuZE51bSh0KXt2YXIgZT1NYXRoLnBvdygxMCwoXCJcIitNYXRoLmZsb29yKHQpKS5sZW5ndGgtMSksbz10L2U7cmV0dXJuIG89bz49MTA/MTA6bz49NT81Om8+PTM/MzpvPj0yPzI6MSxlKm99dmFyIERPTT1yZXF1aXJlKFwiLi4vLi4vdXRpbC9kb21cIiksdXRpbD1yZXF1aXJlKFwiLi4vLi4vdXRpbC91dGlsXCIpLFNjYWxlQ29udHJvbD1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbnM9dCx1dGlsLmJpbmRBbGwoW1wiX29uTW92ZVwiXSx0aGlzKX07U2NhbGVDb250cm9sLnByb3RvdHlwZS5nZXREZWZhdWx0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm5cImJvdHRvbS1sZWZ0XCJ9LFNjYWxlQ29udHJvbC5wcm90b3R5cGUuX29uTW92ZT1mdW5jdGlvbigpe3VwZGF0ZVNjYWxlKHRoaXMuX21hcCx0aGlzLl9jb250YWluZXIsdGhpcy5vcHRpb25zKX0sU2NhbGVDb250cm9sLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbWFwPXQsdGhpcy5fY29udGFpbmVyPURPTS5jcmVhdGUoXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1zY2FsZVwiLHQuZ2V0Q29udGFpbmVyKCkpLHRoaXMuX21hcC5vbihcIm1vdmVcIix0aGlzLl9vbk1vdmUpLHRoaXMuX29uTW92ZSgpLHRoaXMuX2NvbnRhaW5lcn0sU2NhbGVDb250cm9sLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbigpe3RoaXMuX2NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fbWFwLm9mZihcIm1vdmVcIix0aGlzLl9vbk1vdmUpLHRoaXMuX21hcD12b2lkIDB9LG1vZHVsZS5leHBvcnRzPVNjYWxlQ29udHJvbDtcbn0se1wiLi4vLi4vdXRpbC9kb21cIjoxOTksXCIuLi8uLi91dGlsL3V0aWxcIjoyMTJ9XSwxNzk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIERPTT1yZXF1aXJlKFwiLi4vLi4vdXRpbC9kb21cIiksTG5nTGF0Qm91bmRzPXJlcXVpcmUoXCIuLi8uLi9nZW8vbG5nX2xhdF9ib3VuZHNcIiksdXRpbD1yZXF1aXJlKFwiLi4vLi4vdXRpbC91dGlsXCIpLHdpbmRvdz1yZXF1aXJlKFwiLi4vLi4vdXRpbC93aW5kb3dcIiksQm94Wm9vbUhhbmRsZXI9ZnVuY3Rpb24obyl7dGhpcy5fbWFwPW8sdGhpcy5fZWw9by5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9jb250YWluZXI9by5nZXRDb250YWluZXIoKSx1dGlsLmJpbmRBbGwoW1wiX29uTW91c2VEb3duXCIsXCJfb25Nb3VzZU1vdmVcIixcIl9vbk1vdXNlVXBcIixcIl9vbktleURvd25cIl0sdGhpcyl9O0JveFpvb21IYW5kbGVyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2VuYWJsZWR9LEJveFpvb21IYW5kbGVyLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fYWN0aXZlfSxCb3hab29tSGFuZGxlci5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9vbk1vdXNlRG93biwhMSksdGhpcy5fZW5hYmxlZD0hMCl9LEJveFpvb21IYW5kbGVyLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9vbk1vdXNlRG93biksdGhpcy5fZW5hYmxlZD0hMSl9LEJveFpvb21IYW5kbGVyLnByb3RvdHlwZS5fb25Nb3VzZURvd249ZnVuY3Rpb24obyl7by5zaGlmdEtleSYmMD09PW8uYnV0dG9uJiYod2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlTW92ZSwhMSksd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5fb25LZXlEb3duLCExKSx3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl9vbk1vdXNlVXAsITEpLERPTS5kaXNhYmxlRHJhZygpLHRoaXMuX3N0YXJ0UG9zPURPTS5tb3VzZVBvcyh0aGlzLl9lbCxvKSx0aGlzLl9hY3RpdmU9ITApfSxCb3hab29tSGFuZGxlci5wcm90b3R5cGUuX29uTW91c2VNb3ZlPWZ1bmN0aW9uKG8pe3ZhciBlPXRoaXMuX3N0YXJ0UG9zLHQ9RE9NLm1vdXNlUG9zKHRoaXMuX2VsLG8pO3RoaXMuX2JveHx8KHRoaXMuX2JveD1ET00uY3JlYXRlKFwiZGl2XCIsXCJtYXBib3hnbC1ib3h6b29tXCIsdGhpcy5fY29udGFpbmVyKSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWNyb3NzaGFpclwiKSx0aGlzLl9maXJlRXZlbnQoXCJib3h6b29tc3RhcnRcIixvKSk7dmFyIG49TWF0aC5taW4oZS54LHQueCksaT1NYXRoLm1heChlLngsdC54KSxzPU1hdGgubWluKGUueSx0LnkpLHI9TWF0aC5tYXgoZS55LHQueSk7RE9NLnNldFRyYW5zZm9ybSh0aGlzLl9ib3gsXCJ0cmFuc2xhdGUoXCIrbitcInB4LFwiK3MrXCJweClcIiksdGhpcy5fYm94LnN0eWxlLndpZHRoPWktbitcInB4XCIsdGhpcy5fYm94LnN0eWxlLmhlaWdodD1yLXMrXCJweFwifSxCb3hab29tSGFuZGxlci5wcm90b3R5cGUuX29uTW91c2VVcD1mdW5jdGlvbihvKXtpZigwPT09by5idXR0b24pe3ZhciBlPXRoaXMuX3N0YXJ0UG9zLHQ9RE9NLm1vdXNlUG9zKHRoaXMuX2VsLG8pLG49KG5ldyBMbmdMYXRCb3VuZHMpLmV4dGVuZCh0aGlzLl9tYXAudW5wcm9qZWN0KGUpKS5leHRlbmQodGhpcy5fbWFwLnVucHJvamVjdCh0KSk7dGhpcy5fZmluaXNoKCksZS54PT09dC54JiZlLnk9PT10Lnk/dGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbWNhbmNlbFwiLG8pOnRoaXMuX21hcC5maXRCb3VuZHMobix7bGluZWFyOiEwfSkuZmlyZShcImJveHpvb21lbmRcIix7b3JpZ2luYWxFdmVudDpvLGJveFpvb21Cb3VuZHM6bn0pfX0sQm94Wm9vbUhhbmRsZXIucHJvdG90eXBlLl9vbktleURvd249ZnVuY3Rpb24obyl7Mjc9PT1vLmtleUNvZGUmJih0aGlzLl9maW5pc2goKSx0aGlzLl9maXJlRXZlbnQoXCJib3h6b29tY2FuY2VsXCIsbykpfSxCb3hab29tSGFuZGxlci5wcm90b3R5cGUuX2ZpbmlzaD1mdW5jdGlvbigpe3RoaXMuX2FjdGl2ZT0hMSx3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VNb3ZlLCExKSx3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9vbktleURvd24sITEpLHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VVcCwhMSksdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jcm9zc2hhaXJcIiksdGhpcy5fYm94JiYodGhpcy5fYm94LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fYm94KSx0aGlzLl9ib3g9bnVsbCksRE9NLmVuYWJsZURyYWcoKX0sQm94Wm9vbUhhbmRsZXIucHJvdG90eXBlLl9maXJlRXZlbnQ9ZnVuY3Rpb24obyxlKXtyZXR1cm4gdGhpcy5fbWFwLmZpcmUobyx7b3JpZ2luYWxFdmVudDplfSl9LG1vZHVsZS5leHBvcnRzPUJveFpvb21IYW5kbGVyO1xufSx7XCIuLi8uLi9nZW8vbG5nX2xhdF9ib3VuZHNcIjo2MyxcIi4uLy4uL3V0aWwvZG9tXCI6MTk5LFwiLi4vLi4vdXRpbC91dGlsXCI6MjEyLFwiLi4vLi4vdXRpbC93aW5kb3dcIjoxOTR9XSwxODA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIERvdWJsZUNsaWNrWm9vbUhhbmRsZXI9ZnVuY3Rpb24obyl7dGhpcy5fbWFwPW8sdGhpcy5fb25EYmxDbGljaz10aGlzLl9vbkRibENsaWNrLmJpbmQodGhpcyl9O0RvdWJsZUNsaWNrWm9vbUhhbmRsZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fZW5hYmxlZH0sRG91YmxlQ2xpY2tab29tSGFuZGxlci5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX21hcC5vbihcImRibGNsaWNrXCIsdGhpcy5fb25EYmxDbGljayksdGhpcy5fZW5hYmxlZD0hMCl9LERvdWJsZUNsaWNrWm9vbUhhbmRsZXIucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fbWFwLm9mZihcImRibGNsaWNrXCIsdGhpcy5fb25EYmxDbGljayksdGhpcy5fZW5hYmxlZD0hMSl9LERvdWJsZUNsaWNrWm9vbUhhbmRsZXIucHJvdG90eXBlLl9vbkRibENsaWNrPWZ1bmN0aW9uKG8pe3RoaXMuX21hcC56b29tVG8odGhpcy5fbWFwLmdldFpvb20oKSsoby5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5Py0xOjEpLHthcm91bmQ6by5sbmdMYXR9LG8pfSxtb2R1bGUuZXhwb3J0cz1Eb3VibGVDbGlja1pvb21IYW5kbGVyO1xufSx7fV0sMTgxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBET009cmVxdWlyZShcIi4uLy4uL3V0aWwvZG9tXCIpLHV0aWw9cmVxdWlyZShcIi4uLy4uL3V0aWwvdXRpbFwiKSx3aW5kb3c9cmVxdWlyZShcIi4uLy4uL3V0aWwvd2luZG93XCIpLGluZXJ0aWFMaW5lYXJpdHk9LjMsaW5lcnRpYUVhc2luZz11dGlsLmJlemllcigwLDAsaW5lcnRpYUxpbmVhcml0eSwxKSxpbmVydGlhTWF4U3BlZWQ9MTQwMCxpbmVydGlhRGVjZWxlcmF0aW9uPTI1MDAsRHJhZ1BhbkhhbmRsZXI9ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQsdGhpcy5fZWw9dC5nZXRDYW52YXNDb250YWluZXIoKSx1dGlsLmJpbmRBbGwoW1wiX29uRG93blwiLFwiX29uTW92ZVwiLFwiX29uVXBcIixcIl9vblRvdWNoRW5kXCIsXCJfb25Nb3VzZVVwXCJdLHRoaXMpfTtEcmFnUGFuSGFuZGxlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9lbmFibGVkfSxEcmFnUGFuSGFuZGxlci5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2FjdGl2ZX0sRHJhZ1BhbkhhbmRsZXIucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5fb25Eb3duKSx0aGlzLl9lbC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMuX29uRG93biksdGhpcy5fZW5hYmxlZD0hMCl9LERyYWdQYW5IYW5kbGVyLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9vbkRvd24pLHRoaXMuX2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fb25Eb3duKSx0aGlzLl9lbmFibGVkPSExKX0sRHJhZ1BhbkhhbmRsZXIucHJvdG90eXBlLl9vbkRvd249ZnVuY3Rpb24odCl7dGhpcy5faWdub3JlRXZlbnQodCl8fHRoaXMuaXNBY3RpdmUoKXx8KHQudG91Y2hlcz8od2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUpLHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLl9vblRvdWNoRW5kKSk6KHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3ZlKSx3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl9vbk1vdXNlVXApKSx0aGlzLl9hY3RpdmU9ITEsdGhpcy5fc3RhcnRQb3M9dGhpcy5fcG9zPURPTS5tb3VzZVBvcyh0aGlzLl9lbCx0KSx0aGlzLl9pbmVydGlhPVtbRGF0ZS5ub3coKSx0aGlzLl9wb3NdXSl9LERyYWdQYW5IYW5kbGVyLnByb3RvdHlwZS5fb25Nb3ZlPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9pZ25vcmVFdmVudCh0KSl7dGhpcy5pc0FjdGl2ZSgpfHwodGhpcy5fYWN0aXZlPSEwLHRoaXMuX21hcC5tb3Zpbmc9ITAsdGhpcy5fZmlyZUV2ZW50KFwiZHJhZ3N0YXJ0XCIsdCksdGhpcy5fZmlyZUV2ZW50KFwibW92ZXN0YXJ0XCIsdCkpO3ZhciBlPURPTS5tb3VzZVBvcyh0aGlzLl9lbCx0KSxuPXRoaXMuX21hcDtuLnN0b3AoKSx0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSx0aGlzLl9pbmVydGlhLnB1c2goW0RhdGUubm93KCksZV0pLG4udHJhbnNmb3JtLnNldExvY2F0aW9uQXRQb2ludChuLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKHRoaXMuX3BvcyksZSksdGhpcy5fZmlyZUV2ZW50KFwiZHJhZ1wiLHQpLHRoaXMuX2ZpcmVFdmVudChcIm1vdmVcIix0KSx0aGlzLl9wb3M9ZSx0LnByZXZlbnREZWZhdWx0KCl9fSxEcmFnUGFuSGFuZGxlci5wcm90b3R5cGUuX29uVXA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLmlzQWN0aXZlKCkpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9maXJlRXZlbnQoXCJkcmFnZW5kXCIsdCksdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7dmFyIG49ZnVuY3Rpb24oKXtlLl9tYXAubW92aW5nPSExLGUuX2ZpcmVFdmVudChcIm1vdmVlbmRcIix0KX0saT10aGlzLl9pbmVydGlhO2lmKGkubGVuZ3RoPDIpcmV0dXJuIHZvaWQgbigpO3ZhciBvPWlbaS5sZW5ndGgtMV0scj1pWzBdLGE9b1sxXS5zdWIoclsxXSkscz0ob1swXS1yWzBdKS8xZTM7aWYoMD09PXN8fG9bMV0uZXF1YWxzKHJbMV0pKXJldHVybiB2b2lkIG4oKTt2YXIgdT1hLm11bHQoaW5lcnRpYUxpbmVhcml0eS9zKSxoPXUubWFnKCk7aD5pbmVydGlhTWF4U3BlZWQmJihoPWluZXJ0aWFNYXhTcGVlZCx1Ll91bml0KCkuX211bHQoaCkpO3ZhciBkPWgvKGluZXJ0aWFEZWNlbGVyYXRpb24qaW5lcnRpYUxpbmVhcml0eSksdj11Lm11bHQoLWQvMik7dGhpcy5fbWFwLnBhbkJ5KHYse2R1cmF0aW9uOjFlMypkLGVhc2luZzppbmVydGlhRWFzaW5nLG5vTW92ZVN0YXJ0OiEwfSx7b3JpZ2luYWxFdmVudDp0fSl9fSxEcmFnUGFuSGFuZGxlci5wcm90b3R5cGUuX29uTW91c2VVcD1mdW5jdGlvbih0KXt0aGlzLl9pZ25vcmVFdmVudCh0KXx8KHRoaXMuX29uVXAodCksd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VVcCkpfSxEcmFnUGFuSGFuZGxlci5wcm90b3R5cGUuX29uVG91Y2hFbmQ9ZnVuY3Rpb24odCl7dGhpcy5faWdub3JlRXZlbnQodCl8fCh0aGlzLl9vblVwKHQpLHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlKSx3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5fb25Ub3VjaEVuZCkpfSxEcmFnUGFuSGFuZGxlci5wcm90b3R5cGUuX2ZpcmVFdmVudD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9tYXAuZmlyZSh0LHtvcmlnaW5hbEV2ZW50OmV9KX0sRHJhZ1BhbkhhbmRsZXIucHJvdG90eXBlLl9pZ25vcmVFdmVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXA7aWYoZS5ib3hab29tJiZlLmJveFpvb20uaXNBY3RpdmUoKSlyZXR1cm4hMDtpZihlLmRyYWdSb3RhdGUmJmUuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpKXJldHVybiEwO2lmKHQudG91Y2hlcylyZXR1cm4gdC50b3VjaGVzLmxlbmd0aD4xO2lmKHQuY3RybEtleSlyZXR1cm4hMDt2YXIgbj0xLGk9MDtyZXR1cm5cIm1vdXNlbW92ZVwiPT09dC50eXBlP3QuYnV0dG9ucyYwPT09bjp0LmJ1dHRvbiE9PWl9LERyYWdQYW5IYW5kbGVyLnByb3RvdHlwZS5fZHJhaW5JbmVydGlhQnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2luZXJ0aWEsZT1EYXRlLm5vdygpLG49MTYwO3QubGVuZ3RoPjAmJmUtdFswXVswXT5uOyl0LnNoaWZ0KCl9LG1vZHVsZS5leHBvcnRzPURyYWdQYW5IYW5kbGVyO1xufSx7XCIuLi8uLi91dGlsL2RvbVwiOjE5OSxcIi4uLy4uL3V0aWwvdXRpbFwiOjIxMixcIi4uLy4uL3V0aWwvd2luZG93XCI6MTk0fV0sMTgyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBET009cmVxdWlyZShcIi4uLy4uL3V0aWwvZG9tXCIpLHV0aWw9cmVxdWlyZShcIi4uLy4uL3V0aWwvdXRpbFwiKSx3aW5kb3c9cmVxdWlyZShcIi4uLy4uL3V0aWwvd2luZG93XCIpLGluZXJ0aWFMaW5lYXJpdHk9LjI1LGluZXJ0aWFFYXNpbmc9dXRpbC5iZXppZXIoMCwwLGluZXJ0aWFMaW5lYXJpdHksMSksaW5lcnRpYU1heFNwZWVkPTE4MCxpbmVydGlhRGVjZWxlcmF0aW9uPTcyMCxEcmFnUm90YXRlSGFuZGxlcj1mdW5jdGlvbih0LGUpe3RoaXMuX21hcD10LHRoaXMuX2VsPXQuZ2V0Q2FudmFzQ29udGFpbmVyKCksdGhpcy5fYmVhcmluZ1NuYXA9ZS5iZWFyaW5nU25hcCx0aGlzLl9waXRjaFdpdGhSb3RhdGU9ZS5waXRjaFdpdGhSb3RhdGUhPT0hMSx1dGlsLmJpbmRBbGwoW1wiX29uRG93blwiLFwiX29uTW92ZVwiLFwiX29uVXBcIl0sdGhpcyl9O0RyYWdSb3RhdGVIYW5kbGVyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2VuYWJsZWR9LERyYWdSb3RhdGVIYW5kbGVyLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fYWN0aXZlfSxEcmFnUm90YXRlSGFuZGxlci5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9vbkRvd24pLHRoaXMuX2VuYWJsZWQ9ITApfSxEcmFnUm90YXRlSGFuZGxlci5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNFbmFibGVkKCkmJih0aGlzLl9lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5fb25Eb3duKSx0aGlzLl9lbmFibGVkPSExKX0sRHJhZ1JvdGF0ZUhhbmRsZXIucHJvdG90eXBlLl9vbkRvd249ZnVuY3Rpb24odCl7dGhpcy5faWdub3JlRXZlbnQodCl8fHRoaXMuaXNBY3RpdmUoKXx8KHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3ZlKSx3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl9vblVwKSx0aGlzLl9hY3RpdmU9ITEsdGhpcy5faW5lcnRpYT1bW0RhdGUubm93KCksdGhpcy5fbWFwLmdldEJlYXJpbmcoKV1dLHRoaXMuX3N0YXJ0UG9zPXRoaXMuX3Bvcz1ET00ubW91c2VQb3ModGhpcy5fZWwsdCksdGhpcy5fY2VudGVyPXRoaXMuX21hcC50cmFuc2Zvcm0uY2VudGVyUG9pbnQsdC5wcmV2ZW50RGVmYXVsdCgpKX0sRHJhZ1JvdGF0ZUhhbmRsZXIucHJvdG90eXBlLl9vbk1vdmU9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2lnbm9yZUV2ZW50KHQpKXt0aGlzLmlzQWN0aXZlKCl8fCh0aGlzLl9hY3RpdmU9ITAsdGhpcy5fbWFwLm1vdmluZz0hMCx0aGlzLl9maXJlRXZlbnQoXCJyb3RhdGVzdGFydFwiLHQpLHRoaXMuX2ZpcmVFdmVudChcIm1vdmVzdGFydFwiLHQpKTt2YXIgZT10aGlzLl9tYXA7ZS5zdG9wKCk7dmFyIGk9dGhpcy5fcG9zLG49RE9NLm1vdXNlUG9zKHRoaXMuX2VsLHQpLHI9LjgqKGkueC1uLngpLGE9KGkueS1uLnkpKi0uNSxvPWUuZ2V0QmVhcmluZygpLXIscz1lLmdldFBpdGNoKCktYSxoPXRoaXMuX2luZXJ0aWEsXz1oW2gubGVuZ3RoLTFdO3RoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpLGgucHVzaChbRGF0ZS5ub3coKSxlLl9ub3JtYWxpemVCZWFyaW5nKG8sX1sxXSldKSxlLnRyYW5zZm9ybS5iZWFyaW5nPW8sdGhpcy5fcGl0Y2hXaXRoUm90YXRlJiYoZS50cmFuc2Zvcm0ucGl0Y2g9cyksdGhpcy5fZmlyZUV2ZW50KFwicm90YXRlXCIsdCksdGhpcy5fZmlyZUV2ZW50KFwibW92ZVwiLHQpLHRoaXMuX3Bvcz1ufX0sRHJhZ1JvdGF0ZUhhbmRsZXIucHJvdG90eXBlLl9vblVwPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMuX2lnbm9yZUV2ZW50KHQpJiYod2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX29uVXApLHRoaXMuaXNBY3RpdmUoKSkpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9maXJlRXZlbnQoXCJyb3RhdGVlbmRcIix0KSx0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKTt2YXIgaT10aGlzLl9tYXAsbj1pLmdldEJlYXJpbmcoKSxyPXRoaXMuX2luZXJ0aWEsYT1mdW5jdGlvbigpe01hdGguYWJzKG4pPGUuX2JlYXJpbmdTbmFwP2kucmVzZXROb3J0aCh7bm9Nb3ZlU3RhcnQ6ITB9LHtvcmlnaW5hbEV2ZW50OnR9KTooZS5fbWFwLm1vdmluZz0hMSxlLl9maXJlRXZlbnQoXCJtb3ZlZW5kXCIsdCkpfTtpZihyLmxlbmd0aDwyKXJldHVybiB2b2lkIGEoKTt2YXIgbz1yWzBdLHM9cltyLmxlbmd0aC0xXSxoPXJbci5sZW5ndGgtMl0sXz1pLl9ub3JtYWxpemVCZWFyaW5nKG4saFsxXSksdj1zWzFdLW9bMV0sdT12PDA/LTE6MSxwPShzWzBdLW9bMF0pLzFlMztpZigwPT09dnx8MD09PXApcmV0dXJuIHZvaWQgYSgpO3ZhciBkPU1hdGguYWJzKHYqKGluZXJ0aWFMaW5lYXJpdHkvcCkpO2Q+aW5lcnRpYU1heFNwZWVkJiYoZD1pbmVydGlhTWF4U3BlZWQpO3ZhciBsPWQvKGluZXJ0aWFEZWNlbGVyYXRpb24qaW5lcnRpYUxpbmVhcml0eSksZz11KmQqKGwvMik7Xys9ZyxNYXRoLmFicyhpLl9ub3JtYWxpemVCZWFyaW5nKF8sMCkpPHRoaXMuX2JlYXJpbmdTbmFwJiYoXz1pLl9ub3JtYWxpemVCZWFyaW5nKDAsXykpLGkucm90YXRlVG8oXyx7ZHVyYXRpb246MWUzKmwsZWFzaW5nOmluZXJ0aWFFYXNpbmcsbm9Nb3ZlU3RhcnQ6ITB9LHtvcmlnaW5hbEV2ZW50OnR9KX19LERyYWdSb3RhdGVIYW5kbGVyLnByb3RvdHlwZS5fZmlyZUV2ZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX21hcC5maXJlKHQse29yaWdpbmFsRXZlbnQ6ZX0pfSxEcmFnUm90YXRlSGFuZGxlci5wcm90b3R5cGUuX2lnbm9yZUV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcDtpZihlLmJveFpvb20mJmUuYm94Wm9vbS5pc0FjdGl2ZSgpKXJldHVybiEwO2lmKGUuZHJhZ1BhbiYmZS5kcmFnUGFuLmlzQWN0aXZlKCkpcmV0dXJuITA7aWYodC50b3VjaGVzKXJldHVybiB0LnRvdWNoZXMubGVuZ3RoPjE7dmFyIGk9dC5jdHJsS2V5PzE6MixuPXQuY3RybEtleT8wOjIscj10LmJ1dHRvbjtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgSW5zdGFsbFRyaWdnZXImJjI9PT10LmJ1dHRvbiYmdC5jdHJsS2V5JiZ3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihcIk1BQ1wiKT49MCYmKHI9MCksXCJtb3VzZW1vdmVcIj09PXQudHlwZT90LmJ1dHRvbnMmMD09PWk6IXRoaXMuaXNBY3RpdmUoKSYmciE9PW59LERyYWdSb3RhdGVIYW5kbGVyLnByb3RvdHlwZS5fZHJhaW5JbmVydGlhQnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2luZXJ0aWEsZT1EYXRlLm5vdygpLGk9MTYwO3QubGVuZ3RoPjAmJmUtdFswXVswXT5pOyl0LnNoaWZ0KCl9LG1vZHVsZS5leHBvcnRzPURyYWdSb3RhdGVIYW5kbGVyO1xufSx7XCIuLi8uLi91dGlsL2RvbVwiOjE5OSxcIi4uLy4uL3V0aWwvdXRpbFwiOjIxMixcIi4uLy4uL3V0aWwvd2luZG93XCI6MTk0fV0sMTgzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGVhc2VPdXQoZSl7cmV0dXJuIGUqKDItZSl9dmFyIHBhblN0ZXA9MTAwLGJlYXJpbmdTdGVwPTE1LHBpdGNoU3RlcD0xMCxLZXlib2FyZEhhbmRsZXI9ZnVuY3Rpb24oZSl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9vbktleURvd249dGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyl9O0tleWJvYXJkSGFuZGxlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9lbmFibGVkfSxLZXlib2FyZEhhbmRsZXIucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX29uS2V5RG93biwhMSksdGhpcy5fZW5hYmxlZD0hMCl9LEtleWJvYXJkSGFuZGxlci5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNFbmFibGVkKCkmJih0aGlzLl9lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX29uS2V5RG93biksdGhpcy5fZW5hYmxlZD0hMSl9LEtleWJvYXJkSGFuZGxlci5wcm90b3R5cGUuX29uS2V5RG93bj1mdW5jdGlvbihlKXtpZighKGUuYWx0S2V5fHxlLmN0cmxLZXl8fGUubWV0YUtleSkpe3ZhciB0PTAsbj0wLGE9MCxpPTAscj0wO3N3aXRjaChlLmtleUNvZGUpe2Nhc2UgNjE6Y2FzZSAxMDc6Y2FzZSAxNzE6Y2FzZSAxODc6dD0xO2JyZWFrO2Nhc2UgMTg5OmNhc2UgMTA5OmNhc2UgMTczOnQ9LTE7YnJlYWs7Y2FzZSAzNzplLnNoaWZ0S2V5P249LTE6KGUucHJldmVudERlZmF1bHQoKSxpPS0xKTticmVhaztjYXNlIDM5OmUuc2hpZnRLZXk/bj0xOihlLnByZXZlbnREZWZhdWx0KCksaT0xKTticmVhaztjYXNlIDM4OmUuc2hpZnRLZXk/YT0xOihlLnByZXZlbnREZWZhdWx0KCkscj0tMSk7YnJlYWs7Y2FzZSA0MDplLnNoaWZ0S2V5P2E9LTE6KHI9MSxlLnByZXZlbnREZWZhdWx0KCkpfXZhciBzPXRoaXMuX21hcCxvPXMuZ2V0Wm9vbSgpLGQ9e2R1cmF0aW9uOjMwMCxkZWxheUVuZEV2ZW50czo1MDAsZWFzaW5nOmVhc2VPdXQsem9vbTp0P01hdGgucm91bmQobykrdCooZS5zaGlmdEtleT8yOjEpOm8sYmVhcmluZzpzLmdldEJlYXJpbmcoKStuKmJlYXJpbmdTdGVwLHBpdGNoOnMuZ2V0UGl0Y2goKSthKnBpdGNoU3RlcCxvZmZzZXQ6Wy1pKnBhblN0ZXAsLXIqcGFuU3RlcF0sY2VudGVyOnMuZ2V0Q2VudGVyKCl9O3MuZWFzZVRvKGQse29yaWdpbmFsRXZlbnQ6ZX0pfX0sbW9kdWxlLmV4cG9ydHM9S2V5Ym9hcmRIYW5kbGVyO1xufSx7fV0sMTg0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBET009cmVxdWlyZShcIi4uLy4uL3V0aWwvZG9tXCIpLHV0aWw9cmVxdWlyZShcIi4uLy4uL3V0aWwvdXRpbFwiKSxicm93c2VyPXJlcXVpcmUoXCIuLi8uLi91dGlsL2Jyb3dzZXJcIiksd2luZG93PXJlcXVpcmUoXCIuLi8uLi91dGlsL3dpbmRvd1wiKSx1YT13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLGZpcmVmb3g9dWEuaW5kZXhPZihcImZpcmVmb3hcIikhPT0tMSxzYWZhcmk9dWEuaW5kZXhPZihcInNhZmFyaVwiKSE9PS0xJiZ1YS5pbmRleE9mKFwiY2hyb21cIik9PT0tMSxTY3JvbGxab29tSGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLl9tYXA9ZSx0aGlzLl9lbD1lLmdldENhbnZhc0NvbnRhaW5lcigpLHV0aWwuYmluZEFsbChbXCJfb25XaGVlbFwiLFwiX29uVGltZW91dFwiXSx0aGlzKX07U2Nyb2xsWm9vbUhhbmRsZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fZW5hYmxlZH0sU2Nyb2xsWm9vbUhhbmRsZXIucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbihlKXt0aGlzLmlzRW5hYmxlZCgpfHwodGhpcy5fZWwuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsdGhpcy5fb25XaGVlbCwhMSksdGhpcy5fZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIix0aGlzLl9vbldoZWVsLCExKSx0aGlzLl9lbmFibGVkPSEwLHRoaXMuX2Fyb3VuZENlbnRlcj1lJiZcImNlbnRlclwiPT09ZS5hcm91bmQpfSxTY3JvbGxab29tSGFuZGxlci5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNFbmFibGVkKCkmJih0aGlzLl9lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIix0aGlzLl9vbldoZWVsKSx0aGlzLl9lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLHRoaXMuX29uV2hlZWwpLHRoaXMuX2VuYWJsZWQ9ITEpfSxTY3JvbGxab29tSGFuZGxlci5wcm90b3R5cGUuX29uV2hlZWw9ZnVuY3Rpb24oZSl7dmFyIHQ7XCJ3aGVlbFwiPT09ZS50eXBlPyh0PWUuZGVsdGFZLGZpcmVmb3gmJmUuZGVsdGFNb2RlPT09d2luZG93LldoZWVsRXZlbnQuRE9NX0RFTFRBX1BJWEVMJiYodC89YnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvKSxlLmRlbHRhTW9kZT09PXdpbmRvdy5XaGVlbEV2ZW50LkRPTV9ERUxUQV9MSU5FJiYodCo9NDApKTpcIm1vdXNld2hlZWxcIj09PWUudHlwZSYmKHQ9LWUud2hlZWxEZWx0YVksc2FmYXJpJiYodC89MykpO3ZhciBvPWJyb3dzZXIubm93KCksaT1vLSh0aGlzLl90aW1lfHwwKTt0aGlzLl9wb3M9RE9NLm1vdXNlUG9zKHRoaXMuX2VsLGUpLHRoaXMuX3RpbWU9bywwIT09dCYmdCU0LjAwMDI0NDE0MDYyNT09PTA/dGhpcy5fdHlwZT1cIndoZWVsXCI6MCE9PXQmJk1hdGguYWJzKHQpPDQ/dGhpcy5fdHlwZT1cInRyYWNrcGFkXCI6aT40MDA/KHRoaXMuX3R5cGU9bnVsbCx0aGlzLl9sYXN0VmFsdWU9dCx0aGlzLl90aW1lb3V0PXNldFRpbWVvdXQodGhpcy5fb25UaW1lb3V0LDQwKSk6dGhpcy5fdHlwZXx8KHRoaXMuX3R5cGU9TWF0aC5hYnMoaSp0KTwyMDA/XCJ0cmFja3BhZFwiOlwid2hlZWxcIix0aGlzLl90aW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLHRoaXMuX3RpbWVvdXQ9bnVsbCx0Kz10aGlzLl9sYXN0VmFsdWUpKSxlLnNoaWZ0S2V5JiZ0JiYodC89NCksdGhpcy5fdHlwZSYmdGhpcy5fem9vbSgtdCxlKSxlLnByZXZlbnREZWZhdWx0KCl9LFNjcm9sbFpvb21IYW5kbGVyLnByb3RvdHlwZS5fb25UaW1lb3V0PWZ1bmN0aW9uKCl7dGhpcy5fdHlwZT1cIndoZWVsXCIsdGhpcy5fem9vbSgtdGhpcy5fbGFzdFZhbHVlKX0sU2Nyb2xsWm9vbUhhbmRsZXIucHJvdG90eXBlLl96b29tPWZ1bmN0aW9uKGUsdCl7aWYoMCE9PWUpe3ZhciBvPXRoaXMuX21hcCxpPTIvKDErTWF0aC5leHAoLU1hdGguYWJzKGUvMTAwKSkpO2U8MCYmMCE9PWkmJihpPTEvaSk7dmFyIGw9by5lYXNlP28uZWFzZS50bzpvLnRyYW5zZm9ybS5zY2FsZSxzPW8udHJhbnNmb3JtLnNjYWxlWm9vbShsKmkpO28uem9vbVRvKHMse2R1cmF0aW9uOlwid2hlZWxcIj09PXRoaXMuX3R5cGU/MjAwOjAsYXJvdW5kOnRoaXMuX2Fyb3VuZENlbnRlcj9vLmdldENlbnRlcigpOm8udW5wcm9qZWN0KHRoaXMuX3BvcyksZGVsYXlFbmRFdmVudHM6MjAwLHNtb290aEVhc2luZzohMH0se29yaWdpbmFsRXZlbnQ6dH0pfX0sbW9kdWxlLmV4cG9ydHM9U2Nyb2xsWm9vbUhhbmRsZXI7XG59LHtcIi4uLy4uL3V0aWwvYnJvd3NlclwiOjE5MixcIi4uLy4uL3V0aWwvZG9tXCI6MTk5LFwiLi4vLi4vdXRpbC91dGlsXCI6MjEyLFwiLi4vLi4vdXRpbC93aW5kb3dcIjoxOTR9XSwxODU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIERPTT1yZXF1aXJlKFwiLi4vLi4vdXRpbC9kb21cIiksdXRpbD1yZXF1aXJlKFwiLi4vLi4vdXRpbC91dGlsXCIpLHdpbmRvdz1yZXF1aXJlKFwiLi4vLi4vdXRpbC93aW5kb3dcIiksaW5lcnRpYUxpbmVhcml0eT0uMTUsaW5lcnRpYUVhc2luZz11dGlsLmJlemllcigwLDAsaW5lcnRpYUxpbmVhcml0eSwxKSxpbmVydGlhRGVjZWxlcmF0aW9uPTEyLGluZXJ0aWFNYXhTcGVlZD0yLjUsc2lnbmlmaWNhbnRTY2FsZVRocmVzaG9sZD0uMTUsc2lnbmlmaWNhbnRSb3RhdGVUaHJlc2hvbGQ9NCxUb3VjaFpvb21Sb3RhdGVIYW5kbGVyPWZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuX2VsPXQuZ2V0Q2FudmFzQ29udGFpbmVyKCksdXRpbC5iaW5kQWxsKFtcIl9vblN0YXJ0XCIsXCJfb25Nb3ZlXCIsXCJfb25FbmRcIl0sdGhpcyl9O1RvdWNoWm9vbVJvdGF0ZUhhbmRsZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fZW5hYmxlZH0sVG91Y2hab29tUm90YXRlSGFuZGxlci5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKHQpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMuX29uU3RhcnQsITEpLHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5fYXJvdW5kQ2VudGVyPXQmJlwiY2VudGVyXCI9PT10LmFyb3VuZCl9LFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXIucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLl9vblN0YXJ0KSx0aGlzLl9lbmFibGVkPSExKX0sVG91Y2hab29tUm90YXRlSGFuZGxlci5wcm90b3R5cGUuZGlzYWJsZVJvdGF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMH0sVG91Y2hab29tUm90YXRlSGFuZGxlci5wcm90b3R5cGUuZW5hYmxlUm90YXRpb249ZnVuY3Rpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExfSxUb3VjaFpvb21Sb3RhdGVIYW5kbGVyLnByb3RvdHlwZS5fb25TdGFydD1mdW5jdGlvbih0KXtpZigyPT09dC50b3VjaGVzLmxlbmd0aCl7dmFyIGU9RE9NLm1vdXNlUG9zKHRoaXMuX2VsLHQudG91Y2hlc1swXSksbz1ET00ubW91c2VQb3ModGhpcy5fZWwsdC50b3VjaGVzWzFdKTt0aGlzLl9zdGFydFZlYz1lLnN1YihvKSx0aGlzLl9zdGFydFNjYWxlPXRoaXMuX21hcC50cmFuc2Zvcm0uc2NhbGUsdGhpcy5fc3RhcnRCZWFyaW5nPXRoaXMuX21hcC50cmFuc2Zvcm0uYmVhcmluZyx0aGlzLl9nZXN0dXJlSW50ZW50PXZvaWQgMCx0aGlzLl9pbmVydGlhPVtdLHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlLCExKSx3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5fb25FbmQsITEpfX0sVG91Y2hab29tUm90YXRlSGFuZGxlci5wcm90b3R5cGUuX29uTW92ZT1mdW5jdGlvbih0KXtpZigyPT09dC50b3VjaGVzLmxlbmd0aCl7dmFyIGU9RE9NLm1vdXNlUG9zKHRoaXMuX2VsLHQudG91Y2hlc1swXSksbz1ET00ubW91c2VQb3ModGhpcy5fZWwsdC50b3VjaGVzWzFdKSxpPWUuYWRkKG8pLmRpdigyKSxuPWUuc3ViKG8pLGE9bi5tYWcoKS90aGlzLl9zdGFydFZlYy5tYWcoKSxyPXRoaXMuX3JvdGF0aW9uRGlzYWJsZWQ/MDoxODAqbi5hbmdsZVdpdGgodGhpcy5fc3RhcnRWZWMpL01hdGguUEkscz10aGlzLl9tYXA7aWYodGhpcy5fZ2VzdHVyZUludGVudCl7dmFyIGg9e2R1cmF0aW9uOjAsYXJvdW5kOnMudW5wcm9qZWN0KGkpfTtcInJvdGF0ZVwiPT09dGhpcy5fZ2VzdHVyZUludGVudCYmKGguYmVhcmluZz10aGlzLl9zdGFydEJlYXJpbmcrciksXCJ6b29tXCIhPT10aGlzLl9nZXN0dXJlSW50ZW50JiZcInJvdGF0ZVwiIT09dGhpcy5fZ2VzdHVyZUludGVudHx8KGguem9vbT1zLnRyYW5zZm9ybS5zY2FsZVpvb20odGhpcy5fc3RhcnRTY2FsZSphKSkscy5zdG9wKCksdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCksdGhpcy5faW5lcnRpYS5wdXNoKFtEYXRlLm5vdygpLGEsaV0pLHMuZWFzZVRvKGgse29yaWdpbmFsRXZlbnQ6dH0pfWVsc2V7dmFyIHU9TWF0aC5hYnMoMS1hKT5zaWduaWZpY2FudFNjYWxlVGhyZXNob2xkLGQ9TWF0aC5hYnMocik+c2lnbmlmaWNhbnRSb3RhdGVUaHJlc2hvbGQ7ZD90aGlzLl9nZXN0dXJlSW50ZW50PVwicm90YXRlXCI6dSYmKHRoaXMuX2dlc3R1cmVJbnRlbnQ9XCJ6b29tXCIpLHRoaXMuX2dlc3R1cmVJbnRlbnQmJih0aGlzLl9zdGFydFZlYz1uLHRoaXMuX3N0YXJ0U2NhbGU9cy50cmFuc2Zvcm0uc2NhbGUsdGhpcy5fc3RhcnRCZWFyaW5nPXMudHJhbnNmb3JtLmJlYXJpbmcpfXQucHJldmVudERlZmF1bHQoKX19LFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXIucHJvdG90eXBlLl9vbkVuZD1mdW5jdGlvbih0KXt3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMuX29uTW92ZSksd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMuX29uRW5kKSx0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKTt2YXIgZT10aGlzLl9pbmVydGlhLG89dGhpcy5fbWFwO2lmKGUubGVuZ3RoPDIpcmV0dXJuIHZvaWQgby5zbmFwVG9Ob3J0aCh7fSx7b3JpZ2luYWxFdmVudDp0fSk7dmFyIGk9ZVtlLmxlbmd0aC0xXSxuPWVbMF0sYT1vLnRyYW5zZm9ybS5zY2FsZVpvb20odGhpcy5fc3RhcnRTY2FsZSppWzFdKSxyPW8udHJhbnNmb3JtLnNjYWxlWm9vbSh0aGlzLl9zdGFydFNjYWxlKm5bMV0pLHM9YS1yLGg9KGlbMF0tblswXSkvMWUzLHU9aVsyXTtpZigwPT09aHx8YT09PXIpcmV0dXJuIHZvaWQgby5zbmFwVG9Ob3J0aCh7fSx7b3JpZ2luYWxFdmVudDp0fSk7dmFyIGQ9cyppbmVydGlhTGluZWFyaXR5L2g7TWF0aC5hYnMoZCk+aW5lcnRpYU1heFNwZWVkJiYoZD1kPjA/aW5lcnRpYU1heFNwZWVkOi1pbmVydGlhTWF4U3BlZWQpO3ZhciBsPTFlMypNYXRoLmFicyhkLyhpbmVydGlhRGVjZWxlcmF0aW9uKmluZXJ0aWFMaW5lYXJpdHkpKSxjPWErZCpsLzJlMztjPDAmJihjPTApLG8uZWFzZVRvKHt6b29tOmMsZHVyYXRpb246bCxlYXNpbmc6aW5lcnRpYUVhc2luZyxhcm91bmQ6dGhpcy5fYXJvdW5kQ2VudGVyP28uZ2V0Q2VudGVyKCk6by51bnByb2plY3QodSl9LHtvcmlnaW5hbEV2ZW50OnR9KX0sVG91Y2hab29tUm90YXRlSGFuZGxlci5wcm90b3R5cGUuX2RyYWluSW5lcnRpYUJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9pbmVydGlhLGU9RGF0ZS5ub3coKSxvPTE2MDt0Lmxlbmd0aD4yJiZlLXRbMF1bMF0+bzspdC5zaGlmdCgpfSxtb2R1bGUuZXhwb3J0cz1Ub3VjaFpvb21Sb3RhdGVIYW5kbGVyO1xufSx7XCIuLi8uLi91dGlsL2RvbVwiOjE5OSxcIi4uLy4uL3V0aWwvdXRpbFwiOjIxMixcIi4uLy4uL3V0aWwvd2luZG93XCI6MTk0fV0sMTg2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciB1dGlsPXJlcXVpcmUoXCIuLi91dGlsL3V0aWxcIiksd2luZG93PXJlcXVpcmUoXCIuLi91dGlsL3dpbmRvd1wiKSxIYXNoPWZ1bmN0aW9uKCl7dXRpbC5iaW5kQWxsKFtcIl9vbkhhc2hDaGFuZ2VcIixcIl91cGRhdGVIYXNoXCJdLHRoaXMpfTtIYXNoLnByb3RvdHlwZS5hZGRUbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbWFwPXQsd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsdGhpcy5fb25IYXNoQ2hhbmdlLCExKSx0aGlzLl9tYXAub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlSGFzaCksdGhpc30sSGFzaC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHRoaXMuX29uSGFzaENoYW5nZSwhMSksdGhpcy5fbWFwLm9mZihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGVIYXNoKSxkZWxldGUgdGhpcy5fbWFwLHRoaXN9LEhhc2gucHJvdG90eXBlLl9vbkhhc2hDaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKFwiI1wiLFwiXCIpLnNwbGl0KFwiL1wiKTtyZXR1cm4gdC5sZW5ndGg+PTMmJih0aGlzLl9tYXAuanVtcFRvKHtjZW50ZXI6Wyt0WzJdLCt0WzFdXSx6b29tOit0WzBdLGJlYXJpbmc6Kyh0WzNdfHwwKSxwaXRjaDorKHRbNF18fDApfSksITApfSxIYXNoLnByb3RvdHlwZS5fdXBkYXRlSGFzaD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5nZXRDZW50ZXIoKSxlPXRoaXMuX21hcC5nZXRab29tKCksYT10aGlzLl9tYXAuZ2V0QmVhcmluZygpLGg9dGhpcy5fbWFwLmdldFBpdGNoKCksaT1NYXRoLm1heCgwLE1hdGguY2VpbChNYXRoLmxvZyhlKS9NYXRoLkxOMikpLG49XCIjXCIrTWF0aC5yb3VuZCgxMDAqZSkvMTAwK1wiL1wiK3QubGF0LnRvRml4ZWQoaSkrXCIvXCIrdC5sbmcudG9GaXhlZChpKTsoYXx8aCkmJihuKz1cIi9cIitNYXRoLnJvdW5kKDEwKmEpLzEwKSxoJiYobis9XCIvXCIrTWF0aC5yb3VuZChoKSksd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKFwiXCIsXCJcIixuKX0sbW9kdWxlLmV4cG9ydHM9SGFzaDtcbn0se1wiLi4vdXRpbC91dGlsXCI6MjEyLFwiLi4vdXRpbC93aW5kb3dcIjoxOTR9XSwxODc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcmVtb3ZlTm9kZSh0KXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX12YXIgdXRpbD1yZXF1aXJlKFwiLi4vdXRpbC91dGlsXCIpLGJyb3dzZXI9cmVxdWlyZShcIi4uL3V0aWwvYnJvd3NlclwiKSx3aW5kb3c9cmVxdWlyZShcIi4uL3V0aWwvd2luZG93XCIpLERPTT1yZXF1aXJlKFwiLi4vdXRpbC9kb21cIiksU3R5bGU9cmVxdWlyZShcIi4uL3N0eWxlL3N0eWxlXCIpLEFuaW1hdGlvbkxvb3A9cmVxdWlyZShcIi4uL3N0eWxlL2FuaW1hdGlvbl9sb29wXCIpLFBhaW50ZXI9cmVxdWlyZShcIi4uL3JlbmRlci9wYWludGVyXCIpLFRyYW5zZm9ybT1yZXF1aXJlKFwiLi4vZ2VvL3RyYW5zZm9ybVwiKSxIYXNoPXJlcXVpcmUoXCIuL2hhc2hcIiksYmluZEhhbmRsZXJzPXJlcXVpcmUoXCIuL2JpbmRfaGFuZGxlcnNcIiksQ2FtZXJhPXJlcXVpcmUoXCIuL2NhbWVyYVwiKSxMbmdMYXQ9cmVxdWlyZShcIi4uL2dlby9sbmdfbGF0XCIpLExuZ0xhdEJvdW5kcz1yZXF1aXJlKFwiLi4vZ2VvL2xuZ19sYXRfYm91bmRzXCIpLFBvaW50PXJlcXVpcmUoXCJwb2ludC1nZW9tZXRyeVwiKSxBdHRyaWJ1dGlvbkNvbnRyb2w9cmVxdWlyZShcIi4vY29udHJvbC9hdHRyaWJ1dGlvbl9jb250cm9sXCIpLExvZ29Db250cm9sPXJlcXVpcmUoXCIuL2NvbnRyb2wvbG9nb19jb250cm9sXCIpLGlzU3VwcG9ydGVkPXJlcXVpcmUoXCJtYXBib3gtZ2wtc3VwcG9ydGVkXCIpLGRlZmF1bHRNaW5ab29tPTAsZGVmYXVsdE1heFpvb209MjIsZGVmYXVsdE9wdGlvbnM9e2NlbnRlcjpbMCwwXSx6b29tOjAsYmVhcmluZzowLHBpdGNoOjAsbWluWm9vbTpkZWZhdWx0TWluWm9vbSxtYXhab29tOmRlZmF1bHRNYXhab29tLGludGVyYWN0aXZlOiEwLHNjcm9sbFpvb206ITAsYm94Wm9vbTohMCxkcmFnUm90YXRlOiEwLGRyYWdQYW46ITAsa2V5Ym9hcmQ6ITAsZG91YmxlQ2xpY2tab29tOiEwLHRvdWNoWm9vbVJvdGF0ZTohMCxiZWFyaW5nU25hcDo3LGhhc2g6ITEsYXR0cmlidXRpb25Db250cm9sOiEwLGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITEscHJlc2VydmVEcmF3aW5nQnVmZmVyOiExLHRyYWNrUmVzaXplOiEwLHJlbmRlcldvcmxkQ29waWVzOiEwLHJlZnJlc2hFeHBpcmVkVGlsZXM6ITB9LE1hcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBvPXRoaXM7aWYoZT11dGlsLmV4dGVuZCh7fSxkZWZhdWx0T3B0aW9ucyxlKSxudWxsIT1lLm1pblpvb20mJm51bGwhPWUubWF4Wm9vbSYmZS5taW5ab29tPmUubWF4Wm9vbSl0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIG1pblpvb21cIik7dmFyIGk9bmV3IFRyYW5zZm9ybShlLm1pblpvb20sZS5tYXhab29tLGUucmVuZGVyV29ybGRDb3BpZXMpO2lmKHQuY2FsbCh0aGlzLGksZSksdGhpcy5faW50ZXJhY3RpdmU9ZS5pbnRlcmFjdGl2ZSx0aGlzLl9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PWUuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCx0aGlzLl9wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZS5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsdGhpcy5fdHJhY2tSZXNpemU9ZS50cmFja1Jlc2l6ZSx0aGlzLl9iZWFyaW5nU25hcD1lLmJlYXJpbmdTbmFwLHRoaXMuX3JlZnJlc2hFeHBpcmVkVGlsZXM9ZS5yZWZyZXNoRXhwaXJlZFRpbGVzLFwic3RyaW5nXCI9PXR5cGVvZiBlLmNvbnRhaW5lcil7aWYodGhpcy5fY29udGFpbmVyPXdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmNvbnRhaW5lciksIXRoaXMuX2NvbnRhaW5lcil0aHJvdyBuZXcgRXJyb3IoXCJDb250YWluZXIgJ1wiK2UuY29udGFpbmVyK1wiJyBub3QgZm91bmQuXCIpfWVsc2UgdGhpcy5fY29udGFpbmVyPWUuY29udGFpbmVyO3RoaXMuYW5pbWF0aW9uTG9vcD1uZXcgQW5pbWF0aW9uTG9vcCxlLm1heEJvdW5kcyYmdGhpcy5zZXRNYXhCb3VuZHMoZS5tYXhCb3VuZHMpLHV0aWwuYmluZEFsbChbXCJfb25XaW5kb3dPbmxpbmVcIixcIl9vbldpbmRvd1Jlc2l6ZVwiLFwiX2NvbnRleHRMb3N0XCIsXCJfY29udGV4dFJlc3RvcmVkXCIsXCJfdXBkYXRlXCIsXCJfcmVuZGVyXCIsXCJfb25EYXRhXCIsXCJfb25EYXRhTG9hZGluZ1wiXSx0aGlzKSx0aGlzLl9zZXR1cENvbnRhaW5lcigpLHRoaXMuX3NldHVwUGFpbnRlcigpLHRoaXMub24oXCJtb3ZlXCIsdGhpcy5fdXBkYXRlLmJpbmQodGhpcywhMSkpLHRoaXMub24oXCJ6b29tXCIsdGhpcy5fdXBkYXRlLmJpbmQodGhpcywhMCkpLHRoaXMub24oXCJtb3ZlZW5kXCIsZnVuY3Rpb24oKXtvLmFuaW1hdGlvbkxvb3Auc2V0KDMwMCksby5fcmVyZW5kZXIoKX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLHRoaXMuX29uV2luZG93T25saW5lLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSksYmluZEhhbmRsZXJzKHRoaXMsZSksdGhpcy5faGFzaD1lLmhhc2gmJihuZXcgSGFzaCkuYWRkVG8odGhpcyksdGhpcy5faGFzaCYmdGhpcy5faGFzaC5fb25IYXNoQ2hhbmdlKCl8fHRoaXMuanVtcFRvKHtjZW50ZXI6ZS5jZW50ZXIsem9vbTplLnpvb20sYmVhcmluZzplLmJlYXJpbmcscGl0Y2g6ZS5waXRjaH0pLHRoaXMuX2NsYXNzZXM9W10sdGhpcy5yZXNpemUoKSxlLmNsYXNzZXMmJnRoaXMuc2V0Q2xhc3NlcyhlLmNsYXNzZXMpLGUuc3R5bGUmJnRoaXMuc2V0U3R5bGUoZS5zdHlsZSksZS5hdHRyaWJ1dGlvbkNvbnRyb2wmJnRoaXMuYWRkQ29udHJvbChuZXcgQXR0cmlidXRpb25Db250cm9sKSx0aGlzLmFkZENvbnRyb2wobmV3IExvZ29Db250cm9sLGUubG9nb1Bvc2l0aW9uKSx0aGlzLm9uKFwic3R5bGUubG9hZFwiLGZ1bmN0aW9uKCl7dGhpcy50cmFuc2Zvcm0udW5tb2RpZmllZCYmdGhpcy5qdW1wVG8odGhpcy5zdHlsZS5zdHlsZXNoZWV0KSx0aGlzLnN0eWxlLnVwZGF0ZSh0aGlzLl9jbGFzc2VzLHt0cmFuc2l0aW9uOiExfSl9KSx0aGlzLm9uKFwiZGF0YVwiLHRoaXMuX29uRGF0YSksdGhpcy5vbihcImRhdGFsb2FkaW5nXCIsdGhpcy5fb25EYXRhTG9hZGluZyl9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG89e3Nob3dUaWxlQm91bmRhcmllczp7fSxzaG93Q29sbGlzaW9uQm94ZXM6e30sc2hvd092ZXJkcmF3SW5zcGVjdG9yOnt9LHJlcGFpbnQ6e30sdmVydGljZXM6e319O3JldHVybiBlLnByb3RvdHlwZS5hZGRDb250cm9sPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmdC5nZXREZWZhdWx0UG9zaXRpb24mJihlPXQuZ2V0RGVmYXVsdFBvc2l0aW9uKCkpLHZvaWQgMD09PWUmJihlPVwidG9wLXJpZ2h0XCIpO3ZhciBvPXQub25BZGQodGhpcyksaT10aGlzLl9jb250cm9sUG9zaXRpb25zW2VdO3JldHVybiBlLmluZGV4T2YoXCJib3R0b21cIikhPT0tMT9pLmluc2VydEJlZm9yZShvLGkuZmlyc3RDaGlsZCk6aS5hcHBlbmRDaGlsZChvKSx0aGlzfSxlLnByb3RvdHlwZS5yZW1vdmVDb250cm9sPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm9uUmVtb3ZlKHRoaXMpLHRoaXN9LGUucHJvdG90eXBlLmFkZENsYXNzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHV0aWwud2Fybk9uY2UoXCJTdHlsZSBjbGFzc2VzIGFyZSBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYW4gdXBjb21pbmcgcmVsZWFzZSBvZiBNYXBib3ggR0wgSlMuXCIpLHRoaXMuX2NsYXNzZXMuaW5kZXhPZih0KT49MHx8XCJcIj09PXQ/dGhpczoodGhpcy5fY2xhc3Nlcy5wdXNoKHQpLHRoaXMuX2NsYXNzT3B0aW9ucz1lLHRoaXMuc3R5bGUmJnRoaXMuc3R5bGUudXBkYXRlQ2xhc3NlcygpLHRoaXMuX3VwZGF0ZSghMCkpfSxlLnByb3RvdHlwZS5yZW1vdmVDbGFzcz1mdW5jdGlvbih0LGUpe3V0aWwud2Fybk9uY2UoXCJTdHlsZSBjbGFzc2VzIGFyZSBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYW4gdXBjb21pbmcgcmVsZWFzZSBvZiBNYXBib3ggR0wgSlMuXCIpO3ZhciBvPXRoaXMuX2NsYXNzZXMuaW5kZXhPZih0KTtyZXR1cm4gbzwwfHxcIlwiPT09dD90aGlzOih0aGlzLl9jbGFzc2VzLnNwbGljZShvLDEpLHRoaXMuX2NsYXNzT3B0aW9ucz1lLHRoaXMuc3R5bGUmJnRoaXMuc3R5bGUudXBkYXRlQ2xhc3NlcygpLHRoaXMuX3VwZGF0ZSghMCkpfSxlLnByb3RvdHlwZS5zZXRDbGFzc2VzPWZ1bmN0aW9uKHQsZSl7dXRpbC53YXJuT25jZShcIlN0eWxlIGNsYXNzZXMgYXJlIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhbiB1cGNvbWluZyByZWxlYXNlIG9mIE1hcGJveCBHTCBKUy5cIik7Zm9yKHZhciBvPXt9LGk9MDtpPHQubGVuZ3RoO2krKylcIlwiIT09dFtpXSYmKG9bdFtpXV09ITApO3JldHVybiB0aGlzLl9jbGFzc2VzPU9iamVjdC5rZXlzKG8pLHRoaXMuX2NsYXNzT3B0aW9ucz1lLHRoaXMuc3R5bGUmJnRoaXMuc3R5bGUudXBkYXRlQ2xhc3NlcygpLHRoaXMuX3VwZGF0ZSghMCl9LGUucHJvdG90eXBlLmhhc0NsYXNzPWZ1bmN0aW9uKHQpe3JldHVybiB1dGlsLndhcm5PbmNlKFwiU3R5bGUgY2xhc3NlcyBhcmUgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGFuIHVwY29taW5nIHJlbGVhc2Ugb2YgTWFwYm94IEdMIEpTLlwiKSx0aGlzLl9jbGFzc2VzLmluZGV4T2YodCk+PTB9LGUucHJvdG90eXBlLmdldENsYXNzZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdXRpbC53YXJuT25jZShcIlN0eWxlIGNsYXNzZXMgYXJlIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhbiB1cGNvbWluZyByZWxlYXNlIG9mIE1hcGJveCBHTCBKUy5cIiksdGhpcy5fY2xhc3Nlc30sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udGFpbmVyRGltZW5zaW9ucygpLGU9dFswXSxvPXRbMV07cmV0dXJuIHRoaXMuX3Jlc2l6ZUNhbnZhcyhlLG8pLHRoaXMudHJhbnNmb3JtLnJlc2l6ZShlLG8pLHRoaXMucGFpbnRlci5yZXNpemUoZSxvKSx0aGlzLmZpcmUoXCJtb3Zlc3RhcnRcIikuZmlyZShcIm1vdmVcIikuZmlyZShcInJlc2l6ZVwiKS5maXJlKFwibW92ZWVuZFwiKX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IExuZ0xhdEJvdW5kcyh0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKG5ldyBQb2ludCgwLHRoaXMudHJhbnNmb3JtLmhlaWdodCkpLHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24obmV3IFBvaW50KHRoaXMudHJhbnNmb3JtLndpZHRoLDApKSk7cmV0dXJuKHRoaXMudHJhbnNmb3JtLmFuZ2xlfHx0aGlzLnRyYW5zZm9ybS5waXRjaCkmJih0LmV4dGVuZCh0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKG5ldyBQb2ludCh0aGlzLnRyYW5zZm9ybS5zaXplLngsMCkpKSx0LmV4dGVuZCh0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKG5ldyBQb2ludCgwLHRoaXMudHJhbnNmb3JtLnNpemUueSkpKSksdH0sZS5wcm90b3R5cGUuc2V0TWF4Qm91bmRzPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPUxuZ0xhdEJvdW5kcy5jb252ZXJ0KHQpO3RoaXMudHJhbnNmb3JtLmxuZ1JhbmdlPVtlLmdldFdlc3QoKSxlLmdldEVhc3QoKV0sdGhpcy50cmFuc2Zvcm0ubGF0UmFuZ2U9W2UuZ2V0U291dGgoKSxlLmdldE5vcnRoKCldLHRoaXMudHJhbnNmb3JtLl9jb25zdHJhaW4oKSx0aGlzLl91cGRhdGUoKX1lbHNlIG51bGwhPT10JiZ2b2lkIDAhPT10fHwodGhpcy50cmFuc2Zvcm0ubG5nUmFuZ2U9W10sdGhpcy50cmFuc2Zvcm0ubGF0UmFuZ2U9W10sdGhpcy5fdXBkYXRlKCkpO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5zZXRNaW5ab29tPWZ1bmN0aW9uKHQpe2lmKHQ9bnVsbD09PXR8fHZvaWQgMD09PXQ/ZGVmYXVsdE1pblpvb206dCx0Pj1kZWZhdWx0TWluWm9vbSYmdDw9dGhpcy50cmFuc2Zvcm0ubWF4Wm9vbSlyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbT10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0Wm9vbSgpPHQmJnRoaXMuc2V0Wm9vbSh0KSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1pblpvb20gbXVzdCBiZSBiZXR3ZWVuIFwiK2RlZmF1bHRNaW5ab29tK1wiIGFuZCB0aGUgY3VycmVudCBtYXhab29tLCBpbmNsdXNpdmVcIil9LGUucHJvdG90eXBlLmdldE1pblpvb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbX0sZS5wcm90b3R5cGUuc2V0TWF4Wm9vbT1mdW5jdGlvbih0KXtpZih0PW51bGw9PT10fHx2b2lkIDA9PT10P2RlZmF1bHRNYXhab29tOnQsdD49dGhpcy50cmFuc2Zvcm0ubWluWm9vbSlyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbT10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0Wm9vbSgpPnQmJnRoaXMuc2V0Wm9vbSh0KSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gdGhlIGN1cnJlbnQgbWluWm9vbVwiKX0sZS5wcm90b3R5cGUuZ2V0TWF4Wm9vbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tfSxlLnByb3RvdHlwZS5wcm9qZWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhdGlvblBvaW50KExuZ0xhdC5jb252ZXJ0KHQpKX0sZS5wcm90b3R5cGUudW5wcm9qZWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKFBvaW50LmNvbnZlcnQodCkpfSxlLnByb3RvdHlwZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiB0IGluc3RhbmNlb2YgUG9pbnR8fEFycmF5LmlzQXJyYXkodCl9dmFyIGUsbz17fTtyZXR1cm4gMj09PWFyZ3VtZW50cy5sZW5ndGg/KGU9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdKToxPT09YXJndW1lbnRzLmxlbmd0aCYmdChhcmd1bWVudHNbMF0pP2U9YXJndW1lbnRzWzBdOjE9PT1hcmd1bWVudHMubGVuZ3RoJiYobz1hcmd1bWVudHNbMF0pLHRoaXMuc3R5bGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHRoaXMuX21ha2VRdWVyeUdlb21ldHJ5KGUpLG8sdGhpcy50cmFuc2Zvcm0uem9vbSx0aGlzLnRyYW5zZm9ybS5hbmdsZSl9LGUucHJvdG90eXBlLl9tYWtlUXVlcnlHZW9tZXRyeT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3ZvaWQgMD09PXQmJih0PVtQb2ludC5jb252ZXJ0KFswLDBdKSxQb2ludC5jb252ZXJ0KFt0aGlzLnRyYW5zZm9ybS53aWR0aCx0aGlzLnRyYW5zZm9ybS5oZWlnaHRdKV0pO3ZhciBvLGk9dCBpbnN0YW5jZW9mIFBvaW50fHxcIm51bWJlclwiPT10eXBlb2YgdFswXTtpZihpKXt2YXIgcj1Qb2ludC5jb252ZXJ0KHQpO289W3JdfWVsc2V7dmFyIHM9W1BvaW50LmNvbnZlcnQodFswXSksUG9pbnQuY29udmVydCh0WzFdKV07bz1bc1swXSxuZXcgUG9pbnQoc1sxXS54LHNbMF0ueSksc1sxXSxuZXcgUG9pbnQoc1swXS54LHNbMV0ueSksc1swXV19cmV0dXJuIG89by5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUudHJhbnNmb3JtLnBvaW50Q29vcmRpbmF0ZSh0KX0pfSxlLnByb3RvdHlwZS5xdWVyeVNvdXJjZUZlYXR1cmVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUucXVlcnlTb3VyY2VGZWF0dXJlcyh0LGUpfSxlLnByb3RvdHlwZS5zZXRTdHlsZT1mdW5jdGlvbih0LGUpe3ZhciBvPSghZXx8ZS5kaWZmIT09ITEpJiZ0aGlzLnN0eWxlJiZ0JiYhKHQgaW5zdGFuY2VvZiBTdHlsZSkmJlwic3RyaW5nXCIhPXR5cGVvZiB0O2lmKG8pdHJ5e3JldHVybiB0aGlzLnN0eWxlLnNldFN0YXRlKHQpJiZ0aGlzLl91cGRhdGUoITApLHRoaXN9Y2F0Y2godCl7dXRpbC53YXJuT25jZShcIlVuYWJsZSB0byBwZXJmb3JtIHN0eWxlIGRpZmY6IFwiKyh0Lm1lc3NhZ2V8fHQuZXJyb3J8fHQpK1wiLiAgUmVidWlsZGluZyB0aGUgc3R5bGUgZnJvbSBzY3JhdGNoLlwiKX1yZXR1cm4gdGhpcy5zdHlsZSYmKHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLnN0eWxlLl9yZW1vdmUoKSx0aGlzLm9mZihcInJvdGF0ZVwiLHRoaXMuc3R5bGUuX3JlZG9QbGFjZW1lbnQpLHRoaXMub2ZmKFwicGl0Y2hcIix0aGlzLnN0eWxlLl9yZWRvUGxhY2VtZW50KSksdD8odCBpbnN0YW5jZW9mIFN0eWxlP3RoaXMuc3R5bGU9dDp0aGlzLnN0eWxlPW5ldyBTdHlsZSh0LHRoaXMpLHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudCh0aGlzLHtzdHlsZTp0aGlzLnN0eWxlfSksdGhpcy5vbihcInJvdGF0ZVwiLHRoaXMuc3R5bGUuX3JlZG9QbGFjZW1lbnQpLHRoaXMub24oXCJwaXRjaFwiLHRoaXMuc3R5bGUuX3JlZG9QbGFjZW1lbnQpLHRoaXMpOih0aGlzLnN0eWxlPW51bGwsdGhpcyl9LGUucHJvdG90eXBlLmdldFN0eWxlPWZ1bmN0aW9uKCl7aWYodGhpcy5zdHlsZSlyZXR1cm4gdGhpcy5zdHlsZS5zZXJpYWxpemUoKX0sZS5wcm90b3R5cGUuYWRkU291cmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUuYWRkU291cmNlKHQsZSksdGhpcy5fdXBkYXRlKCEwKSx0aGlzfSxlLnByb3RvdHlwZS5pc1NvdXJjZUxvYWRlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLnNvdXJjZUNhY2hlc1t0XTtyZXR1cm4gdm9pZCAwPT09ZT92b2lkIHRoaXMuZmlyZShcImVycm9yXCIse2Vycm9yOm5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIElEICdcIit0K1wiJ1wiKX0pOmUubG9hZGVkKCl9LGUucHJvdG90eXBlLmFkZFNvdXJjZVR5cGU9ZnVuY3Rpb24odCxlLG8pe3JldHVybiB0aGlzLnN0eWxlLmFkZFNvdXJjZVR5cGUodCxlLG8pfSxlLnByb3RvdHlwZS5yZW1vdmVTb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3R5bGUucmVtb3ZlU291cmNlKHQpLHRoaXMuX3VwZGF0ZSghMCksdGhpc30sZS5wcm90b3R5cGUuZ2V0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlLmdldFNvdXJjZSh0KX0sZS5wcm90b3R5cGUuYWRkTGF5ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdHlsZS5hZGRMYXllcih0LGUpLHRoaXMuX3VwZGF0ZSghMCksdGhpc30sZS5wcm90b3R5cGUubW92ZUxheWVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUubW92ZUxheWVyKHQsZSksdGhpcy5fdXBkYXRlKCEwKSx0aGlzfSxlLnByb3RvdHlwZS5yZW1vdmVMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVMYXllcih0KSx0aGlzLl91cGRhdGUoITApLHRoaXN9LGUucHJvdG90eXBlLmdldExheWVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlLmdldExheWVyKHQpfSxlLnByb3RvdHlwZS5zZXRGaWx0ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRGaWx0ZXIodCxlKSx0aGlzLl91cGRhdGUoITApLHRoaXN9LGUucHJvdG90eXBlLnNldExheWVyWm9vbVJhbmdlPWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRMYXllclpvb21SYW5nZSh0LGUsbyksdGhpcy5fdXBkYXRlKCEwKSx0aGlzfSxlLnByb3RvdHlwZS5nZXRGaWx0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0RmlsdGVyKHQpfSxlLnByb3RvdHlwZS5zZXRQYWludFByb3BlcnR5PWZ1bmN0aW9uKHQsZSxvLGkpe3JldHVybiB0aGlzLnN0eWxlLnNldFBhaW50UHJvcGVydHkodCxlLG8saSksdGhpcy5fdXBkYXRlKCEwKSx0aGlzfSxlLnByb3RvdHlwZS5nZXRQYWludFByb3BlcnR5PWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRQYWludFByb3BlcnR5KHQsZSxvKX0sZS5wcm90b3R5cGUuc2V0TGF5b3V0UHJvcGVydHk9ZnVuY3Rpb24odCxlLG8pe3JldHVybiB0aGlzLnN0eWxlLnNldExheW91dFByb3BlcnR5KHQsZSxvKSx0aGlzLl91cGRhdGUoITApLHRoaXN9LGUucHJvdG90eXBlLmdldExheW91dFByb3BlcnR5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5b3V0UHJvcGVydHkodCxlKX0sZS5wcm90b3R5cGUuc2V0TGlnaHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0TGlnaHQodCksdGhpcy5fdXBkYXRlKCEwKSx0aGlzfSxlLnByb3RvdHlwZS5nZXRMaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLmdldExpZ2h0KCl9LGUucHJvdG90eXBlLmdldENvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250YWluZXJ9LGUucHJvdG90eXBlLmdldENhbnZhc0NvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYW52YXNDb250YWluZXJ9LGUucHJvdG90eXBlLmdldENhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYW52YXN9LGUucHJvdG90eXBlLl9jb250YWluZXJEaW1lbnNpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9MCxlPTA7cmV0dXJuIHRoaXMuX2NvbnRhaW5lciYmKHQ9dGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRofHw0MDAsZT10aGlzLl9jb250YWluZXIub2Zmc2V0SGVpZ2h0fHwzMDApLFt0LGVdfSxlLnByb3RvdHlwZS5fc2V0dXBDb250YWluZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250YWluZXI7dC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtbWFwXCIpO3ZhciBlPXRoaXMuX2NhbnZhc0NvbnRhaW5lcj1ET00uY3JlYXRlKFwiZGl2XCIsXCJtYXBib3hnbC1jYW52YXMtY29udGFpbmVyXCIsdCk7dGhpcy5faW50ZXJhY3RpdmUmJmUuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWludGVyYWN0aXZlXCIpLHRoaXMuX2NhbnZhcz1ET00uY3JlYXRlKFwiY2FudmFzXCIsXCJtYXBib3hnbC1jYW52YXNcIixlKSx0aGlzLl9jYW52YXMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLHRoaXMuX2NvbnRleHRMb3N0LCExKSx0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5fY29udGV4dFJlc3RvcmVkLCExKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwwKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwiTWFwXCIpO3ZhciBvPXRoaXMuX2NvbnRhaW5lckRpbWVuc2lvbnMoKTt0aGlzLl9yZXNpemVDYW52YXMob1swXSxvWzFdKTt2YXIgaT10aGlzLl9jb250cm9sQ29udGFpbmVyPURPTS5jcmVhdGUoXCJkaXZcIixcIm1hcGJveGdsLWNvbnRyb2wtY29udGFpbmVyXCIsdCkscj10aGlzLl9jb250cm9sUG9zaXRpb25zPXt9O1tcInRvcC1sZWZ0XCIsXCJ0b3AtcmlnaHRcIixcImJvdHRvbS1sZWZ0XCIsXCJib3R0b20tcmlnaHRcIl0uZm9yRWFjaChmdW5jdGlvbih0KXtyW3RdPURPTS5jcmVhdGUoXCJkaXZcIixcIm1hcGJveGdsLWN0cmwtXCIrdCxpKX0pfSxlLnByb3RvdHlwZS5fcmVzaXplQ2FudmFzPWZ1bmN0aW9uKHQsZSl7dmFyIG89d2luZG93LmRldmljZVBpeGVsUmF0aW98fDE7dGhpcy5fY2FudmFzLndpZHRoPW8qdCx0aGlzLl9jYW52YXMuaGVpZ2h0PW8qZSx0aGlzLl9jYW52YXMuc3R5bGUud2lkdGg9dCtcInB4XCIsdGhpcy5fY2FudmFzLnN0eWxlLmhlaWdodD1lK1wicHhcIn0sZS5wcm90b3R5cGUuX3NldHVwUGFpbnRlcj1mdW5jdGlvbigpe3ZhciB0PXV0aWwuZXh0ZW5kKHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OnRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQscHJlc2VydmVEcmF3aW5nQnVmZmVyOnRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcn0saXNTdXBwb3J0ZWQud2ViR0xDb250ZXh0QXR0cmlidXRlcyksZT10aGlzLl9jYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIsdCl8fHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsdCk7cmV0dXJuIGU/dm9pZCh0aGlzLnBhaW50ZXI9bmV3IFBhaW50ZXIoZSx0aGlzLnRyYW5zZm9ybSkpOnZvaWQgdGhpcy5maXJlKFwiZXJyb3JcIix7ZXJyb3I6bmV3IEVycm9yKFwiRmFpbGVkIHRvIGluaXRpYWxpemUgV2ViR0xcIil9KX0sZS5wcm90b3R5cGUuX2NvbnRleHRMb3N0PWZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0aGlzLl9mcmFtZUlkJiZicm93c2VyLmNhbmNlbEZyYW1lKHRoaXMuX2ZyYW1lSWQpLHRoaXMuZmlyZShcIndlYmdsY29udGV4dGxvc3RcIix7b3JpZ2luYWxFdmVudDp0fSl9LGUucHJvdG90eXBlLl9jb250ZXh0UmVzdG9yZWQ9ZnVuY3Rpb24odCl7dGhpcy5fc2V0dXBQYWludGVyKCksdGhpcy5yZXNpemUoKSx0aGlzLl91cGRhdGUoKSx0aGlzLmZpcmUoXCJ3ZWJnbGNvbnRleHRyZXN0b3JlZFwiLHtvcmlnaW5hbEV2ZW50OnR9KX0sZS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX3N0eWxlRGlydHkmJiF0aGlzLl9zb3VyY2VzRGlydHkmJiEoIXRoaXMuc3R5bGV8fCF0aGlzLnN0eWxlLmxvYWRlZCgpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZT8odGhpcy5fc3R5bGVEaXJ0eT10aGlzLl9zdHlsZURpcnR5fHx0LHRoaXMuX3NvdXJjZXNEaXJ0eT0hMCx0aGlzLl9yZXJlbmRlcigpLHRoaXMpOnRoaXN9LGUucHJvdG90eXBlLl9yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZSYmdGhpcy5fc3R5bGVEaXJ0eSYmKHRoaXMuX3N0eWxlRGlydHk9ITEsdGhpcy5zdHlsZS51cGRhdGUodGhpcy5fY2xhc3Nlcyx0aGlzLl9jbGFzc09wdGlvbnMpLHRoaXMuX2NsYXNzT3B0aW9ucz1udWxsLHRoaXMuc3R5bGUuX3JlY2FsY3VsYXRlKHRoaXMudHJhbnNmb3JtLnpvb20pKSx0aGlzLnN0eWxlJiZ0aGlzLl9zb3VyY2VzRGlydHkmJih0aGlzLl9zb3VyY2VzRGlydHk9ITEsdGhpcy5zdHlsZS5fdXBkYXRlU291cmNlcyh0aGlzLnRyYW5zZm9ybSkpLHRoaXMucGFpbnRlci5yZW5kZXIodGhpcy5zdHlsZSx7c2hvd1RpbGVCb3VuZGFyaWVzOnRoaXMuc2hvd1RpbGVCb3VuZGFyaWVzLHNob3dPdmVyZHJhd0luc3BlY3Rvcjp0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3Iscm90YXRpbmc6dGhpcy5yb3RhdGluZyx6b29taW5nOnRoaXMuem9vbWluZ30pLHRoaXMuZmlyZShcInJlbmRlclwiKSx0aGlzLmxvYWRlZCgpJiYhdGhpcy5fbG9hZGVkJiYodGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZShcImxvYWRcIikpLHRoaXMuX2ZyYW1lSWQ9bnVsbCx0aGlzLmFuaW1hdGlvbkxvb3Auc3RvcHBlZCgpfHwodGhpcy5fc3R5bGVEaXJ0eT0hMCksKHRoaXMuX3NvdXJjZXNEaXJ0eXx8dGhpcy5fcmVwYWludHx8dGhpcy5fc3R5bGVEaXJ0eSkmJnRoaXMuX3JlcmVuZGVyKCksdGhpc30sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5faGFzaCYmdGhpcy5faGFzaC5yZW1vdmUoKSxicm93c2VyLmNhbmNlbEZyYW1lKHRoaXMuX2ZyYW1lSWQpLHRoaXMuc2V0U3R5bGUobnVsbCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy5fb25XaW5kb3dPbmxpbmUsITEpKTt2YXIgdD10aGlzLnBhaW50ZXIuZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpO3QmJnQubG9zZUNvbnRleHQoKSxyZW1vdmVOb2RlKHRoaXMuX2NhbnZhc0NvbnRhaW5lcikscmVtb3ZlTm9kZSh0aGlzLl9jb250cm9sQ29udGFpbmVyKSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLW1hcFwiKSx0aGlzLmZpcmUoXCJyZW1vdmVcIil9LGUucHJvdG90eXBlLl9yZXJlbmRlcj1mdW5jdGlvbigpe3RoaXMuc3R5bGUmJiF0aGlzLl9mcmFtZUlkJiYodGhpcy5fZnJhbWVJZD1icm93c2VyLmZyYW1lKHRoaXMuX3JlbmRlcikpfSxlLnByb3RvdHlwZS5fb25XaW5kb3dPbmxpbmU9ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGUoKX0sZS5wcm90b3R5cGUuX29uV2luZG93UmVzaXplPWZ1bmN0aW9uKCl7dGhpcy5fdHJhY2tSZXNpemUmJnRoaXMuc3RvcCgpLnJlc2l6ZSgpLl91cGRhdGUoKX0sby5zaG93VGlsZUJvdW5kYXJpZXMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXN9LG8uc2hvd1RpbGVCb3VuZGFyaWVzLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXMhPT10JiYodGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzPXQsdGhpcy5fdXBkYXRlKCkpfSxvLnNob3dDb2xsaXNpb25Cb3hlcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlc30sby5zaG93Q29sbGlzaW9uQm94ZXMuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyE9PXQmJih0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9dCx0aGlzLnN0eWxlLl9yZWRvUGxhY2VtZW50KCkpfSxvLnNob3dPdmVyZHJhd0luc3BlY3Rvci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcn0sby5zaG93T3ZlcmRyYXdJbnNwZWN0b3Iuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciE9PXQmJih0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I9dCx0aGlzLl91cGRhdGUoKSl9LG8ucmVwYWludC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3JlcGFpbnR9LG8ucmVwYWludC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fcmVwYWludD10LHRoaXMuX3VwZGF0ZSgpfSxvLnZlcnRpY2VzLmdldD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fdmVydGljZXN9LG8udmVydGljZXMuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3ZlcnRpY2VzPXQsdGhpcy5fdXBkYXRlKCl9LGUucHJvdG90eXBlLl9vbkRhdGE9ZnVuY3Rpb24odCl7dGhpcy5fdXBkYXRlKFwic3R5bGVcIj09PXQuZGF0YVR5cGUpLHRoaXMuZmlyZSh0LmRhdGFUeXBlK1wiZGF0YVwiLHQpfSxlLnByb3RvdHlwZS5fb25EYXRhTG9hZGluZz1mdW5jdGlvbih0KXt0aGlzLmZpcmUodC5kYXRhVHlwZStcImRhdGFsb2FkaW5nXCIsdCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG8pLGV9KENhbWVyYSk7bW9kdWxlLmV4cG9ydHM9TWFwO1xufSx7XCIuLi9nZW8vbG5nX2xhdFwiOjYyLFwiLi4vZ2VvL2xuZ19sYXRfYm91bmRzXCI6NjMsXCIuLi9nZW8vdHJhbnNmb3JtXCI6NjQsXCIuLi9yZW5kZXIvcGFpbnRlclwiOjc3LFwiLi4vc3R5bGUvYW5pbWF0aW9uX2xvb3BcIjoxNDMsXCIuLi9zdHlsZS9zdHlsZVwiOjE0NixcIi4uL3V0aWwvYnJvd3NlclwiOjE5MixcIi4uL3V0aWwvZG9tXCI6MTk5LFwiLi4vdXRpbC91dGlsXCI6MjEyLFwiLi4vdXRpbC93aW5kb3dcIjoxOTQsXCIuL2JpbmRfaGFuZGxlcnNcIjoxNzEsXCIuL2NhbWVyYVwiOjE3MixcIi4vY29udHJvbC9hdHRyaWJ1dGlvbl9jb250cm9sXCI6MTczLFwiLi9jb250cm9sL2xvZ29fY29udHJvbFwiOjE3NixcIi4vaGFzaFwiOjE4NixcIm1hcGJveC1nbC1zdXBwb3J0ZWRcIjoyMixcInBvaW50LWdlb21ldHJ5XCI6MjZ9XSwxODg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIERPTT1yZXF1aXJlKFwiLi4vdXRpbC9kb21cIiksTG5nTGF0PXJlcXVpcmUoXCIuLi9nZW8vbG5nX2xhdFwiKSxQb2ludD1yZXF1aXJlKFwicG9pbnQtZ2VvbWV0cnlcIiksTWFya2VyPWZ1bmN0aW9uKHQsZSl7dGhpcy5fb2Zmc2V0PVBvaW50LmNvbnZlcnQoZSYmZS5vZmZzZXR8fFswLDBdKSx0aGlzLl91cGRhdGU9dGhpcy5fdXBkYXRlLmJpbmQodGhpcyksdGhpcy5fb25NYXBDbGljaz10aGlzLl9vbk1hcENsaWNrLmJpbmQodGhpcyksdHx8KHQ9RE9NLmNyZWF0ZShcImRpdlwiKSksdC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtbWFya2VyXCIpLHRoaXMuX2VsZW1lbnQ9dCx0aGlzLl9wb3B1cD1udWxsfTtNYXJrZXIucHJvdG90eXBlLmFkZFRvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlbW92ZSgpLHRoaXMuX21hcD10LHQuZ2V0Q2FudmFzQ29udGFpbmVyKCkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCksdC5vbihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHQub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlKSx0aGlzLl91cGRhdGUoKSx0aGlzLl9tYXAub24oXCJjbGlja1wiLHRoaXMuX29uTWFwQ2xpY2spLHRoaXN9LE1hcmtlci5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcCYmKHRoaXMuX21hcC5vZmYoXCJjbGlja1wiLHRoaXMuX29uTWFwQ2xpY2spLHRoaXMuX21hcC5vZmYoXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSx0aGlzLl9tYXAub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZSksdGhpcy5fbWFwPW51bGwpLERPTS5yZW1vdmUodGhpcy5fZWxlbWVudCksdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLnJlbW92ZSgpLHRoaXN9LE1hcmtlci5wcm90b3R5cGUuZ2V0TG5nTGF0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xuZ0xhdH0sTWFya2VyLnByb3RvdHlwZS5zZXRMbmdMYXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xuZ0xhdD1MbmdMYXQuY29udmVydCh0KSx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fdXBkYXRlKCksdGhpc30sTWFya2VyLnByb3RvdHlwZS5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VsZW1lbnR9LE1hcmtlci5wcm90b3R5cGUuc2V0UG9wdXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXAucmVtb3ZlKCksdGhpcy5fcG9wdXA9bnVsbCksdCYmKHRoaXMuX3BvcHVwPXQsdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCkpLHRoaXN9LE1hcmtlci5wcm90b3R5cGUuX29uTWFwQ2xpY2s9ZnVuY3Rpb24odCl7dmFyIGU9dC5vcmlnaW5hbEV2ZW50LnRhcmdldCxwPXRoaXMuX2VsZW1lbnQ7dGhpcy5fcG9wdXAmJihlPT09cHx8cC5jb250YWlucyhlKSkmJnRoaXMudG9nZ2xlUG9wdXAoKX0sTWFya2VyLnByb3RvdHlwZS5nZXRQb3B1cD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3B1cH0sTWFya2VyLnByb3RvdHlwZS50b2dnbGVQb3B1cD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BvcHVwO3QmJih0LmlzT3BlbigpP3QucmVtb3ZlKCk6dC5hZGRUbyh0aGlzLl9tYXApKX0sTWFya2VyLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX21hcCl7dmFyIGU9dGhpcy5fbWFwLnByb2plY3QodGhpcy5fbG5nTGF0KS5fYWRkKHRoaXMuX29mZnNldCk7dCYmXCJtb3ZlZW5kXCIhPT10LnR5cGV8fChlPWUucm91bmQoKSksRE9NLnNldFRyYW5zZm9ybSh0aGlzLl9lbGVtZW50LFwidHJhbnNsYXRlKFwiK2UueCtcInB4LCBcIitlLnkrXCJweClcIil9fSxtb2R1bGUuZXhwb3J0cz1NYXJrZXI7XG59LHtcIi4uL2dlby9sbmdfbGF0XCI6NjIsXCIuLi91dGlsL2RvbVwiOjE5OSxcInBvaW50LWdlb21ldHJ5XCI6MjZ9XSwxODk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbm9ybWFsaXplT2Zmc2V0KHQpe2lmKHQpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXt2YXIgbz1NYXRoLnJvdW5kKE1hdGguc3FydCguNSpNYXRoLnBvdyh0LDIpKSk7cmV0dXJue3RvcDpuZXcgUG9pbnQoMCx0KSxcInRvcC1sZWZ0XCI6bmV3IFBvaW50KG8sbyksXCJ0b3AtcmlnaHRcIjpuZXcgUG9pbnQoLW8sbyksYm90dG9tOm5ldyBQb2ludCgwLC10KSxcImJvdHRvbS1sZWZ0XCI6bmV3IFBvaW50KG8sLW8pLFwiYm90dG9tLXJpZ2h0XCI6bmV3IFBvaW50KC1vLC1vKSxsZWZ0Om5ldyBQb2ludCh0LDApLHJpZ2h0Om5ldyBQb2ludCgtdCwwKX19aWYoaXNQb2ludExpa2UodCkpe3ZhciBlPVBvaW50LmNvbnZlcnQodCk7cmV0dXJue3RvcDplLFwidG9wLWxlZnRcIjplLFwidG9wLXJpZ2h0XCI6ZSxib3R0b206ZSxcImJvdHRvbS1sZWZ0XCI6ZSxcImJvdHRvbS1yaWdodFwiOmUsbGVmdDplLHJpZ2h0OmV9fXJldHVybnt0b3A6UG9pbnQuY29udmVydCh0LnRvcHx8WzAsMF0pLFwidG9wLWxlZnRcIjpQb2ludC5jb252ZXJ0KHRbXCJ0b3AtbGVmdFwiXXx8WzAsMF0pLFwidG9wLXJpZ2h0XCI6UG9pbnQuY29udmVydCh0W1widG9wLXJpZ2h0XCJdfHxbMCwwXSksYm90dG9tOlBvaW50LmNvbnZlcnQodC5ib3R0b218fFswLDBdKSxcImJvdHRvbS1sZWZ0XCI6UG9pbnQuY29udmVydCh0W1wiYm90dG9tLWxlZnRcIl18fFswLDBdKSxcImJvdHRvbS1yaWdodFwiOlBvaW50LmNvbnZlcnQodFtcImJvdHRvbS1yaWdodFwiXXx8WzAsMF0pLGxlZnQ6UG9pbnQuY29udmVydCh0LmxlZnR8fFswLDBdKSxyaWdodDpQb2ludC5jb252ZXJ0KHQucmlnaHR8fFswLDBdKX19cmV0dXJuIG5vcm1hbGl6ZU9mZnNldChuZXcgUG9pbnQoMCwwKSl9ZnVuY3Rpb24gaXNQb2ludExpa2UodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBQb2ludHx8QXJyYXkuaXNBcnJheSh0KX12YXIgdXRpbD1yZXF1aXJlKFwiLi4vdXRpbC91dGlsXCIpLEV2ZW50ZWQ9cmVxdWlyZShcIi4uL3V0aWwvZXZlbnRlZFwiKSxET009cmVxdWlyZShcIi4uL3V0aWwvZG9tXCIpLExuZ0xhdD1yZXF1aXJlKFwiLi4vZ2VvL2xuZ19sYXRcIiksUG9pbnQ9cmVxdWlyZShcInBvaW50LWdlb21ldHJ5XCIpLHdpbmRvdz1yZXF1aXJlKFwiLi4vdXRpbC93aW5kb3dcIiksZGVmYXVsdE9wdGlvbnM9e2Nsb3NlQnV0dG9uOiEwLGNsb3NlT25DbGljazohMH0sUG9wdXA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbyhvKXt0LmNhbGwodGhpcyksdGhpcy5vcHRpb25zPXV0aWwuZXh0ZW5kKE9iamVjdC5jcmVhdGUoZGVmYXVsdE9wdGlvbnMpLG8pLHV0aWwuYmluZEFsbChbXCJfdXBkYXRlXCIsXCJfb25DbGlja0Nsb3NlXCJdLHRoaXMpfXJldHVybiB0JiYoby5fX3Byb3RvX189dCksby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksby5wcm90b3R5cGUuY29uc3RydWN0b3I9byxvLnByb3RvdHlwZS5hZGRUbz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbWFwPXQsdGhpcy5fbWFwLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdGhpcy5vcHRpb25zLmNsb3NlT25DbGljayYmdGhpcy5fbWFwLm9uKFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrQ2xvc2UpLHRoaXMuX3VwZGF0ZSgpLHRoaXN9LG8ucHJvdG90eXBlLmlzT3Blbj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fbWFwfSxvLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGVudCYmdGhpcy5fY29udGVudC5wYXJlbnROb2RlJiZ0aGlzLl9jb250ZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGVudCksdGhpcy5fY29udGFpbmVyJiYodGhpcy5fY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKSxkZWxldGUgdGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXAmJih0aGlzLl9tYXAub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdGhpcy5fbWFwLm9mZihcImNsaWNrXCIsdGhpcy5fb25DbGlja0Nsb3NlKSxkZWxldGUgdGhpcy5fbWFwKSx0aGlzLmZpcmUoXCJjbG9zZVwiKSx0aGlzfSxvLnByb3RvdHlwZS5nZXRMbmdMYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG5nTGF0fSxvLnByb3RvdHlwZS5zZXRMbmdMYXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xuZ0xhdD1MbmdMYXQuY29udmVydCh0KSx0aGlzLl91cGRhdGUoKSx0aGlzfSxvLnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQod2luZG93LmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKX0sby5wcm90b3R5cGUuc2V0SFRNTD1mdW5jdGlvbih0KXt2YXIgbyxlPXdpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbj13aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJvZHlcIik7Zm9yKG4uaW5uZXJIVE1MPXQ7Oyl7aWYobz1uLmZpcnN0Q2hpbGQsIW8pYnJlYWs7ZS5hcHBlbmRDaGlsZChvKX1yZXR1cm4gdGhpcy5zZXRET01Db250ZW50KGUpfSxvLnByb3RvdHlwZS5zZXRET01Db250ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jcmVhdGVDb250ZW50KCksdGhpcy5fY29udGVudC5hcHBlbmRDaGlsZCh0KSx0aGlzLl91cGRhdGUoKSx0aGlzfSxvLnByb3RvdHlwZS5fY3JlYXRlQ29udGVudD1mdW5jdGlvbigpe3RoaXMuX2NvbnRlbnQmJnRoaXMuX2NvbnRlbnQucGFyZW50Tm9kZSYmdGhpcy5fY29udGVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRlbnQpLHRoaXMuX2NvbnRlbnQ9RE9NLmNyZWF0ZShcImRpdlwiLFwibWFwYm94Z2wtcG9wdXAtY29udGVudFwiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5vcHRpb25zLmNsb3NlQnV0dG9uJiYodGhpcy5fY2xvc2VCdXR0b249RE9NLmNyZWF0ZShcImJ1dHRvblwiLFwibWFwYm94Z2wtcG9wdXAtY2xvc2UtYnV0dG9uXCIsdGhpcy5fY29udGVudCksdGhpcy5fY2xvc2VCdXR0b24udHlwZT1cImJ1dHRvblwiLHRoaXMuX2Nsb3NlQnV0dG9uLmlubmVySFRNTD1cIiYjMjE1O1wiLHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX29uQ2xpY2tDbG9zZSkpfSxvLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5fbWFwJiZ0aGlzLl9sbmdMYXQmJnRoaXMuX2NvbnRlbnQpe3RoaXMuX2NvbnRhaW5lcnx8KHRoaXMuX2NvbnRhaW5lcj1ET00uY3JlYXRlKFwiZGl2XCIsXCJtYXBib3hnbC1wb3B1cFwiLHRoaXMuX21hcC5nZXRDb250YWluZXIoKSksdGhpcy5fdGlwPURPTS5jcmVhdGUoXCJkaXZcIixcIm1hcGJveGdsLXBvcHVwLXRpcFwiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRlbnQpKTt2YXIgdD10aGlzLm9wdGlvbnMuYW5jaG9yLG89bm9ybWFsaXplT2Zmc2V0KHRoaXMub3B0aW9ucy5vZmZzZXQpLGU9dGhpcy5fbWFwLnByb2plY3QodGhpcy5fbG5nTGF0KS5yb3VuZCgpO2lmKCF0KXt2YXIgbj10aGlzLl9jb250YWluZXIub2Zmc2V0V2lkdGgsaT10aGlzLl9jb250YWluZXIub2Zmc2V0SGVpZ2h0O3Q9ZS55K28uYm90dG9tLnk8aT9bXCJ0b3BcIl06ZS55PnRoaXMuX21hcC50cmFuc2Zvcm0uaGVpZ2h0LWk/W1wiYm90dG9tXCJdOltdLGUueDxuLzI/dC5wdXNoKFwibGVmdFwiKTplLng+dGhpcy5fbWFwLnRyYW5zZm9ybS53aWR0aC1uLzImJnQucHVzaChcInJpZ2h0XCIpLHQ9MD09PXQubGVuZ3RoP1wiYm90dG9tXCI6dC5qb2luKFwiLVwiKX12YXIgcj1lLmFkZChvW3RdKSxzPXt0b3A6XCJ0cmFuc2xhdGUoLTUwJSwwKVwiLFwidG9wLWxlZnRcIjpcInRyYW5zbGF0ZSgwLDApXCIsXCJ0b3AtcmlnaHRcIjpcInRyYW5zbGF0ZSgtMTAwJSwwKVwiLGJvdHRvbTpcInRyYW5zbGF0ZSgtNTAlLC0xMDAlKVwiLFwiYm90dG9tLWxlZnRcIjpcInRyYW5zbGF0ZSgwLC0xMDAlKVwiLFwiYm90dG9tLXJpZ2h0XCI6XCJ0cmFuc2xhdGUoLTEwMCUsLTEwMCUpXCIsbGVmdDpcInRyYW5zbGF0ZSgwLC01MCUpXCIscmlnaHQ6XCJ0cmFuc2xhdGUoLTEwMCUsLTUwJSlcIn0scD10aGlzLl9jb250YWluZXIuY2xhc3NMaXN0O2Zvcih2YXIgYSBpbiBzKXAucmVtb3ZlKFwibWFwYm94Z2wtcG9wdXAtYW5jaG9yLVwiK2EpO3AuYWRkKFwibWFwYm94Z2wtcG9wdXAtYW5jaG9yLVwiK3QpLERPTS5zZXRUcmFuc2Zvcm0odGhpcy5fY29udGFpbmVyLHNbdF0rXCIgdHJhbnNsYXRlKFwiK3IueCtcInB4LFwiK3IueStcInB4KVwiKX19LG8ucHJvdG90eXBlLl9vbkNsaWNrQ2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZSgpfSxvfShFdmVudGVkKTttb2R1bGUuZXhwb3J0cz1Qb3B1cDtcbn0se1wiLi4vZ2VvL2xuZ19sYXRcIjo2MixcIi4uL3V0aWwvZG9tXCI6MTk5LFwiLi4vdXRpbC9ldmVudGVkXCI6MjAwLFwiLi4vdXRpbC91dGlsXCI6MjEyLFwiLi4vdXRpbC93aW5kb3dcIjoxOTQsXCJwb2ludC1nZW9tZXRyeVwiOjI2fV0sMTkwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBBY3Rvcj1mdW5jdGlvbih0LGUsYSl7dGhpcy50YXJnZXQ9dCx0aGlzLnBhcmVudD1lLHRoaXMubWFwSWQ9YSx0aGlzLmNhbGxiYWNrcz17fSx0aGlzLmNhbGxiYWNrSUQ9MCx0aGlzLnJlY2VpdmU9dGhpcy5yZWNlaXZlLmJpbmQodGhpcyksdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLnJlY2VpdmUsITEpfTtBY3Rvci5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0LGUsYSxyLHMpe3ZhciBpPWE/dGhpcy5tYXBJZCtcIjpcIit0aGlzLmNhbGxiYWNrSUQrKzpudWxsO2EmJih0aGlzLmNhbGxiYWNrc1tpXT1hKSx0aGlzLnRhcmdldC5wb3N0TWVzc2FnZSh7dGFyZ2V0TWFwSWQ6cyxzb3VyY2VNYXBJZDp0aGlzLm1hcElkLHR5cGU6dCxpZDpTdHJpbmcoaSksZGF0YTplfSxyKX0sQWN0b3IucHJvdG90eXBlLnJlY2VpdmU9ZnVuY3Rpb24odCl7dmFyIGUsYT10aGlzLHI9dC5kYXRhLHM9ci5pZDtpZighci50YXJnZXRNYXBJZHx8dGhpcy5tYXBJZD09PXIudGFyZ2V0TWFwSWQpe3ZhciBpPWZ1bmN0aW9uKHQsZSxyKXthLnRhcmdldC5wb3N0TWVzc2FnZSh7c291cmNlTWFwSWQ6YS5tYXBJZCx0eXBlOlwiPHJlc3BvbnNlPlwiLGlkOlN0cmluZyhzKSxlcnJvcjp0P1N0cmluZyh0KTpudWxsLGRhdGE6ZX0scil9O2lmKFwiPHJlc3BvbnNlPlwiPT09ci50eXBlKWU9dGhpcy5jYWxsYmFja3Nbci5pZF0sZGVsZXRlIHRoaXMuY2FsbGJhY2tzW3IuaWRdLGUmJmUoci5lcnJvcnx8bnVsbCxyLmRhdGEpO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHIuaWQmJnRoaXMucGFyZW50W3IudHlwZV0pdGhpcy5wYXJlbnRbci50eXBlXShyLnNvdXJjZU1hcElkLHIuZGF0YSxpKTtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiByLmlkJiZ0aGlzLnBhcmVudC5nZXRXb3JrZXJTb3VyY2Upe3ZhciBwPXIudHlwZS5zcGxpdChcIi5cIiksZD10aGlzLnBhcmVudC5nZXRXb3JrZXJTb3VyY2Uoci5zb3VyY2VNYXBJZCxwWzBdKTtkW3BbMV1dKHIuZGF0YSxpKX1lbHNlIHRoaXMucGFyZW50W3IudHlwZV0oci5kYXRhKX19LEFjdG9yLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMucmVjZWl2ZSwhMSl9LG1vZHVsZS5leHBvcnRzPUFjdG9yO1xufSx7fV0sMTkxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIHNhbWVPcmlnaW4oZSl7dmFyIHQ9d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3JldHVybiB0LmhyZWY9ZSx0LnByb3RvY29sPT09d2luZG93LmRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sJiZ0Lmhvc3Q9PT13aW5kb3cuZG9jdW1lbnQubG9jYXRpb24uaG9zdH12YXIgd2luZG93PXJlcXVpcmUoXCIuL3dpbmRvd1wiKTtleHBvcnRzLmdldEpTT049ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0O3JldHVybiBuLm9wZW4oXCJHRVRcIixlLCEwKSxuLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixcImFwcGxpY2F0aW9uL2pzb25cIiksbi5vbmVycm9yPWZ1bmN0aW9uKGUpe3QoZSl9LG4ub25sb2FkPWZ1bmN0aW9uKCl7aWYobi5zdGF0dXM+PTIwMCYmbi5zdGF0dXM8MzAwJiZuLnJlc3BvbnNlKXt2YXIgZTt0cnl7ZT1KU09OLnBhcnNlKG4ucmVzcG9uc2UpfWNhdGNoKGUpe3JldHVybiB0KGUpfXQobnVsbCxlKX1lbHNlIHQobmV3IEVycm9yKG4uc3RhdHVzVGV4dCkpfSxuLnNlbmQoKSxufSxleHBvcnRzLmdldEFycmF5QnVmZmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDtyZXR1cm4gbi5vcGVuKFwiR0VUXCIsZSwhMCksbi5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiLG4ub25lcnJvcj1mdW5jdGlvbihlKXt0KGUpfSxuLm9ubG9hZD1mdW5jdGlvbigpe3JldHVybiAwPT09bi5yZXNwb25zZS5ieXRlTGVuZ3RoJiYyMDA9PT1uLnN0YXR1cz90KG5ldyBFcnJvcihcImh0dHAgc3RhdHVzIDIwMCByZXR1cm5lZCB3aXRob3V0IGNvbnRlbnQuXCIpKTp2b2lkKG4uc3RhdHVzPj0yMDAmJm4uc3RhdHVzPDMwMCYmbi5yZXNwb25zZT90KG51bGwse2RhdGE6bi5yZXNwb25zZSxjYWNoZUNvbnRyb2w6bi5nZXRSZXNwb25zZUhlYWRlcihcIkNhY2hlLUNvbnRyb2xcIiksZXhwaXJlczpuLmdldFJlc3BvbnNlSGVhZGVyKFwiRXhwaXJlc1wiKX0pOnQobmV3IEVycm9yKG4uc3RhdHVzVGV4dCkpKX0sbi5zZW5kKCksbn07dmFyIHRyYW5zcGFyZW50UG5nVXJsPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FZQUFBQWZGY1NKQUFBQUMwbEVRVlFZVjJOZ0FBSUFBQVVBQWFyVnlGRUFBQUFBU1VWT1JLNUNZSUk9XCI7ZXhwb3J0cy5nZXRJbWFnZT1mdW5jdGlvbihlLHQpe3JldHVybiBleHBvcnRzLmdldEFycmF5QnVmZmVyKGUsZnVuY3Rpb24oZSxuKXtpZihlKXJldHVybiB0KGUpO3ZhciByPW5ldyB3aW5kb3cuSW1hZ2Usbz13aW5kb3cuVVJMfHx3aW5kb3cud2Via2l0VVJMO3Iub25sb2FkPWZ1bmN0aW9uKCl7dChudWxsLHIpLG8ucmV2b2tlT2JqZWN0VVJMKHIuc3JjKX07dmFyIGE9bmV3IHdpbmRvdy5CbG9iKFtuZXcgVWludDhBcnJheShuLmRhdGEpXSx7dHlwZTpcImltYWdlL3BuZ1wifSk7ci5jYWNoZUNvbnRyb2w9bi5jYWNoZUNvbnRyb2wsci5leHBpcmVzPW4uZXhwaXJlcyxyLnNyYz1uLmRhdGEuYnl0ZUxlbmd0aD9vLmNyZWF0ZU9iamVjdFVSTChhKTp0cmFuc3BhcmVudFBuZ1VybH0pfSxleHBvcnRzLmdldFZpZGVvPWZ1bmN0aW9uKGUsdCl7dmFyIG49d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtuLm9ubG9hZHN0YXJ0PWZ1bmN0aW9uKCl7dChudWxsLG4pfTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzb3VyY2VcIik7c2FtZU9yaWdpbihlW3JdKXx8KG4uY3Jvc3NPcmlnaW49XCJBbm9ueW1vdXNcIiksby5zcmM9ZVtyXSxuLmFwcGVuZENoaWxkKG8pfXJldHVybiBufTtcbn0se1wiLi93aW5kb3dcIjoxOTR9XSwxOTI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHdpbmRvdz1yZXF1aXJlKFwiLi93aW5kb3dcIik7bW9kdWxlLmV4cG9ydHMubm93PWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZSYmd2luZG93LnBlcmZvcm1hbmNlLm5vdz93aW5kb3cucGVyZm9ybWFuY2Uubm93LmJpbmQod2luZG93LnBlcmZvcm1hbmNlKTpEYXRlLm5vdy5iaW5kKERhdGUpfSgpO3ZhciBmcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ZXhwb3J0cy5mcmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gZnJhbWUoZSl9O3ZhciBjYW5jZWw9d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWU7ZXhwb3J0cy5jYW5jZWxGcmFtZT1mdW5jdGlvbihlKXtjYW5jZWwoZSl9LGV4cG9ydHMudGltZWQ9ZnVuY3Rpb24oZSxuLHQpe2Z1bmN0aW9uIG8oaSl7cnx8KGk9bW9kdWxlLmV4cG9ydHMubm93KCksaT49YStuP2UuY2FsbCh0LDEpOihlLmNhbGwodCwoaS1hKS9uKSxleHBvcnRzLmZyYW1lKG8pKSl9aWYoIW4pcmV0dXJuIGUuY2FsbCh0LDEpLG51bGw7dmFyIHI9ITEsYT1tb2R1bGUuZXhwb3J0cy5ub3coKTtyZXR1cm4gZXhwb3J0cy5mcmFtZShvKSxmdW5jdGlvbigpe3I9ITB9fSxleHBvcnRzLmdldEltYWdlRGF0YT1mdW5jdGlvbihlKXt2YXIgbj13aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0PW4uZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiBuLndpZHRoPWUud2lkdGgsbi5oZWlnaHQ9ZS5oZWlnaHQsdC5kcmF3SW1hZ2UoZSwwLDApLHQuZ2V0SW1hZ2VEYXRhKDAsMCxlLndpZHRoLGUuaGVpZ2h0KS5kYXRhfSxleHBvcnRzLnN1cHBvcnRlZD1yZXF1aXJlKFwibWFwYm94LWdsLXN1cHBvcnRlZFwiKSxleHBvcnRzLmhhcmR3YXJlQ29uY3VycmVuY3k9d2luZG93Lm5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5fHw0LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiZGV2aWNlUGl4ZWxSYXRpb1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmRldmljZVBpeGVsUmF0aW99fSksZXhwb3J0cy5zdXBwb3J0c1dlYnA9ITE7dmFyIHdlYnBJbWdUZXN0PXdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO3dlYnBJbWdUZXN0Lm9ubG9hZD1mdW5jdGlvbigpe2V4cG9ydHMuc3VwcG9ydHNXZWJwPSEwfSx3ZWJwSW1nVGVzdC5zcmM9XCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSaDRBQUFCWFJVSlFWbEE0VEJFQUFBQXZBUUFBQUFmUS8vNzN2LytCaU9oL0FBQT1cIjtcbn0se1wiLi93aW5kb3dcIjoxOTQsXCJtYXBib3gtZ2wtc3VwcG9ydGVkXCI6MjJ9XSwxOTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIFdlYldvcmtpZnk9cmVxdWlyZShcIndlYndvcmtpZnlcIiksd2luZG93PXJlcXVpcmUoXCIuLi93aW5kb3dcIiksd29ya2VyVVJMPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBXZWJXb3JraWZ5KHJlcXVpcmUoXCIuLi8uLi9zb3VyY2Uvd29ya2VyXCIpLHtiYXJlOiEwfSkpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB3aW5kb3cuV29ya2VyKHdvcmtlclVSTCl9O1xufSx7XCIuLi8uLi9zb3VyY2Uvd29ya2VyXCI6OTgsXCIuLi93aW5kb3dcIjoxOTQsXCJ3ZWJ3b3JraWZ5XCI6NDF9XSwxOTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9c2VsZjtcbn0se31dLDE5NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjb21wYXJlQXJlYXMoZSxyKXtyZXR1cm4gci5hcmVhLWUuYXJlYX12YXIgcXVpY2tzZWxlY3Q9cmVxdWlyZShcInF1aWNrc2VsZWN0XCIpLGNhbGN1bGF0ZVNpZ25lZEFyZWE9cmVxdWlyZShcIi4vdXRpbFwiKS5jYWxjdWxhdGVTaWduZWRBcmVhO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGUscil7dmFyIGE9ZS5sZW5ndGg7aWYoYTw9MSlyZXR1cm5bZV07Zm9yKHZhciB0LHUsYz1bXSxpPTA7aTxhO2krKyl7dmFyIGw9Y2FsY3VsYXRlU2lnbmVkQXJlYShlW2ldKTswIT09bCYmKGVbaV0uYXJlYT1NYXRoLmFicyhsKSx2b2lkIDA9PT11JiYodT1sPDApLHU9PT1sPDA/KHQmJmMucHVzaCh0KSx0PVtlW2ldXSk6dC5wdXNoKGVbaV0pKX1pZih0JiZjLnB1c2godCkscj4xKWZvcih2YXIgbj0wO248Yy5sZW5ndGg7bisrKWNbbl0ubGVuZ3RoPD1yfHwocXVpY2tzZWxlY3QoY1tuXSxyLDEsY1tuXS5sZW5ndGgtMSxjb21wYXJlQXJlYXMpLGNbbl09Y1tuXS5zbGljZSgwLHIpKTtyZXR1cm4gY307XG59LHtcIi4vdXRpbFwiOjIxMixcInF1aWNrc2VsZWN0XCI6Mjh9XSwxOTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIGNvbmZpZz17QVBJX1VSTDpcImh0dHBzOi8vYXBpLm1hcGJveC5jb21cIixSRVFVSVJFX0FDQ0VTU19UT0tFTjohMCxBQ0NFU1NfVE9LRU46bnVsbH07bW9kdWxlLmV4cG9ydHM9Y29uZmlnO1xufSx7fV0sMTk3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBEaWN0aW9uYXJ5Q29kZXI9ZnVuY3Rpb24ocil7dmFyIHQ9dGhpczt0aGlzLl9zdHJpbmdUb051bWJlcj17fSx0aGlzLl9udW1iZXJUb1N0cmluZz1bXTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9cltvXTt0Ll9zdHJpbmdUb051bWJlcltpXT1vLHQuX251bWJlclRvU3RyaW5nW29dPWl9fTtEaWN0aW9uYXJ5Q29kZXIucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbihyKXtyZXR1cm4gdGhpcy5fc3RyaW5nVG9OdW1iZXJbcl19LERpY3Rpb25hcnlDb2Rlci5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKHIpe3JldHVybiB0aGlzLl9udW1iZXJUb1N0cmluZ1tyXX0sbW9kdWxlLmV4cG9ydHM9RGljdGlvbmFyeUNvZGVyO1xufSx7fV0sMTk4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciB1dGlsPXJlcXVpcmUoXCIuL3V0aWxcIiksQWN0b3I9cmVxdWlyZShcIi4vYWN0b3JcIiksRGlzcGF0Y2hlcj1mdW5jdGlvbih0LHIpe3ZhciBvPXRoaXM7dGhpcy53b3JrZXJQb29sPXQsdGhpcy5hY3RvcnM9W10sdGhpcy5jdXJyZW50QWN0b3I9MCx0aGlzLmlkPXV0aWwudW5pcXVlSWQoKTtmb3IodmFyIGk9dGhpcy53b3JrZXJQb29sLmFjcXVpcmUodGhpcy5pZCksZT0wO2U8aS5sZW5ndGg7ZSsrKXt2YXIgcz1pW2VdLGM9bmV3IEFjdG9yKHMscixvLmlkKTtjLm5hbWU9XCJXb3JrZXIgXCIrZSxvLmFjdG9ycy5wdXNoKGMpfX07RGlzcGF0Y2hlci5wcm90b3R5cGUuYnJvYWRjYXN0PWZ1bmN0aW9uKHQscixvKXtvPW98fGZ1bmN0aW9uKCl7fSx1dGlsLmFzeW5jQWxsKHRoaXMuYWN0b3JzLGZ1bmN0aW9uKG8saSl7by5zZW5kKHQscixpKX0sbyl9LERpc3BhdGNoZXIucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24odCxyLG8saSxlKXtyZXR1cm4oXCJudW1iZXJcIiE9dHlwZW9mIGl8fGlzTmFOKGkpKSYmKGk9dGhpcy5jdXJyZW50QWN0b3I9KHRoaXMuY3VycmVudEFjdG9yKzEpJXRoaXMuYWN0b3JzLmxlbmd0aCksdGhpcy5hY3RvcnNbaV0uc2VuZCh0LHIsbyxlKSxpfSxEaXNwYXRjaGVyLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmFjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QucmVtb3ZlKCl9KSx0aGlzLmFjdG9ycz1bXSx0aGlzLndvcmtlclBvb2wucmVsZWFzZSh0aGlzLmlkKX0sbW9kdWxlLmV4cG9ydHM9RGlzcGF0Y2hlcjtcbn0se1wiLi9hY3RvclwiOjE5MCxcIi4vdXRpbFwiOjIxMn1dLDE5OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0ZXN0UHJvcChlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZihlW3RdaW4gZG9jU3R5bGUpcmV0dXJuIGVbdF07cmV0dXJuIGVbMF19ZnVuY3Rpb24gc3VwcHJlc3NDbGljayhlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsc3VwcHJlc3NDbGljaywhMCl9dmFyIFBvaW50PXJlcXVpcmUoXCJwb2ludC1nZW9tZXRyeVwiKSx3aW5kb3c9cmVxdWlyZShcIi4vd2luZG93XCIpO2V4cG9ydHMuY3JlYXRlPWZ1bmN0aW9uKGUsdCxvKXt2YXIgbj13aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTtyZXR1cm4gdCYmKG4uY2xhc3NOYW1lPXQpLG8mJm8uYXBwZW5kQ2hpbGQobiksbn07dmFyIGRvY1N0eWxlPXdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsc2VsZWN0UHJvcD10ZXN0UHJvcChbXCJ1c2VyU2VsZWN0XCIsXCJNb3pVc2VyU2VsZWN0XCIsXCJXZWJraXRVc2VyU2VsZWN0XCIsXCJtc1VzZXJTZWxlY3RcIl0pLHVzZXJTZWxlY3Q7ZXhwb3J0cy5kaXNhYmxlRHJhZz1mdW5jdGlvbigpe3NlbGVjdFByb3AmJih1c2VyU2VsZWN0PWRvY1N0eWxlW3NlbGVjdFByb3BdLGRvY1N0eWxlW3NlbGVjdFByb3BdPVwibm9uZVwiKX0sZXhwb3J0cy5lbmFibGVEcmFnPWZ1bmN0aW9uKCl7c2VsZWN0UHJvcCYmKGRvY1N0eWxlW3NlbGVjdFByb3BdPXVzZXJTZWxlY3QpfTt2YXIgdHJhbnNmb3JtUHJvcD10ZXN0UHJvcChbXCJ0cmFuc2Zvcm1cIixcIldlYmtpdFRyYW5zZm9ybVwiXSk7ZXhwb3J0cy5zZXRUcmFuc2Zvcm09ZnVuY3Rpb24oZSx0KXtlLnN0eWxlW3RyYW5zZm9ybVByb3BdPXR9LGV4cG9ydHMuc3VwcHJlc3NDbGljaz1mdW5jdGlvbigpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixzdXBwcmVzc0NsaWNrLCEwKSx3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixzdXBwcmVzc0NsaWNrLCEwKX0sMCl9LGV4cG9ydHMubW91c2VQb3M9ZnVuY3Rpb24oZSx0KXt2YXIgbz1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiB0PXQudG91Y2hlcz90LnRvdWNoZXNbMF06dCxuZXcgUG9pbnQodC5jbGllbnRYLW8ubGVmdC1lLmNsaWVudExlZnQsdC5jbGllbnRZLW8udG9wLWUuY2xpZW50VG9wKX0sZXhwb3J0cy50b3VjaFBvcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbz1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49W10scj1cInRvdWNoZW5kXCI9PT10LnR5cGU/dC5jaGFuZ2VkVG91Y2hlczp0LnRvdWNoZXMscz0wO3M8ci5sZW5ndGg7cysrKW4ucHVzaChuZXcgUG9pbnQocltzXS5jbGllbnRYLW8ubGVmdC1lLmNsaWVudExlZnQscltzXS5jbGllbnRZLW8udG9wLWUuY2xpZW50VG9wKSk7cmV0dXJuIG59LGV4cG9ydHMucmVtb3ZlPWZ1bmN0aW9uKGUpe2UucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfTtcbn0se1wiLi93aW5kb3dcIjoxOTQsXCJwb2ludC1nZW9tZXRyeVwiOjI2fV0sMjAwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9hZGRFdmVudExpc3RlbmVyKGUsdCxuKXtuW2VdPW5bZV18fFtdLG5bZV0ucHVzaCh0KX1mdW5jdGlvbiBfcmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQsbil7aWYobiYmbltlXSl7dmFyIGk9bltlXS5pbmRleE9mKHQpO2khPT0tMSYmbltlXS5zcGxpY2UoaSwxKX19dmFyIHV0aWw9cmVxdWlyZShcIi4vdXRpbFwiKSxFdmVudGVkPWZ1bmN0aW9uKCl7fTtFdmVudGVkLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9saXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzfHx7fSxfYWRkRXZlbnRMaXN0ZW5lcihlLHQsdGhpcy5fbGlzdGVuZXJzKSx0aGlzfSxFdmVudGVkLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gX3JlbW92ZUV2ZW50TGlzdGVuZXIoZSx0LHRoaXMuX2xpc3RlbmVycyksX3JlbW92ZUV2ZW50TGlzdGVuZXIoZSx0LHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHRoaXN9LEV2ZW50ZWQucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fb25lVGltZUxpc3RlbmVycz10aGlzLl9vbmVUaW1lTGlzdGVuZXJzfHx7fSxfYWRkRXZlbnRMaXN0ZW5lcihlLHQsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdGhpc30sRXZlbnRlZC5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7aWYodGhpcy5saXN0ZW5zKGUpKXt0PXV0aWwuZXh0ZW5kKHt9LHQse3R5cGU6ZSx0YXJnZXQ6dGhpc30pO2Zvcih2YXIgaT10aGlzLl9saXN0ZW5lcnMmJnRoaXMuX2xpc3RlbmVyc1tlXT90aGlzLl9saXN0ZW5lcnNbZV0uc2xpY2UoKTpbXSxzPTA7czxpLmxlbmd0aDtzKyspaVtzXS5jYWxsKG4sdCk7Zm9yKHZhciByPXRoaXMuX29uZVRpbWVMaXN0ZW5lcnMmJnRoaXMuX29uZVRpbWVMaXN0ZW5lcnNbZV0/dGhpcy5fb25lVGltZUxpc3RlbmVyc1tlXS5zbGljZSgpOltdLG89MDtvPHIubGVuZ3RoO28rKylyW29dLmNhbGwobix0KSxfcmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHJbb10sbi5fb25lVGltZUxpc3RlbmVycyk7dGhpcy5fZXZlbnRlZFBhcmVudCYmdGhpcy5fZXZlbnRlZFBhcmVudC5maXJlKGUsdXRpbC5leHRlbmQoe30sdCxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLl9ldmVudGVkUGFyZW50RGF0YT90aGlzLl9ldmVudGVkUGFyZW50RGF0YSgpOnRoaXMuX2V2ZW50ZWRQYXJlbnREYXRhKSl9ZWxzZSB1dGlsLmVuZHNXaXRoKGUsXCJlcnJvclwiKSYmY29uc29sZS5lcnJvcih0JiZ0LmVycm9yfHx0fHxcIkVtcHR5IGVycm9yIGV2ZW50XCIpO3JldHVybiB0aGlzfSxFdmVudGVkLnByb3RvdHlwZS5saXN0ZW5zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9saXN0ZW5lcnMmJnRoaXMuX2xpc3RlbmVyc1tlXSYmdGhpcy5fbGlzdGVuZXJzW2VdLmxlbmd0aD4wfHx0aGlzLl9vbmVUaW1lTGlzdGVuZXJzJiZ0aGlzLl9vbmVUaW1lTGlzdGVuZXJzW2VdJiZ0aGlzLl9vbmVUaW1lTGlzdGVuZXJzW2VdLmxlbmd0aD4wfHx0aGlzLl9ldmVudGVkUGFyZW50JiZ0aGlzLl9ldmVudGVkUGFyZW50Lmxpc3RlbnMoZSl9LEV2ZW50ZWQucHJvdG90eXBlLnNldEV2ZW50ZWRQYXJlbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZXZlbnRlZFBhcmVudD1lLHRoaXMuX2V2ZW50ZWRQYXJlbnREYXRhPXQsdGhpc30sbW9kdWxlLmV4cG9ydHM9RXZlbnRlZDtcbn0se1wiLi91dGlsXCI6MjEyfV0sMjAxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNvbXBhcmVNYXgoZSx0KXtyZXR1cm4gdC5tYXgtZS5tYXh9ZnVuY3Rpb24gQ2VsbChlLHQsbixyKXt0aGlzLnA9bmV3IFBvaW50KGUsdCksdGhpcy5oPW4sdGhpcy5kPXBvaW50VG9Qb2x5Z29uRGlzdCh0aGlzLnAsciksdGhpcy5tYXg9dGhpcy5kK3RoaXMuaCpNYXRoLlNRUlQyfWZ1bmN0aW9uIHBvaW50VG9Qb2x5Z29uRGlzdChlLHQpe2Zvcih2YXIgbj0hMSxyPTEvMCxvPTA7bzx0Lmxlbmd0aDtvKyspZm9yKHZhciBpPXRbb10sbD0wLHU9aS5sZW5ndGgscz11LTE7bDx1O3M9bCsrKXt2YXIgYT1pW2xdLGg9aVtzXTthLnk+ZS55IT1oLnk+ZS55JiZlLng8KGgueC1hLngpKihlLnktYS55KS8oaC55LWEueSkrYS54JiYobj0hbikscj1NYXRoLm1pbihyLGRpc3RUb1NlZ21lbnRTcXVhcmVkKGUsYSxoKSl9cmV0dXJuKG4/MTotMSkqTWF0aC5zcXJ0KHIpfWZ1bmN0aW9uIGdldENlbnRyb2lkQ2VsbChlKXtmb3IodmFyIHQ9MCxuPTAscj0wLG89ZVswXSxpPTAsbD1vLmxlbmd0aCx1PWwtMTtpPGw7dT1pKyspe3ZhciBzPW9baV0sYT1vW3VdLGg9cy54KmEueS1hLngqcy55O24rPShzLngrYS54KSpoLHIrPShzLnkrYS55KSpoLHQrPTMqaH1yZXR1cm4gbmV3IENlbGwobi90LHIvdCwwLGUpfXZhciBRdWV1ZT1yZXF1aXJlKFwidGlueXF1ZXVlXCIpLFBvaW50PXJlcXVpcmUoXCJwb2ludC1nZW9tZXRyeVwiKSxkaXN0VG9TZWdtZW50U3F1YXJlZD1yZXF1aXJlKFwiLi9pbnRlcnNlY3Rpb25fdGVzdHNcIikuZGlzdFRvU2VnbWVudFNxdWFyZWQ7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3Q9dHx8MTtmb3IodmFyIHIsbyxpLGwsdT1lWzBdLHM9MDtzPHUubGVuZ3RoO3MrKyl7dmFyIGE9dVtzXTsoIXN8fGEueDxyKSYmKHI9YS54KSwoIXN8fGEueTxvKSYmKG89YS55KSwoIXN8fGEueD5pKSYmKGk9YS54KSwoIXN8fGEueT5sKSYmKGw9YS55KX12YXIgaD1pLXIscD1sLW8seT1NYXRoLm1pbihoLHApLHg9eS8yLGQ9bmV3IFF1ZXVlKG51bGwsY29tcGFyZU1heCk7aWYoMD09PXkpcmV0dXJuW3Isb107Zm9yKHZhciBnPXI7ZzxpO2crPXkpZm9yKHZhciBmPW87ZjxsO2YrPXkpZC5wdXNoKG5ldyBDZWxsKGcreCxmK3gseCxlKSk7Zm9yKHZhciBtPWdldENlbnRyb2lkQ2VsbChlKSxjPWQubGVuZ3RoO2QubGVuZ3RoOyl7dmFyIHY9ZC5wb3AoKTsodi5kPm0uZHx8IW0uZCkmJihtPXYsbiYmY29uc29sZS5sb2coXCJmb3VuZCBiZXN0ICVkIGFmdGVyICVkIHByb2Jlc1wiLE1hdGgucm91bmQoMWU0KnYuZCkvMWU0LGMpKSx2Lm1heC1tLmQ8PXR8fCh4PXYuaC8yLGQucHVzaChuZXcgQ2VsbCh2LnAueC14LHYucC55LXgseCxlKSksZC5wdXNoKG5ldyBDZWxsKHYucC54K3gsdi5wLnkteCx4LGUpKSxkLnB1c2gobmV3IENlbGwodi5wLngteCx2LnAueSt4LHgsZSkpLGQucHVzaChuZXcgQ2VsbCh2LnAueCt4LHYucC55K3gseCxlKSksYys9NCl9cmV0dXJuIG4mJihjb25zb2xlLmxvZyhcIm51bSBwcm9iZXM6IFwiK2MpLGNvbnNvbGUubG9nKFwiYmVzdCBkaXN0YW5jZTogXCIrbS5kKSksbS5wfTtcbn0se1wiLi9pbnRlcnNlY3Rpb25fdGVzdHNcIjoyMDUsXCJwb2ludC1nZW9tZXRyeVwiOjI2LFwidGlueXF1ZXVlXCI6MzB9XSwyMDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIFdvcmtlclBvb2w9cmVxdWlyZShcIi4vd29ya2VyX3Bvb2xcIiksZ2xvYmFsV29ya2VyUG9vbDttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiBnbG9iYWxXb3JrZXJQb29sfHwoZ2xvYmFsV29ya2VyUG9vbD1uZXcgV29ya2VyUG9vbCksZ2xvYmFsV29ya2VyUG9vbH07XG59LHtcIi4vd29ya2VyX3Bvb2xcIjoyMTV9XSwyMDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gR2x5cGhzKGEsZSl7dGhpcy5zdGFja3M9YS5yZWFkRmllbGRzKHJlYWRGb250c3RhY2tzLFtdLGUpfWZ1bmN0aW9uIHJlYWRGb250c3RhY2tzKGEsZSxyKXtpZigxPT09YSl7dmFyIHQ9ci5yZWFkTWVzc2FnZShyZWFkRm9udHN0YWNrLHtnbHlwaHM6e319KTtlLnB1c2godCl9fWZ1bmN0aW9uIHJlYWRGb250c3RhY2soYSxlLHIpe2lmKDE9PT1hKWUubmFtZT1yLnJlYWRTdHJpbmcoKTtlbHNlIGlmKDI9PT1hKWUucmFuZ2U9ci5yZWFkU3RyaW5nKCk7ZWxzZSBpZigzPT09YSl7dmFyIHQ9ci5yZWFkTWVzc2FnZShyZWFkR2x5cGgse30pO2UuZ2x5cGhzW3QuaWRdPXR9fWZ1bmN0aW9uIHJlYWRHbHlwaChhLGUscil7MT09PWE/ZS5pZD1yLnJlYWRWYXJpbnQoKToyPT09YT9lLmJpdG1hcD1yLnJlYWRCeXRlcygpOjM9PT1hP2Uud2lkdGg9ci5yZWFkVmFyaW50KCk6ND09PWE/ZS5oZWlnaHQ9ci5yZWFkVmFyaW50KCk6NT09PWE/ZS5sZWZ0PXIucmVhZFNWYXJpbnQoKTo2PT09YT9lLnRvcD1yLnJlYWRTVmFyaW50KCk6Nz09PWEmJihlLmFkdmFuY2U9ci5yZWFkVmFyaW50KCkpfW1vZHVsZS5leHBvcnRzPUdseXBocztcbn0se31dLDIwNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpbnRlcnBvbGF0ZSh0LGUsbil7cmV0dXJuIHQqKDEtbikrZSpufW1vZHVsZS5leHBvcnRzPWludGVycG9sYXRlLGludGVycG9sYXRlLm51bWJlcj1pbnRlcnBvbGF0ZSxpbnRlcnBvbGF0ZS52ZWMyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm5baW50ZXJwb2xhdGUodFswXSxlWzBdLG4pLGludGVycG9sYXRlKHRbMV0sZVsxXSxuKV19LGludGVycG9sYXRlLmNvbG9yPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm5baW50ZXJwb2xhdGUodFswXSxlWzBdLG4pLGludGVycG9sYXRlKHRbMV0sZVsxXSxuKSxpbnRlcnBvbGF0ZSh0WzJdLGVbMl0sbiksaW50ZXJwb2xhdGUodFszXSxlWzNdLG4pXX0saW50ZXJwb2xhdGUuYXJyYXk9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0Lm1hcChmdW5jdGlvbih0LHIpe3JldHVybiBpbnRlcnBvbGF0ZSh0LGVbcl0sbil9KX07XG59LHt9XSwyMDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcG9seWdvbkludGVyc2VjdHNQb2x5Z29uKG4sdCl7Zm9yKHZhciBlPTA7ZTxuLmxlbmd0aDtlKyspaWYocG9seWdvbkNvbnRhaW5zUG9pbnQodCxuW2VdKSlyZXR1cm4hMDtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZihwb2x5Z29uQ29udGFpbnNQb2ludChuLHRbcl0pKXJldHVybiEwO3JldHVybiEhbGluZUludGVyc2VjdHNMaW5lKG4sdCl9ZnVuY3Rpb24gbXVsdGlQb2x5Z29uSW50ZXJzZWN0c0J1ZmZlcmVkTXVsdGlQb2ludChuLHQsZSl7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspZm9yKHZhciBvPW5bcl0saT0wO2k8dC5sZW5ndGg7aSsrKWZvcih2YXIgbD10W2ldLHU9MDt1PGwubGVuZ3RoO3UrKyl7dmFyIHM9bFt1XTtpZihwb2x5Z29uQ29udGFpbnNQb2ludChvLHMpKXJldHVybiEwO2lmKHBvaW50SW50ZXJzZWN0c0J1ZmZlcmVkTGluZShzLG8sZSkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gbXVsdGlQb2x5Z29uSW50ZXJzZWN0c011bHRpUG9seWdvbihuLHQpe2lmKDE9PT1uLmxlbmd0aCYmMT09PW5bMF0ubGVuZ3RoKXJldHVybiBtdWx0aVBvbHlnb25Db250YWluc1BvaW50KHQsblswXVswXSk7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspZm9yKHZhciByPXRbZV0sbz0wO288ci5sZW5ndGg7bysrKWlmKG11bHRpUG9seWdvbkNvbnRhaW5zUG9pbnQobixyW29dKSlyZXR1cm4hMDtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7Zm9yKHZhciBsPW5baV0sdT0wO3U8bC5sZW5ndGg7dSsrKWlmKG11bHRpUG9seWdvbkNvbnRhaW5zUG9pbnQodCxsW3VdKSlyZXR1cm4hMDtmb3IodmFyIHM9MDtzPHQubGVuZ3RoO3MrKylpZihsaW5lSW50ZXJzZWN0c0xpbmUobCx0W3NdKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBtdWx0aVBvbHlnb25JbnRlcnNlY3RzQnVmZmVyZWRNdWx0aUxpbmUobix0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWZvcih2YXIgbz10W3JdLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIGw9bltpXTtpZihsLmxlbmd0aD49Mylmb3IodmFyIHU9MDt1PG8ubGVuZ3RoO3UrKylpZihwb2x5Z29uQ29udGFpbnNQb2ludChsLG9bdV0pKXJldHVybiEwO2lmKGxpbmVJbnRlcnNlY3RzQnVmZmVyZWRMaW5lKGwsbyxlKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBsaW5lSW50ZXJzZWN0c0J1ZmZlcmVkTGluZShuLHQsZSl7aWYobi5sZW5ndGg+MSl7aWYobGluZUludGVyc2VjdHNMaW5lKG4sdCkpcmV0dXJuITA7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspaWYocG9pbnRJbnRlcnNlY3RzQnVmZmVyZWRMaW5lKHRbcl0sbixlKSlyZXR1cm4hMH1mb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKylpZihwb2ludEludGVyc2VjdHNCdWZmZXJlZExpbmUobltvXSx0LGUpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGxpbmVJbnRlcnNlY3RzTGluZShuLHQpe2lmKDA9PT1uLmxlbmd0aHx8MD09PXQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZT0wO2U8bi5sZW5ndGgtMTtlKyspZm9yKHZhciByPW5bZV0sbz1uW2UrMV0saT0wO2k8dC5sZW5ndGgtMTtpKyspe3ZhciBsPXRbaV0sdT10W2krMV07aWYobGluZVNlZ21lbnRJbnRlcnNlY3RzTGluZVNlZ21lbnQocixvLGwsdSkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gbGluZVNlZ21lbnRJbnRlcnNlY3RzTGluZVNlZ21lbnQobix0LGUscil7cmV0dXJuIGlzQ291bnRlckNsb2Nrd2lzZShuLGUscikhPT1pc0NvdW50ZXJDbG9ja3dpc2UodCxlLHIpJiZpc0NvdW50ZXJDbG9ja3dpc2Uobix0LGUpIT09aXNDb3VudGVyQ2xvY2t3aXNlKG4sdCxyKX1mdW5jdGlvbiBwb2ludEludGVyc2VjdHNCdWZmZXJlZExpbmUobix0LGUpe3ZhciByPWUqZTtpZigxPT09dC5sZW5ndGgpcmV0dXJuIG4uZGlzdFNxcih0WzBdKTxyO2Zvcih2YXIgbz0xO288dC5sZW5ndGg7bysrKXt2YXIgaT10W28tMV0sbD10W29dO2lmKGRpc3RUb1NlZ21lbnRTcXVhcmVkKG4saSxsKTxyKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGRpc3RUb1NlZ21lbnRTcXVhcmVkKG4sdCxlKXt2YXIgcj10LmRpc3RTcXIoZSk7aWYoMD09PXIpcmV0dXJuIG4uZGlzdFNxcih0KTt2YXIgbz0oKG4ueC10LngpKihlLngtdC54KSsobi55LXQueSkqKGUueS10LnkpKS9yO3JldHVybiBvPDA/bi5kaXN0U3FyKHQpOm8+MT9uLmRpc3RTcXIoZSk6bi5kaXN0U3FyKGUuc3ViKHQpLl9tdWx0KG8pLl9hZGQodCkpfWZ1bmN0aW9uIG11bHRpUG9seWdvbkNvbnRhaW5zUG9pbnQobix0KXtmb3IodmFyIGUscixvLGk9ITEsbD0wO2w8bi5sZW5ndGg7bCsrKXtlPW5bbF07Zm9yKHZhciB1PTAscz1lLmxlbmd0aC0xO3U8ZS5sZW5ndGg7cz11Kyspcj1lW3VdLG89ZVtzXSxyLnk+dC55IT1vLnk+dC55JiZ0Lng8KG8ueC1yLngpKih0Lnktci55KS8oby55LXIueSkrci54JiYoaT0haSl9cmV0dXJuIGl9ZnVuY3Rpb24gcG9seWdvbkNvbnRhaW5zUG9pbnQobix0KXtmb3IodmFyIGU9ITEscj0wLG89bi5sZW5ndGgtMTtyPG4ubGVuZ3RoO289cisrKXt2YXIgaT1uW3JdLGw9bltvXTtpLnk+dC55IT1sLnk+dC55JiZ0Lng8KGwueC1pLngpKih0LnktaS55KS8obC55LWkueSkraS54JiYoZT0hZSl9cmV0dXJuIGV9dmFyIGlzQ291bnRlckNsb2Nrd2lzZT1yZXF1aXJlKFwiLi91dGlsXCIpLmlzQ291bnRlckNsb2Nrd2lzZTttb2R1bGUuZXhwb3J0cz17bXVsdGlQb2x5Z29uSW50ZXJzZWN0c0J1ZmZlcmVkTXVsdGlQb2ludDptdWx0aVBvbHlnb25JbnRlcnNlY3RzQnVmZmVyZWRNdWx0aVBvaW50LG11bHRpUG9seWdvbkludGVyc2VjdHNNdWx0aVBvbHlnb246bXVsdGlQb2x5Z29uSW50ZXJzZWN0c011bHRpUG9seWdvbixtdWx0aVBvbHlnb25JbnRlcnNlY3RzQnVmZmVyZWRNdWx0aUxpbmU6bXVsdGlQb2x5Z29uSW50ZXJzZWN0c0J1ZmZlcmVkTXVsdGlMaW5lLHBvbHlnb25JbnRlcnNlY3RzUG9seWdvbjpwb2x5Z29uSW50ZXJzZWN0c1BvbHlnb24sZGlzdFRvU2VnbWVudFNxdWFyZWQ6ZGlzdFRvU2VnbWVudFNxdWFyZWR9O1xufSx7XCIuL3V0aWxcIjoyMTJ9XSwyMDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHVuaWNvZGVCbG9ja0xvb2t1cD17XCJMYXRpbi0xIFN1cHBsZW1lbnRcIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49MTI4JiZuPD0yNTV9LFwiSGFuZ3VsIEphbW9cIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49NDM1MiYmbjw9NDYwN30sXCJVbmlmaWVkIENhbmFkaWFuIEFib3JpZ2luYWwgU3lsbGFiaWNzXCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTUxMjAmJm48PTU3NTl9LFwiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyBFeHRlbmRlZFwiOmZ1bmN0aW9uKG4pe3JldHVybiBuPj02MzIwJiZuPD02Mzk5fSxcIkdlbmVyYWwgUHVuY3R1YXRpb25cIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49ODE5MiYmbjw9ODMwM30sXCJMZXR0ZXJsaWtlIFN5bWJvbHNcIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49ODQ0OCYmbjw9ODUyN30sXCJOdW1iZXIgRm9ybXNcIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49ODUyOCYmbjw9ODU5MX0sXCJNaXNjZWxsYW5lb3VzIFRlY2huaWNhbFwiOmZ1bmN0aW9uKG4pe3JldHVybiBuPj04OTYwJiZuPD05MjE1fSxcIkNvbnRyb2wgUGljdHVyZXNcIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49OTIxNiYmbjw9OTI3OX0sXCJPcHRpY2FsIENoYXJhY3RlciBSZWNvZ25pdGlvblwiOmZ1bmN0aW9uKG4pe3JldHVybiBuPj05MjgwJiZuPD05MzExfSxcIkVuY2xvc2VkIEFscGhhbnVtZXJpY3NcIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49OTMxMiYmbjw9OTQ3MX0sXCJHZW9tZXRyaWMgU2hhcGVzXCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTk2MzImJm48PTk3Mjd9LFwiTWlzY2VsbGFuZW91cyBTeW1ib2xzXCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTk3MjgmJm48PTk5ODN9LFwiTWlzY2VsbGFuZW91cyBTeW1ib2xzIGFuZCBBcnJvd3NcIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49MTEwMDgmJm48PTExMjYzfSxcIkNKSyBSYWRpY2FscyBTdXBwbGVtZW50XCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTExOTA0JiZuPD0xMjAzMX0sXCJLYW5neGkgUmFkaWNhbHNcIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49MTIwMzImJm48PTEyMjU1fSxcIklkZW9ncmFwaGljIERlc2NyaXB0aW9uIENoYXJhY3RlcnNcIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49MTIyNzImJm48PTEyMjg3fSxcIkNKSyBTeW1ib2xzIGFuZCBQdW5jdHVhdGlvblwiOmZ1bmN0aW9uKG4pe3JldHVybiBuPj0xMjI4OCYmbjw9MTIzNTF9LEhpcmFnYW5hOmZ1bmN0aW9uKG4pe3JldHVybiBuPj0xMjM1MiYmbjw9MTI0NDd9LEthdGFrYW5hOmZ1bmN0aW9uKG4pe3JldHVybiBuPj0xMjQ0OCYmbjw9MTI1NDN9LEJvcG9tb2ZvOmZ1bmN0aW9uKG4pe3JldHVybiBuPj0xMjU0NCYmbjw9MTI1OTF9LFwiSGFuZ3VsIENvbXBhdGliaWxpdHkgSmFtb1wiOmZ1bmN0aW9uKG4pe3JldHVybiBuPj0xMjU5MiYmbjw9MTI2ODd9LEthbmJ1bjpmdW5jdGlvbihuKXtyZXR1cm4gbj49MTI2ODgmJm48PTEyNzAzfSxcIkJvcG9tb2ZvIEV4dGVuZGVkXCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTEyNzA0JiZuPD0xMjczNX0sXCJDSksgU3Ryb2tlc1wiOmZ1bmN0aW9uKG4pe3JldHVybiBuPj0xMjczNiYmbjw9MTI3ODN9LFwiS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9uc1wiOmZ1bmN0aW9uKG4pe3JldHVybiBuPj0xMjc4NCYmbjw9MTI3OTl9LFwiRW5jbG9zZWQgQ0pLIExldHRlcnMgYW5kIE1vbnRoc1wiOmZ1bmN0aW9uKG4pe3JldHVybiBuPj0xMjgwMCYmbjw9MTMwNTV9LFwiQ0pLIENvbXBhdGliaWxpdHlcIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49MTMwNTYmJm48PTEzMzExfSxcIkNKSyBVbmlmaWVkIElkZW9ncmFwaHMgRXh0ZW5zaW9uIEFcIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49MTMzMTImJm48PTE5OTAzfSxcIllpamluZyBIZXhhZ3JhbSBTeW1ib2xzXCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTE5OTA0JiZuPD0xOTk2N30sXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzXCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTE5OTY4JiZuPD00MDk1OX0sXCJZaSBTeWxsYWJsZXNcIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49NDA5NjAmJm48PTQyMTI3fSxcIllpIFJhZGljYWxzXCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTQyMTI4JiZuPD00MjE5MX0sXCJIYW5ndWwgSmFtbyBFeHRlbmRlZC1BXCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTQzMzYwJiZuPD00MzM5MX0sXCJIYW5ndWwgU3lsbGFibGVzXCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTQ0MDMyJiZuPD01NTIxNX0sXCJIYW5ndWwgSmFtbyBFeHRlbmRlZC1CXCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTU1MjE2JiZuPD01NTI5NX0sXCJQcml2YXRlIFVzZSBBcmVhXCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTU3MzQ0JiZuPD02Mzc0M30sXCJDSksgQ29tcGF0aWJpbGl0eSBJZGVvZ3JhcGhzXCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTYzNzQ0JiZuPD02NDI1NX0sXCJWZXJ0aWNhbCBGb3Jtc1wiOmZ1bmN0aW9uKG4pe3JldHVybiBuPj02NTA0MCYmbjw9NjUwNTV9LFwiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXNcIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49NjUwNzImJm48PTY1MTAzfSxcIlNtYWxsIEZvcm0gVmFyaWFudHNcIjpmdW5jdGlvbihuKXtyZXR1cm4gbj49NjUxMDQmJm48PTY1MTM1fSxcIkhhbGZ3aWR0aCBhbmQgRnVsbHdpZHRoIEZvcm1zXCI6ZnVuY3Rpb24obil7cmV0dXJuIG4+PTY1MjgwJiZuPD02NTUxOX19O21vZHVsZS5leHBvcnRzPXVuaWNvZGVCbG9ja0xvb2t1cDtcbn0se31dLDIwNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgTFJVQ2FjaGU9ZnVuY3Rpb24odCxlKXt0aGlzLm1heD10LHRoaXMub25SZW1vdmU9ZSx0aGlzLnJlc2V0KCl9O0xSVUNhY2hlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7Zm9yKHZhciBlIGluIHQuZGF0YSl0Lm9uUmVtb3ZlKHQuZGF0YVtlXSk7cmV0dXJuIHRoaXMuZGF0YT17fSx0aGlzLm9yZGVyPVtdLHRoaXN9LExSVUNhY2hlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmhhcyh0KSl0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2YodCksMSksdGhpcy5kYXRhW3RdPWUsdGhpcy5vcmRlci5wdXNoKHQpO2Vsc2UgaWYodGhpcy5kYXRhW3RdPWUsdGhpcy5vcmRlci5wdXNoKHQpLHRoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4KXt2YXIgcj10aGlzLmdldCh0aGlzLm9yZGVyWzBdKTtyJiZ0aGlzLm9uUmVtb3ZlKHIpfXJldHVybiB0aGlzfSxMUlVDYWNoZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluIHRoaXMuZGF0YX0sTFJVQ2FjaGUucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcmRlcn0sTFJVQ2FjaGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtpZighdGhpcy5oYXModCkpcmV0dXJuIG51bGw7dmFyIGU9dGhpcy5kYXRhW3RdO3JldHVybiBkZWxldGUgdGhpcy5kYXRhW3RdLHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZih0KSwxKSxlfSxMUlVDYWNoZS5wcm90b3R5cGUuZ2V0V2l0aG91dFJlbW92aW5nPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmhhcyh0KSlyZXR1cm4gbnVsbDt2YXIgZT10aGlzLmRhdGFbdF07cmV0dXJuIGV9LExSVUNhY2hlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7aWYoIXRoaXMuaGFzKHQpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuZGF0YVt0XTtyZXR1cm4gZGVsZXRlIHRoaXMuZGF0YVt0XSx0aGlzLm9uUmVtb3ZlKGUpLHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZih0KSwxKSx0aGlzfSxMUlVDYWNoZS5wcm90b3R5cGUuc2V0TWF4U2l6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2Zvcih0aGlzLm1heD10O3RoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4Oyl7dmFyIHI9ZS5nZXQoZS5vcmRlclswXSk7ciYmZS5vblJlbW92ZShyKX1yZXR1cm4gdGhpc30sbW9kdWxlLmV4cG9ydHM9TFJVQ2FjaGU7XG59LHt9XSwyMDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbWFrZUFQSVVSTChyLGUpe3ZhciB0PXBhcnNlVXJsKGNvbmZpZy5BUElfVVJMKTtpZihyLnByb3RvY29sPXQucHJvdG9jb2wsci5hdXRob3JpdHk9dC5hdXRob3JpdHksIWNvbmZpZy5SRVFVSVJFX0FDQ0VTU19UT0tFTilyZXR1cm4gZm9ybWF0VXJsKHIpO2lmKGU9ZXx8Y29uZmlnLkFDQ0VTU19UT0tFTiwhZSl0aHJvdyBuZXcgRXJyb3IoXCJBbiBBUEkgYWNjZXNzIHRva2VuIGlzIHJlcXVpcmVkIHRvIHVzZSBNYXBib3ggR0wuIFwiK2hlbHApO2lmKFwic1wiPT09ZVswXSl0aHJvdyBuZXcgRXJyb3IoXCJVc2UgYSBwdWJsaWMgYWNjZXNzIHRva2VuIChway4qKSB3aXRoIE1hcGJveCBHTCwgbm90IGEgc2VjcmV0IGFjY2VzcyB0b2tlbiAoc2suKikuIFwiK2hlbHApO3JldHVybiByLnBhcmFtcy5wdXNoKFwiYWNjZXNzX3Rva2VuPVwiK2UpLGZvcm1hdFVybChyKX1mdW5jdGlvbiBpc01hcGJveFVSTChyKXtyZXR1cm4gMD09PXIuaW5kZXhPZihcIm1hcGJveDpcIil9ZnVuY3Rpb24gcmVwbGFjZVRlbXBBY2Nlc3NUb2tlbihyKXtmb3IodmFyIGU9MDtlPHIubGVuZ3RoO2UrKykwPT09cltlXS5pbmRleE9mKFwiYWNjZXNzX3Rva2VuPXRrLlwiKSYmKHJbZV09XCJhY2Nlc3NfdG9rZW49XCIrKGNvbmZpZy5BQ0NFU1NfVE9LRU58fFwiXCIpKX1mdW5jdGlvbiBwYXJzZVVybChyKXt2YXIgZT1yLm1hdGNoKHVybFJlKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcGFyc2UgVVJMIG9iamVjdFwiKTtyZXR1cm57cHJvdG9jb2w6ZVsxXSxhdXRob3JpdHk6ZVsyXSxwYXRoOmVbM118fFwiL1wiLHBhcmFtczplWzRdP2VbNF0uc3BsaXQoXCImXCIpOltdfX1mdW5jdGlvbiBmb3JtYXRVcmwocil7dmFyIGU9ci5wYXJhbXMubGVuZ3RoP1wiP1wiK3IucGFyYW1zLmpvaW4oXCImXCIpOlwiXCI7cmV0dXJuIHIucHJvdG9jb2wrXCI6Ly9cIityLmF1dGhvcml0eStyLnBhdGgrZX12YXIgY29uZmlnPXJlcXVpcmUoXCIuL2NvbmZpZ1wiKSxicm93c2VyPXJlcXVpcmUoXCIuL2Jyb3dzZXJcIiksaGVscD1cIlNlZSBodHRwczovL3d3dy5tYXBib3guY29tL2RldmVsb3BlcnMvYXBpLyNhY2Nlc3MtdG9rZW5zXCI7ZXhwb3J0cy5pc01hcGJveFVSTD1pc01hcGJveFVSTCxleHBvcnRzLm5vcm1hbGl6ZVN0eWxlVVJMPWZ1bmN0aW9uKHIsZSl7aWYoIWlzTWFwYm94VVJMKHIpKXJldHVybiByO3ZhciB0PXBhcnNlVXJsKHIpO3JldHVybiB0LnBhdGg9XCIvc3R5bGVzL3YxXCIrdC5wYXRoLG1ha2VBUElVUkwodCxlKX0sZXhwb3J0cy5ub3JtYWxpemVHbHlwaHNVUkw9ZnVuY3Rpb24ocixlKXtpZighaXNNYXBib3hVUkwocikpcmV0dXJuIHI7dmFyIHQ9cGFyc2VVcmwocik7cmV0dXJuIHQucGF0aD1cIi9mb250cy92MVwiK3QucGF0aCxtYWtlQVBJVVJMKHQsZSl9LGV4cG9ydHMubm9ybWFsaXplU291cmNlVVJMPWZ1bmN0aW9uKHIsZSl7aWYoIWlzTWFwYm94VVJMKHIpKXJldHVybiByO3ZhciB0PXBhcnNlVXJsKHIpO3JldHVybiB0LnBhdGg9XCIvdjQvXCIrdC5hdXRob3JpdHkrXCIuanNvblwiLHQucGFyYW1zLnB1c2goXCJzZWN1cmVcIiksbWFrZUFQSVVSTCh0LGUpfSxleHBvcnRzLm5vcm1hbGl6ZVNwcml0ZVVSTD1mdW5jdGlvbihyLGUsdCxvKXt2YXIgYT1wYXJzZVVybChyKTtyZXR1cm4gaXNNYXBib3hVUkwocik/KGEucGF0aD1cIi9zdHlsZXMvdjFcIithLnBhdGgrXCIvc3ByaXRlXCIrZSt0LG1ha2VBUElVUkwoYSxvKSk6KGEucGF0aCs9XCJcIitlK3QsZm9ybWF0VXJsKGEpKX07dmFyIGltYWdlRXh0ZW5zaW9uUmU9LyhcXC4ocG5nfGpwZylcXGQqKSg/PSQpLztleHBvcnRzLm5vcm1hbGl6ZVRpbGVVUkw9ZnVuY3Rpb24ocixlLHQpe2lmKCFlfHwhaXNNYXBib3hVUkwoZSkpcmV0dXJuIHI7dmFyIG89cGFyc2VVcmwociksYT1icm93c2VyLmRldmljZVBpeGVsUmF0aW8+PTJ8fDUxMj09PXQ/XCJAMnhcIjpcIlwiLHM9YnJvd3Nlci5zdXBwb3J0c1dlYnA/XCIud2VicFwiOlwiJDFcIjtyZXR1cm4gby5wYXRoPW8ucGF0aC5yZXBsYWNlKGltYWdlRXh0ZW5zaW9uUmUsXCJcIithK3MpLHJlcGxhY2VUZW1wQWNjZXNzVG9rZW4oby5wYXJhbXMpLGZvcm1hdFVybChvKX07dmFyIHVybFJlPS9eKFxcdyspOlxcL1xcLyhbXlxcLz9dKykoXFwvW14/XSspP1xcPz8oLispPy87XG59LHtcIi4vYnJvd3NlclwiOjE5MixcIi4vY29uZmlnXCI6MTk2fV0sMjA5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBpc0NoYXI9cmVxdWlyZShcIi4vaXNfY2hhcl9pbl91bmljb2RlX2Jsb2NrXCIpO21vZHVsZS5leHBvcnRzLmFsbG93c0lkZW9ncmFwaGljQnJlYWtpbmc9ZnVuY3Rpb24oYSl7Zm9yKHZhciBpPTAscj1hO2k8ci5sZW5ndGg7aSs9MSl7dmFyIHM9cltpXTtpZighZXhwb3J0cy5jaGFyQWxsb3dzSWRlb2dyYXBoaWNCcmVha2luZyhzLmNoYXJDb2RlQXQoMCkpKXJldHVybiExfXJldHVybiEwfSxtb2R1bGUuZXhwb3J0cy5hbGxvd3NWZXJ0aWNhbFdyaXRpbmdNb2RlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgaT0wLHI9YTtpPHIubGVuZ3RoO2krPTEpe3ZhciBzPXJbaV07aWYoZXhwb3J0cy5jaGFySGFzVXByaWdodFZlcnRpY2FsT3JpZW50YXRpb24ocy5jaGFyQ29kZUF0KDApKSlyZXR1cm4hMH1yZXR1cm4hMX0sbW9kdWxlLmV4cG9ydHMuY2hhckFsbG93c0lkZW9ncmFwaGljQnJlYWtpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIShhPDExOTA0KSYmKCEhaXNDaGFyW1wiQm9wb21vZm8gRXh0ZW5kZWRcIl0oYSl8fCghIWlzQ2hhci5Cb3BvbW9mbyhhKXx8KCEhaXNDaGFyW1wiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXNcIl0oYSl8fCghIWlzQ2hhcltcIkNKSyBDb21wYXRpYmlsaXR5IElkZW9ncmFwaHNcIl0oYSl8fCghIWlzQ2hhcltcIkNKSyBDb21wYXRpYmlsaXR5XCJdKGEpfHwoISFpc0NoYXJbXCJDSksgUmFkaWNhbHMgU3VwcGxlbWVudFwiXShhKXx8KCEhaXNDaGFyW1wiQ0pLIFN0cm9rZXNcIl0oYSl8fCghIWlzQ2hhcltcIkNKSyBTeW1ib2xzIGFuZCBQdW5jdHVhdGlvblwiXShhKXx8KCEhaXNDaGFyW1wiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyBFeHRlbnNpb24gQVwiXShhKXx8KCEhaXNDaGFyW1wiQ0pLIFVuaWZpZWQgSWRlb2dyYXBoc1wiXShhKXx8KCEhaXNDaGFyW1wiRW5jbG9zZWQgQ0pLIExldHRlcnMgYW5kIE1vbnRoc1wiXShhKXx8KCEhaXNDaGFyW1wiSGFsZndpZHRoIGFuZCBGdWxsd2lkdGggRm9ybXNcIl0oYSl8fCghIWlzQ2hhci5IaXJhZ2FuYShhKXx8KCEhaXNDaGFyW1wiSWRlb2dyYXBoaWMgRGVzY3JpcHRpb24gQ2hhcmFjdGVyc1wiXShhKXx8KCEhaXNDaGFyW1wiS2FuZ3hpIFJhZGljYWxzXCJdKGEpfHwoISFpc0NoYXJbXCJLYXRha2FuYSBQaG9uZXRpYyBFeHRlbnNpb25zXCJdKGEpfHwoISFpc0NoYXIuS2F0YWthbmEoYSl8fCghIWlzQ2hhcltcIlZlcnRpY2FsIEZvcm1zXCJdKGEpfHwoISFpc0NoYXJbXCJZaSBSYWRpY2Fsc1wiXShhKXx8ISFpc0NoYXJbXCJZaSBTeWxsYWJsZXNcIl0oYSkpKSkpKSkpKSkpKSkpKSkpKSkpfSxleHBvcnRzLmNoYXJIYXNVcHJpZ2h0VmVydGljYWxPcmllbnRhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gNzQ2PT09YXx8NzQ3PT09YXx8IShhPDQzNTIpJiYoISFpc0NoYXJbXCJCb3BvbW9mbyBFeHRlbmRlZFwiXShhKXx8KCEhaXNDaGFyLkJvcG9tb2ZvKGEpfHwoISghaXNDaGFyW1wiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXNcIl0oYSl8fGE+PTY1MDk3JiZhPD02NTEwMyl8fCghIWlzQ2hhcltcIkNKSyBDb21wYXRpYmlsaXR5IElkZW9ncmFwaHNcIl0oYSl8fCghIWlzQ2hhcltcIkNKSyBDb21wYXRpYmlsaXR5XCJdKGEpfHwoISFpc0NoYXJbXCJDSksgUmFkaWNhbHMgU3VwcGxlbWVudFwiXShhKXx8KCEhaXNDaGFyW1wiQ0pLIFN0cm9rZXNcIl0oYSl8fCghKCFpc0NoYXJbXCJDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb25cIl0oYSl8fGE+PTEyMjk2JiZhPD0xMjMwNXx8YT49MTIzMDgmJmE8PTEyMzE5fHwxMjMzNj09PWEpfHwoISFpc0NoYXJbXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIEV4dGVuc2lvbiBBXCJdKGEpfHwoISFpc0NoYXJbXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzXCJdKGEpfHwoISFpc0NoYXJbXCJFbmNsb3NlZCBDSksgTGV0dGVycyBhbmQgTW9udGhzXCJdKGEpfHwoISFpc0NoYXJbXCJIYW5ndWwgQ29tcGF0aWJpbGl0eSBKYW1vXCJdKGEpfHwoISFpc0NoYXJbXCJIYW5ndWwgSmFtbyBFeHRlbmRlZC1BXCJdKGEpfHwoISFpc0NoYXJbXCJIYW5ndWwgSmFtbyBFeHRlbmRlZC1CXCJdKGEpfHwoISFpc0NoYXJbXCJIYW5ndWwgSmFtb1wiXShhKXx8KCEhaXNDaGFyW1wiSGFuZ3VsIFN5bGxhYmxlc1wiXShhKXx8KCEhaXNDaGFyLkhpcmFnYW5hKGEpfHwoISFpc0NoYXJbXCJJZGVvZ3JhcGhpYyBEZXNjcmlwdGlvbiBDaGFyYWN0ZXJzXCJdKGEpfHwoISFpc0NoYXIuS2FuYnVuKGEpfHwoISFpc0NoYXJbXCJLYW5neGkgUmFkaWNhbHNcIl0oYSl8fCghIWlzQ2hhcltcIkthdGFrYW5hIFBob25ldGljIEV4dGVuc2lvbnNcIl0oYSl8fCghKCFpc0NoYXIuS2F0YWthbmEoYSl8fDEyNTQwPT09YSl8fCghKCFpc0NoYXJbXCJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3Jtc1wiXShhKXx8NjUyODg9PT1hfHw2NTI4OT09PWF8fDY1MjkzPT09YXx8YT49NjUzMDYmJmE8PTY1MzEwfHw2NTMzOT09PWF8fDY1MzQxPT09YXx8NjUzNDM9PT1hfHxhPj02NTM3MSYmYTw9NjU1MDN8fDY1NTA3PT09YXx8YT49NjU1MTImJmE8PTY1NTE5KXx8KCEoIWlzQ2hhcltcIlNtYWxsIEZvcm0gVmFyaWFudHNcIl0oYSl8fGE+PTY1MTEyJiZhPD02NTExOHx8YT49NjUxMjMmJmE8PTY1MTI2KXx8KCEhaXNDaGFyW1wiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljc1wiXShhKXx8KCEhaXNDaGFyW1wiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyBFeHRlbmRlZFwiXShhKXx8KCEhaXNDaGFyW1wiVmVydGljYWwgRm9ybXNcIl0oYSl8fCghIWlzQ2hhcltcIllpamluZyBIZXhhZ3JhbSBTeW1ib2xzXCJdKGEpfHwoISFpc0NoYXJbXCJZaSBTeWxsYWJsZXNcIl0oYSl8fCEhaXNDaGFyW1wiWWkgUmFkaWNhbHNcIl0oYSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKX0sZXhwb3J0cy5jaGFySGFzTmV1dHJhbFZlcnRpY2FsT3JpZW50YXRpb249ZnVuY3Rpb24oYSl7cmV0dXJuISghaXNDaGFyW1wiTGF0aW4tMSBTdXBwbGVtZW50XCJdKGEpfHwxNjchPT1hJiYxNjkhPT1hJiYxNzQhPT1hJiYxNzchPT1hJiYxODghPT1hJiYxODkhPT1hJiYxOTAhPT1hJiYyMTUhPT1hJiYyNDchPT1hKXx8KCEoIWlzQ2hhcltcIkdlbmVyYWwgUHVuY3R1YXRpb25cIl0oYSl8fDgyMTQhPT1hJiY4MjI0IT09YSYmODIyNSE9PWEmJjgyNDAhPT1hJiY4MjQxIT09YSYmODI1MSE9PWEmJjgyNTIhPT1hJiY4MjU4IT09YSYmODI2MyE9PWEmJjgyNjQhPT1hJiY4MjY1IT09YSYmODI3MyE9PWEpfHwoISFpc0NoYXJbXCJMZXR0ZXJsaWtlIFN5bWJvbHNcIl0oYSl8fCghIWlzQ2hhcltcIk51bWJlciBGb3Jtc1wiXShhKXx8KCEoIWlzQ2hhcltcIk1pc2NlbGxhbmVvdXMgVGVjaG5pY2FsXCJdKGEpfHwhKGE+PTg5NjAmJmE8PTg5Njd8fGE+PTg5NzImJmE8PTg5OTF8fGE+PTg5OTYmJmE8PTllM3x8OTAwMz09PWF8fGE+PTkwODUmJmE8PTkxMTR8fGE+PTkxNTAmJmE8PTkxNjV8fDkxNjc9PT1hfHxhPj05MTY5JiZhPD05MTc5fHxhPj05MTg2JiZhPD05MjE1KSl8fCghKCFpc0NoYXJbXCJDb250cm9sIFBpY3R1cmVzXCJdKGEpfHw5MjUxPT09YSl8fCghIWlzQ2hhcltcIk9wdGljYWwgQ2hhcmFjdGVyIFJlY29nbml0aW9uXCJdKGEpfHwoISFpc0NoYXJbXCJFbmNsb3NlZCBBbHBoYW51bWVyaWNzXCJdKGEpfHwoISFpc0NoYXJbXCJHZW9tZXRyaWMgU2hhcGVzXCJdKGEpfHwoISghaXNDaGFyW1wiTWlzY2VsbGFuZW91cyBTeW1ib2xzXCJdKGEpfHxhPj05NzU0JiZhPD05NzU5KXx8KCEoIWlzQ2hhcltcIk1pc2NlbGxhbmVvdXMgU3ltYm9scyBhbmQgQXJyb3dzXCJdKGEpfHwhKGE+PTExMDI2JiZhPD0xMTA1NXx8YT49MTEwODgmJmE8PTExMDk3fHxhPj0xMTE5MiYmYTw9MTEyNDMpKXx8KCEhaXNDaGFyW1wiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uXCJdKGEpfHwoISFpc0NoYXIuS2F0YWthbmEoYSl8fCghIWlzQ2hhcltcIlByaXZhdGUgVXNlIEFyZWFcIl0oYSl8fCghIWlzQ2hhcltcIkNKSyBDb21wYXRpYmlsaXR5IEZvcm1zXCJdKGEpfHwoISFpc0NoYXJbXCJTbWFsbCBGb3JtIFZhcmlhbnRzXCJdKGEpfHwoISFpc0NoYXJbXCJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3Jtc1wiXShhKXx8KDg3MzQ9PT1hfHw4NzU2PT09YXx8ODc1Nz09PWF8fGE+PTk5ODQmJmE8PTEwMDg3fHxhPj0xMDEwMiYmYTw9MTAxMzF8fDY1NTMyPT09YXx8NjU1MzM9PT1hKSkpKSkpKSkpKSkpKSkpKSl9LGV4cG9ydHMuY2hhckhhc1JvdGF0ZWRWZXJ0aWNhbE9yaWVudGF0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiEoZXhwb3J0cy5jaGFySGFzVXByaWdodFZlcnRpY2FsT3JpZW50YXRpb24oYSl8fGV4cG9ydHMuY2hhckhhc05ldXRyYWxWZXJ0aWNhbE9yaWVudGF0aW9uKGEpKX07XG59LHtcIi4vaXNfY2hhcl9pbl91bmljb2RlX2Jsb2NrXCI6MjA2fV0sMjEwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNyZWF0ZVN0cnVjdEFycmF5VHlwZSh0KXt2YXIgZT1KU09OLnN0cmluZ2lmeSh0KTtpZihzdHJ1Y3RBcnJheVR5cGVDYWNoZVtlXSlyZXR1cm4gc3RydWN0QXJyYXlUeXBlQ2FjaGVbZV07dmFyIHI9dm9pZCAwPT09dC5hbGlnbm1lbnQ/MTp0LmFsaWdubWVudCxpPTAsbj0wLGE9W1wiVWludDhcIl0sbz10Lm1lbWJlcnMubWFwKGZ1bmN0aW9uKHQpe2EuaW5kZXhPZih0LnR5cGUpPDAmJmEucHVzaCh0LnR5cGUpO3ZhciBlPXNpemVPZih0LnR5cGUpLG89aT1hbGlnbihpLE1hdGgubWF4KHIsZSkpLHM9dC5jb21wb25lbnRzfHwxO3JldHVybiBuPU1hdGgubWF4KG4sZSksaSs9ZSpzLHtuYW1lOnQubmFtZSx0eXBlOnQudHlwZSxjb21wb25lbnRzOnMsb2Zmc2V0Om99fSkscz1hbGlnbihpLE1hdGgubWF4KG4scikpLHA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlfShTdHJ1Y3QpO3AucHJvdG90eXBlLmFsaWdubWVudD1yLHAucHJvdG90eXBlLnNpemU9cztmb3IodmFyIHk9MCxjPW87eTxjLmxlbmd0aDt5Kz0xKWZvcih2YXIgaD1jW3ldLHU9MDt1PGguY29tcG9uZW50czt1Kyspe3ZhciBmPWgubmFtZSsoMT09PWguY29tcG9uZW50cz9cIlwiOnUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShwLnByb3RvdHlwZSxmLHtnZXQ6Y3JlYXRlR2V0dGVyKGgsdSksc2V0OmNyZWF0ZVNldHRlcihoLHUpfSl9dmFyIG09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlfShTdHJ1Y3RBcnJheSk7cmV0dXJuIG0ucHJvdG90eXBlLm1lbWJlcnM9byxtLnByb3RvdHlwZS5TdHJ1Y3RUeXBlPXAsbS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PXMsbS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9Y3JlYXRlRW1wbGFjZUJhY2sobyxzKSxtLnByb3RvdHlwZS5fdXNlZFR5cGVzPWEsc3RydWN0QXJyYXlUeXBlQ2FjaGVbZV09bSxtfWZ1bmN0aW9uIGFsaWduKHQsZSl7cmV0dXJuIE1hdGguY2VpbCh0L2UpKmV9ZnVuY3Rpb24gc2l6ZU9mKHQpe3JldHVybiB2aWV3VHlwZXNbdF0uQllURVNfUEVSX0VMRU1FTlR9ZnVuY3Rpb24gZ2V0QXJyYXlWaWV3TmFtZSh0KXtyZXR1cm4gdC50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGNyZWF0ZUVtcGxhY2VCYWNrKHQsZSl7Zm9yKHZhciByPVtdLGk9W10sbj1cInZhciBpID0gdGhpcy5sZW5ndGg7XFxudGhpcy5yZXNpemUodGhpcy5sZW5ndGggKyAxKTtcXG5cIixhPTAsbz10O2E8by5sZW5ndGg7YSs9MSl7dmFyIHM9b1thXSxwPXNpemVPZihzLnR5cGUpO3IuaW5kZXhPZihwKTwwJiYoci5wdXNoKHApLG4rPVwidmFyIG9cIitwLnRvRml4ZWQoMCkrXCIgPSBpICogXCIrKGUvcCkudG9GaXhlZCgwKStcIjtcXG5cIik7Zm9yKHZhciB5PTA7eTxzLmNvbXBvbmVudHM7eSsrKXt2YXIgYz1cInZcIitpLmxlbmd0aCxoPVwib1wiK3AudG9GaXhlZCgwKStcIiArIFwiKyhzLm9mZnNldC9wK3kpLnRvRml4ZWQoMCk7bis9XCJ0aGlzLlwiK2dldEFycmF5Vmlld05hbWUocy50eXBlKStcIltcIitoK1wiXSA9IFwiK2MrXCI7XFxuXCIsaS5wdXNoKGMpfX1yZXR1cm4gbis9XCJyZXR1cm4gaTtcIixuZXcgRnVuY3Rpb24oaS50b1N0cmluZygpLG4pfWZ1bmN0aW9uIGNyZWF0ZU1lbWJlckNvbXBvbmVudFN0cmluZyh0LGUpe3ZhciByPVwidGhpcy5fcG9zXCIrc2l6ZU9mKHQudHlwZSkudG9GaXhlZCgwKSxpPSh0Lm9mZnNldC9zaXplT2YodC50eXBlKStlKS50b0ZpeGVkKDApLG49citcIiArIFwiK2k7cmV0dXJuXCJ0aGlzLl9zdHJ1Y3RBcnJheS5cIitnZXRBcnJheVZpZXdOYW1lKHQudHlwZSkrXCJbXCIrbitcIl1cIn1mdW5jdGlvbiBjcmVhdGVHZXR0ZXIodCxlKXtyZXR1cm4gbmV3IEZ1bmN0aW9uKFwicmV0dXJuIFwiK2NyZWF0ZU1lbWJlckNvbXBvbmVudFN0cmluZyh0LGUpK1wiO1wiKX1mdW5jdGlvbiBjcmVhdGVTZXR0ZXIodCxlKXtyZXR1cm4gbmV3IEZ1bmN0aW9uKFwieFwiLGNyZWF0ZU1lbWJlckNvbXBvbmVudFN0cmluZyh0LGUpK1wiID0geDtcIil9bW9kdWxlLmV4cG9ydHM9Y3JlYXRlU3RydWN0QXJyYXlUeXBlO3ZhciB2aWV3VHlwZXM9e0ludDg6SW50OEFycmF5LFVpbnQ4OlVpbnQ4QXJyYXksVWludDhDbGFtcGVkOlVpbnQ4Q2xhbXBlZEFycmF5LEludDE2OkludDE2QXJyYXksVWludDE2OlVpbnQxNkFycmF5LEludDMyOkludDMyQXJyYXksVWludDMyOlVpbnQzMkFycmF5LEZsb2F0MzI6RmxvYXQzMkFycmF5LEZsb2F0NjQ6RmxvYXQ2NEFycmF5fSxTdHJ1Y3Q9ZnVuY3Rpb24odCxlKXt0aGlzLl9zdHJ1Y3RBcnJheT10LHRoaXMuX3BvczE9ZSp0aGlzLnNpemUsdGhpcy5fcG9zMj10aGlzLl9wb3MxLzIsdGhpcy5fcG9zND10aGlzLl9wb3MxLzQsdGhpcy5fcG9zOD10aGlzLl9wb3MxLzh9LERFRkFVTFRfQ0FQQUNJVFk9MTI4LFJFU0laRV9NVUxUSVBMSUVSPTUsU3RydWN0QXJyYXk9ZnVuY3Rpb24odCl7dGhpcy5pc1RyYW5zZmVycmVkPSExLHZvaWQgMCE9PXQ/KHRoaXMuYXJyYXlCdWZmZXI9dC5hcnJheUJ1ZmZlcix0aGlzLmxlbmd0aD10Lmxlbmd0aCx0aGlzLmNhcGFjaXR5PXRoaXMuYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aC90aGlzLmJ5dGVzUGVyRWxlbWVudCx0aGlzLl9yZWZyZXNoVmlld3MoKSk6KHRoaXMuY2FwYWNpdHk9LTEsdGhpcy5yZXNpemUoMCkpfTtTdHJ1Y3RBcnJheS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm57bWVtYmVyczp0aGlzLnByb3RvdHlwZS5tZW1iZXJzLGFsaWdubWVudDp0aGlzLnByb3RvdHlwZS5TdHJ1Y3RUeXBlLnByb3RvdHlwZS5hbGlnbm1lbnQsYnl0ZXNQZXJFbGVtZW50OnRoaXMucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudH19LFN0cnVjdEFycmF5LnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RyaW0oKSx0JiYodGhpcy5pc1RyYW5zZmVycmVkPSEwLHQucHVzaCh0aGlzLmFycmF5QnVmZmVyKSkse2xlbmd0aDp0aGlzLmxlbmd0aCxhcnJheUJ1ZmZlcjp0aGlzLmFycmF5QnVmZmVyfX0sU3RydWN0QXJyYXkucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuU3RydWN0VHlwZSh0aGlzLHQpfSxTdHJ1Y3RBcnJheS5wcm90b3R5cGUuX3RyaW09ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aCE9PXRoaXMuY2FwYWNpdHkmJih0aGlzLmNhcGFjaXR5PXRoaXMubGVuZ3RoLHRoaXMuYXJyYXlCdWZmZXI9dGhpcy5hcnJheUJ1ZmZlci5zbGljZSgwLHRoaXMubGVuZ3RoKnRoaXMuYnl0ZXNQZXJFbGVtZW50KSx0aGlzLl9yZWZyZXNoVmlld3MoKSl9LFN0cnVjdEFycmF5LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCl7aWYodGhpcy5sZW5ndGg9dCx0PnRoaXMuY2FwYWNpdHkpe3RoaXMuY2FwYWNpdHk9TWF0aC5tYXgodCxNYXRoLmZsb29yKHRoaXMuY2FwYWNpdHkqUkVTSVpFX01VTFRJUExJRVIpLERFRkFVTFRfQ0FQQUNJVFkpLHRoaXMuYXJyYXlCdWZmZXI9bmV3IEFycmF5QnVmZmVyKHRoaXMuY2FwYWNpdHkqdGhpcy5ieXRlc1BlckVsZW1lbnQpO3ZhciBlPXRoaXMudWludDg7dGhpcy5fcmVmcmVzaFZpZXdzKCksZSYmdGhpcy51aW50OC5zZXQoZSl9fSxTdHJ1Y3RBcnJheS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9MCxyPXQuX3VzZWRUeXBlcztlPHIubGVuZ3RoO2UrPTEpe3ZhciBpPXJbZV07dFtnZXRBcnJheVZpZXdOYW1lKGkpXT1uZXcgdmlld1R5cGVzW2ldKHQuYXJyYXlCdWZmZXIpfX0sU3RydWN0QXJyYXkucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dGhpcyxpPVtdLG49dDtuPGU7bisrKXt2YXIgYT1yLmdldChuKTtpLnB1c2goYSl9cmV0dXJuIGl9O3ZhciBzdHJ1Y3RBcnJheVR5cGVDYWNoZT17fTtcbn0se31dLDIxMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByZXNvbHZlVG9rZW5zKGUsbil7cmV0dXJuIG4ucmVwbGFjZSgveyhbXnt9XSspfS9nLGZ1bmN0aW9uKG4scil7cmV0dXJuIHIgaW4gZT9lW3JdOlwiXCJ9KX1tb2R1bGUuZXhwb3J0cz1yZXNvbHZlVG9rZW5zO1xufSx7fV0sMjEyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO3ZhciBVbml0QmV6aWVyPXJlcXVpcmUoXCJAbWFwYm94L3VuaXRiZXppZXJcIiksQ29vcmRpbmF0ZT1yZXF1aXJlKFwiLi4vZ2VvL2Nvb3JkaW5hdGVcIiksUG9pbnQ9cmVxdWlyZShcInBvaW50LWdlb21ldHJ5XCIpO2V4cG9ydHMuZWFzZUN1YmljSW5PdXQ9ZnVuY3Rpb24ocil7aWYocjw9MClyZXR1cm4gMDtpZihyPj0xKXJldHVybiAxO3ZhciBlPXIqcix0PWUqcjtyZXR1cm4gNCoocjwuNT90OjMqKHItZSkrdC0uNzUpfSxleHBvcnRzLmJlemllcj1mdW5jdGlvbihyLGUsdCxuKXt2YXIgbz1uZXcgVW5pdEJlemllcihyLGUsdCxuKTtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIG8uc29sdmUocil9fSxleHBvcnRzLmVhc2U9ZXhwb3J0cy5iZXppZXIoLjI1LC4xLC4yNSwxKSxleHBvcnRzLmNsYW1wPWZ1bmN0aW9uKHIsZSx0KXtyZXR1cm4gTWF0aC5taW4odCxNYXRoLm1heChlLHIpKX0sZXhwb3J0cy53cmFwPWZ1bmN0aW9uKHIsZSx0KXt2YXIgbj10LWUsbz0oKHItZSklbituKSVuK2U7cmV0dXJuIG89PT1lP3Q6b30sZXhwb3J0cy5hc3luY0FsbD1mdW5jdGlvbihyLGUsdCl7aWYoIXIubGVuZ3RoKXJldHVybiB0KG51bGwsW10pO3ZhciBuPXIubGVuZ3RoLG89bmV3IEFycmF5KHIubGVuZ3RoKSxhPW51bGw7ci5mb3JFYWNoKGZ1bmN0aW9uKHIsaSl7ZShyLGZ1bmN0aW9uKHIsZSl7ciYmKGE9ciksb1tpXT1lLDA9PT0tLW4mJnQoYSxvKX0pfSl9LGV4cG9ydHMudmFsdWVzPWZ1bmN0aW9uKHIpe3ZhciBlPVtdO2Zvcih2YXIgdCBpbiByKWUucHVzaChyW3RdKTtyZXR1cm4gZX0sZXhwb3J0cy5rZXlzRGlmZmVyZW5jZT1mdW5jdGlvbihyLGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiByKW4gaW4gZXx8dC5wdXNoKG4pO3JldHVybiB0fSxleHBvcnRzLmV4dGVuZD1mdW5jdGlvbihyLGUsdCxuKXtmb3IodmFyIG89YXJndW1lbnRzLGE9MTthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKXt2YXIgaT1vW2FdO2Zvcih2YXIgdSBpbiBpKXJbdV09aVt1XX1yZXR1cm4gcn0sZXhwb3J0cy5waWNrPWZ1bmN0aW9uKHIsZSl7Zm9yKHZhciB0PXt9LG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIG89ZVtuXTtvIGluIHImJih0W29dPXJbb10pfXJldHVybiB0fTt2YXIgaWQ9MTtleHBvcnRzLnVuaXF1ZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIGlkKyt9LGV4cG9ydHMuYmluZEFsbD1mdW5jdGlvbihyLGUpe3IuZm9yRWFjaChmdW5jdGlvbihyKXtlW3JdJiYoZVtyXT1lW3JdLmJpbmQoZSkpfSl9LGV4cG9ydHMuZ2V0Q29vcmRpbmF0ZXNDZW50ZXI9ZnVuY3Rpb24ocil7Zm9yKHZhciBlPTEvMCx0PTEvMCxuPS0oMS8wKSxvPS0oMS8wKSxhPTA7YTxyLmxlbmd0aDthKyspZT1NYXRoLm1pbihlLHJbYV0uY29sdW1uKSx0PU1hdGgubWluKHQsclthXS5yb3cpLG49TWF0aC5tYXgobixyW2FdLmNvbHVtbiksbz1NYXRoLm1heChvLHJbYV0ucm93KTt2YXIgaT1uLWUsdT1vLXQscz1NYXRoLm1heChpLHUpO3JldHVybiBuZXcgQ29vcmRpbmF0ZSgoZStuKS8yLCh0K28pLzIsMCkuem9vbVRvKE1hdGguZmxvb3IoLU1hdGgubG9nKHMpL01hdGguTE4yKSl9LGV4cG9ydHMuZW5kc1dpdGg9ZnVuY3Rpb24ocixlKXtyZXR1cm4gci5pbmRleE9mKGUsci5sZW5ndGgtZS5sZW5ndGgpIT09LTF9LGV4cG9ydHMubWFwT2JqZWN0PWZ1bmN0aW9uKHIsZSx0KXt2YXIgbj10aGlzLG89e307Zm9yKHZhciBhIGluIHIpb1thXT1lLmNhbGwodHx8bixyW2FdLGEscik7cmV0dXJuIG99LGV4cG9ydHMuZmlsdGVyT2JqZWN0PWZ1bmN0aW9uKHIsZSx0KXt2YXIgbj10aGlzLG89e307Zm9yKHZhciBhIGluIHIpZS5jYWxsKHR8fG4sclthXSxhLHIpJiYob1thXT1yW2FdKTtyZXR1cm4gb30sZXhwb3J0cy5kZWVwRXF1YWw9ZnVuY3Rpb24ocixlKXtpZihBcnJheS5pc0FycmF5KHIpKXtpZighQXJyYXkuaXNBcnJheShlKXx8ci5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHQ9MDt0PHIubGVuZ3RoO3QrKylpZighZXhwb3J0cy5kZWVwRXF1YWwoclt0XSxlW3RdKSlyZXR1cm4hMTtyZXR1cm4hMH1pZihcIm9iamVjdFwiPT10eXBlb2YgciYmbnVsbCE9PXImJm51bGwhPT1lKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZSlyZXR1cm4hMTt2YXIgbj1PYmplY3Qua2V5cyhyKTtpZihuLmxlbmd0aCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG8gaW4gcilpZighZXhwb3J0cy5kZWVwRXF1YWwocltvXSxlW29dKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gcj09PWV9LGV4cG9ydHMuY2xvbmU9ZnVuY3Rpb24ocil7cmV0dXJuIEFycmF5LmlzQXJyYXkocik/ci5tYXAoZXhwb3J0cy5jbG9uZSk6XCJvYmplY3RcIj09dHlwZW9mIHImJnI/ZXhwb3J0cy5tYXBPYmplY3QocixleHBvcnRzLmNsb25lKTpyfSxleHBvcnRzLmFycmF5c0ludGVyc2VjdD1mdW5jdGlvbihyLGUpe2Zvcih2YXIgdD0wO3Q8ci5sZW5ndGg7dCsrKWlmKGUuaW5kZXhPZihyW3RdKT49MClyZXR1cm4hMDtyZXR1cm4hMX07dmFyIHdhcm5PbmNlSGlzdG9yeT17fTtleHBvcnRzLndhcm5PbmNlPWZ1bmN0aW9uKHIpe3dhcm5PbmNlSGlzdG9yeVtyXXx8KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4ociksd2Fybk9uY2VIaXN0b3J5W3JdPSEwKX0sZXhwb3J0cy5pc0NvdW50ZXJDbG9ja3dpc2U9ZnVuY3Rpb24ocixlLHQpe3JldHVybih0Lnktci55KSooZS54LXIueCk+KGUueS1yLnkpKih0Lngtci54KX0sZXhwb3J0cy5jYWxjdWxhdGVTaWduZWRBcmVhPWZ1bmN0aW9uKHIpe2Zvcih2YXIgZT0wLHQ9MCxuPXIubGVuZ3RoLG89bi0xLGE9dm9pZCAwLGk9dm9pZCAwO3Q8bjtvPXQrKylhPXJbdF0saT1yW29dLGUrPShpLngtYS54KSooYS55K2kueSk7cmV0dXJuIGV9LGV4cG9ydHMuaXNDbG9zZWRQb2x5Z29uPWZ1bmN0aW9uKHIpe2lmKHIubGVuZ3RoPDQpcmV0dXJuITE7dmFyIGU9clswXSx0PXJbci5sZW5ndGgtMV07cmV0dXJuIShNYXRoLmFicyhlLngtdC54KT4wfHxNYXRoLmFicyhlLnktdC55KT4wKSYmTWF0aC5hYnMoZXhwb3J0cy5jYWxjdWxhdGVTaWduZWRBcmVhKHIpKT4uMDF9LGV4cG9ydHMuc3BoZXJpY2FsVG9DYXJ0ZXNpYW49ZnVuY3Rpb24ocil7dmFyIGU9clswXSx0PXJbMV0sbj1yWzJdO3JldHVybiB0Kz05MCx0Kj1NYXRoLlBJLzE4MCxuKj1NYXRoLlBJLzE4MCxbZSpNYXRoLmNvcyh0KSpNYXRoLnNpbihuKSxlKk1hdGguc2luKHQpKk1hdGguc2luKG4pLGUqTWF0aC5jb3MobildfSxleHBvcnRzLnBhcnNlQ2FjaGVDb250cm9sPWZ1bmN0aW9uKHIpe3ZhciBlPS8oPzpefCg/OlxccypcXCxcXHMqKSkoW15cXHgwMC1cXHgyMFxcKFxcKTw+QFxcLDtcXDpcXFxcXCJcXC9cXFtcXF1cXD9cXD1cXHtcXH1cXHg3Rl0rKSg/OlxcPSg/OihbXlxceDAwLVxceDIwXFwoXFwpPD5AXFwsO1xcOlxcXFxcIlxcL1xcW1xcXVxcP1xcPVxce1xcfVxceDdGXSspfCg/OlxcXCIoKD86W15cIlxcXFxdfFxcXFwuKSopXFxcIikpKT8vZyx0PXt9O2lmKHIucmVwbGFjZShlLGZ1bmN0aW9uKHIsZSxuLG8pe3ZhciBhPW58fG87cmV0dXJuIHRbZV09IWF8fGEudG9Mb3dlckNhc2UoKSxcIlwifSksdFtcIm1heC1hZ2VcIl0pe3ZhciBuPXBhcnNlSW50KHRbXCJtYXgtYWdlXCJdLDEwKTtpc05hTihuKT9kZWxldGUgdFtcIm1heC1hZ2VcIl06dFtcIm1heC1hZ2VcIl09bn1yZXR1cm4gdH07XG59LHtcIi4uL2dlby9jb29yZGluYXRlXCI6NjEsXCJAbWFwYm94L3VuaXRiZXppZXJcIjozLFwicG9pbnQtZ2VvbWV0cnlcIjoyNn1dLDIxMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgRmVhdHVyZT1mdW5jdGlvbihlLHQscixvKXt0aGlzLnR5cGU9XCJGZWF0dXJlXCIsdGhpcy5fdmVjdG9yVGlsZUZlYXR1cmU9ZSxlLl96PXQsZS5feD1yLGUuX3k9byx0aGlzLnByb3BlcnRpZXM9ZS5wcm9wZXJ0aWVzLG51bGwhPWUuaWQmJih0aGlzLmlkPWUuaWQpfSxwcm90b3R5cGVBY2Nlc3NvcnM9e2dlb21ldHJ5Ont9fTtwcm90b3R5cGVBY2Nlc3NvcnMuZ2VvbWV0cnkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2dlb21ldHJ5JiYodGhpcy5fZ2VvbWV0cnk9dGhpcy5fdmVjdG9yVGlsZUZlYXR1cmUudG9HZW9KU09OKHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLl94LHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLl95LHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLl96KS5nZW9tZXRyeSksdGhpcy5fZ2VvbWV0cnl9LHByb3RvdHlwZUFjY2Vzc29ycy5nZW9tZXRyeS5zZXQ9ZnVuY3Rpb24oZSl7dGhpcy5fZ2VvbWV0cnk9ZX0sRmVhdHVyZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXtnZW9tZXRyeTp0aGlzLmdlb21ldHJ5fTtmb3IodmFyIHIgaW4gZSlcIl9nZW9tZXRyeVwiIT09ciYmXCJfdmVjdG9yVGlsZUZlYXR1cmVcIiE9PXImJih0W3JdPWVbcl0pO3JldHVybiB0fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhGZWF0dXJlLnByb3RvdHlwZSxwcm90b3R5cGVBY2Nlc3NvcnMpLG1vZHVsZS5leHBvcnRzPUZlYXR1cmU7XG59LHt9XSwyMTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHNjcmlwdERldGVjdGlvbj1yZXF1aXJlKFwiLi9zY3JpcHRfZGV0ZWN0aW9uXCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbz1cIlwiLGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dC5jaGFyQ29kZUF0KGUrMSl8fG51bGwsbD10LmNoYXJDb2RlQXQoZS0xKXx8bnVsbCxpPSghcnx8IXNjcmlwdERldGVjdGlvbi5jaGFySGFzUm90YXRlZFZlcnRpY2FsT3JpZW50YXRpb24ocil8fG1vZHVsZS5leHBvcnRzLmxvb2t1cFt0W2UrMV1dKSYmKCFsfHwhc2NyaXB0RGV0ZWN0aW9uLmNoYXJIYXNSb3RhdGVkVmVydGljYWxPcmllbnRhdGlvbihsKXx8bW9kdWxlLmV4cG9ydHMubG9va3VwW3RbZS0xXV0pO28rPWkmJm1vZHVsZS5leHBvcnRzLmxvb2t1cFt0W2VdXT9tb2R1bGUuZXhwb3J0cy5sb29rdXBbdFtlXV06dFtlXX1yZXR1cm4gb30sbW9kdWxlLmV4cG9ydHMubG9va3VwPXtcIiFcIjpcIu+4lVwiLFwiI1wiOlwi77yDXCIsJDpcIu+8hFwiLFwiJVwiOlwi77yFXCIsXCImXCI6XCLvvIZcIixcIihcIjpcIu+4tVwiLFwiKVwiOlwi77i2XCIsXCIqXCI6XCLvvIpcIixcIitcIjpcIu+8i1wiLFwiLFwiOlwi77iQXCIsXCItXCI6XCLvuLJcIixcIi5cIjpcIuODu1wiLFwiL1wiOlwi77yPXCIsXCI6XCI6XCLvuJNcIixcIjtcIjpcIu+4lFwiLFwiPFwiOlwi77i/XCIsXCI9XCI6XCLvvJ1cIixcIj5cIjpcIu+5gFwiLFwiP1wiOlwi77iWXCIsXCJAXCI6XCLvvKBcIixcIltcIjpcIu+5h1wiLFwiXFxcXFwiOlwi77y8XCIsXCJdXCI6XCLvuYhcIixcIl5cIjpcIu+8vlwiLF86XCLvuLNcIixcImBcIjpcIu+9gFwiLFwie1wiOlwi77i3XCIsXCJ8XCI6XCLigJVcIixcIn1cIjpcIu+4uFwiLFwiflwiOlwi772eXCIsXCLColwiOlwi77+gXCIsXCLCo1wiOlwi77+hXCIsXCLCpVwiOlwi77+lXCIsXCLCplwiOlwi77+kXCIsXCLCrFwiOlwi77+iXCIsXCLCr1wiOlwi77+jXCIsXCLigJNcIjpcIu+4slwiLFwi4oCUXCI6XCLvuLFcIixcIuKAmFwiOlwi77mDXCIsXCLigJlcIjpcIu+5hFwiLFwi4oCcXCI6XCLvuYFcIixcIuKAnVwiOlwi77mCXCIsXCLigKZcIjpcIu+4mVwiLFwi4oCnXCI6XCLjg7tcIixcIuKCqVwiOlwi77+mXCIsXCLjgIFcIjpcIu+4kVwiLFwi44CCXCI6XCLvuJJcIixcIuOAiFwiOlwi77i/XCIsXCLjgIlcIjpcIu+5gFwiLFwi44CKXCI6XCLvuL1cIixcIuOAi1wiOlwi77i+XCIsXCLjgIxcIjpcIu+5gVwiLFwi44CNXCI6XCLvuYJcIixcIuOAjlwiOlwi77mDXCIsXCLjgI9cIjpcIu+5hFwiLFwi44CQXCI6XCLvuLtcIixcIuOAkVwiOlwi77i8XCIsXCLjgJRcIjpcIu+4uVwiLFwi44CVXCI6XCLvuLpcIixcIuOAllwiOlwi77iXXCIsXCLjgJdcIjpcIu+4mFwiLFwi77yBXCI6XCLvuJVcIixcIu+8iFwiOlwi77i1XCIsXCLvvIlcIjpcIu+4tlwiLFwi77yMXCI6XCLvuJBcIixcIu+8jVwiOlwi77iyXCIsXCLvvI5cIjpcIuODu1wiLFwi77yaXCI6XCLvuJNcIixcIu+8m1wiOlwi77iUXCIsXCLvvJxcIjpcIu+4v1wiLFwi77yeXCI6XCLvuYBcIixcIu+8n1wiOlwi77iWXCIsXCLvvLtcIjpcIu+5h1wiLFwi77y9XCI6XCLvuYhcIixcIu+8v1wiOlwi77izXCIsXCLvvZtcIjpcIu+4t1wiLFwi772cXCI6XCLigJVcIixcIu+9nVwiOlwi77i4XCIsXCLvvZ9cIjpcIu+4tVwiLFwi772gXCI6XCLvuLZcIixcIu+9oVwiOlwi77iSXCIsXCLvvaJcIjpcIu+5gVwiLFwi772jXCI6XCLvuYJcIn07XG59LHtcIi4vc2NyaXB0X2RldGVjdGlvblwiOjIwOX1dLDIxNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgV2ViV29ya2VyPXJlcXVpcmUoXCIuL3dlYl93b3JrZXJcIiksV29ya2VyUG9vbD1mdW5jdGlvbigpe3RoaXMuYWN0aXZlPXt9fTtXb3JrZXJQb29sLnByb3RvdHlwZS5hY3F1aXJlPWZ1bmN0aW9uKHIpe3ZhciBlPXRoaXM7aWYoIXRoaXMud29ya2Vycyl7dmFyIG89cmVxdWlyZShcIi4uL1wiKS53b3JrZXJDb3VudDtmb3IodGhpcy53b3JrZXJzPVtdO3RoaXMud29ya2Vycy5sZW5ndGg8bzspZS53b3JrZXJzLnB1c2gobmV3IFdlYldvcmtlcil9cmV0dXJuIHRoaXMuYWN0aXZlW3JdPSEwLHRoaXMud29ya2Vycy5zbGljZSgpfSxXb3JrZXJQb29sLnByb3RvdHlwZS5yZWxlYXNlPWZ1bmN0aW9uKHIpe2RlbGV0ZSB0aGlzLmFjdGl2ZVtyXSwwPT09T2JqZWN0LmtleXModGhpcy5hY3RpdmUpLmxlbmd0aCYmKHRoaXMud29ya2Vycy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3IudGVybWluYXRlKCl9KSx0aGlzLndvcmtlcnM9bnVsbCl9LG1vZHVsZS5leHBvcnRzPVdvcmtlclBvb2w7XG59LHtcIi4uL1wiOjY1LFwiLi93ZWJfd29ya2VyXCI6MTkzfV19LHt9LFs2NV0pKDY1KVxufSk7XG5cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwYm94LWdsLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tYXBib3gtZ2wvZGlzdC9tYXBib3gtZ2wuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 2 */
/* unknown exports provided */
/* all exports used */
/*!******************************!*\
  !*** ./~/base64-js/index.js ***!
  \******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return b64.length * 3 / 4 - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vYmFzZTY0LWpzL2luZGV4LmpzPzJhZGQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gcGxhY2VIb2xkZXJzQ291bnQgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gdGhlIG51bWJlciBvZiBlcXVhbCBzaWducyAocGxhY2UgaG9sZGVycylcbiAgLy8gaWYgdGhlcmUgYXJlIHR3byBwbGFjZWhvbGRlcnMsIHRoYW4gdGhlIHR3byBjaGFyYWN0ZXJzIGJlZm9yZSBpdFxuICAvLyByZXByZXNlbnQgb25lIGJ5dGVcbiAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUsIHRoZW4gdGhlIHRocmVlIGNoYXJhY3RlcnMgYmVmb3JlIGl0IHJlcHJlc2VudCAyIGJ5dGVzXG4gIC8vIHRoaXMgaXMganVzdCBhIGNoZWFwIGhhY2sgdG8gbm90IGRvIGluZGV4T2YgdHdpY2VcbiAgcmV0dXJuIGI2NFtsZW4gLSAyXSA9PT0gJz0nID8gMiA6IGI2NFtsZW4gLSAxXSA9PT0gJz0nID8gMSA6IDBcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIC8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuICByZXR1cm4gYjY0Lmxlbmd0aCAqIDMgLyA0IC0gcGxhY2VIb2xkZXJzQ291bnQoYjY0KVxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciBpLCBqLCBsLCB0bXAsIHBsYWNlSG9sZGVycywgYXJyXG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG4gIHBsYWNlSG9sZGVycyA9IHBsYWNlSG9sZGVyc0NvdW50KGI2NClcblxuICBhcnIgPSBuZXcgQXJyKGxlbiAqIDMgLyA0IC0gcGxhY2VIb2xkZXJzKVxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgbCA9IHBsYWNlSG9sZGVycyA+IDAgPyBsZW4gLSA0IDogbGVuXG5cbiAgdmFyIEwgPSAwXG5cbiAgZm9yIChpID0gMCwgaiA9IDA7IGkgPCBsOyBpICs9IDQsIGogKz0gMykge1xuICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfCByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltMKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW0wrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltMKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVycyA9PT0gMikge1xuICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW0wrK10gPSB0bXAgJiAweEZGXG4gIH0gZWxzZSBpZiAocGxhY2VIb2xkZXJzID09PSAxKSB7XG4gICAgdG1wID0gKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW0wrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltMKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICsgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICsgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gKyBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID0gKHVpbnQ4W2ldIDw8IDE2KSArICh1aW50OFtpICsgMV0gPDwgOCkgKyAodWludDhbaSArIDJdKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgb3V0cHV0ID0gJydcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayh1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIG91dHB1dCArPSBsb29rdXBbdG1wID4+IDJdXG4gICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl1cbiAgICBvdXRwdXQgKz0gJz09J1xuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyAodWludDhbbGVuIC0gMV0pXG4gICAgb3V0cHV0ICs9IGxvb2t1cFt0bXAgPj4gMTBdXG4gICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl1cbiAgICBvdXRwdXQgKz0gbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXVxuICAgIG91dHB1dCArPSAnPSdcbiAgfVxuXG4gIHBhcnRzLnB1c2gob3V0cHV0KVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jhc2U2NC1qcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 3 */
/* unknown exports provided */
/* all exports used */
/*!***************************!*\
  !*** ./~/buffer/index.js ***!
  \***************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(/*! base64-js */ 2)\nvar ieee754 = __webpack_require__(/*! ieee754 */ 4)\nvar isArray = __webpack_require__(/*! isarray */ 5)\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../webpack/buildin/global.js */ 0)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vYnVmZmVyL2luZGV4LmpzPzFhNTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbi8qXG4gKiBFeHBvcnQga01heExlbmd0aCBhZnRlciB0eXBlZCBhcnJheSBzdXBwb3J0IGlzIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgaWYgKHRoYXQgPT09IG51bGwpIHtcbiAgICAgIHRoYXQgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsIGFyZylcbiAgfVxuICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbi8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcbiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBhcnJheS5ieXRlTGVuZ3RoIC8vIHRoaXMgdGhyb3dzIGlmIGBhcnJheWAgaXMgbm90IGEgdmFsaWQgQXJyYXlCdWZmZXJcblxuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnb2Zmc2V0XFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IGFycmF5XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tQXJyYXlMaWtlKHRoYXQsIGFycmF5KVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblxuICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgWyB2YWwgXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZlxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBpc25hbiAodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHZhbCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2J1ZmZlci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 4 */
/* unknown exports provided */
/* all exports used */
/*!****************************!*\
  !*** ./~/ieee754/index.js ***!
  \****************************/
/***/ (function(module, exports) {

eval("exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vaWVlZTc1NC9pbmRleC5qcz83MGZlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IGUgKiAyNTYgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSBtICogMjU2ICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IG5CeXRlcyAqIDggLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKHZhbHVlICogYyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2llZWU3NTQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 5 */
/* unknown exports provided */
/* all exports used */
/*!****************************!*\
  !*** ./~/isarray/index.js ***!
  \****************************/
/***/ (function(module, exports) {

eval("var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vaXNhcnJheS9pbmRleC5qcz9lYWJjIl0sInNvdXJjZXNDb250ZW50IjpbInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2lzYXJyYXkvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 6 */
/* unknown exports provided */
/* all exports used */
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _mapboxGl = __webpack_require__(/*! mapbox-gl */ 1);\n\nvar _mapboxGl2 = _interopRequireDefault(_mapboxGl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconsole.log(\"Hello there\");\n\nvar addLayer = function addLayer(map, id, source) {\n    map.addLayer({\n        id: 'points',\n        source: 'pointsSource',\n        type: 'circle',\n        paint: {\n            'circle-radius': 10,\n            'circle-color': 'skyblue'\n        }\n    });\n};\n\n_mapboxGl2.default.accessToken = 'pk.eyJ1IjoibWlrZXdpbGxpYW1zb24iLCJhIjoibzRCYUlGSSJ9.QGvlt6Opm5futGhE5i-1kw';\n\nvar map = new _mapboxGl2.default.Map({\n    container: 'map', // container id\n    style: 'mapbox://styles/mapbox/streets-v8', //stylesheet location\n    center: [4.383, 48.640],\n    zoom: 2\n});\n\nmap.on('load', function () {\n    map.addSource('pointsSource', {\n        type: 'geojson',\n        data: {\n            \"type\": \"FeatureCollection\",\n            \"features\": [{\n                \"type\": \"Feature\",\n                \"properties\": {\n                    \"text\": \"Hello There\"\n                },\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [4.383544921875, 48.64016871811908]\n                }\n            }, {\n                \"type\": \"Feature\",\n                \"properties\": {\n                    \"text\": \"Hi Again\"\n                },\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [0.50537109375, 48.22467264956519]\n                }\n            }] }\n    });\n    addLayer(map, 'pointd', 'pointsSource');\n});\n\nmap.on('click', function (e) {\n    var result = map.queryRenderedFeatures(e.point, { layers: ['points'] });\n    if (result.length) {\n        var popup = new _mapboxGl2.default.Popup({ closeButton: false });\n        var content = result[0].properties.text;\n        popup.setLngLat(e.lngLat).setHTML('<h1>' + content + '</h1>').addTo(map);\n    }\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYXBwLmpzP2JkOWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1hcGJveGdsIGZyb20gJ21hcGJveC1nbCdcblxuY29uc29sZS5sb2coXCJIZWxsbyB0aGVyZVwiKTtcblxubGV0IGFkZExheWVyID0gKG1hcCwgaWQsIHNvdXJjZSkgPT4ge1xuICAgIG1hcC5hZGRMYXllcih7XG4gICAgICAgIGlkOiAncG9pbnRzJyxcbiAgICAgICAgc291cmNlOiAncG9pbnRzU291cmNlJyxcbiAgICAgICAgdHlwZTogJ2NpcmNsZScsXG4gICAgICAgIHBhaW50OntcbiAgICAgICAgICAgICdjaXJjbGUtcmFkaXVzJzogMTAsXG4gICAgICAgICAgICAnY2lyY2xlLWNvbG9yJzogJ3NreWJsdWUnXG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxubWFwYm94Z2wuYWNjZXNzVG9rZW4gPSAncGsuZXlKMUlqb2liV2xyWlhkcGJHeHBZVzF6YjI0aUxDSmhJam9pYnpSQ1lVbEdTU0o5LlFHdmx0Nk9wbTVmdXRHaEU1aS0xa3cnO1xuXG5jb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHtcbiAgICBjb250YWluZXI6ICdtYXAnLCAvLyBjb250YWluZXIgaWRcbiAgICBzdHlsZTogJ21hcGJveDovL3N0eWxlcy9tYXBib3gvc3RyZWV0cy12OCcsIC8vc3R5bGVzaGVldCBsb2NhdGlvblxuICAgIGNlbnRlcjogWzQuMzgzLCA0OC42NDBdLFxuICAgIHpvb206IDJcbn0pO1xuXG5tYXAub24oJ2xvYWQnLCAoKSA9PiB7XG4gIG1hcC5hZGRTb3VyY2UoJ3BvaW50c1NvdXJjZScsIHtcbiAgICB0eXBlOiAnZ2VvanNvbicsXG4gICAgZGF0YToge1xuICAgIFwidHlwZVwiOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgXCJmZWF0dXJlc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiSGVsbG8gVGhlcmVcIlxuICAgICAgICB9LFxuICAgICAgICBcImdlb21ldHJ5XCI6IHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG4gICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6IFtcbiAgICAgICAgICAgIDQuMzgzNTQ0OTIxODc1LFxuICAgICAgICAgICAgNDguNjQwMTY4NzE4MTE5MDhcbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICAgIFwidGV4dFwiOiBcIkhpIEFnYWluXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZW9tZXRyeVwiOiB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOiBbXG4gICAgICAgICAgICAwLjUwNTM3MTA5Mzc1LFxuICAgICAgICAgICAgNDguMjI0NjcyNjQ5NTY1MTlcbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgICB9XG4gICAgXX1cbiAgfSk7XG5hZGRMYXllcihtYXAsICdwb2ludGQnLCAncG9pbnRzU291cmNlJyk7XG4gXG59KTtcblxubWFwLm9uKCdjbGljaycsIGUgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IG1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCwgeyBsYXllcnM6IFsncG9pbnRzJ119KTtcbiAgICBpZihyZXN1bHQubGVuZ3RoKXtcbiAgICAgICAgY29uc3QgcG9wdXAgPSBuZXcgbWFwYm94Z2wuUG9wdXAoeyBjbG9zZUJ1dHRvbjogZmFsc2UgfSk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSByZXN1bHRbMF0ucHJvcGVydGllcy50ZXh0O1xuICAgICAgICBwb3B1cC5zZXRMbmdMYXQoZS5sbmdMYXQpXG4gICAgICAgIC5zZXRIVE1MKGA8aDE+JHtjb250ZW50fTwvaDE+YClcbiAgICAgICAgLmFkZFRvKG1hcCk7XG4gICAgfVxufSlcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2FwcC5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFKQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFjQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFsQkE7QUFpQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ })
/******/ ]);